 
/*

 handlebars v4.7.8

Copyright (C) 2011-2019 by Yehuda Katz

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.


 RequireJS 2.3.6 Copyright jQuery Foundation and other contributors.
 Released under MIT license, https://github.com/requirejs/requirejs/blob/master/LICENSE
*/
window.Modernizr=function(b,c,h){function l(b,c){return typeof b===c}function m(b,c){for(var k in b){var l=b[k];if(!~(""+l).indexOf("-")&&r[l]!==h)return"pfx"==c?l:!0}return!1}function u(b,c,k){var n=b.charAt(0).toUpperCase()+b.slice(1),p=(b+" "+E.join(n+" ")+n).split(" ");if(l(c,"string")||l(c,"undefined"))c=m(p,c);else a:{p=(b+" "+D.join(n+" ")+n).split(" "),b=p;for(var r in b)if(n=c[b[r]],n!==h){c=!1===k?b[r]:l(n,"function")?n.bind(k||c):n;break a}c=!1}return c}function q(){x.input=function(k){for(var h=
0,l=k.length;h<l;h++)B[k[h]]=k[h]in w;return B.list&&(B.list=!!c.createElement("datalist")&&!!b.HTMLDataListElement),B}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" "));x.inputtypes=function(b){for(var l=0,n,p,r,q=b.length;l<q;l++)w.setAttribute("type",p=b[l]),(n="text"!==w.type)&&(w.value=v,w.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(p)&&w.style.WebkitAppearance!==h?(k.appendChild(w),r=c.defaultView,n=r.getComputedStyle&&"textfield"!==
r.getComputedStyle(w,null).WebkitAppearance&&0!==w.offsetHeight,k.removeChild(w)):/^(search|tel)$/.test(p)||(/^(url|email)$/.test(p)?n=w.checkValidity&&!1===w.checkValidity():n=w.value!=v)),y[b[l]]=!!n;return y}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var x={},k=c.documentElement,p=c.createElement("modernizr"),r=p.style,w=c.createElement("input"),v=":)",z={}.toString,n=" -webkit- -moz- -o- -ms- ".split(" "),E=["Webkit","Moz","O","ms"],D=["webkit",
"moz","o","ms"],p={},y={},B={},F=[],C=F.slice,I,J=function(b,h,l,n){var p,r,q,w,v=c.createElement("div"),m=c.body,z=m||c.createElement("body");if(parseInt(l,10))for(;l--;)q=c.createElement("div"),q.id=n?n[l]:"modernizr"+(l+1),v.appendChild(q);return p=['\x26#173;\x3cstyle id\x3d"smodernizr"\x3e',b,"\x3c/style\x3e"].join(""),v.id="modernizr",(m?v:z).innerHTML+=p,z.appendChild(v),m||(z.style.background="",z.style.overflow="hidden",w=k.style.overflow,k.style.overflow="hidden",k.appendChild(z)),r=h(v,
b),m?v.parentNode.removeChild(v):(z.parentNode.removeChild(z),k.style.overflow=w),!!r},G=function(){var b={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return function(k,n){n=n||c.createElement(b[k]||"div");k="on"+k;var p=k in n;return p||(n.setAttribute||(n=c.createElement("div")),n.setAttribute&&n.removeAttribute&&(n.setAttribute(k,""),p=l(n[k],"function"),l(n[k],"undefined")||(n[k]=h),n.removeAttribute(k))),p}}(),K={}.hasOwnProperty,L;l(K,"undefined")||
l(K.call,"undefined")?L=function(b,c){return c in b&&l(b.constructor.prototype[c],"undefined")}:L=function(b,c){return K.call(b,c)};Function.prototype.bind||(Function.prototype.bind=function(b){var c=this;if("function"!=typeof c)throw new TypeError;var k=C.call(arguments,1),h=function(){if(this instanceof h){var l=function(){};l.prototype=c.prototype;var l=new l,n=c.apply(l,k.concat(C.call(arguments)));return Object(n)===n?n:l}return c.apply(b,k.concat(C.call(arguments)))};return h});p.flexbox=function(){return u("flexWrap")};
p.flexboxlegacy=function(){return u("boxDirection")};p.canvas=function(){var b=c.createElement("canvas");return!!b.getContext&&!!b.getContext("2d")};p.canvastext=function(){return!!x.canvas&&!!l(c.createElement("canvas").getContext("2d").fillText,"function")};p.webgl=function(){return!!b.WebGLRenderingContext};p.touch=function(){var k;return"ontouchstart"in b||b.DocumentTouch&&c instanceof DocumentTouch?k=!0:J(["@media (",n.join("touch-enabled),("),"modernizr){#modernizr{top:9px;position:absolute}}"].join(""),
function(b){k=9===b.offsetTop}),k};p.geolocation=function(){return"geolocation"in navigator};p.postmessage=function(){return!!b.postMessage};p.websqldatabase=function(){return!!b.openDatabase};p.indexedDB=function(){return!!u("indexedDB",b)};p.hashchange=function(){return G("hashchange",b)&&(c.documentMode===h||7<c.documentMode)};p.history=function(){return!!b.history&&!!history.pushState};p.draganddrop=function(){var b=c.createElement("div");return"draggable"in b||"ondragstart"in b&&"ondrop"in b};
p.websockets=function(){return"WebSocket"in b||"MozWebSocket"in b};p.rgba=function(){r.cssText="background-color:rgba(150,255,150,.5)";return!!~(""+r.backgroundColor).indexOf("rgba")};p.hsla=function(){r.cssText="background-color:hsla(120,40%,100%,.5)";return!!~(""+r.backgroundColor).indexOf("rgba")||!!~(""+r.backgroundColor).indexOf("hsla")};p.multiplebgs=function(){r.cssText="background:url(https://),url(https://),red url(https://)";return/(url\s*\(.*?){3}/.test(r.background)};p.backgroundsize=
function(){return u("backgroundSize")};p.borderimage=function(){return u("borderImage")};p.borderradius=function(){return u("borderRadius")};p.boxshadow=function(){return u("boxShadow")};p.textshadow=function(){return""===c.createElement("div").style.textShadow};p.opacity=function(){r.cssText=n.join("opacity:.55;")+"";return/^0.55$/.test(r.opacity)};p.cssanimations=function(){return u("animationName")};p.csscolumns=function(){return u("columnCount")};p.cssgradients=function(){r.cssText=("background-image:-webkit-gradient(linear,left top,right bottom,from(#9f9),to(white));background-image:"+
n.join("linear-gradient(left top,#9f9, white);background-image:")).slice(0,-17);return!!~(""+r.backgroundImage).indexOf("gradient")};p.cssreflections=function(){return u("boxReflect")};p.csstransforms=function(){return!!u("transform")};p.csstransforms3d=function(){var b=!!u("perspective");return b&&"webkitPerspective"in k.style&&J("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(c,k){b=9===c.offsetLeft&&3===c.offsetHeight}),b};p.csstransitions=
function(){return u("transition")};p.fontface=function(){var b;return J('@font-face {font-family:"font";src:url("https://")}',function(k,h){k=c.getElementById("smodernizr");k=(k=k.sheet||k.styleSheet)?k.cssRules&&k.cssRules[0]?k.cssRules[0].cssText:k.cssText||"":"";b=/src/i.test(k)&&0===k.indexOf(h.split(" ")[0])}),b};p.generatedcontent=function(){var b;return J(['#modernizr{font:0/0 a}#modernizr:after{content:"',v,'";visibility:hidden;font:3px/1 a}'].join(""),function(c){b=3<=c.offsetHeight}),b};
p.video=function(){var b=c.createElement("video"),k=!1;try{if(k=!!b.canPlayType)k=new Boolean(k),k.ogg=b.canPlayType('video/ogg; codecs\x3d"theora"').replace(/^no$/,""),k.h264=b.canPlayType('video/mp4; codecs\x3d"avc1.42E01E"').replace(/^no$/,""),k.webm=b.canPlayType('video/webm; codecs\x3d"vp8, vorbis"').replace(/^no$/,"")}catch(h){}return k};p.audio=function(){var b=c.createElement("audio"),k=!1;try{if(k=!!b.canPlayType)k=new Boolean(k),k.ogg=b.canPlayType('audio/ogg; codecs\x3d"vorbis"').replace(/^no$/,
""),k.mp3=b.canPlayType("audio/mpeg;").replace(/^no$/,""),k.wav=b.canPlayType('audio/wav; codecs\x3d"1"').replace(/^no$/,""),k.m4a=(b.canPlayType("audio/x-m4a;")||b.canPlayType("audio/aac;")).replace(/^no$/,"")}catch(h){}return k};p.localstorage=function(){try{return localStorage.setItem("modernizr","modernizr"),localStorage.removeItem("modernizr"),!0}catch(b){return!1}};p.sessionstorage=function(){try{return sessionStorage.setItem("modernizr","modernizr"),sessionStorage.removeItem("modernizr"),!0}catch(b){return!1}};
p.webworkers=function(){return!!b.Worker};p.applicationcache=function(){return!!b.applicationCache};p.svg=function(){return!!c.createElementNS&&!!c.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect};p.inlinesvg=function(){var b=c.createElement("div");return b.innerHTML="\x3csvg/\x3e","http://www.w3.org/2000/svg"==(b.firstChild&&b.firstChild.namespaceURI)};p.smil=function(){return!!c.createElementNS&&/SVGAnimate/.test(z.call(c.createElementNS("http://www.w3.org/2000/svg","animate")))};
p.svgclippaths=function(){return!!c.createElementNS&&/SVGClipPath/.test(z.call(c.createElementNS("http://www.w3.org/2000/svg","clipPath")))};for(var P in p)L(p,P)&&(I=P.toLowerCase(),x[I]=p[P](),F.push((x[I]?"":"no-")+I));x.input||q();x.addTest=function(b,c){if("object"==typeof b)for(var l in b)L(b,l)&&x.addTest(l,b[l]);else{b=b.toLowerCase();if(x[b]!==h)return x;c="function"==typeof c?c():c;k.className+=" "+(c?"":"no-")+b;x[b]=c}return x};r.cssText="";return p=w=null,function(b,c){function k(){var b=
x.elements;return"string"==typeof b?b.split(" "):b}function h(b){var c=y[b[m]];return c||(c={},z++,b[m]=z,y[z]=c),c}function l(b,k,n){k||(k=c);if(u)return k.createElement(b);n||(n=h(k));var p;return n.cache[b]?p=n.cache[b].cloneNode():w.test(b)?p=(n.cache[b]=n.createElem(b)).cloneNode():p=n.createElem(b),!p.canHaveChildren||q.test(b)||p.tagUrn?p:n.frag.appendChild(p)}function n(b,c){c.cache||(c.cache={},c.createElem=b.createElement,c.createFrag=b.createDocumentFragment,c.frag=c.createFrag());b.createElement=
function(k){return x.shivMethods?l(k,b,c):c.createElem(k)};b.createDocumentFragment=Function("h,f","return function(){var n\x3df.cloneNode(),c\x3dn.createElement;h.shivMethods\x26\x26("+k().join().replace(/[\w\-]+/g,function(b){return c.createElem(b),c.frag.createElement(b),'c("'+b+'")'})+");return n}")(x,c.frag)}function p(b){b||(b=c);var k=h(b);if(x.shivCSS&&!v&&!k.hasCSS){var l,r=b;l=r.createElement("p");r=r.getElementsByTagName("head")[0]||r.documentElement;l=(l.innerHTML="x\x3cstyle\x3earticle,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}\x3c/style\x3e",
r.insertBefore(l.lastChild,r.firstChild));k.hasCSS=!!l}return u||n(b,k),b}var r=b.html5||{},q=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,w=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,v,m="_html5shiv",z=0,y={},u;(function(){try{var b=c.createElement("a");b.innerHTML="\x3cxyz\x3e\x3c/xyz\x3e";v="hidden"in b;var k;if(!(k=1==b.childNodes.length)){c.createElement("a");var h=c.createDocumentFragment();k="undefined"==
typeof h.cloneNode||"undefined"==typeof h.createDocumentFragment||"undefined"==typeof h.createElement}u=k}catch(l){u=v=!0}})();var x={elements:r.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:"3.7.0",shivCSS:!1!==r.shivCSS,supportsUnknownElements:u,shivMethods:!1!==r.shivMethods,type:"default",shivDocument:p,createElement:l,createDocumentFragment:function(b,
l){b||(b=c);if(u)return b.createDocumentFragment();l=l||h(b);b=l.frag.cloneNode();l=0;for(var n=k(),p=n.length;l<p;l++)b.createElement(n[l]);return b}};b.html5=x;p(c)}(this,c),x._version="2.8.3",x._prefixes=n,x._domPrefixes=D,x._cssomPrefixes=E,x.mq=function(c){var k=b.matchMedia||b.msMatchMedia;if(k)return k(c)&&k(c).matches||!1;var h;return J("@media "+c+" { #modernizr { position: absolute; } }",function(c){h="absolute"==(b.getComputedStyle?getComputedStyle(c,null):c.currentStyle).position}),h},
x.hasEvent=G,x.testProp=function(b){return m([b])},x.testAllProps=u,x.testStyles=J,x.prefixed=function(b,c,k){return c?u(b,c,k):u(b,"pfx")},k.className=k.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(" js "+F.join(" ")),x}(this,this.document);
(function(b,c,h){function l(b){return"[object Function]"==n.call(b)}function m(b){return"string"==typeof b}function u(){}function q(b){return!b||"loaded"==b||"complete"==b||"uninitialized"==b}function x(){var b=E.shift();D=1;b?b.t?v(function(){("c"==b.t?M.injectCss:M.injectJs)(b.s,0,b.a,b.x,b.e,1)},0):(b(),x()):D=0}function k(b,k,h,l,n,p,r){function w(c){if(!y&&q(m.readyState)&&(G.r=y=1,!D&&x(),m.onload=m.onreadystatechange=null,c)){"img"!=b&&v(function(){F.removeChild(m)},50);for(var h in K[k])K[k].hasOwnProperty(h)&&
K[k][h].onload()}}r=r||M.errorTimeout;var m=c.createElement(b),y=0,u=0,G={t:h,s:k,e:n,a:p,x:r};1===K[k]&&(u=1,K[k]=[]);"object"==b?m.data=k:(m.src=k,m.type=b);m.width=m.height="0";m.onerror=m.onload=m.onreadystatechange=function(){w.call(this,u)};E.splice(l,0,G);"img"!=b&&(u||2===K[k]?(F.insertBefore(m,B?null:z),v(w,r)):K[k].push(m))}function p(b,c,h,l,n){return D=0,c=c||"j",m(b)?k("c"==c?I:C,b,c,this.i++,h,l,n):(E.splice(this.i++,0,b),1==E.length&&x()),this}function r(){var b=M;return b.loader={load:p,
i:0},b}var w=c.documentElement,v=b.setTimeout,z=c.getElementsByTagName("script")[0],n={}.toString,E=[],D=0,y="MozAppearance"in w.style,B=y&&!!c.createRange().compareNode,F=B?w:z.parentNode,w=b.opera&&"[object Opera]"==n.call(b.opera),w=!!c.attachEvent&&!w,C=y?"object":w?"script":"img",I=w?"script":C,J=Array.isArray||function(b){return"[object Array]"==n.call(b)},G=[],K={},L={timeout:function(b,c){return c.length&&(b.timeout=c[0]),b}},P,M;M=function(b){function c(b){b=b.split("!");var k=G.length,h=
b.pop(),l=b.length,h={url:h,origUrl:h,prefixes:b},n,p,r;for(p=0;p<l;p++)r=b[p].split("\x3d"),(n=L[r.shift()])&&(h=n(h,r));for(p=0;p<k;p++)h=G[p](h);return h}function k(b,n,p,q,w){var v=c(b),m=v.autoCallback;v.url.split(".").pop().split("?").shift();v.bypass||(n&&(n=l(n)?n:n[b]||n[q]||n[b.split("/").pop().split("?")[0]]),v.instead?v.instead(b,n,p,q,w):(K[v.url]?v.noexec=!0:K[v.url]=1,p.load(v.url,v.forceCSS||!v.forceJS&&"css"==v.url.split(".").pop().split("?").shift()?"c":h,v.noexec,v.attrs,v.timeout),
(l(n)||l(m))&&p.load(function(){r();n&&n(v.origUrl,w,q);m&&m(v.origUrl,w,q);K[v.url]=2})))}function n(b,c){function h(b,n){if(b)if(m(b))n||(q=function(){var b=[].slice.call(arguments);w.apply(this,b);v()}),k(b,q,c,0,p);else{if(Object(b)===b)for(y in z=function(){var c=0,k;for(k in b)b.hasOwnProperty(k)&&c++;return c}(),b)b.hasOwnProperty(y)&&(!n&&!--z&&(l(q)?q=function(){var b=[].slice.call(arguments);w.apply(this,b);v()}:q[y]=function(b){return function(){var c=[].slice.call(arguments);b&&b.apply(this,
c);v()}}(w[y])),k(b[y],q,c,y,p))}else!n&&v()}var p=!!b.test,r=b.load||b.both,q=b.callback||u,w=q,v=b.complete||u,z,y;h(p?b.yep:b.nope,!!r);r&&h(r)}var p,q,w=this.yepnope.loader;if(m(b))k(b,0,w,0);else if(J(b))for(p=0;p<b.length;p++)q=b[p],m(q)?k(q,0,w,0):J(q)?M(q):Object(q)===q&&n(q,w);else Object(b)===b&&n(b,w)};M.addPrefix=function(b,c){L[b]=c};M.addFilter=function(b){G.push(b)};M.errorTimeout=1E4;null==c.readyState&&c.addEventListener&&(c.readyState="loading",c.addEventListener("DOMContentLoaded",
P=function(){c.removeEventListener("DOMContentLoaded",P,0);c.readyState="complete"},0));b.yepnope=r();b.yepnope.executeStack=x;b.yepnope.injectJs=function(b,k,h,l,n,p){var r=c.createElement("script"),w,m;l=l||M.errorTimeout;r.src=b;for(m in h)r.setAttribute(m,h[m]);k=p?x:k||u;r.onreadystatechange=r.onload=function(){!w&&q(r.readyState)&&(w=1,k(),r.onload=r.onreadystatechange=null)};v(function(){w||(w=1,k(1))},l);n?r.onload():z.parentNode.insertBefore(r,z)};b.yepnope.injectCss=function(b,k,h,l,n,p){l=
c.createElement("link");var r;k=p?x:k||u;l.href=b;l.rel="stylesheet";l.type="text/css";for(r in h)l.setAttribute(r,h[r]);n||(z.parentNode.insertBefore(l,z),v(k,0))}})(this,document);Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))};
!function(b,c){"object"==typeof module&&"object"==typeof module.exports?module.exports=b.document?c(b,!0):function(b){if(!b.document)throw Error("jQuery requires a window with a document");return c(b)}:c(b)}("undefined"!=typeof window?window:this,function(b,c){function h(b,c,k){var h,l,n=(k=k||da).createElement("script");if(n.text=b,c)for(h in wa)(l=c[h]||c.getAttribute&&c.getAttribute(h))&&n.setAttribute(h,l);k.head.appendChild(n).parentNode.removeChild(n)}function l(b){return null==b?b+"":"object"==
typeof b||"function"==typeof b?Da[T.call(b)]||"object":typeof b}function m(b){var c=!!b&&"length"in b&&b.length,k=l(b);return!ha(b)&&!Ka(b)&&("array"===k||0===c||"number"==typeof c&&0<c&&c-1 in b)}function u(b,c){return b.nodeName&&b.nodeName.toLowerCase()===c.toLowerCase()}function q(b,c){return c?"\x00"===b?"\ufffd":b.slice(0,-1)+"\\"+b.charCodeAt(b.length-1).toString(16)+" ":"\\"+b}function x(b,c,k){return ha(c)?A.grep(b,function(b,h){return!!c.call(b,h,b)!==k}):c.nodeType?A.grep(b,function(b){return b===
c!==k}):"string"!=typeof c?A.grep(b,function(b){return-1<xa.call(c,b)!==k}):A.filter(c,b,k)}function k(b,c){for(;(b=b[c])&&1!==b.nodeType;);return b}function p(b){return b}function r(b){throw b;}function w(b,c,k,h){var l;try{b&&ha(l=b.promise)?l.call(b).done(c).fail(k):b&&ha(l=b.then)?l.call(b,c,k):c.apply(void 0,[b].slice(h))}catch(n){k.apply(void 0,[n])}}function v(){da.removeEventListener("DOMContentLoaded",v);b.removeEventListener("load",v);A.ready()}function z(b,c){return c.toUpperCase()}function n(b){return b.replace(Na,
"ms-").replace(cb,z)}function E(){this.expando=A.expando+E.uid++}function D(b,c,k){var h,l;if(void 0===k&&1===b.nodeType)if(h="data-"+c.replace(ya,"-$\x26").toLowerCase(),"string"==typeof(k=b.getAttribute(h))){try{k="true"===(l=k)||"false"!==l&&("null"===l?null:l===+l+""?+l:pa.test(l)?JSON.parse(l):l)}catch(n){}qa.set(b,c,k)}else k=void 0;return k}function y(b,c,k,h){var l,n,p=20,r=h?function(){return h.cur()}:function(){return A.css(b,c,"")},q=r(),w=k&&k[3]||(A.cssNumber[c]?"":"px"),v=b.nodeType&&
(A.cssNumber[c]||"px"!==w&&+q)&&Ca.exec(A.css(b,c));if(v&&v[3]!==w){q/=2;w=w||v[3];for(v=+q||1;p--;)A.style(b,c,v+w),0>=(1-n)*(1-(n=r()/q||.5))&&(p=0),v/=n;v*=2;A.style(b,c,v+w);k=k||[]}return k&&(v=+v||+q||0,l=k[1]?v+(k[1]+1)*k[2]:+k[2],h&&(h.unit=w,h.start=v,h.end=l)),l}function B(b,c){for(var k,h,l,n,p,r,q,w=[],v=0,m=b.length;v<m;v++)(h=b[v]).style&&(k=h.style.display,c?("none"===k&&(w[v]=O.get(h,"display")||null,w[v]||(h.style.display="")),""===h.style.display&&Oa(h)&&(w[v]=(q=p=n=void 0,p=(l=
h).ownerDocument,r=l.nodeName,(q=db[r])||(n=p.body.appendChild(p.createElement(r)),q=A.css(n,"display"),n.parentNode.removeChild(n),"none"===q&&(q="block"),db[r]=q)))):"none"!==k&&(w[v]="none",O.set(h,"display",k)));for(v=0;v<m;v++)null!=w[v]&&(b[v].style.display=w[v]);return b}function F(b,c){var k;return k="undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(c||"*"):"undefined"!=typeof b.querySelectorAll?b.querySelectorAll(c||"*"):[],void 0===c||c&&u(b,c)?A.merge([b],k):k}function C(b,
c){for(var k=0,h=b.length;k<h;k++)O.set(b[k],"globalEval",!c||O.get(c[k],"globalEval"))}function I(b,c,k,h,n){for(var p,r,q,v,w=c.createDocumentFragment(),m=[],z=0,H=b.length;z<H;z++)if((p=b[z])||0===p)if("object"===l(p))A.merge(m,p.nodeType?[p]:p);else if(Ob.test(p)){r=r||w.appendChild(c.createElement("div"));q=(rb.exec(p)||["",""])[1].toLowerCase();q=Ga[q]||Ga._default;r.innerHTML=q[1]+A.htmlPrefilter(p)+q[2];for(q=q[0];q--;)r=r.lastChild;A.merge(m,r.childNodes);(r=w.firstChild).textContent=""}else m.push(c.createTextNode(p));
w.textContent="";for(z=0;p=m[z++];)if(h&&-1<A.inArray(p,h))n&&n.push(p);else if(v=Ja(p),r=F(w.appendChild(p),"script"),v&&C(r),k)for(q=0;p=r[q++];)sb.test(p.type||"")&&k.push(p);return w}function J(){return!0}function G(){return!1}function K(b,c,k,h,l,n){var p,r;if("object"==typeof c){for(r in"string"!=typeof k&&(h=h||k,k=void 0),c)K(b,r,k,h,c[r],n);return b}if(null==h&&null==l?(l=k,h=k=void 0):null==l&&("string"==typeof k?(l=h,h=void 0):(l=h,h=k,k=void 0)),!1===l)l=G;else if(!l)return b;return 1===
n&&(p=l,(l=function(b){return A().off(b),p.apply(this,arguments)}).guid=p.guid||(p.guid=A.guid++)),b.each(function(){A.event.add(this,c,l,h,k)})}function L(b,c,k){k?(O.set(b,c,!1),A.event.add(b,c,{namespace:!1,handler:function(b){var k,h=O.get(this,c);if(1&b.isTrigger&&this[c])if(h)(A.event.special[c]||{}).delegateType&&b.stopPropagation();else{if(h=sa.call(arguments),O.set(this,c,h),this[c](),k=O.get(this,c),O.set(this,c,!1),h!==k)return b.stopImmediatePropagation(),b.preventDefault(),k}else h&&
(O.set(this,c,A.event.trigger(h[0],h.slice(1),this)),b.stopPropagation(),b.isImmediatePropagationStopped=J)}})):void 0===O.get(b,c)&&A.event.add(b,c,J)}function P(b,c){return u(b,"table")&&u(11!==c.nodeType?c:c.firstChild,"tr")&&A(b).children("tbody")[0]||b}function M(b){return b.type=(null!==b.getAttribute("type"))+"/"+b.type,b}function R(b){return"true/"===(b.type||"").slice(0,5)?b.type=b.type.slice(5):b.removeAttribute("type"),b}function fa(b,c){var k,h,l,n,p,r;if(1===c.nodeType){if(O.hasData(b)&&
(r=O.get(b).events))for(l in O.remove(c,"handle events"),r)for(k=0,h=r[l].length;k<h;k++)A.event.add(c,l,r[l][k]);qa.hasData(b)&&(n=qa.access(b),p=A.extend({},n),qa.set(c,p))}}function W(b,c,k,l){c=ua(c);var n,p,r,q,w=0,v=b.length,m=v-1,z=c[0],H=ha(z);if(H||1<v&&"string"==typeof z&&!Z.checkClone&&Pb.test(z))return b.each(function(h){var n=b.eq(h);H&&(c[0]=z.call(this,h,n.html()));W(n,c,k,l)});if(v&&(p=(n=I(c,b[0].ownerDocument,!1,b,l)).firstChild,1===n.childNodes.length&&(n=p),p||l)){for(r=(p=A.map(F(n,
"script"),M)).length;w<v;w++)q=n,w!==m&&(q=A.clone(q,!0,!0),r&&A.merge(p,F(q,"script"))),k.call(b[w],q,w);if(r)for(n=p[p.length-1].ownerDocument,A.map(p,R),w=0;w<r;w++)q=p[w],sb.test(q.type||"")&&!O.access(q,"globalEval")&&A.contains(n,q)&&(q.src&&"module"!==(q.type||"").toLowerCase()?A._evalUrl&&!q.noModule&&A._evalUrl(q.src,{nonce:q.nonce||q.getAttribute("nonce")},n):h(q.textContent.replace(Rb,""),q,n))}return b}function V(b,c,k){for(var h=c?A.filter(c,b):b,l=0;null!=(c=h[l]);l++)k||1!==c.nodeType||
A.cleanData(F(c)),c.parentNode&&(k&&Ja(c)&&C(F(c,"script")),c.parentNode.removeChild(c));return b}function ba(b,c,k){var h,l,n,p,r=hb.test(c),q=b.style;return(k=k||eb(b))&&(p=k.getPropertyValue(c)||k[c],r&&p&&(p=p.replace(Ya,"$1")||void 0),""!==p||Ja(b)||(p=A.style(b,c)),!Z.pixelBoxStyles()&&ib.test(p)&&Sb.test(c)&&(h=q.width,l=q.minWidth,n=q.maxWidth,q.minWidth=q.maxWidth=q.width=p,p=k.width,q.width=h,q.minWidth=l,q.maxWidth=n)),void 0!==p?p+"":p}function S(b,c){return{get:function(){if(!b())return(this.get=
c).apply(this,arguments);delete this.get}}}function Q(b){var c;if(!(c=A.cssProps[b]||tb[b])){if(!(b in ub)){a:{c=b;for(var k=c[0].toUpperCase()+c.slice(1),h=vb.length;h--;)if((c=vb[h]+k)in ub)break a;c=void 0}b=tb[b]=c||b}c=b}return c}function N(b,c,k){return(b=Ca.exec(c))?Math.max(0,b[2]-(k||0))+(b[3]||"px"):c}function Y(b,c,k,h,l,n){var p="width"===c?1:0,r=0,q=0,w=0;if(k===(h?"border":"content"))return 0;for(;4>p;p+=2)"margin"===k&&(w+=A.css(b,k+za[p],!0,l)),h?("content"===k&&(q-=A.css(b,"padding"+
za[p],!0,l)),"margin"!==k&&(q-=A.css(b,"border"+za[p]+"Width",!0,l))):(q+=A.css(b,"padding"+za[p],!0,l),"padding"!==k?q+=A.css(b,"border"+za[p]+"Width",!0,l):r+=A.css(b,"border"+za[p]+"Width",!0,l));return!h&&0<=n&&(q+=Math.max(0,Math.ceil(b["offset"+c[0].toUpperCase()+c.slice(1)]-n-q-r-.5))||0),q+w}function ka(b,c,k){var h=eb(b),l=(!Z.boxSizingReliable()||k)&&"border-box"===A.css(b,"boxSizing",!1,h),n=l,p=ba(b,c,h),r="offset"+c[0].toUpperCase()+c.slice(1);if(ib.test(p)){if(!k)return p;p="auto"}return(!Z.boxSizingReliable()&&
l||!Z.reliableTrDimensions()&&u(b,"tr")||"auto"===p||!parseFloat(p)&&"inline"===A.css(b,"display",!1,h))&&b.getClientRects().length&&(l="border-box"===A.css(b,"boxSizing",!1,h),(n=r in b)&&(p=b[r])),(p=parseFloat(p)||0)+Y(b,c,k||(l?"border":"content"),n,h,p)+"px"}function X(b,c,k,h,l){return new X.prototype.init(b,c,k,h,l)}function ia(){fb&&(!1===da.hidden&&b.requestAnimationFrame?b.requestAnimationFrame(ia):b.setTimeout(ia,A.fx.interval),A.fx.tick())}function U(){return b.setTimeout(function(){Ta=
void 0}),Ta=Date.now()}function na(b,c){var k,h=0,l={height:b};for(c=c?1:0;4>h;h+=2-c)l["margin"+(k=za[h])]=l["padding"+k]=b;return c&&(l.opacity=l.width=b),l}function la(b,c,k){for(var h,l=(ea.tweeners[c]||[]).concat(ea.tweeners["*"]),n=0,p=l.length;n<p;n++)if(h=l[n].call(k,c,b))return h}function ea(b,c,k){var h,l=0,p=ea.prefilters.length,r=A.Deferred().always(function(){delete q.elem}),q=function(){if(h)return!1;for(var c=Ta||U(),c=Math.max(0,w.startTime+w.duration-c),k=1-(c/w.duration||0),l=0,
n=w.tweens.length;l<n;l++)w.tweens[l].run(k);return r.notifyWith(b,[w,k,c]),1>k&&n?c:(n||r.notifyWith(b,[w,1,0]),r.resolveWith(b,[w]),!1)},w=r.promise({elem:b,props:A.extend({},c),opts:A.extend(!0,{specialEasing:{},easing:A.easing._default},k),originalProperties:c,originalOptions:k,startTime:Ta||U(),duration:k.duration,tweens:[],createTween:function(c,k){c=A.Tween(b,w.opts,c,k,w.opts.specialEasing[c]||w.opts.easing);return w.tweens.push(c),c},stop:function(c){var k=0,l=c?w.tweens.length:0;if(h)return this;
for(h=!0;k<l;k++)w.tweens[k].run(1);return c?(r.notifyWith(b,[w,1,0]),r.resolveWith(b,[w,c])):r.rejectWith(b,[w,c]),this}});k=w.props;!function(b,c){var k,h,l,p,r;for(k in b)if(l=c[h=n(k)],p=b[k],Array.isArray(p)&&(l=p[1],p=b[k]=p[0]),k!==h&&(b[h]=p,delete b[k]),(r=A.cssHooks[h])&&"expand"in r)for(k in p=r.expand(p),delete b[h],p)k in b||(b[k]=p[k],c[k]=l);else c[h]=l}(k,w.opts.specialEasing);for(;l<p;l++)if(c=ea.prefilters[l].call(w,b,k,w.opts))return ha(c.stop)&&(A._queueHooks(w.elem,w.opts.queue).stop=
c.stop.bind(c)),c;return A.map(k,la,w),ha(w.opts.start)&&w.opts.start.call(b,w),w.progress(w.opts.progress).done(w.opts.done,w.opts.complete).fail(w.opts.fail).always(w.opts.always),A.fx.timer(A.extend(q,{elem:b,anim:w,queue:w.opts.queue})),w}function ca(b){return(b.match(La)||[]).join(" ")}function ra(b){return b.getAttribute&&b.getAttribute("class")||""}function ja(b){return Array.isArray(b)?b:"string"==typeof b&&b.match(La)||[]}function va(b,c,k,h){var n;if(Array.isArray(c))A.each(c,function(c,
l){k||Tb.test(b)?h(b,l):va(b+"["+("object"==typeof l&&null!=l?c:"")+"]",l,k,h)});else if(k||"object"!==l(c))h(b,c);else for(n in c)va(b+"["+n+"]",c[n],k,h)}function Fa(b){return function(c,k){"string"!=typeof c&&(k=c,c="*");var h=0,l=c.toLowerCase().match(La)||[];if(ha(k))for(;c=l[h++];)"+"===c[0]?(c=c.slice(1)||"*",(b[c]=b[c]||[]).unshift(k)):(b[c]=b[c]||[]).push(k)}}function Aa(b,c,k,h){function l(r){var q;return n[r]=!0,A.each(b[r]||[],function(b,r){b=r(c,k,h);return"string"!=typeof b||p||n[b]?
p?!(q=b):void 0:(c.dataTypes.unshift(b),l(b),!1)}),q}var n={},p=b===jb;return l(c.dataTypes[0])||!n["*"]&&l("*")}function H(b,c){var k,h,l=A.ajaxSettings.flatOptions||{};for(k in c)void 0!==c[k]&&((l[k]?b:h||(h={}))[k]=c[k]);return h&&A.extend(!0,b,h),b}var ma=[],ga=Object.getPrototypeOf,sa=ma.slice,ua=ma.flat?function(b){return ma.flat.call(b)}:function(b){return ma.concat.apply([],b)},Ma=ma.push,xa=ma.indexOf,Da={},T=Da.toString,Qa=Da.hasOwnProperty,oa=Qa.toString,aa=oa.call(Object),Z={},ha=function(b){return"function"==
typeof b&&"number"!=typeof b.nodeType&&"function"!=typeof b.item},Ka=function(b){return null!=b&&b===b.window},da=b.document,wa={type:!0,src:!0,nonce:!0,noModule:!0},Ua=/HTML$/i,A=function(b,c){return new A.fn.init(b,c)};A.fn=A.prototype={jquery:"3.7.1",constructor:A,length:0,toArray:function(){return sa.call(this)},get:function(b){return null==b?sa.call(this):0>b?this[b+this.length]:this[b]},pushStack:function(b){b=A.merge(this.constructor(),b);return b.prevObject=this,b},each:function(b){return A.each(this,
b)},map:function(b){return this.pushStack(A.map(this,function(c,k){return b.call(c,k,c)}))},slice:function(){return this.pushStack(sa.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(A.grep(this,function(b,c){return(c+1)%2}))},odd:function(){return this.pushStack(A.grep(this,function(b,c){return c%2}))},eq:function(b){var c=this.length;b=+b+(0>b?c:0);return this.pushStack(0<=b&&b<c?[this[b]]:[])},end:function(){return this.prevObject||
this.constructor()},push:Ma,sort:ma.sort,splice:ma.splice};A.extend=A.fn.extend=function(){var b,c,k,h,l,n,p=arguments[0]||{},r=1,q=arguments.length,w=!1;"boolean"==typeof p&&(w=p,p=arguments[r]||{},r++);"object"==typeof p||ha(p)||(p={});for(r===q&&(p=this,r--);r<q;r++)if(null!=(b=arguments[r]))for(c in b)h=b[c],"__proto__"!==c&&p!==h&&(w&&h&&(A.isPlainObject(h)||(l=Array.isArray(h)))?(k=p[c],n=l&&!Array.isArray(k)?[]:l||A.isPlainObject(k)?k:{},l=!1,p[c]=A.extend(w,n,h)):void 0!==h&&(p[c]=h));return p};
A.extend({expando:"jQuery"+("3.7.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(b){throw Error(b);},noop:function(){},isPlainObject:function(b){var c,k;return!(!b||"[object Object]"!==T.call(b))&&(!(c=ga(b))||"function"==typeof(k=Qa.call(c,"constructor")&&c.constructor)&&oa.call(k)===aa)},isEmptyObject:function(b){for(var c in b)return!1;return!0},globalEval:function(b,c,k){h(b,{nonce:c&&c.nonce},k)},each:function(b,c){var k,h=0;if(m(b))for(k=b.length;h<k&&!1!==c.call(b[h],h,b[h]);h++);
else for(h in b)if(!1===c.call(b[h],h,b[h]))break;return b},text:function(b){var c,k="",h=0,l=b.nodeType;if(!l)for(;c=b[h++];)k+=A.text(c);return 1===l||11===l?b.textContent:9===l?b.documentElement.textContent:3===l||4===l?b.nodeValue:k},makeArray:function(b,c){c=c||[];return null!=b&&(m(Object(b))?A.merge(c,"string"==typeof b?[b]:b):Ma.call(c,b)),c},inArray:function(b,c,k){return null==c?-1:xa.call(c,b,k)},isXMLDoc:function(b){var c=b&&(b.ownerDocument||b).documentElement;return!Ua.test(b&&b.namespaceURI||
c&&c.nodeName||"HTML")},merge:function(b,c){for(var k=+c.length,h=0,l=b.length;h<k;h++)b[l++]=c[h];return b.length=l,b},grep:function(b,c,k){var h=[],l=0,n=b.length;for(k=!k;l<n;l++)!c(b[l],l)!==k&&h.push(b[l]);return h},map:function(b,c,k){var h,l,n=0,p=[];if(m(b))for(h=b.length;n<h;n++)null!=(l=c(b[n],n,k))&&p.push(l);else for(n in b)null!=(l=c(b[n],n,k))&&p.push(l);return ua(p)},guid:1,support:Z});"function"==typeof Symbol&&(A.fn[Symbol.iterator]=ma[Symbol.iterator]);A.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),
function(b,c){Da["[object "+c+"]"]=c.toLowerCase()});var kb=ma.pop,lb=ma.sort,Va=ma.splice,Ya=/^[\x20\t\r\n\f]+|((?:^|[^\\])(?:\\.)*)[\x20\t\r\n\f]+$/g;A.contains=function(b,c){c=c&&c.parentNode;return b===c||!(!c||1!==c.nodeType||!(b.contains?b.contains(c):b.compareDocumentPosition&&16&b.compareDocumentPosition(c)))};var Ub=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;A.escapeSelector=function(b){return(b+"").replace(Ub,q)};var Pa=da;!function(){function c(b,k,h,l){var n,p,r,q,m,y=k&&k.ownerDocument;
p=k?k.nodeType:9;if(h=h||[],"string"!=typeof b||!b||1!==p&&9!==p&&11!==p)return h;if(!l&&(v(k),k=k||L,T)){if(11!==p&&(m=db.exec(b)))if(n=m[1])if(9===p){if(!(r=k.getElementById(n)))return h;if(r.id===n)return aa.call(h,r),h}else{if(y&&(r=y.getElementById(n))&&c.contains(k,r)&&r.id===n)return aa.call(h,r),h}else{if(m[2])return aa.apply(h,k.getElementsByTagName(b)),h;if((n=m[3])&&k.getElementsByClassName)return aa.apply(h,k.getElementsByClassName(n)),h}if(!(Y[b+" "]||oa&&oa.test(b))){if(n=b,y=k,1===
p&&(N.test(b)||U.test(b))){(y=va.test(b)&&w(k.parentNode)||k)==k&&Z.scope||((q=k.getAttribute("id"))?q=A.escapeSelector(q):k.setAttribute("id",q=ja));for(p=(n=z(b)).length;p--;)n[p]=(q?"#"+q:":scope")+" "+H(n[p]);n=n.join(",")}try{return aa.apply(h,y.querySelectorAll(n)),h}catch(u){Y(b,!0)}finally{q===ja&&k.removeAttribute("id")}}}return G(b.replace(Ya,"$1"),k,h,l)}function k(){var b=[];return function wb(c,k){return b.push(c+" ")>I.cacheLength&&delete wb[b.shift()],wb[c+" "]=k}}function h(b){return b[ja]=
!0,b}function l(b){var c=L.createElement("fieldset");try{return!!b(c)}catch(k){return!1}finally{c.parentNode&&c.parentNode.removeChild(c)}}function n(b){return function(c){return u(c,"input")&&c.type===b}}function p(b){return function(c){return(u(c,"input")||u(c,"button"))&&c.type===b}}function r(b){return function(c){return"form"in c?c.parentNode&&!1===c.disabled?"label"in c?"label"in c.parentNode?c.parentNode.disabled===b:c.disabled===b:c.isDisabled===b||c.isDisabled!==!b&&V(c)===b:c.disabled===
b:"label"in c&&c.disabled===b}}function q(b){return h(function(c){return c=+c,h(function(k,h){for(var l,n=b([],k.length,c),p=n.length;p--;)k[l=n[p]]&&(k[l]=!(h[l]=k[l]))})})}function w(b){return b&&"undefined"!=typeof b.getElementsByTagName&&b}function v(b){var k;b=b?b.ownerDocument||b:Pa;return b!=L&&9===b.nodeType&&b.documentElement&&(ua=(L=b).documentElement,T=!A.isXMLDoc(L),Da=ua.matches||ua.webkitMatchesSelector||ua.msMatchesSelector,ua.msMatchesSelector&&Pa!=L&&(k=L.defaultView)&&k.top!==k&&
k.addEventListener("unload",da),Z.getById=l(function(b){return ua.appendChild(b).id=A.expando,!L.getElementsByName||!L.getElementsByName(A.expando).length}),Z.disconnectedMatch=l(function(b){return Da.call(b,"*")}),Z.scope=l(function(){return L.querySelectorAll(":scope")}),Z.cssHas=l(function(){try{return L.querySelector(":has(*,:jqfake)"),!1}catch(b){return!0}}),Z.getById?(I.filter.ID=function(b){var c=b.replace(Q,W);return function(b){return b.getAttribute("id")===c}},I.find.ID=function(b,c){if("undefined"!=
typeof c.getElementById&&T)return(b=c.getElementById(b))?[b]:[]}):(I.filter.ID=function(b){var c=b.replace(Q,W);return function(b){return(b="undefined"!=typeof b.getAttributeNode&&b.getAttributeNode("id"))&&b.value===c}},I.find.ID=function(b,c){if("undefined"!=typeof c.getElementById&&T){var k,h,l=c.getElementById(b);if(l){if((k=l.getAttributeNode("id"))&&k.value===b)return[l];h=c.getElementsByName(b);for(c=0;l=h[c++];)if((k=l.getAttributeNode("id"))&&k.value===b)return[l]}return[]}}),I.find.TAG=
function(b,c){return"undefined"!=typeof c.getElementsByTagName?c.getElementsByTagName(b):c.querySelectorAll(b)},I.find.CLASS=function(b,c){if("undefined"!=typeof c.getElementsByClassName&&T)return c.getElementsByClassName(b)},oa=[],l(function(b){var c;ua.appendChild(b).innerHTML="\x3ca id\x3d'"+ja+"' href\x3d'' disabled\x3d'disabled'\x3e\x3c/a\x3e\x3cselect id\x3d'"+ja+"-\r\\' disabled\x3d'disabled'\x3e\x3coption selected\x3d''\x3e\x3c/option\x3e\x3c/select\x3e";b.querySelectorAll("[selected]").length||
oa.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");b.querySelectorAll("[id~\x3d"+ja+"-]").length||oa.push("~\x3d");b.querySelectorAll("a#"+ja+"+*").length||oa.push(".#.+[+~]");b.querySelectorAll(":checked").length||oa.push(":checked");(c=L.createElement("input")).setAttribute("type","hidden");b.appendChild(c).setAttribute("name","D");ua.appendChild(b).disabled=!0;2!==b.querySelectorAll(":disabled").length&&
oa.push(":enabled",":disabled");(c=L.createElement("input")).setAttribute("name","");b.appendChild(c);b.querySelectorAll("[name\x3d'']").length||oa.push("\\[[\\x20\\t\\r\\n\\f]*name[\\x20\\t\\r\\n\\f]*\x3d[\\x20\\t\\r\\n\\f]*(?:''|\"\")")}),Z.cssHas||oa.push(":has"),oa=oa.length&&new RegExp(oa.join("|")),ha=function(b,k){if(b===k)return K=!0,0;var h=!b.compareDocumentPosition-!k.compareDocumentPosition;return h||(1&(h=(b.ownerDocument||b)==(k.ownerDocument||k)?b.compareDocumentPosition(k):1)||!Z.sortDetached&&
k.compareDocumentPosition(b)===h?b===L||b.ownerDocument==Pa&&c.contains(Pa,b)?-1:k===L||k.ownerDocument==Pa&&c.contains(Pa,k)?1:J?xa.call(J,b)-xa.call(J,k):0:4&h?-1:1)}),L}function m(){}function z(b,k){var h,l,n,p,r,q,w;if(r=S[b+" "])return k?0:r.slice(0);r=b;q=[];for(w=I.preFilter;r;){for(p in h&&!(l=na.exec(r))||(l&&(r=r.slice(l[0].length)||r),q.push(n=[])),h=!1,(l=U.exec(r))&&(h=l.shift(),n.push({value:h,type:l[0].replace(Ya," ")}),r=r.slice(h.length)),I.filter)!(l=ca[p].exec(r))||w[p]&&!(l=w[p](l))||
(h=l.shift(),n.push({value:h,type:p,matches:l}),r=r.slice(h.length));if(!h)break}return k?r.length:r?c.error(b):S(b,q).slice(0)}function H(b){for(var c=0,k=b.length,h="";c<k;c++)h+=b[c].value;return h}function y(b,c,k){var h=c.dir,l=c.next,n=l||h,p=k&&"parentNode"===n,r=ra++;return c.first?function(c,k,l){for(;c=c[h];)if(1===c.nodeType||p)return b(c,k,l);return!1}:function(c,k,q){var w,v,m=[P,r];if(q)for(;c=c[h];){if((1===c.nodeType||p)&&b(c,k,q))return!0}else for(;c=c[h];)if(1===c.nodeType||p)if(v=
c[ja]||(c[ja]={}),l&&u(c,l))c=c[h]||c;else{if((w=v[n])&&w[0]===P&&w[1]===r)return m[2]=w[2];if((v[n]=m)[2]=b(c,k,q))return!0}return!1}}function x(b){return 1<b.length?function(c,k,h){for(var l=b.length;l--;)if(!b[l](c,k,h))return!1;return!0}:b[0]}function E(b,c,k,h,l){for(var n,p=[],r=0,q=b.length,w=null!=c;r<q;r++)(n=b[r])&&(k&&!k(n,h,l)||(p.push(n),w&&c.push(r)));return p}function D(b,k,l,n,p,r){return n&&!n[ja]&&(n=D(n)),p&&!p[ja]&&(p=D(p,r)),h(function(h,r,q,w){var v,m,z,H=[],y=[],u=r.length,
x;if(!(x=h)){x=k||"*";for(var D=q.nodeType?[q]:q,ma=[],B=0,ga=D.length;B<ga;B++)c(x,D[B],ma);x=ma}x=!b||!h&&k?x:E(x,H,b,q,w);if(l?l(x,z=p||(h?b:u||n)?[]:r,q,w):z=x,n)for(v=E(z,y),n(v,[],q,w),q=v.length;q--;)(m=v[q])&&(z[y[q]]=!(x[y[q]]=m));if(h){if(p||b){if(p){v=[];for(q=z.length;q--;)(m=z[q])&&v.push(x[q]=m);p(null,z=[],v,w)}for(q=z.length;q--;)(m=z[q])&&-1<(v=p?xa.call(h,m):H[q])&&(h[v]=!(r[v]=m))}}else z=E(z===r?z.splice(u,z.length):z),p?p(null,r,z,w):aa.apply(r,z)})}function B(b){var c,k,h,l=
b.length,n=I.relative[b[0].type];k=n||I.relative[" "];for(var p=n?1:0,r=y(function(b){return b===c},k,!0),q=y(function(b){return-1<xa.call(c,b)},k,!0),w=[function(b,k,h){b=!n&&(h||k!=F)||((c=k).nodeType?r(b,k,h):q(b,k,h));return c=null,b}];p<l;p++)if(k=I.relative[b[p].type])w=[y(x(w),k)];else{if((k=I.filter[b[p].type].apply(null,b[p].matches))[ja]){for(h=++p;h<l&&!I.relative[b[h].type];h++);return D(1<p&&x(w),1<p&&H(b.slice(0,p-1).concat({value:" "===b[p-2].type?"*":""})).replace(Ya,"$1"),k,p<h&&
B(b.slice(p,h)),h<l&&B(b=b.slice(h)),h<l&&H(b))}w.push(k)}return x(w)}function ga(b,c){var k,l,n,p,r=[],q=[],w=M[b+" "];if(!w){c||(c=z(b));for(k=c.length;k--;)(w=B(c[k]))[ja]?r.push(w):q.push(w);(w=M(b,(l=0<r.length,n=0<q.length,p=function(b,c,k,h,p){var w,m,z,H=0,y="0",u=b&&[],x=[],D=F,ma=b||n&&I.find.TAG("*",p),B=P+=null==D?1:Math.random()||.1,ga=ma.length;for(p&&(F=c==L||c||p);y!==ga&&null!=(w=ma[y]);y++){if(n&&w){m=0;for(c||w.ownerDocument==L||(v(w),k=!T);z=q[m++];)if(z(w,c||L,k)){aa.call(h,w);
break}p&&(P=B)}l&&((w=!z&&w)&&H--,b&&u.push(w))}if(H+=y,l&&y!==H){for(m=0;z=r[m++];)z(u,x,c,k);if(b){if(0<H)for(;y--;)u[y]||x[y]||(x[y]=kb.call(h));x=E(x)}aa.apply(h,x);p&&!b&&0<x.length&&1<H+r.length&&A.uniqueSort(h)}return p&&(P=B,F=D),u},l?h(p):p))).selector=b}return w}function G(b,c,k,h){var l,n,p,r,q,v="function"==typeof b&&b,m=!h&&z(b=v.selector||b);if(k=k||[],1===m.length){if(2<(n=m[0]=m[0].slice(0)).length&&"ID"===(p=n[0]).type&&9===c.nodeType&&T&&I.relative[n[1].type]){if(!(c=(I.find.ID(p.matches[0].replace(Q,
W),c)||[])[0]))return k;v&&(c=c.parentNode);b=b.slice(n.shift().value.length)}for(l=ca.needsContext.test(b)?0:n.length;l--&&(p=n[l],!I.relative[r=p.type]);)if((q=I.find[r])&&(h=q(p.matches[0].replace(Q,W),va.test(n[0].type)&&w(c.parentNode)||c))){if(n.splice(l,1),!(b=h.length&&H(n)))return aa.apply(k,h),k;break}}return(v||ga(b,m))(h,c,!T,k,!c||va.test(b)&&w(c.parentNode)||c),k}var C,I,F,J,K,L,ua,T,oa,Da,aa=Ma,ja=A.expando,P=0,ra=0,ba=k(),S=k(),M=k(),Y=k(),ha=function(b,c){return b===c&&(K=!0),0},
R=/[\x20\t\r\n\f]+/g,na=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,U=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,N=/[\x20\t\r\n\f]|>/,la=/:((?:\\[\da-fA-F]{1,6}[\x20\t\r\n\f]?|\\[^\r\n\f]|[\w-]|[^\x00-\x7f])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\[\da-fA-F]{1,6}[\x20\t\r\n\f]?|\\[^\r\n\f]|[\w-]|[^\x00-\x7f])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\[\da-fA-F]{1,6}[\x20\t\r\n\f]?|\\[^\r\n\f]|[\w-]|[^\x00-\x7f])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,
fa=/^(?:\\[\da-fA-F]{1,6}[\x20\t\r\n\f]?|\\[^\r\n\f]|[\w-]|[^\x00-\x7f])+$/,ca={ID:/^#((?:\\[\da-fA-F]{1,6}[\x20\t\r\n\f]?|\\[^\r\n\f]|[\w-]|[^\x00-\x7f])+)/,CLASS:/^\.((?:\\[\da-fA-F]{1,6}[\x20\t\r\n\f]?|\\[^\r\n\f]|[\w-]|[^\x00-\x7f])+)/,TAG:/^((?:\\[\da-fA-F]{1,6}[\x20\t\r\n\f]?|\\[^\r\n\f]|[\w-]|[^\x00-\x7f])+|[*])/,ATTR:/^\[[\x20\t\r\n\f]*((?:\\[\da-fA-F]{1,6}[\x20\t\r\n\f]?|\\[^\r\n\f]|[\w-]|[^\x00-\x7f])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\[\da-fA-F]{1,6}[\x20\t\r\n\f]?|\\[^\r\n\f]|[\w-]|[^\x00-\x7f])+))|)[\x20\t\r\n\f]*\]/,
PSEUDO:/^:((?:\\[\da-fA-F]{1,6}[\x20\t\r\n\f]?|\\[^\r\n\f]|[\w-]|[^\x00-\x7f])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\[\da-fA-F]{1,6}[\x20\t\r\n\f]?|\\[^\r\n\f]|[\w-]|[^\x00-\x7f])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\[\da-fA-F]{1,6}[\x20\t\r\n\f]?|\\[^\r\n\f]|[\w-]|[^\x00-\x7f])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,
bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},ka=/^(?:input|select|textarea|button)$/i,ea=/^h\d$/i,db=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,va=/[+~]/,Q=/\\[\da-fA-F]{1,6}[\x20\t\r\n\f]?|\\([^\r\n\f])/g,W=function(b,c){b="0x"+b.slice(1)-65536;return c||(0>b?String.fromCharCode(b+
65536):String.fromCharCode(b>>10|55296,1023&b|56320))},da=function(){v()},V=y(function(b){return!0===b.disabled&&u(b,"fieldset")},{dir:"parentNode",next:"legend"});try{aa.apply(ma=sa.call(Pa.childNodes),Pa.childNodes),ma[Pa.childNodes.length].nodeType}catch(qc){aa={apply:function(b,c){Ma.apply(b,sa.call(c))},call:function(b){Ma.apply(b,sa.call(arguments,1))}}}for(C in c.matches=function(b,k){return c(b,null,null,k)},c.matchesSelector=function(b,k){if(v(b),!(!T||Y[k+" "]||oa&&oa.test(k)))try{var h=
Da.call(b,k);if(h||Z.disconnectedMatch||b.document&&11!==b.document.nodeType)return h}catch(l){Y(k,!0)}return 0<c(k,L,null,[b]).length},c.contains=function(b,c){return(b.ownerDocument||b)!=L&&v(b),A.contains(b,c)},c.attr=function(b,c){(b.ownerDocument||b)!=L&&v(b);var k=I.attrHandle[c.toLowerCase()],k=k&&Qa.call(I.attrHandle,c.toLowerCase())?k(b,c,!T):void 0;return void 0!==k?k:b.getAttribute(c)},c.error=function(b){throw Error("Syntax error, unrecognized expression: "+b);},A.uniqueSort=function(b){var c,
k=[],h=0,l=0;if(K=!Z.sortStable,J=!Z.sortStable&&sa.call(b,0),lb.call(b,ha),K){for(;c=b[l++];)c===b[l]&&(h=k.push(l));for(;h--;)Va.call(b,k[h],1)}return J=null,b},A.fn.uniqueSort=function(){return this.pushStack(A.uniqueSort(sa.apply(this)))},(I=A.expr={cacheLength:50,createPseudo:h,match:ca,attrHandle:{},find:{},relative:{"\x3e":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(b){return b[1]=b[1].replace(Q,
W),b[3]=(b[3]||b[4]||b[5]||"").replace(Q,W),"~\x3d"===b[2]&&(b[3]=" "+b[3]+" "),b.slice(0,4)},CHILD:function(b){return b[1]=b[1].toLowerCase(),"nth"===b[1].slice(0,3)?(b[3]||c.error(b[0]),b[4]=+(b[4]?b[5]+(b[6]||1):2*("even"===b[3]||"odd"===b[3])),b[5]=+(b[7]+b[8]||"odd"===b[3])):b[3]&&c.error(b[0]),b},PSEUDO:function(b){var c,k=!b[6]&&b[2];return ca.CHILD.test(b[0])?null:(b[3]?b[2]=b[4]||b[5]||"":k&&la.test(k)&&(c=z(k,!0))&&(c=k.indexOf(")",k.length-c)-k.length)&&(b[0]=b[0].slice(0,c),b[2]=k.slice(0,
c)),b.slice(0,3))}},filter:{TAG:function(b){var c=b.replace(Q,W).toLowerCase();return"*"===b?function(){return!0}:function(b){return u(b,c)}},CLASS:function(b){var c=ba[b+" "];return c||(c=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+b+"([\\x20\\t\\r\\n\\f]|$)"),ba(b,function(b){return c.test("string"==typeof b.className&&b.className||"undefined"!=typeof b.getAttribute&&b.getAttribute("class")||"")}))},ATTR:function(b,k,h){return function(l){l=c.attr(l,b);return null==l?"!\x3d"===k:!k||(l+="","\x3d"===k?
l===h:"!\x3d"===k?l!==h:"^\x3d"===k?h&&0===l.indexOf(h):"*\x3d"===k?h&&-1<l.indexOf(h):"$\x3d"===k?h&&l.slice(-h.length)===h:"~\x3d"===k?-1<(" "+l.replace(R," ")+" ").indexOf(h):"|\x3d"===k&&(l===h||l.slice(0,h.length+1)===h+"-"))}},CHILD:function(b,c,k,h,l){var n="nth"!==b.slice(0,3),p="last"!==b.slice(-4),r="of-type"===c;return 1===h&&0===l?function(b){return!!b.parentNode}:function(c,k,q){var w,v,m,z;k=n!==p?"nextSibling":"previousSibling";var H=c.parentNode,y=r&&c.nodeName.toLowerCase(),x=!q&&
!r,E=!1;if(H){if(n){for(;k;){for(v=c;v=v[k];)if(r?u(v,y):1===v.nodeType)return!1;z=k="only"===b&&!z&&"nextSibling"}return!0}if(z=[p?H.firstChild:H.lastChild],p&&x)for(E=(m=(w=(q=H[ja]||(H[ja]={}))[b]||[])[0]===P&&w[1])&&w[2],v=m&&H.childNodes[m];v=++m&&v&&v[k]||(E=m=0)||z.pop();){if(1===v.nodeType&&++E&&v===c){q[b]=[P,m,E];break}}else if(x&&(E=m=(w=(c[ja]||(c[ja]={}))[b]||[])[0]===P&&w[1]),!1===E)for(;(v=++m&&v&&v[k]||(E=m=0)||z.pop())&&((r?!u(v,y):1!==v.nodeType)||!++E||(x&&((q=v[ja]||(v[ja]={}))[b]=
[P,E]),v!==c)););return(E-=l)===h||0==E%h&&0<=E/h}}},PSEUDO:function(b,k){var l,n=I.pseudos[b]||I.setFilters[b.toLowerCase()]||c.error("unsupported pseudo: "+b);return n[ja]?n(k):1<n.length?(l=[b,b,"",k],I.setFilters.hasOwnProperty(b.toLowerCase())?h(function(b,c){for(var h,l=n(b,k),p=l.length;p--;)b[h=xa.call(b,l[p])]=!(c[h]=l[p])}):function(b){return n(b,0,l)}):n}},pseudos:{not:h(function(b){var c=[],k=[],l=ga(b.replace(Ya,"$1"));return l[ja]?h(function(b,c,k,h){var n;k=l(b,null,h,[]);for(h=b.length;h--;)(n=
k[h])&&(b[h]=!(c[h]=n))}):function(b,h,n){return c[0]=b,l(c,null,n,k),c[0]=null,!k.pop()}}),has:h(function(b){return function(k){return 0<c(b,k).length}}),contains:h(function(b){return b=b.replace(Q,W),function(c){return-1<(c.textContent||A.text(c)).indexOf(b)}}),lang:h(function(b){return fa.test(b||"")||c.error("unsupported lang: "+b),b=b.replace(Q,W).toLowerCase(),function(c){var k;do if(k=T?c.lang:c.getAttribute("xml:lang")||c.getAttribute("lang"))return(k=k.toLowerCase())===b||0===k.indexOf(b+
"-");while((c=c.parentNode)&&1===c.nodeType);return!1}}),target:function(c){var k=b.location&&b.location.hash;return k&&k.slice(1)===c.id},root:function(b){return b===ua},focus:function(b){var c;a:{try{c=L.activeElement;break a}catch(k){}c=void 0}return b===c&&L.hasFocus()&&!!(b.type||b.href||~b.tabIndex)},enabled:r(!1),disabled:r(!0),checked:function(b){return u(b,"input")&&!!b.checked||u(b,"option")&&!!b.selected},selected:function(b){return b.parentNode&&b.parentNode.selectedIndex,!0===b.selected},
empty:function(b){for(b=b.firstChild;b;b=b.nextSibling)if(6>b.nodeType)return!1;return!0},parent:function(b){return!I.pseudos.empty(b)},header:function(b){return ea.test(b.nodeName)},input:function(b){return ka.test(b.nodeName)},button:function(b){return u(b,"input")&&"button"===b.type||u(b,"button")},text:function(b){var c;return u(b,"input")&&"text"===b.type&&(null==(c=b.getAttribute("type"))||"text"===c.toLowerCase())},first:q(function(){return[0]}),last:q(function(b,c){return[c-1]}),eq:q(function(b,
c,k){return[0>k?k+c:k]}),even:q(function(b,c){for(var k=0;k<c;k+=2)b.push(k);return b}),odd:q(function(b,c){for(var k=1;k<c;k+=2)b.push(k);return b}),lt:q(function(b,c,k){for(c=0>k?k+c:c<k?c:k;0<=--c;)b.push(c);return b}),gt:q(function(b,c,k){for(k=0>k?k+c:k;++k<c;)b.push(k);return b})}}).pseudos.nth=I.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})I.pseudos[C]=n(C);for(C in{submit:!0,reset:!0})I.pseudos[C]=p(C);m.prototype=I.filters=I.pseudos;I.setFilters=new m;Z.sortStable=ja.split("").sort(ha).join("")===
ja;v();Z.sortDetached=l(function(b){return 1&b.compareDocumentPosition(L.createElement("fieldset"))});A.find=c;A.expr[":"]=A.expr.pseudos;A.unique=A.uniqueSort;c.compile=ga;c.select=G;c.setDocument=v;c.tokenize=z;c.escape=A.escapeSelector;c.getText=A.text;c.isXML=A.isXMLDoc;c.selectors=A.expr;c.support=A.support;c.uniqueSort=A.uniqueSort}();var Ea=function(b,c,k){for(var h=[],l=void 0!==k;(b=b[c])&&9!==b.nodeType;)if(1===b.nodeType){if(l&&A(b).is(k))break;h.push(b)}return h},xb=function(b,c){for(var k=
[];b;b=b.nextSibling)1===b.nodeType&&b!==c&&k.push(b);return k},yb=A.expr.match.needsContext,zb=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;A.filter=function(b,c,k){var h=c[0];return k&&(b=":not("+b+")"),1===c.length&&1===h.nodeType?A.find.matchesSelector(h,b)?[h]:[]:A.find.matches(b,A.grep(c,function(b){return 1===b.nodeType}))};A.fn.extend({find:function(b){var c,k,h=this.length,l=this;if("string"!=typeof b)return this.pushStack(A(b).filter(function(){for(c=0;c<h;c++)if(A.contains(l[c],
this))return!0}));k=this.pushStack([]);for(c=0;c<h;c++)A.find(b,l[c],k);return 1<h?A.uniqueSort(k):k},filter:function(b){return this.pushStack(x(this,b||[],!1))},not:function(b){return this.pushStack(x(this,b||[],!0))},is:function(b){return!!x(this,"string"==typeof b&&yb.test(b)?A(b):b||[],!1).length}});var Ab,Vb=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(A.fn.init=function(b,c,k){var h,l;if(!b)return this;if(k=k||Ab,"string"==typeof b){if(!(h="\x3c"===b[0]&&"\x3e"===b[b.length-1]&&3<=b.length?[null,
b,null]:Vb.exec(b))||!h[1]&&c)return!c||c.jquery?(c||k).find(b):this.constructor(c).find(b);if(h[1]){if(c=c instanceof A?c[0]:c,A.merge(this,A.parseHTML(h[1],c&&c.nodeType?c.ownerDocument||c:da,!0)),zb.test(h[1])&&A.isPlainObject(c))for(h in c)ha(this[h])?this[h](c[h]):this.attr(h,c[h]);return this}return(l=da.getElementById(h[2]))&&(this[0]=l,this.length=1),this}return b.nodeType?(this[0]=b,this.length=1,this):ha(b)?void 0!==k.ready?k.ready(b):b(A):A.makeArray(b,this)}).prototype=A.fn;Ab=A(da);var mb=
/^(?:parents|prev(?:Until|All))/,Wb={children:!0,contents:!0,next:!0,prev:!0};A.fn.extend({has:function(b){var c=A(b,this),k=c.length;return this.filter(function(){for(var b=0;b<k;b++)if(A.contains(this,c[b]))return!0})},closest:function(b,c){var k,h=0,l=this.length,n=[],p="string"!=typeof b&&A(b);if(!yb.test(b))for(;h<l;h++)for(k=this[h];k&&k!==c;k=k.parentNode)if(11>k.nodeType&&(p?-1<p.index(k):1===k.nodeType&&A.find.matchesSelector(k,b))){n.push(k);break}return this.pushStack(1<n.length?A.uniqueSort(n):
n)},index:function(b){return b?"string"==typeof b?xa.call(A(b),this[0]):xa.call(this,b.jquery?b[0]:b):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(b,c){return this.pushStack(A.uniqueSort(A.merge(this.get(),A(b,c))))},addBack:function(b){return this.add(null==b?this.prevObject:this.prevObject.filter(b))}});A.each({parent:function(b){return(b=b.parentNode)&&11!==b.nodeType?b:null},parents:function(b){return Ea(b,"parentNode")},parentsUntil:function(b,c,k){return Ea(b,"parentNode",
k)},next:function(b){return k(b,"nextSibling")},prev:function(b){return k(b,"previousSibling")},nextAll:function(b){return Ea(b,"nextSibling")},prevAll:function(b){return Ea(b,"previousSibling")},nextUntil:function(b,c,k){return Ea(b,"nextSibling",k)},prevUntil:function(b,c,k){return Ea(b,"previousSibling",k)},siblings:function(b){return xb((b.parentNode||{}).firstChild,b)},children:function(b){return xb(b.firstChild)},contents:function(b){return null!=b.contentDocument&&ga(b.contentDocument)?b.contentDocument:
(u(b,"template")&&(b=b.content||b),A.merge([],b.childNodes))}},function(b,c){A.fn[b]=function(k,h){var l=A.map(this,c,k);return"Until"!==b.slice(-5)&&(h=k),h&&"string"==typeof h&&(l=A.filter(h,l)),1<this.length&&(Wb[b]||A.uniqueSort(l),mb.test(b)&&l.reverse()),this.pushStack(l)}});var La=/[^\x20\t\r\n\f]+/g;A.Callbacks=function(b){var c,k;b="string"==typeof b?(c=b,k={},A.each(c.match(La)||[],function(b,c){k[c]=!0}),k):A.extend({},b);var h,n,p,r,q=[],w=[],v=-1,m=function(){r=r||b.once;for(p=h=!0;w.length;v=
-1)for(n=w.shift();++v<q.length;)!1===q[v].apply(n[0],n[1])&&b.stopOnFalse&&(v=q.length,n=!1);b.memory||(n=!1);h=!1;r&&(q=n?[]:"")},z={add:function(){return q&&(n&&!h&&(v=q.length-1,w.push(n)),function Qb(c){A.each(c,function(c,k){ha(k)?b.unique&&z.has(k)||q.push(k):k&&k.length&&"string"!==l(k)&&Qb(k)})}(arguments),n&&!h&&m()),this},remove:function(){return A.each(arguments,function(b,c){for(var k;-1<(k=A.inArray(c,q,k));)q.splice(k,1),k<=v&&v--}),this},has:function(b){return b?-1<A.inArray(b,q):
0<q.length},empty:function(){return q&&(q=[]),this},disable:function(){return r=w=[],q=n="",this},disabled:function(){return!q},lock:function(){return r=w=[],n||h||(q=n=""),this},locked:function(){return!!r},fireWith:function(b,c){return r||(c=[b,(c=c||[]).slice?c.slice():c],w.push(c),h||m()),this},fire:function(){return z.fireWith(this,arguments),this},fired:function(){return!!p}};return z};A.extend({Deferred:function(c){var k=[["notify","progress",A.Callbacks("memory"),A.Callbacks("memory"),2],
["resolve","done",A.Callbacks("once memory"),A.Callbacks("once memory"),0,"resolved"],["reject","fail",A.Callbacks("once memory"),A.Callbacks("once memory"),1,"rejected"]],h="pending",l={state:function(){return h},always:function(){return n.done(arguments).fail(arguments),this},"catch":function(b){return l.then(null,b)},pipe:function(){var b=arguments;return A.Deferred(function(c){A.each(k,function(k,h){var l=ha(b[h[4]])&&b[h[4]];n[h[1]](function(){var b=l&&l.apply(this,arguments);b&&ha(b.promise)?
b.promise().progress(c.notify).done(c.resolve).fail(c.reject):c[h[0]+"With"](this,l?[b]:arguments)})});b=null}).promise()},then:function(c,h,l){function n(c,k,h,l){return function(){var w=this,v=arguments,m=function(){var b,m;if(!(c<q)){if((b=h.apply(w,v))===k.promise())throw new TypeError("Thenable self-resolution");m=b&&("object"==typeof b||"function"==typeof b)&&b.then;ha(m)?l?m.call(b,n(q,k,p,l),n(q,k,r,l)):(q++,m.call(b,n(q,k,p,l),n(q,k,r,l),n(q,k,p,k.notifyWith))):(h!==p&&(w=void 0,v=[b]),(l||
k.resolveWith)(w,v))}},z=l?m:function(){try{m()}catch(b){A.Deferred.exceptionHook&&A.Deferred.exceptionHook(b,z.error),q<=c+1&&(h!==r&&(w=void 0,v=[b]),k.rejectWith(w,v))}};c?z():(A.Deferred.getErrorHook?z.error=A.Deferred.getErrorHook():A.Deferred.getStackHook&&(z.error=A.Deferred.getStackHook()),b.setTimeout(z))}}var q=0;return A.Deferred(function(b){k[0][3].add(n(0,b,ha(l)?l:p,b.notifyWith));k[1][3].add(n(0,b,ha(c)?c:p));k[2][3].add(n(0,b,ha(h)?h:r))}).promise()},promise:function(b){return null!=
b?A.extend(b,l):l}},n={};return A.each(k,function(b,c){var p=c[2],r=c[5];l[c[1]]=p.add;r&&p.add(function(){h=r},k[3-b][2].disable,k[3-b][3].disable,k[0][2].lock,k[0][3].lock);p.add(c[3].fire);n[c[0]]=function(){return n[c[0]+"With"](this===n?void 0:this,arguments),this};n[c[0]+"With"]=p.fireWith}),l.promise(n),c&&c.call(n,n),n},when:function(b){var c=arguments.length,k=c,h=Array(k),l=sa.call(arguments),n=A.Deferred(),p=function(b){return function(k){h[b]=this;l[b]=1<arguments.length?sa.call(arguments):
k;--c||n.resolveWith(h,l)}};if(1>=c&&(w(b,n.done(p(k)).resolve,n.reject,!c),"pending"===n.state()||ha(l[k]&&l[k].then)))return n.then();for(;k--;)w(l[k],p(k),n.reject);return n.promise()}});var Ra=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;A.Deferred.exceptionHook=function(c,k){b.console&&b.console.warn&&c&&Ra.test(c.name)&&b.console.warn("jQuery.Deferred exception: "+c.message,c.stack,k)};A.readyException=function(c){b.setTimeout(function(){throw c;})};var Ha=A.Deferred();A.fn.ready=
function(b){return Ha.then(b)["catch"](function(b){A.readyException(b)}),this};A.extend({isReady:!1,readyWait:1,ready:function(b){(!0===b?--A.readyWait:A.isReady)||(A.isReady=!0)!==b&&0<--A.readyWait||Ha.resolveWith(da,[A])}});A.ready.then=Ha.then;"complete"===da.readyState||"loading"!==da.readyState&&!da.documentElement.doScroll?b.setTimeout(A.ready):(da.addEventListener("DOMContentLoaded",v),b.addEventListener("load",v));var Ba=function(b,c,k,h,n,p,r){var q=0,w=b.length,v=null==k;if("object"===
l(k))for(q in n=!0,k)Ba(b,c,q,k[q],!0,p,r);else if(void 0!==h&&(n=!0,ha(h)||(r=!0),v&&(r?(c.call(b,h),c=null):(v=c,c=function(b,c,k){return v.call(A(b),k)})),c))for(;q<w;q++)c(b[q],k,r?h:h.call(b[q],q,c(b[q],k)));return n?b:v?c.call(b):w?c(b[0],k):p},Na=/^-ms-/,cb=/-([a-z])/g,ta=function(b){return 1===b.nodeType||9===b.nodeType||!+b.nodeType};E.uid=1;E.prototype={cache:function(b){var c=b[this.expando];return c||(c={},ta(b)&&(b.nodeType?b[this.expando]=c:Object.defineProperty(b,this.expando,{value:c,
configurable:!0}))),c},set:function(b,c,k){var h;b=this.cache(b);if("string"==typeof c)b[n(c)]=k;else for(h in c)b[n(h)]=c[h];return b},get:function(b,c){return void 0===c?this.cache(b):b[this.expando]&&b[this.expando][n(c)]},access:function(b,c,k){return void 0===c||c&&"string"==typeof c&&void 0===k?this.get(b,c):(this.set(b,c,k),void 0!==k?k:c)},remove:function(b,c){var k,h=b[this.expando];if(void 0!==h){if(void 0!==c)for(k=(c=Array.isArray(c)?c.map(n):(c=n(c))in h?[c]:c.match(La)||[]).length;k--;)delete h[c[k]];
(void 0===c||A.isEmptyObject(h))&&(b.nodeType?b[this.expando]=void 0:delete b[this.expando])}},hasData:function(b){b=b[this.expando];return void 0!==b&&!A.isEmptyObject(b)}};var O=new E,qa=new E,pa=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ya=/[A-Z]/g;A.extend({hasData:function(b){return qa.hasData(b)||O.hasData(b)},data:function(b,c,k){return qa.access(b,c,k)},removeData:function(b,c){qa.remove(b,c)},_data:function(b,c,k){return O.access(b,c,k)},_removeData:function(b,c){O.remove(b,c)}});A.fn.extend({data:function(b,
c){var k,h,l,p=this[0],r=p&&p.attributes;if(void 0===b){if(this.length&&(l=qa.get(p),1===p.nodeType&&!O.get(p,"hasDataAttrs"))){for(k=r.length;k--;)r[k]&&0===(h=r[k].name).indexOf("data-")&&(h=n(h.slice(5)),D(p,h,l[h]));O.set(p,"hasDataAttrs",!0)}return l}return"object"==typeof b?this.each(function(){qa.set(this,b)}):Ba(this,function(c){var k;if(p&&void 0===c)return void 0!==(k=qa.get(p,b))?k:void 0!==(k=D(p,b))?k:void 0;this.each(function(){qa.set(this,b,c)})},null,c,1<arguments.length,null,!0)},
removeData:function(b){return this.each(function(){qa.remove(this,b)})}});A.extend({queue:function(b,c,k){var h;if(b)return c=(c||"fx")+"queue",h=O.get(b,c),k&&(!h||Array.isArray(k)?h=O.access(b,c,A.makeArray(k)):h.push(k)),h||[]},dequeue:function(b,c){c=c||"fx";var k=A.queue(b,c),h=k.length,l=k.shift(),n=A._queueHooks(b,c);"inprogress"===l&&(l=k.shift(),h--);l&&("fx"===c&&k.unshift("inprogress"),delete n.stop,l.call(b,function(){A.dequeue(b,c)},n));!h&&n&&n.empty.fire()},_queueHooks:function(b,c){var k=
c+"queueHooks";return O.get(b,k)||O.access(b,k,{empty:A.Callbacks("once memory").add(function(){O.remove(b,[c+"queue",k])})})}});A.fn.extend({queue:function(b,c){var k=2;return"string"!=typeof b&&(c=b,b="fx",k--),arguments.length<k?A.queue(this[0],b):void 0===c?this:this.each(function(){var k=A.queue(this,b,c);A._queueHooks(this,b);"fx"===b&&"inprogress"!==k[0]&&A.dequeue(this,b)})},dequeue:function(b){return this.each(function(){A.dequeue(this,b)})},clearQueue:function(b){return this.queue(b||"fx",
[])},promise:function(b,c){var k,h=1,l=A.Deferred(),n=this,p=this.length,r=function(){--h||l.resolveWith(n,[n])};"string"!=typeof b&&(c=b,b=void 0);for(b=b||"fx";p--;)(k=O.get(n[p],b+"queueHooks"))&&k.empty&&(h++,k.empty.add(r));return r(),l.promise(c)}});var Wa=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ca=new RegExp("^(?:([+-])\x3d|)("+Wa+")([a-z%]*)$","i"),za=["Top","Right","Bottom","Left"],Ia=da.documentElement,Ja=function(b){return A.contains(b.ownerDocument,b)},nb={composed:!0};Ia.getRootNode&&
(Ja=function(b){return A.contains(b.ownerDocument,b)||b.getRootNode(nb)===b.ownerDocument});var Oa=function(b,c){return"none"===(b=c||b).style.display||""===b.style.display&&Ja(b)&&"none"===A.css(b,"display")},db={};A.fn.extend({show:function(){return B(this,!0)},hide:function(){return B(this)},toggle:function(b){return"boolean"==typeof b?b?this.show():this.hide():this.each(function(){Oa(this)?A(this).show():A(this).hide()})}});var Sa,gb,Za=/^(?:checkbox|radio)$/i,rb=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,
sb=/^$|^module$|\/(?:java|ecma)script/i;Sa=da.createDocumentFragment().appendChild(da.createElement("div"));(gb=da.createElement("input")).setAttribute("type","radio");gb.setAttribute("checked","checked");gb.setAttribute("name","t");Sa.appendChild(gb);Z.checkClone=Sa.cloneNode(!0).cloneNode(!0).lastChild.checked;Sa.innerHTML="\x3ctextarea\x3ex\x3c/textarea\x3e";Z.noCloneChecked=!!Sa.cloneNode(!0).lastChild.defaultValue;Sa.innerHTML="\x3coption\x3e\x3c/option\x3e";Z.option=!!Sa.lastChild;var Ga={thead:[1,
"\x3ctable\x3e","\x3c/table\x3e"],col:[2,"\x3ctable\x3e\x3ccolgroup\x3e","\x3c/colgroup\x3e\x3c/table\x3e"],tr:[2,"\x3ctable\x3e\x3ctbody\x3e","\x3c/tbody\x3e\x3c/table\x3e"],td:[3,"\x3ctable\x3e\x3ctbody\x3e\x3ctr\x3e","\x3c/tr\x3e\x3c/tbody\x3e\x3c/table\x3e"],_default:[0,"",""]};Ga.tbody=Ga.tfoot=Ga.colgroup=Ga.caption=Ga.thead;Ga.th=Ga.td;Z.option||(Ga.optgroup=Ga.option=[1,"\x3cselect multiple\x3d'multiple'\x3e","\x3c/select\x3e"]);var Ob=/<|&#?\w+;/,Bb=/^([^.]*)(?:\.(.+)|)/;A.event={global:{},
add:function(b,c,k,h,l){var n,p,r,q,w,v,m,z,H,y;w=O.get(b);if(ta(b))for(k.handler&&(k=(n=k).handler,l=n.selector),l&&A.find.matchesSelector(Ia,l),k.guid||(k.guid=A.guid++),(q=w.events)||(q=w.events=Object.create(null)),(p=w.handle)||(p=w.handle=function(c){return"undefined"!=typeof A&&A.event.triggered!==c.type?A.event.dispatch.apply(b,arguments):void 0}),w=(c=(c||"").match(La)||[""]).length;w--;)H=y=(r=Bb.exec(c[w])||[])[1],r=(r[2]||"").split(".").sort(),H&&(m=A.event.special[H]||{},H=(l?m.delegateType:
m.bindType)||H,m=A.event.special[H]||{},v=A.extend({type:H,origType:y,data:h,handler:k,guid:k.guid,selector:l,needsContext:l&&A.expr.match.needsContext.test(l),namespace:r.join(".")},n),(z=q[H])||((z=q[H]=[]).delegateCount=0,m.setup&&!1!==m.setup.call(b,h,r,p)||b.addEventListener&&b.addEventListener(H,p)),m.add&&(m.add.call(b,v),v.handler.guid||(v.handler.guid=k.guid)),l?z.splice(z.delegateCount++,0,v):z.push(v),A.event.global[H]=!0)},remove:function(b,c,k,h,l){var n,p,r,q,w,v,m,z,H,y,u,x=O.hasData(b)&&
O.get(b);if(x&&(q=x.events)){for(w=(c=(c||"").match(La)||[""]).length;w--;)if(H=u=(r=Bb.exec(c[w])||[])[1],y=(r[2]||"").split(".").sort(),H){m=A.event.special[H]||{};z=q[H=(h?m.delegateType:m.bindType)||H]||[];r=r[2]&&new RegExp("(^|\\.)"+y.join("\\.(?:.*\\.|)")+"(\\.|$)");for(p=n=z.length;n--;)v=z[n],!l&&u!==v.origType||k&&k.guid!==v.guid||r&&!r.test(v.namespace)||h&&h!==v.selector&&("**"!==h||!v.selector)||(z.splice(n,1),v.selector&&z.delegateCount--,m.remove&&m.remove.call(b,v));p&&!z.length&&
(m.teardown&&!1!==m.teardown.call(b,y,x.handle)||A.removeEvent(b,H,x.handle),delete q[H])}else for(H in q)A.event.remove(b,H+c[w],k,h,!0);A.isEmptyObject(q)&&O.remove(b,"handle events")}},dispatch:function(b){var c,k,h,l,n,p,r=Array(arguments.length),q=A.event.fix(b);k=(O.get(this,"events")||Object.create(null))[q.type]||[];var w=A.event.special[q.type]||{};r[0]=q;for(c=1;c<arguments.length;c++)r[c]=arguments[c];if(q.delegateTarget=this,!w.preDispatch||!1!==w.preDispatch.call(this,q)){p=A.event.handlers.call(this,
q,k);for(c=0;(l=p[c++])&&!q.isPropagationStopped();)for(q.currentTarget=l.elem,k=0;(n=l.handlers[k++])&&!q.isImmediatePropagationStopped();)q.rnamespace&&!1!==n.namespace&&!q.rnamespace.test(n.namespace)||(q.handleObj=n,q.data=n.data,void 0!==(h=((A.event.special[n.origType]||{}).handle||n.handler).apply(l.elem,r))&&!1===(q.result=h)&&(q.preventDefault(),q.stopPropagation()));return w.postDispatch&&w.postDispatch.call(this,q),q.result}},handlers:function(b,c){var k,h,l,n,p,r=[],q=c.delegateCount,
w=b.target;if(q&&w.nodeType&&!("click"===b.type&&1<=b.button))for(;w!==this;w=w.parentNode||this)if(1===w.nodeType&&("click"!==b.type||!0!==w.disabled)){n=[];p={};for(k=0;k<q;k++)void 0===p[l=(h=c[k]).selector+" "]&&(p[l]=h.needsContext?-1<A(l,this).index(w):A.find(l,this,null,[w]).length),p[l]&&n.push(h);n.length&&r.push({elem:w,handlers:n})}return w=this,q<c.length&&r.push({elem:w,handlers:c.slice(q)}),r},addProp:function(b,c){Object.defineProperty(A.Event.prototype,b,{enumerable:!0,configurable:!0,
get:ha(c)?function(){if(this.originalEvent)return c(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[b]},set:function(c){Object.defineProperty(this,b,{enumerable:!0,configurable:!0,writable:!0,value:c})}})},fix:function(b){return b[A.expando]?b:new A.Event(b)},special:{load:{noBubble:!0},click:{setup:function(b){b=this||b;return Za.test(b.type)&&b.click&&u(b,"input")&&L(b,"click",!0),!1},trigger:function(b){b=this||b;return Za.test(b.type)&&b.click&&u(b,"input")&&L(b,
"click"),!0},_default:function(b){b=b.target;return Za.test(b.type)&&b.click&&u(b,"input")&&O.get(b,"click")||u(b,"a")}},beforeunload:{postDispatch:function(b){void 0!==b.result&&b.originalEvent&&(b.originalEvent.returnValue=b.result)}}}};A.removeEvent=function(b,c,k){b.removeEventListener&&b.removeEventListener(c,k)};A.Event=function(b,c){if(!(this instanceof A.Event))return new A.Event(b,c);b&&b.type?(this.originalEvent=b,this.type=b.type,this.isDefaultPrevented=b.defaultPrevented||void 0===b.defaultPrevented&&
!1===b.returnValue?J:G,this.target=b.target&&3===b.target.nodeType?b.target.parentNode:b.target,this.currentTarget=b.currentTarget,this.relatedTarget=b.relatedTarget):this.type=b;c&&A.extend(this,c);this.timeStamp=b&&b.timeStamp||Date.now();this[A.expando]=!0};A.Event.prototype={constructor:A.Event,isDefaultPrevented:G,isPropagationStopped:G,isImmediatePropagationStopped:G,isSimulated:!1,preventDefault:function(){var b=this.originalEvent;this.isDefaultPrevented=J;b&&!this.isSimulated&&b.preventDefault()},
stopPropagation:function(){var b=this.originalEvent;this.isPropagationStopped=J;b&&!this.isSimulated&&b.stopPropagation()},stopImmediatePropagation:function(){var b=this.originalEvent;this.isImmediatePropagationStopped=J;b&&!this.isSimulated&&b.stopImmediatePropagation();this.stopPropagation()}};A.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,
clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},A.event.addProp);A.each({focus:"focusin",blur:"focusout"},function(b,c){function k(b){if(da.documentMode){var h=O.get(this,"handle"),l=A.event.fix(b);l.type="focusin"===b.type?"focus":"blur";l.isSimulated=!0;h(b);l.target===l.currentTarget&&h(l)}else A.event.simulate(c,b.target,A.event.fix(b))}A.event.special[b]={setup:function(){var h;if(L(this,b,!0),!da.documentMode)return!1;
(h=O.get(this,c))||this.addEventListener(c,k);O.set(this,c,(h||0)+1)},trigger:function(){return L(this,b),!0},teardown:function(){var b;if(!da.documentMode)return!1;(b=O.get(this,c)-1)?O.set(this,c,b):(this.removeEventListener(c,k),O.remove(this,c))},_default:function(c){return O.get(c.target,b)},delegateType:c};A.event.special[c]={setup:function(){var h=this.ownerDocument||this.document||this,l=da.documentMode?this:h,n=O.get(l,c);n||(da.documentMode?this.addEventListener(c,k):h.addEventListener(b,
k,!0));O.set(l,c,(n||0)+1)},teardown:function(){var h=this.ownerDocument||this.document||this,l=da.documentMode?this:h,n=O.get(l,c)-1;n?O.set(l,c,n):(da.documentMode?this.removeEventListener(c,k):h.removeEventListener(b,k,!0),O.remove(l,c))}}});A.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(b,c){A.event.special[b]={delegateType:c,bindType:c,handle:function(b){var k,h=b.relatedTarget,l=b.handleObj;return h&&(h===this||A.contains(this,
h))||(b.type=l.origType,k=l.handler.apply(this,arguments),b.type=c),k}}});A.fn.extend({on:function(b,c,k,h){return K(this,b,c,k,h)},one:function(b,c,k,h){return K(this,b,c,k,h,1)},off:function(b,c,k){var h,l;if(b&&b.preventDefault&&b.handleObj)return h=b.handleObj,A(b.delegateTarget).off(h.namespace?h.origType+"."+h.namespace:h.origType,h.selector,h.handler),this;if("object"==typeof b){for(l in b)this.off(l,c,b[l]);return this}return!1!==c&&"function"!=typeof c||(k=c,c=void 0),!1===k&&(k=G),this.each(function(){A.event.remove(this,
b,k,c)})}});var Xb=/<script|<style|<link/i,Pb=/checked\s*(?:[^=]|=\s*.checked.)/i,Rb=/^\s*<!\[CDATA\[|\]\]>\s*$/g;A.extend({htmlPrefilter:function(b){return b},clone:function(b,c,k){var h,l,n,p,r,q,w,v=b.cloneNode(!0),m=Ja(b);if(!(Z.noCloneChecked||1!==b.nodeType&&11!==b.nodeType||A.isXMLDoc(b)))for(p=F(v),h=0,l=(n=F(b)).length;h<l;h++)r=n[h],q=p[h],void 0,"input"===(w=q.nodeName.toLowerCase())&&Za.test(r.type)?q.checked=r.checked:"input"!==w&&"textarea"!==w||(q.defaultValue=r.defaultValue);if(c)if(k)for(n=
n||F(b),p=p||F(v),h=0,l=n.length;h<l;h++)fa(n[h],p[h]);else fa(b,v);return 0<(p=F(v,"script")).length&&C(p,!m&&F(b,"script")),v},cleanData:function(b){for(var c,k,h,l=A.event.special,n=0;void 0!==(k=b[n]);n++)if(ta(k)){if(c=k[O.expando]){if(c.events)for(h in c.events)l[h]?A.event.remove(k,h):A.removeEvent(k,h,c.handle);k[O.expando]=void 0}k[qa.expando]&&(k[qa.expando]=void 0)}}});A.fn.extend({detach:function(b){return V(this,b,!0)},remove:function(b){return V(this,b)},text:function(b){return Ba(this,
function(b){return void 0===b?A.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=b)})},null,b,arguments.length)},append:function(){return W(this,arguments,function(b){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||P(this,b).appendChild(b)})},prepend:function(){return W(this,arguments,function(b){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var c=P(this,b);c.insertBefore(b,c.firstChild)}})},before:function(){return W(this,
arguments,function(b){this.parentNode&&this.parentNode.insertBefore(b,this)})},after:function(){return W(this,arguments,function(b){this.parentNode&&this.parentNode.insertBefore(b,this.nextSibling)})},empty:function(){for(var b,c=0;null!=(b=this[c]);c++)1===b.nodeType&&(A.cleanData(F(b,!1)),b.textContent="");return this},clone:function(b,c){return b=null!=b&&b,c=null==c?b:c,this.map(function(){return A.clone(this,b,c)})},html:function(b){return Ba(this,function(b){var c=this[0]||{},k=0,h=this.length;
if(void 0===b&&1===c.nodeType)return c.innerHTML;if("string"==typeof b&&!Xb.test(b)&&!Ga[(rb.exec(b)||["",""])[1].toLowerCase()]){b=A.htmlPrefilter(b);try{for(;k<h;k++)1===(c=this[k]||{}).nodeType&&(A.cleanData(F(c,!1)),c.innerHTML=b);c=0}catch(l){}}c&&this.empty().append(b)},null,b,arguments.length)},replaceWith:function(){var b=[];return W(this,arguments,function(c){var k=this.parentNode;0>A.inArray(this,b)&&(A.cleanData(F(this)),k&&k.replaceChild(c,this))},b)}});A.each({appendTo:"append",prependTo:"prepend",
insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(b,c){A.fn[b]=function(b){for(var k=[],h=A(b),l=h.length-1,n=0;n<=l;n++)b=n===l?this:this.clone(!0),A(h[n])[c](b),Ma.apply(k,b.get());return this.pushStack(k)}});var ib=new RegExp("^("+Wa+")(?!px)[a-z%]+$","i"),hb=/^--/,eb=function(c){var k=c.ownerDocument.defaultView;return k&&k.opener||(k=b),k.getComputedStyle(c)},Cb=function(b,c,k){var h,l={};for(h in c)l[h]=b.style[h],b.style[h]=c[h];for(h in k=k.call(b),c)b.style[h]=
l[h];return k},Sb=new RegExp(za.join("|"),"i");!function(){function c(){if(w){q.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0";w.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%";Ia.appendChild(q).appendChild(w);var p=b.getComputedStyle(w);k="1%"!==p.top;r=12===Math.round(parseFloat(p.marginLeft));w.style.right="60%";n=36===Math.round(parseFloat(p.right));h=36===Math.round(parseFloat(p.width));
w.style.position="absolute";l=12===Math.round(parseFloat(w.offsetWidth/3));Ia.removeChild(q);w=null}}var k,h,l,n,p,r,q=da.createElement("div"),w=da.createElement("div");w.style&&(w.style.backgroundClip="content-box",w.cloneNode(!0).style.backgroundClip="",Z.clearCloneStyle="content-box"===w.style.backgroundClip,A.extend(Z,{boxSizingReliable:function(){return c(),h},pixelBoxStyles:function(){return c(),n},pixelPosition:function(){return c(),k},reliableMarginLeft:function(){return c(),r},scrollboxSize:function(){return c(),
l},reliableTrDimensions:function(){var c,k,h,l;return null==p&&(c=da.createElement("table"),k=da.createElement("tr"),h=da.createElement("div"),c.style.cssText="position:absolute;left:-11111px;border-collapse:separate",k.style.cssText="box-sizing:content-box;border:1px solid",k.style.height="1px",h.style.height="9px",h.style.display="block",Ia.appendChild(c).appendChild(k).appendChild(h),l=b.getComputedStyle(k),p=parseInt(l.height,10)+parseInt(l.borderTopWidth,10)+parseInt(l.borderBottomWidth,10)===
k.offsetHeight,Ia.removeChild(c)),p}}))}();var vb=["Webkit","Moz","ms"],ub=da.createElement("div").style,tb={},Yb=/^(none|table(?!-c[ea]).+)/,Zb={position:"absolute",visibility:"hidden",display:"block"},Db={letterSpacing:"0",fontWeight:"400"};A.extend({cssHooks:{opacity:{get:function(b,c){if(c)return b=ba(b,"opacity"),""===b?"1":b}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,
gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(b,c,k,h){if(b&&3!==b.nodeType&&8!==b.nodeType&&b.style){var l,p,q,r=n(c),w=hb.test(c),v=b.style;if(w||(c=Q(r)),q=A.cssHooks[c]||A.cssHooks[r],void 0===k)return q&&"get"in q&&void 0!==(l=q.get(b,!1,h))?l:v[c];"string"===(p=typeof k)&&(l=Ca.exec(k))&&
l[1]&&(k=y(b,c,l),p="number");null!=k&&k==k&&("number"!==p||w||(k+=l&&l[3]||(A.cssNumber[r]?"":"px")),Z.clearCloneStyle||""!==k||0!==c.indexOf("background")||(v[c]="inherit"),q&&"set"in q&&void 0===(k=q.set(b,k,h))||(w?v.setProperty(c,k):v[c]=k))}},css:function(b,c,k,h){var l,p,q,r=n(c);return hb.test(c)||(c=Q(r)),(q=A.cssHooks[c]||A.cssHooks[r])&&"get"in q&&(l=q.get(b,!0,k)),void 0===l&&(l=ba(b,c,h)),"normal"===l&&c in Db&&(l=Db[c]),""===k||k?(p=parseFloat(l),!0===k||isFinite(p)?p||0:l):l}});A.each(["height",
"width"],function(b,c){A.cssHooks[c]={get:function(b,k,h){if(k)return!Yb.test(A.css(b,"display"))||b.getClientRects().length&&b.getBoundingClientRect().width?ka(b,c,h):Cb(b,Zb,function(){return ka(b,c,h)})},set:function(b,k,h){var l,n=eb(b),p=!Z.scrollboxSize()&&"absolute"===n.position,q=(p||h)&&"border-box"===A.css(b,"boxSizing",!1,n);h=h?Y(b,c,h,q,n):0;return q&&p&&(h-=Math.ceil(b["offset"+c[0].toUpperCase()+c.slice(1)]-parseFloat(n[c])-Y(b,c,"border",!1,n)-.5)),h&&(l=Ca.exec(k))&&"px"!==(l[3]||
"px")&&(b.style[c]=k,k=A.css(b,c)),N(0,k,h)}}});A.cssHooks.marginLeft=S(Z.reliableMarginLeft,function(b,c){if(c)return(parseFloat(ba(b,"marginLeft"))||b.getBoundingClientRect().left-Cb(b,{marginLeft:0},function(){return b.getBoundingClientRect().left}))+"px"});A.each({margin:"",padding:"",border:"Width"},function(b,c){A.cssHooks[b+c]={expand:function(k){var h=0,l={};for(k="string"==typeof k?k.split(" "):[k];4>h;h++)l[b+za[h]+c]=k[h]||k[h-2]||k[0];return l}};"margin"!==b&&(A.cssHooks[b+c].set=N)});
A.fn.extend({css:function(b,c){return Ba(this,function(b,c,k){var h,l={},n=0;if(Array.isArray(c)){k=eb(b);for(h=c.length;n<h;n++)l[c[n]]=A.css(b,c[n],!1,k);return l}return void 0!==k?A.style(b,c,k):A.css(b,c)},b,c,1<arguments.length)}});((A.Tween=X).prototype={constructor:X,init:function(b,c,k,h,l,n){this.elem=b;this.prop=k;this.easing=l||A.easing._default;this.options=c;this.start=this.now=this.cur();this.end=h;this.unit=n||(A.cssNumber[k]?"":"px")},cur:function(){var b=X.propHooks[this.prop];return b&&
b.get?b.get(this):X.propHooks._default.get(this)},run:function(b){var c,k=X.propHooks[this.prop];return this.options.duration?this.pos=c=A.easing[this.easing](b,this.options.duration*b,0,1,this.options.duration):this.pos=c=b,this.now=(this.end-this.start)*c+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),k&&k.set?k.set(this):X.propHooks._default.set(this),this}}).init.prototype=X.prototype;(X.propHooks={_default:{get:function(b){var c;return 1!==b.elem.nodeType||null!=
b.elem[b.prop]&&null==b.elem.style[b.prop]?b.elem[b.prop]:(c=A.css(b.elem,b.prop,""))&&"auto"!==c?c:0},set:function(b){A.fx.step[b.prop]?A.fx.step[b.prop](b):1!==b.elem.nodeType||!A.cssHooks[b.prop]&&null==b.elem.style[Q(b.prop)]?b.elem[b.prop]=b.now:A.style(b.elem,b.prop,b.now+b.unit)}}}).scrollTop=X.propHooks.scrollLeft={set:function(b){b.elem.nodeType&&b.elem.parentNode&&(b.elem[b.prop]=b.now)}};A.easing={linear:function(b){return b},swing:function(b){return.5-Math.cos(b*Math.PI)/2},_default:"swing"};
A.fx=X.prototype.init;A.fx.step={};var Ta,fb,Xa,Eb,$b=/^(?:toggle|show|hide)$/,ac=/queueHooks$/;A.Animation=A.extend(ea,{tweeners:{"*":[function(b,c){var k=this.createTween(b,c);return y(k.elem,b,Ca.exec(c),k),k}]},tweener:function(b,c){ha(b)?(c=b,b=["*"]):b=b.match(La);for(var k,h=0,l=b.length;h<l;h++)k=b[h],ea.tweeners[k]=ea.tweeners[k]||[],ea.tweeners[k].unshift(c)},prefilters:[function(b,c,k){var h,l,n,p,q,r,w,v="width"in c||"height"in c,m=this,z={},H=b.style,y=b.nodeType&&Oa(b),u=O.get(b,"fxshow");
for(h in k.queue||(null==(p=A._queueHooks(b,"fx")).unqueued&&(p.unqueued=0,q=p.empty.fire,p.empty.fire=function(){p.unqueued||q()}),p.unqueued++,m.always(function(){m.always(function(){p.unqueued--;A.queue(b,"fx").length||p.empty.fire()})})),c)if(l=c[h],$b.test(l)){if(delete c[h],n=n||"toggle"===l,l===(y?"hide":"show")){if("show"!==l||!u||void 0===u[h])continue;y=!0}z[h]=u&&u[h]||A.style(b,h)}if((c=!A.isEmptyObject(c))||!A.isEmptyObject(z))for(h in v&&1===b.nodeType&&(k.overflow=[H.overflow,H.overflowX,
H.overflowY],null==(r=u&&u.display)&&(r=O.get(b,"display")),"none"===(w=A.css(b,"display"))&&(r?w=r:(B([b],!0),r=b.style.display||r,w=A.css(b,"display"),B([b]))),("inline"===w||"inline-block"===w&&null!=r)&&"none"===A.css(b,"float")&&(c||(m.done(function(){H.display=r}),null==r&&(w=H.display,r="none"===w?"":w)),H.display="inline-block")),k.overflow&&(H.overflow="hidden",m.always(function(){H.overflow=k.overflow[0];H.overflowX=k.overflow[1];H.overflowY=k.overflow[2]})),c=!1,z)c||(u?"hidden"in u&&(y=
u.hidden):u=O.access(b,"fxshow",{display:r}),n&&(u.hidden=!y),y&&B([b],!0),m.done(function(){for(h in y||B([b]),O.remove(b,"fxshow"),z)A.style(b,h,z[h])})),c=la(y?u[h]:0,h,m),h in u||(u[h]=c.start,y&&(c.end=c.start,c.start=0))}],prefilter:function(b,c){c?ea.prefilters.unshift(b):ea.prefilters.push(b)}});A.speed=function(b,c,k){var h=b&&"object"==typeof b?A.extend({},b):{complete:k||!k&&c||ha(b)&&b,duration:b,easing:k&&c||c&&!ha(c)&&c};return A.fx.off?h.duration=0:"number"!=typeof h.duration&&(h.duration in
A.fx.speeds?h.duration=A.fx.speeds[h.duration]:h.duration=A.fx.speeds._default),null!=h.queue&&!0!==h.queue||(h.queue="fx"),h.old=h.complete,h.complete=function(){ha(h.old)&&h.old.call(this);h.queue&&A.dequeue(this,h.queue)},h};A.fn.extend({fadeTo:function(b,c,k,h){return this.filter(Oa).css("opacity",0).show().end().animate({opacity:c},b,k,h)},animate:function(b,c,k,h){var l=A.isEmptyObject(b),n=A.speed(c,k,h);c=function(){var c=ea(this,A.extend({},b),n);(l||O.get(this,"finish"))&&c.stop(!0)};return c.finish=
c,l||!1===n.queue?this.each(c):this.queue(n.queue,c)},stop:function(b,c,k){var h=function(b){var c=b.stop;delete b.stop;c(k)};return"string"!=typeof b&&(k=c,c=b,b=void 0),c&&this.queue(b||"fx",[]),this.each(function(){var c=!0,l=null!=b&&b+"queueHooks",n=A.timers,p=O.get(this);if(l)p[l]&&p[l].stop&&h(p[l]);else for(l in p)p[l]&&p[l].stop&&ac.test(l)&&h(p[l]);for(l=n.length;l--;)n[l].elem!==this||null!=b&&n[l].queue!==b||(n[l].anim.stop(k),c=!1,n.splice(l,1));!c&&k||A.dequeue(this,b)})},finish:function(b){return!1!==
b&&(b=b||"fx"),this.each(function(){var c,k=O.get(this),h=k[b+"queue"];c=k[b+"queueHooks"];var l=A.timers,n=h?h.length:0;k.finish=!0;A.queue(this,b,[]);c&&c.stop&&c.stop.call(this,!0);for(c=l.length;c--;)l[c].elem===this&&l[c].queue===b&&(l[c].anim.stop(!0),l.splice(c,1));for(c=0;c<n;c++)h[c]&&h[c].finish&&h[c].finish.call(this);delete k.finish})}});A.each(["toggle","show","hide"],function(b,c){var k=A.fn[c];A.fn[c]=function(b,h,l){return null==b||"boolean"==typeof b?k.apply(this,arguments):this.animate(na(c,
!0),b,h,l)}});A.each({slideDown:na("show"),slideUp:na("hide"),slideToggle:na("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(b,c){A.fn[b]=function(b,k,h){return this.animate(c,b,k,h)}});A.timers=[];A.fx.tick=function(){var b,c=0,k=A.timers;for(Ta=Date.now();c<k.length;c++)(b=k[c])()||k[c]!==b||k.splice(c--,1);k.length||A.fx.stop();Ta=void 0};A.fx.timer=function(b){A.timers.push(b);A.fx.start()};A.fx.interval=13;A.fx.start=function(){fb||(fb=!0,ia())};
A.fx.stop=function(){fb=null};A.fx.speeds={slow:600,fast:200,_default:400};A.fn.delay=function(c,k){return c=A.fx&&A.fx.speeds[c]||c,k=k||"fx",this.queue(k,function(k,h){var l=b.setTimeout(k,c);h.stop=function(){b.clearTimeout(l)}})};Xa=da.createElement("input");Eb=da.createElement("select").appendChild(da.createElement("option"));Xa.type="checkbox";Z.checkOn=""!==Xa.value;Z.optSelected=Eb.selected;(Xa=da.createElement("input")).value="t";Xa.type="radio";Z.radioValue="t"===Xa.value;var Fb,$a=A.expr.attrHandle;
A.fn.extend({attr:function(b,c){return Ba(this,A.attr,b,c,1<arguments.length)},removeAttr:function(b){return this.each(function(){A.removeAttr(this,b)})}});A.extend({attr:function(b,c,k){var h,l,n=b.nodeType;if(3!==n&&8!==n&&2!==n)return"undefined"==typeof b.getAttribute?A.prop(b,c,k):(1===n&&A.isXMLDoc(b)||(l=A.attrHooks[c.toLowerCase()]||(A.expr.match.bool.test(c)?Fb:void 0)),void 0!==k?null===k?void A.removeAttr(b,c):l&&"set"in l&&void 0!==(h=l.set(b,k,c))?h:(b.setAttribute(c,k+""),k):l&&"get"in
l&&null!==(h=l.get(b,c))?h:null==(h=A.find.attr(b,c))?void 0:h)},attrHooks:{type:{set:function(b,c){if(!Z.radioValue&&"radio"===c&&u(b,"input")){var k=b.value;return b.setAttribute("type",c),k&&(b.value=k),c}}}},removeAttr:function(b,c){var k=0,h=c&&c.match(La);if(h&&1===b.nodeType)for(;c=h[k++];)b.removeAttribute(c)}});Fb={set:function(b,c,k){return!1===c?A.removeAttr(b,k):b.setAttribute(k,k),k}};A.each(A.expr.match.bool.source.match(/\w+/g),function(b,c){var k=$a[c]||A.find.attr;$a[c]=function(b,
c,h){var l,n,p=c.toLowerCase();return h||(n=$a[p],$a[p]=l,l=null!=k(b,c,h)?p:null,$a[p]=n),l}});var bc=/^(?:input|select|textarea|button)$/i,cc=/^(?:a|area)$/i;A.fn.extend({prop:function(b,c){return Ba(this,A.prop,b,c,1<arguments.length)},removeProp:function(b){return this.each(function(){delete this[A.propFix[b]||b]})}});A.extend({prop:function(b,c,k){var h,l,n=b.nodeType;if(3!==n&&8!==n&&2!==n)return 1===n&&A.isXMLDoc(b)||(c=A.propFix[c]||c,l=A.propHooks[c]),void 0!==k?l&&"set"in l&&void 0!==(h=
l.set(b,k,c))?h:b[c]=k:l&&"get"in l&&null!==(h=l.get(b,c))?h:b[c]},propHooks:{tabIndex:{get:function(b){var c=A.find.attr(b,"tabindex");return c?parseInt(c,10):bc.test(b.nodeName)||cc.test(b.nodeName)&&b.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}});Z.optSelected||(A.propHooks.selected={get:function(b){b=b.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null},set:function(b){b=b.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex)}});A.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),
function(){A.propFix[this.toLowerCase()]=this});A.fn.extend({addClass:function(b){var c,k,h,l,n,p;return ha(b)?this.each(function(c){A(this).addClass(b.call(this,c,ra(this)))}):(c=ja(b)).length?this.each(function(){if(h=ra(this),k=1===this.nodeType&&" "+ca(h)+" "){for(n=0;n<c.length;n++)l=c[n],0>k.indexOf(" "+l+" ")&&(k+=l+" ");p=ca(k);h!==p&&this.setAttribute("class",p)}}):this},removeClass:function(b){var c,k,h,l,n,p;return ha(b)?this.each(function(c){A(this).removeClass(b.call(this,c,ra(this)))}):
arguments.length?(c=ja(b)).length?this.each(function(){if(h=ra(this),k=1===this.nodeType&&" "+ca(h)+" "){for(n=0;n<c.length;n++)for(l=c[n];-1<k.indexOf(" "+l+" ");)k=k.replace(" "+l+" "," ");p=ca(k);h!==p&&this.setAttribute("class",p)}}):this:this.attr("class","")},toggleClass:function(b,c){var k,h,l,n,p=typeof b,r="string"===p||Array.isArray(b);return ha(b)?this.each(function(k){A(this).toggleClass(b.call(this,k,ra(this),c),c)}):"boolean"==typeof c&&r?c?this.addClass(b):this.removeClass(b):(k=ja(b),
this.each(function(){if(r)for(n=A(this),l=0;l<k.length;l++)h=k[l],n.hasClass(h)?n.removeClass(h):n.addClass(h);else void 0!==b&&"boolean"!==p||((h=ra(this))&&O.set(this,"__className__",h),this.setAttribute&&this.setAttribute("class",h||!1===b?"":O.get(this,"__className__")||""))}))},hasClass:function(b){var c,k=0;for(b=" "+b+" ";c=this[k++];)if(1===c.nodeType&&-1<(" "+ca(ra(c))+" ").indexOf(b))return!0;return!1}});var dc=/\r/g;A.fn.extend({val:function(b){var c,k,h,l=this[0];return arguments.length?
(h=ha(b),this.each(function(k){var l;1===this.nodeType&&(null==(l=h?b.call(this,k,A(this).val()):b)?l="":"number"==typeof l?l+="":Array.isArray(l)&&(l=A.map(l,function(b){return null==b?"":b+""})),(c=A.valHooks[this.type]||A.valHooks[this.nodeName.toLowerCase()])&&"set"in c&&void 0!==c.set(this,l,"value")||(this.value=l))})):l?(c=A.valHooks[l.type]||A.valHooks[l.nodeName.toLowerCase()])&&"get"in c&&void 0!==(k=c.get(l,"value"))?k:"string"==typeof(k=l.value)?k.replace(dc,""):null==k?"":k:void 0}});
A.extend({valHooks:{option:{get:function(b){var c=A.find.attr(b,"value");return null!=c?c:ca(A.text(b))}},select:{get:function(b){var c,k,h=b.options,l=b.selectedIndex,n="select-one"===b.type,p=n?null:[],r=n?l+1:h.length;for(k=0>l?r:n?l:0;k<r;k++)if(!(!(c=h[k]).selected&&k!==l||c.disabled||c.parentNode.disabled&&u(c.parentNode,"optgroup"))){if(b=A(c).val(),n)return b;p.push(b)}return p},set:function(b,c){var k,h,l=b.options;c=A.makeArray(c);for(var n=l.length;n--;)((h=l[n]).selected=-1<A.inArray(A.valHooks.option.get(h),
c))&&(k=!0);return k||(b.selectedIndex=-1),c}}}});A.each(["radio","checkbox"],function(){A.valHooks[this]={set:function(b,c){if(Array.isArray(c))return b.checked=-1<A.inArray(A(b).val(),c)}};Z.checkOn||(A.valHooks[this].get=function(b){return null===b.getAttribute("value")?"on":b.value})});var ab=b.location,Gb=Date.now(),ob=/\?/;A.parseXML=function(c){var k,h;if(!c||"string"!=typeof c)return null;try{k=(new b.DOMParser).parseFromString(c,"text/xml")}catch(l){}return h=k&&k.getElementsByTagName("parsererror")[0],
k&&!h||A.error("Invalid XML: "+(h?A.map(h.childNodes,function(b){return b.textContent}).join("\n"):c)),k};var Hb=/^(?:focusinfocus|focusoutblur)$/,Ib=function(b){b.stopPropagation()};A.extend(A.event,{trigger:function(c,k,h,l){var n,p,r,q,w,v,m,z,H=[h||da],y=Qa.call(c,"type")?c.type:c;n=Qa.call(c,"namespace")?c.namespace.split("."):[];if(p=z=r=h=h||da,3!==h.nodeType&&8!==h.nodeType&&!Hb.test(y+A.event.triggered)&&(-1<y.indexOf(".")&&(y=(n=y.split(".")).shift(),n.sort()),w=0>y.indexOf(":")&&"on"+y,
(c=c[A.expando]?c:new A.Event(y,"object"==typeof c&&c)).isTrigger=l?2:3,c.namespace=n.join("."),c.rnamespace=c.namespace?new RegExp("(^|\\.)"+n.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,c.result=void 0,c.target||(c.target=h),k=null==k?[c]:A.makeArray(k,[c]),m=A.event.special[y]||{},l||!m.trigger||!1!==m.trigger.apply(h,k))){if(!l&&!m.noBubble&&!Ka(h)){q=m.delegateType||y;for(Hb.test(q+y)||(p=p.parentNode);p;p=p.parentNode)H.push(p),r=p;r===(h.ownerDocument||da)&&H.push(r.defaultView||r.parentWindow||
b)}for(n=0;(p=H[n++])&&!c.isPropagationStopped();)z=p,c.type=1<n?q:m.bindType||y,(v=(O.get(p,"events")||Object.create(null))[c.type]&&O.get(p,"handle"))&&v.apply(p,k),(v=w&&p[w])&&v.apply&&ta(p)&&(c.result=v.apply(p,k),!1===c.result&&c.preventDefault());return c.type=y,l||c.isDefaultPrevented()||m._default&&!1!==m._default.apply(H.pop(),k)||!ta(h)||w&&ha(h[y])&&!Ka(h)&&((r=h[w])&&(h[w]=null),A.event.triggered=y,c.isPropagationStopped()&&z.addEventListener(y,Ib),h[y](),c.isPropagationStopped()&&z.removeEventListener(y,
Ib),A.event.triggered=void 0,r&&(h[w]=r)),c.result}},simulate:function(b,c,k){b=A.extend(new A.Event,k,{type:b,isSimulated:!0});A.event.trigger(b,null,c)}});A.fn.extend({trigger:function(b,c){return this.each(function(){A.event.trigger(b,c,this)})},triggerHandler:function(b,c){var k=this[0];if(k)return A.event.trigger(b,c,k,!0)}});var Tb=/\[\]$/,Jb=/\r?\n/g,ec=/^(?:submit|button|image|reset|file)$/i,fc=/^(?:input|select|textarea|keygen)/i;A.param=function(b,c){var k,h=[],l=function(b,c){c=ha(c)?c():
c;h[h.length]=encodeURIComponent(b)+"\x3d"+encodeURIComponent(null==c?"":c)};if(null==b)return"";if(Array.isArray(b)||b.jquery&&!A.isPlainObject(b))A.each(b,function(){l(this.name,this.value)});else for(k in b)va(k,b[k],c,l);return h.join("\x26")};A.fn.extend({serialize:function(){return A.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var b=A.prop(this,"elements");return b?A.makeArray(b):this}).filter(function(){var b=this.type;return this.name&&!A(this).is(":disabled")&&
fc.test(this.nodeName)&&!ec.test(b)&&(this.checked||!Za.test(b))}).map(function(b,c){b=A(this).val();return null==b?null:Array.isArray(b)?A.map(b,function(b){return{name:c.name,value:b.replace(Jb,"\r\n")}}):{name:c.name,value:b.replace(Jb,"\r\n")}}).get()}});var gc=/%20/g,hc=/#.*$/,ic=/([?&])_=[^&]*/,jc=/^(.*?):[ \t]*([^\r\n]*)$/gm,kc=/^(?:GET|HEAD)$/,lc=/^\/\//,Kb={},jb={},Lb="*/".concat("*"),pb=da.createElement("a");pb.href=ab.href;A.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ab.href,
type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(ab.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset\x3dUTF-8",accepts:{"*":Lb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,
"text xml":A.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(b,c){return c?H(H(b,A.ajaxSettings),c):H(A.ajaxSettings,b)},ajaxPrefilter:Fa(Kb),ajaxTransport:Fa(jb),ajax:function(c,k){function h(c,k,r,m){var z,ma,B,ga,I,C=k;w||(w=!0,q&&b.clearTimeout(q),l=void 0,p=m||"",G.readyState=0<c?4:0,z=200<=c&&300>c||304===c,r&&(ga=function(b,c,k){for(var h,l,n,p,r=b.contents,q=b.dataTypes;"*"===q[0];)q.shift(),void 0===h&&(h=b.mimeType||c.getResponseHeader("Content-Type"));if(h)for(l in r)if(r[l]&&
r[l].test(h)){q.unshift(l);break}if(q[0]in k)n=q[0];else{for(l in k){if(!q[0]||b.converters[l+" "+q[0]]){n=l;break}p||(p=l)}n=n||p}if(n)return n!==q[0]&&q.unshift(n),k[n]}(H,G,r)),!z&&-1<A.inArray("script",H.dataTypes)&&0>A.inArray("json",H.dataTypes)&&(H.converters["text script"]=function(){}),ga=function(b,c,k,h){var l,n,p,r,q,w={},v=b.dataTypes.slice();if(v[1])for(p in b.converters)w[p.toLowerCase()]=b.converters[p];for(n=v.shift();n;)if(b.responseFields[n]&&(k[b.responseFields[n]]=c),!q&&h&&b.dataFilter&&
(c=b.dataFilter(c,b.dataType)),q=n,n=v.shift())if("*"===n)n=q;else if("*"!==q&&q!==n){if(!(p=w[q+" "+n]||w["* "+n]))for(l in w)if((r=l.split(" "))[1]===n&&(p=w[q+" "+r[0]]||w["* "+r[0]])){!0===p?p=w[l]:!0!==w[l]&&(n=r[0],v.unshift(r[1]));break}if(!0!==p)if(p&&b["throws"])c=p(c);else try{c=p(c)}catch(m){return{state:"parsererror",error:p?m:"No conversion from "+q+" to "+n}}}return{state:"success",data:c}}(H,ga,G,z),z?(H.ifModified&&((I=G.getResponseHeader("Last-Modified"))&&(A.lastModified[n]=I),(I=
G.getResponseHeader("etag"))&&(A.etag[n]=I)),204===c||"HEAD"===H.type?C="nocontent":304===c?C="notmodified":(C=ga.state,ma=ga.data,z=!(B=ga.error))):(B=C,!c&&C||(C="error",0>c&&(c=0))),G.status=c,G.statusText=(k||C)+"",z?x.resolveWith(y,[ma,C,G]):x.rejectWith(y,[G,C,B]),G.statusCode(D),D=void 0,v&&u.trigger(z?"ajaxSuccess":"ajaxError",[G,H,z?ma:B]),E.fireWith(y,[G,C]),v&&(u.trigger("ajaxComplete",[G,H]),--A.active||A.event.trigger("ajaxStop")))}"object"==typeof c&&(k=c,c=void 0);k=k||{};var l,n,p,
r,q,w,v,m,z,H=A.ajaxSetup({},k),y=H.context||H,u=H.context&&(y.nodeType||y.jquery)?A(y):A.event,x=A.Deferred(),E=A.Callbacks("once memory"),D=H.statusCode||{},ma={},B={},ga="canceled",G={readyState:0,getResponseHeader:function(b){var c;if(w){if(!r)for(r={};c=jc.exec(p);)r[c[1].toLowerCase()+" "]=(r[c[1].toLowerCase()+" "]||[]).concat(c[2]);c=r[b.toLowerCase()+" "]}return null==c?null:c.join(", ")},getAllResponseHeaders:function(){return w?p:null},setRequestHeader:function(b,c){return null==w&&(b=
B[b.toLowerCase()]=B[b.toLowerCase()]||b,ma[b]=c),this},overrideMimeType:function(b){return null==w&&(H.mimeType=b),this},statusCode:function(b){var c;if(b)if(w)G.always(b[G.status]);else for(c in b)D[c]=[D[c],b[c]];return this},abort:function(b){b=b||ga;return l&&l.abort(b),h(0,b),this}};if(x.promise(G),H.url=((c||H.url||ab.href)+"").replace(lc,ab.protocol+"//"),H.type=k.method||k.type||H.method||H.type,H.dataTypes=(H.dataType||"*").toLowerCase().match(La)||[""],null==H.crossDomain){c=da.createElement("a");
try{c.href=H.url,c.href=c.href,H.crossDomain=pb.protocol+"//"+pb.host!=c.protocol+"//"+c.host}catch(I){H.crossDomain=!0}}if(H.data&&H.processData&&"string"!=typeof H.data&&(H.data=A.param(H.data,H.traditional)),Aa(Kb,H,k,G),w)return G;for(m in(v=A.event&&H.global)&&0==A.active++&&A.event.trigger("ajaxStart"),H.type=H.type.toUpperCase(),H.hasContent=!kc.test(H.type),n=H.url.replace(hc,""),H.hasContent?H.data&&H.processData&&0===(H.contentType||"").indexOf("application/x-www-form-urlencoded")&&(H.data=
H.data.replace(gc,"+")):(z=H.url.slice(n.length),H.data&&(H.processData||"string"==typeof H.data)&&(n+=(ob.test(n)?"\x26":"?")+H.data,delete H.data),!1===H.cache&&(n=n.replace(ic,"$1"),z=(ob.test(n)?"\x26":"?")+"_\x3d"+Gb++ +z),H.url=n+z),H.ifModified&&(A.lastModified[n]&&G.setRequestHeader("If-Modified-Since",A.lastModified[n]),A.etag[n]&&G.setRequestHeader("If-None-Match",A.etag[n])),(H.data&&H.hasContent&&!1!==H.contentType||k.contentType)&&G.setRequestHeader("Content-Type",H.contentType),G.setRequestHeader("Accept",
H.dataTypes[0]&&H.accepts[H.dataTypes[0]]?H.accepts[H.dataTypes[0]]+("*"!==H.dataTypes[0]?", "+Lb+"; q\x3d0.01":""):H.accepts["*"]),H.headers)G.setRequestHeader(m,H.headers[m]);if(H.beforeSend&&(!1===H.beforeSend.call(y,G,H)||w))return G.abort();if(ga="abort",E.add(H.complete),G.done(H.success),G.fail(H.error),l=Aa(jb,H,k,G)){if(G.readyState=1,v&&u.trigger("ajaxSend",[G,H]),w)return G;H.async&&0<H.timeout&&(q=b.setTimeout(function(){G.abort("timeout")},H.timeout));try{w=!1,l.send(ma,h)}catch(I){if(w)throw I;
h(-1,I)}}else h(-1,"No Transport");return G},getJSON:function(b,c,k){return A.get(b,c,k,"json")},getScript:function(b,c){return A.get(b,void 0,c,"script")}});A.each(["get","post"],function(b,c){A[c]=function(b,k,h,l){return ha(k)&&(l=l||h,h=k,k=void 0),A.ajax(A.extend({url:b,type:c,dataType:l,data:k,success:h},A.isPlainObject(b)&&b))}});A.ajaxPrefilter(function(b){for(var c in b.headers)"content-type"===c.toLowerCase()&&(b.contentType=b.headers[c]||"")});A._evalUrl=function(b,c,k){return A.ajax({url:b,
type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(b){A.globalEval(b,c,k)}})};A.fn.extend({wrapAll:function(b){var c;return this[0]&&(ha(b)&&(b=b.call(this[0])),c=A(b,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&c.insertBefore(this[0]),c.map(function(){for(var b=this;b.firstElementChild;)b=b.firstElementChild;return b}).append(this)),this},wrapInner:function(b){return ha(b)?this.each(function(c){A(this).wrapInner(b.call(this,
c))}):this.each(function(){var c=A(this),k=c.contents();k.length?k.wrapAll(b):c.append(b)})},wrap:function(b){var c=ha(b);return this.each(function(k){A(this).wrapAll(c?b.call(this,k):b)})},unwrap:function(b){return this.parent(b).not("body").each(function(){A(this).replaceWith(this.childNodes)}),this}});A.expr.pseudos.hidden=function(b){return!A.expr.pseudos.visible(b)};A.expr.pseudos.visible=function(b){return!!(b.offsetWidth||b.offsetHeight||b.getClientRects().length)};A.ajaxSettings.xhr=function(){try{return new b.XMLHttpRequest}catch(c){}};
var mc={0:200,1223:204},bb=A.ajaxSettings.xhr();Z.cors=!!bb&&"withCredentials"in bb;Z.ajax=bb=!!bb;A.ajaxTransport(function(c){var k,h;if(Z.cors||bb&&!c.crossDomain)return{send:function(l,n){var p,r=c.xhr();if(r.open(c.type,c.url,c.async,c.username,c.password),c.xhrFields)for(p in c.xhrFields)r[p]=c.xhrFields[p];for(p in c.mimeType&&r.overrideMimeType&&r.overrideMimeType(c.mimeType),c.crossDomain||l["X-Requested-With"]||(l["X-Requested-With"]="XMLHttpRequest"),l)r.setRequestHeader(p,l[p]);k=function(b){return function(){k&&
(k=h=r.onload=r.onerror=r.onabort=r.ontimeout=r.onreadystatechange=null,"abort"===b?r.abort():"error"===b?"number"!=typeof r.status?n(0,"error"):n(r.status,r.statusText):n(mc[r.status]||r.status,r.statusText,"text"!==(r.responseType||"text")||"string"!=typeof r.responseText?{binary:r.response}:{text:r.responseText},r.getAllResponseHeaders()))}};r.onload=k();h=r.onerror=r.ontimeout=k("error");void 0!==r.onabort?r.onabort=h:r.onreadystatechange=function(){4===r.readyState&&b.setTimeout(function(){k&&
h()})};k=k("abort");try{r.send(c.hasContent&&c.data||null)}catch(q){if(k)throw q;}},abort:function(){k&&k()}}});A.ajaxPrefilter(function(b){b.crossDomain&&(b.contents.script=!1)});A.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(b){return A.globalEval(b),b}}});A.ajaxPrefilter("script",function(b){void 0===b.cache&&(b.cache=!1);b.crossDomain&&(b.type=
"GET")});A.ajaxTransport("script",function(b){var c,k;if(b.crossDomain||b.scriptAttrs)return{send:function(h,l){c=A("\x3cscript\x3e").attr(b.scriptAttrs||{}).prop({charset:b.scriptCharset,src:b.url}).on("load error",k=function(b){c.remove();k=null;b&&l("error"===b.type?404:200,b.type)});da.head.appendChild(c[0])},abort:function(){k&&k()}}});var Mb,Nb=[],qb=/(=)\?(?=&|$)|\?\?/;A.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var b=Nb.pop()||A.expando+"_"+Gb++;return this[b]=!0,b}});A.ajaxPrefilter("json jsonp",
function(c,k,h){var l,n,p,r=!1!==c.jsonp&&(qb.test(c.url)?"url":"string"==typeof c.data&&0===(c.contentType||"").indexOf("application/x-www-form-urlencoded")&&qb.test(c.data)&&"data");if(r||"jsonp"===c.dataTypes[0])return l=c.jsonpCallback=ha(c.jsonpCallback)?c.jsonpCallback():c.jsonpCallback,r?c[r]=c[r].replace(qb,"$1"+l):!1!==c.jsonp&&(c.url+=(ob.test(c.url)?"\x26":"?")+c.jsonp+"\x3d"+l),c.converters["script json"]=function(){return p||A.error(l+" was not called"),p[0]},c.dataTypes[0]="json",n=
b[l],b[l]=function(){p=arguments},h.always(function(){void 0===n?A(b).removeProp(l):b[l]=n;c[l]&&(c.jsonpCallback=k.jsonpCallback,Nb.push(l));p&&ha(n)&&n(p[0]);p=n=void 0}),"script"});Z.createHTMLDocument=((Mb=da.implementation.createHTMLDocument("").body).innerHTML="\x3cform\x3e\x3c/form\x3e\x3cform\x3e\x3c/form\x3e",2===Mb.childNodes.length);A.parseHTML=function(b,c,k){return"string"!=typeof b?[]:("boolean"==typeof c&&(k=c,c=!1),c||(Z.createHTMLDocument?((h=(c=da.implementation.createHTMLDocument("")).createElement("base")).href=
da.location.href,c.head.appendChild(h)):c=da),n=!k&&[],(l=zb.exec(b))?[c.createElement(l[1])]:(l=I([b],c,n),n&&n.length&&A(n).remove(),A.merge([],l.childNodes)));var h,l,n};A.fn.load=function(b,c,k){var h,l,n,p=this,r=b.indexOf(" ");return-1<r&&(h=ca(b.slice(r)),b=b.slice(0,r)),ha(c)?(k=c,c=void 0):c&&"object"==typeof c&&(l="POST"),0<p.length&&A.ajax({url:b,type:l||"GET",dataType:"html",data:c}).done(function(b){n=arguments;p.html(h?A("\x3cdiv\x3e").append(A.parseHTML(b)).find(h):b)}).always(k&&function(b,
c){p.each(function(){k.apply(this,n||[b.responseText,c,b])})}),this};A.expr.pseudos.animated=function(b){return A.grep(A.timers,function(c){return b===c.elem}).length};A.offset={setOffset:function(b,c,k){var h,l,n,p,r,q,w=A.css(b,"position"),v=A(b),m={};"static"===w&&(b.style.position="relative");r=v.offset();n=A.css(b,"top");q=A.css(b,"left");("absolute"===w||"fixed"===w)&&-1<(n+q).indexOf("auto")?(p=(h=v.position()).top,l=h.left):(p=parseFloat(n)||0,l=parseFloat(q)||0);ha(c)&&(c=c.call(b,k,A.extend({},
r)));null!=c.top&&(m.top=c.top-r.top+p);null!=c.left&&(m.left=c.left-r.left+l);"using"in c?c.using.call(b,m):v.css(m)}};A.fn.extend({offset:function(b){if(arguments.length)return void 0===b?this:this.each(function(c){A.offset.setOffset(this,b,c)});var c,k,h=this[0];return h?h.getClientRects().length?(c=h.getBoundingClientRect(),k=h.ownerDocument.defaultView,{top:c.top+k.pageYOffset,left:c.left+k.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var b,c,k,h=this[0],l={top:0,left:0};
if("fixed"===A.css(h,"position"))c=h.getBoundingClientRect();else{c=this.offset();k=h.ownerDocument;for(b=h.offsetParent||k.documentElement;b&&(b===k.body||b===k.documentElement)&&"static"===A.css(b,"position");)b=b.parentNode;b&&b!==h&&1===b.nodeType&&((l=A(b).offset()).top+=A.css(b,"borderTopWidth",!0),l.left+=A.css(b,"borderLeftWidth",!0))}b="undefined"!=typeof settings?settings.scale:1;return{top:(c.top-l.top-A.css(h,"marginTop",!0))/b,left:(c.left-l.left-A.css(h,"marginLeft",!0))/b}}},offsetParent:function(){return this.map(function(){for(var b=
this.offsetParent;b&&"static"===A.css(b,"position");)b=b.offsetParent;return b||Ia})}});A.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(b,c){var k="pageYOffset"===c;A.fn[b]=function(h){return Ba(this,function(b,h,l){var n;if(Ka(b)?n=b:9===b.nodeType&&(n=b.defaultView),void 0===l)return n?n[c]:b[h];n?n.scrollTo(k?n.pageXOffset:l,k?l:n.pageYOffset):b[h]=l},b,h,arguments.length)}});A.each(["top","left"],function(b,c){A.cssHooks[c]=S(Z.pixelPosition,function(b,k){if(k)return k=ba(b,
c),ib.test(k)?A(b).position()[c]+"px":k})});A.each({Height:"height",Width:"width"},function(b,c){A.each({padding:"inner"+b,content:c,"":"outer"+b},function(k,h){A.fn[h]=function(l,n){var p=arguments.length&&(k||"boolean"!=typeof l),r=k||(!0===l||!0===n?"margin":"border");return Ba(this,function(c,k,l){var n;return Ka(c)?0===h.indexOf("outer")?c["inner"+b]:c.document.documentElement["client"+b]:9===c.nodeType?(n=c.documentElement,Math.max(c.body["scroll"+b],n["scroll"+b],c.body["offset"+b],n["offset"+
b],n["client"+b])):void 0===l?A.css(c,k,r):A.style(c,k,l,r)},c,p?l:void 0,p)}})});A.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(b,c){A.fn[c]=function(b){return this.on(c,b)}});A.fn.extend({bind:function(b,c,k){return this.on(b,null,c,k)},unbind:function(b,c){return this.off(b,null,c)},delegate:function(b,c,k,h){return this.on(c,b,k,h)},undelegate:function(b,c,k){return 1===arguments.length?this.off(b,"**"):this.off(c,b||"**",k)},hover:function(b,c){return this.on("mouseenter",
b).on("mouseleave",c||b)}});A.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(b,c){A.fn[c]=function(b,k){return 0<arguments.length?this.on(c,null,b,k):this.trigger(c)}});var nc=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;A.proxy=function(b,c){var k,h,l;if("string"==typeof c&&(k=b[c],c=b,b=k),ha(b))return h=sa.call(arguments,2),(l=
function(){return b.apply(c||this,h.concat(sa.call(arguments)))}).guid=b.guid=b.guid||A.guid++,l};A.holdReady=function(b){b?A.readyWait++:A.ready(!0)};A.isArray=Array.isArray;A.parseJSON=JSON.parse;A.nodeName=u;A.isFunction=ha;A.isWindow=Ka;A.camelCase=n;A.type=l;A.now=Date.now;A.isNumeric=function(b){var c=A.type(b);return("number"===c||"string"===c)&&!isNaN(b-parseFloat(b))};A.trim=function(b){return null==b?"":(b+"").replace(nc,"$1")};"function"==typeof define&&define.amd&&define("jquery",[],function(){return A});
var oc=b.jQuery,pc=b.$;return A.noConflict=function(c){return b.$===A&&(b.$=pc),c&&b.jQuery===A&&(b.jQuery=oc),A},"undefined"==typeof c&&(b.jQuery=b.$=A),A});jQuery.migrateMute=1;"undefined"==typeof jQuery.migrateMute&&(jQuery.migrateMute=!0);
(function(b){"function"==typeof define&&define.amd?define(["jquery"],function(c){return b(c,window)}):"object"==typeof module&&module.exports?module.exports=b(require("jquery"),window):b(jQuery,window)})(function(b,c){function h(c){var k;a:{var h=/^(\d+)\.(\d+)\.(\d+)/;k=h.exec(b.fn.jquery)||[];c=h.exec(c)||[];for(h=1;3>=h;h++){if(+k[h]>+c[h]){k=1;break a}if(+k[h]<+c[h]){k=-1;break a}}k=0}return 0<=k}function l(k,h){var l=c.console;!b.migrateIsPatchEnabled(k)||b.migrateDeduplicateWarnings&&w[h]||
(w[h]=!0,b.migrateWarnings.push(h+" ["+k+"]"),l&&l.warn&&!b.migrateMute&&(l.warn("JQMIGRATE: "+h),b.migrateTrace&&l.trace&&l.trace()))}function m(b,c,k,h,n){Object.defineProperty(b,c,{configurable:!0,enumerable:!0,get:function(){return l(h,n),k},set:function(b){l(h,n);k=b}})}function u(c,k,h,n,p){var r=c[k];c[k]=function(){return p&&l(n,p),(b.migrateIsPatchEnabled(n)?h:r||b.noop).apply(this,arguments)}}function q(b,c,k,h,l){if(!l)throw Error("No warning message provided");u(b,c,k,h,l)}function x(b,
c,k,h){u(b,c,k,h)}function k(b){return b.replace(/-([a-z])/g,function(b,c){return c.toUpperCase()})}function p(b){var k=c.document.implementation.createHTMLDocument("");return k.body.innerHTML=b,k.body&&k.body.innerHTML}b.migrateVersion="3.4.0";var r=Object.create(null),w=(b.migrateDisablePatches=function(){for(var b=0;b<arguments.length;b++)r[arguments[b]]=!0},b.migrateEnablePatches=function(){for(var b=0;b<arguments.length;b++)delete r[arguments[b]]},b.migrateIsPatchEnabled=function(b){return!r[b]},
c.console&&c.console.log&&(b&&h("3.0.0")||c.console.log("JQMIGRATE: jQuery 3.0.0+ REQUIRED"),b.migrateWarnings&&c.console.log("JQMIGRATE: Migrate plugin loaded multiple times")),{});b.migrateDeduplicateWarnings=!0;b.migrateWarnings=[];void 0===b.migrateTrace&&(b.migrateTrace=!0);b.migrateReset=function(){w={};b.migrateWarnings.length=0};"BackCompat"===c.document.compatMode&&l("quirks","jQuery is not compatible with Quirks Mode");var v,z,n,E={},D=b.fn.init,y=b.find,B=/\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/,
F=/\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/g,C=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;for(v in x(b.fn,"init",function(c){var k=Array.prototype.slice.call(arguments);return b.migrateIsPatchEnabled("selector-empty-id")&&"string"==typeof c&&"#"===c&&(l("selector-empty-id","jQuery( '#' ) is not a valid selector"),k[0]=[]),D.apply(this,k)},"selector-empty-id"),b.fn.init.prototype=b.fn,x(b,"find",function(b){var k=Array.prototype.slice.call(arguments);if("string"==typeof b&&B.test(b))try{c.document.querySelector(b)}catch(h){b=
b.replace(F,function(b,c,k,h){return"["+c+k+'"'+h+'"]'});try{c.document.querySelector(b),l("selector-hash","Attribute selector with '#' must be quoted: "+k[0]),k[0]=b}catch(n){l("selector-hash","Attribute selector with '#' was not fixed: "+k[0])}}return y.apply(this,k)},"selector-hash"),y)Object.prototype.hasOwnProperty.call(y,v)&&(b.find[v]=y[v]);q(b.fn,"size",function(){return this.length},"size","jQuery.fn.size() is deprecated and removed; use the .length property");q(b,"parseJSON",function(){return JSON.parse.apply(null,
arguments)},"parseJSON","jQuery.parseJSON is deprecated; use JSON.parse");q(b,"holdReady",b.holdReady,"holdReady","jQuery.holdReady is deprecated");q(b,"unique",b.uniqueSort,"unique","jQuery.unique is deprecated; use jQuery.uniqueSort");m(b.expr,"filters",b.expr.pseudos,"expr-pre-pseudos","jQuery.expr.filters is deprecated; use jQuery.expr.pseudos");m(b.expr,":",b.expr.pseudos,"expr-pre-pseudos","jQuery.expr[':'] is deprecated; use jQuery.expr.pseudos");h("3.1.1")&&q(b,"trim",function(b){return null==
b?"":(b+"").replace(C,"")},"trim","jQuery.trim is deprecated; use String.prototype.trim");h("3.2.0")&&(q(b,"nodeName",function(b,c){return b.nodeName&&b.nodeName.toLowerCase()===c.toLowerCase()},"nodeName","jQuery.nodeName is deprecated"),q(b,"isArray",Array.isArray,"isArray","jQuery.isArray is deprecated; use Array.isArray"));h("3.3.0")&&(q(b,"isNumeric",function(b){var c=typeof b;return("number"==c||"string"==c)&&!isNaN(b-parseFloat(b))},"isNumeric","jQuery.isNumeric() is deprecated"),b.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),
function(b,c){E["[object "+c+"]"]=c.toLowerCase()}),q(b,"type",function(b){return null==b?b+"":"object"==typeof b||"function"==typeof b?E[Object.prototype.toString.call(b)]||"object":typeof b},"type","jQuery.type is deprecated"),q(b,"isFunction",function(b){return"function"==typeof b},"isFunction","jQuery.isFunction() is deprecated"),q(b,"isWindow",function(b){return null!=b&&b===b.window},"isWindow","jQuery.isWindow() is deprecated"));b.ajax&&(z=b.ajax,n=/(=)\?(?=&|$)|\?\?/,x(b,"ajax",function(){var b=
z.apply(this,arguments);return b.promise&&(q(b,"success",b.done,"jqXHR-methods","jQXHR.success is deprecated and removed"),q(b,"error",b.fail,"jqXHR-methods","jQXHR.error is deprecated and removed"),q(b,"complete",b.always,"jqXHR-methods","jQXHR.complete is deprecated and removed")),b},"jqXHR-methods"),h("4.0.0")||b.ajaxPrefilter("+json",function(b){!1!==b.jsonp&&(n.test(b.url)||"string"==typeof b.data&&0===(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&n.test(b.data))&&l("jsonp-promotion",
"JSON-to-JSONP auto-promotion is deprecated")}));var I=b.fn.removeAttr,J=b.fn.toggleClass,G=/\S+/g;x(b.fn,"removeAttr",function(c){var k=this;return b.each(c.match(G),function(c,h){b.expr.match.bool.test(h)&&(l("removeAttr-bool","jQuery.fn.removeAttr no longer sets boolean properties: "+h),k.prop(h,!1))}),I.apply(this,arguments)},"removeAttr-bool");x(b.fn,"toggleClass",function(c){return void 0!==c&&"boolean"!=typeof c?J.apply(this,arguments):(l("toggleClass-bool","jQuery.fn.toggleClass( boolean ) is deprecated"),
this.each(function(){var k=this.getAttribute&&this.getAttribute("class")||"";k&&b.data(this,"__className__",k);this.setAttribute&&this.setAttribute("class",!k&&!1!==c&&b.data(this,"__className__")||"")}))},"toggleClass-bool");var K,L=!1,P=/^[a-z]/,M=/^(?:Border(?:Top|Right|Bottom|Left)?(?:Width|)|(?:Margin|Padding)?(?:Top|Right|Bottom|Left)?|(?:Min|Max)?(?:Width|Height))$/;b.swap&&b.each(["height","width","reliableMarginRight"],function(c,k){var h=b.cssHooks[k]&&b.cssHooks[k].get;h&&(b.cssHooks[k].get=
function(){var b;return L=!0,b=h.apply(this,arguments),L=!1,b})});x(b,"swap",function(b,c,k,h){var n,p={};for(n in L||l("swap","jQuery.swap() is undocumented and deprecated"),c)p[n]=b.style[n],b.style[n]=c[n];for(n in k=k.apply(b,h||[]),c)b.style[n]=p[n];return k},"swap");h("3.4.0")&&"undefined"!=typeof Proxy&&(b.cssProps=new Proxy(b.cssProps||{},{set:function(){return l("cssProps","jQuery.cssProps is deprecated"),Reflect.set.apply(this,arguments)}}));h("4.0.0")&&"undefined"!=typeof Proxy&&(b.cssNumber=
new Proxy({animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},{get:function(){return l("css-number","jQuery.cssNumber is deprecated"),Reflect.get.apply(this,arguments)},set:function(){return l("css-number","jQuery.cssNumber is deprecated"),Reflect.set.apply(this,arguments)}}));
K=b.fn.css;x(b.fn,"css",function(c,h){var n,p=this;return c&&"object"==typeof c&&!Array.isArray(c)?(b.each(c,function(c,k){b.fn.css.call(p,c,k)}),this):("number"==typeof val&&(h=k(c),n=h,P.test(n)&&M.test(n[0].toUpperCase()+n.slice(1))||b.cssNumber[h]||l("css-number",'Number-typed values are deprecated for jQuery.fn.css( "'+c+'", value )')),K.apply(this,arguments))},"css-number");var R,fa,W,V,ba,S,Q=b.data,N=(x(b,"data",function(c,h,n){var p,r,q;if(h&&"object"==typeof h&&2===arguments.length){for(q in p=
b.hasData(c)&&Q.call(this,c),r={},h)q!==k(q)?(l("data-camelCase","jQuery.data() always sets/gets camelCased names: "+q),p[q]=h[q]):r[q]=h[q];return Q.call(this,c,r),h}return h&&"string"==typeof h&&h!==k(h)&&(p=b.hasData(c)&&Q.call(this,c))&&h in p?(l("data-camelCase","jQuery.data() always sets/gets camelCased names: "+h),2<arguments.length&&(p[h]=n),p[h]):Q.apply(this,arguments)},"data-camelCase"),b.fx&&(fa=b.Tween.prototype.run,W=function(b){return b},x(b.Tween.prototype,"run",function(){1<b.easing[this.easing].length&&
(l("easing-one-arg","'jQuery.easing."+this.easing.toString()+"' should use only one argument"),b.easing[this.easing]=W);fa.apply(this,arguments)},"easing-one-arg"),R=b.fx.interval,c.requestAnimationFrame&&Object.defineProperty(b.fx,"interval",{configurable:!0,enumerable:!0,get:function(){return c.document.hidden||l("fx-interval","jQuery.fx.interval is deprecated"),b.migrateIsPatchEnabled("fx-interval")&&void 0===R?13:R},set:function(b){l("fx-interval","jQuery.fx.interval is deprecated");R=b}})),b.fn.load),
Y=b.event.add,ka=b.event.fix,X=(b.event.props=[],b.event.fixHooks={},m(b.event.props,"concat",b.event.props.concat,"event-old-patch","jQuery.event.props.concat() is deprecated and removed"),x(b.event,"fix",function(c){var k=c.type,h=this.fixHooks[k],n=b.event.props;if(n.length)for(l("event-old-patch","jQuery.event.props are deprecated and removed: "+n.join());n.length;)b.event.addProp(n.pop());if(h&&!h._migrated_&&(h._migrated_=!0,l("event-old-patch","jQuery.event.fixHooks are deprecated and removed: "+
k),(n=h.props)&&n.length))for(;n.length;)b.event.addProp(n.pop());return k=ka.call(this,c),h&&h.filter?h.filter(k,c):k},"event-old-patch"),x(b.event,"add",function(b,k){return b===c&&"load"===k&&"complete"===c.document.readyState&&l("load-after-event","jQuery(window).on('load'...) called after load event occurred"),Y.apply(this,arguments)},"load-after-event"),b.each(["load","unload","error"],function(c,k){x(b.fn,k,function(){var b=Array.prototype.slice.call(arguments,0);return"load"===k&&"string"==
typeof b[0]?N.apply(this,b):(l("shorthand-removed-v3","jQuery.fn."+k+"() is deprecated"),b.splice(0,0,k),arguments.length?this.on.apply(this,b):(this.triggerHandler.apply(this,b),this))},"shorthand-removed-v3")}),b.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(c,k){q(b.fn,k,function(b,c){return 0<arguments.length?this.on(k,null,b,c):this.trigger(k)},
"shorthand-deprecated-v3","jQuery.fn."+k+"() event shorthand is deprecated")}),b(function(){b(c.document).triggerHandler("ready")}),b.event.special.ready={setup:function(){this===c.document&&l("ready-event","'ready' event is deprecated")}},q(b.fn,"bind",function(b,c,k){return this.on(b,null,c,k)},"pre-on-methods","jQuery.fn.bind() is deprecated"),q(b.fn,"unbind",function(b,c){return this.off(b,null,c)},"pre-on-methods","jQuery.fn.unbind() is deprecated"),q(b.fn,"delegate",function(b,c,k,h){return this.on(c,
b,k,h)},"pre-on-methods","jQuery.fn.delegate() is deprecated"),q(b.fn,"undelegate",function(b,c,k){return 1===arguments.length?this.off(b,"**"):this.off(c,b||"**",k)},"pre-on-methods","jQuery.fn.undelegate() is deprecated"),q(b.fn,"hover",function(b,c){return this.on("mouseenter",b).on("mouseleave",c||b)},"pre-on-methods","jQuery.fn.hover() is deprecated"),/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi),ia=(b.UNSAFE_restoreLegacyHtmlPrefilter=function(){b.migrateEnablePatches("self-closed-tags")},
x(b,"htmlPrefilter",function(b){var c;return(c=b.replace(X,"\x3c$1\x3e\x3c/$2\x3e"))!==b&&p(b)!==p(c)&&l("self-closed-tags","HTML tags must be properly nested and closed: "+b),b.replace(X,"\x3c$1\x3e\x3c/$2\x3e")},"self-closed-tags"),b.migrateDisablePatches("self-closed-tags"),b.fn.offset);return x(b.fn,"offset",function(){var b=this[0];return!b||b.nodeType&&b.getBoundingClientRect?ia.apply(this,arguments):(l("offset-valid-elem","jQuery.fn.offset() requires a valid DOM element"),arguments.length?
this:void 0)},"offset-valid-elem"),b.ajax&&(V=b.param,x(b,"param",function(c,k){var h=b.ajaxSettings&&b.ajaxSettings.traditional;return void 0===k&&h&&(l("param-ajax-traditional","jQuery.param() no longer uses jQuery.ajaxSettings.traditional"),k=h),V.call(this,c,k)},"param-ajax-traditional")),q(b.fn,"andSelf",b.fn.addBack,"andSelf","jQuery.fn.andSelf() is deprecated and removed, use jQuery.fn.addBack()"),b.Deferred&&(ba=b.Deferred,S=[["resolve","done",b.Callbacks("once memory"),b.Callbacks("once memory"),
"resolved"],["reject","fail",b.Callbacks("once memory"),b.Callbacks("once memory"),"rejected"],["notify","progress",b.Callbacks("memory"),b.Callbacks("memory")]],x(b,"Deferred",function(c){function k(){var c=arguments;return b.Deferred(function(k){b.each(S,function(b,n){var p="function"==typeof c[b]&&c[b];h[n[1]](function(){var b=p&&p.apply(this,arguments);b&&"function"==typeof b.promise?b.promise().done(k.resolve).fail(k.reject).progress(k.notify):k[n[0]+"With"](this===l?k.promise():this,p?[b]:arguments)})});
c=null}).promise()}var h=ba(),l=h.promise();return q(h,"pipe",k,"deferred-pipe","deferred.pipe() is deprecated"),q(l,"pipe",k,"deferred-pipe","deferred.pipe() is deprecated"),c&&c.call(h,h),h},"deferred-pipe"),b.Deferred.exceptionHook=ba.exceptionHook),b});
!function(b,c){"object"==typeof exports&&"object"==typeof module?module.exports=c():"function"==typeof define&&define.amd?define([],c):"object"==typeof exports?exports.Handlebars=c():b.Handlebars=c()}(this,function(){return function(b){function c(l){if(h[l])return h[l].exports;var m=h[l]={exports:{},id:l,loaded:!1};return b[l].call(m.exports,m,m.exports,c),m.loaded=!0,m.exports}var h={};return c.m=b,c.c=h,c.p="",c(0)}([function(b,c,h){function l(){var b=w();return b.compile=function(c,k){return p.compile(c,
k,b)},b.precompile=function(c,k){return p.precompile(c,k,b)},b.AST=x["default"],b.Compiler=p.Compiler,b.JavaScriptCompiler=r["default"],b.Parser=k.parser,b.parse=k.parse,b.parseWithoutProcessing=k.parseWithoutProcessing,b}var m=h(1)["default"];c.__esModule=!0;var u=h(2),u=m(u),q=h(84),x=m(q),k=h(85),p=h(90),q=h(91),r=m(q),q=h(88),q=m(q);h=h(83);var m=m(h),w=u["default"].create,u=l();u.create=l;m["default"](u);u.Visitor=q["default"];u["default"]=u;c["default"]=u;b.exports=c["default"]},function(b,
c){c["default"]=function(b){return b&&b.__esModule?b:{"default":b}};c.__esModule=!0},function(b,c,h){function l(){var b=new x.HandlebarsEnvironment;return r.extend(b,x),b.SafeString=k["default"],b.Exception=p["default"],b.Utils=r,b.escapeExpression=r.escapeExpression,b.VM=w,b.template=function(c){return w.template(c,b)},b}var m=h(3)["default"],u=h(1)["default"];c.__esModule=!0;var q=h(4),x=m(q),q=h(77),k=u(q),q=h(6),p=u(q),q=h(5),r=m(q),q=h(78),w=m(q);h=h(83);u=u(h);h=l();h.create=l;u["default"](h);
h["default"]=h;c["default"]=h;b.exports=c["default"]},function(b,c){c["default"]=function(b){if(b&&b.__esModule)return b;var c={};if(null!=b)for(var m in b)Object.prototype.hasOwnProperty.call(b,m)&&(c[m]=b[m]);return c["default"]=b,c};c.__esModule=!0},function(b,c,h){function l(b,c,h){this.helpers=b||{};this.partials=c||{};this.decorators=h||{};x.registerDefaultHelpers(this);k.registerDefaultDecorators(this)}b=h(1)["default"];c.__esModule=!0;c.HandlebarsEnvironment=l;var m=h(5),u=h(6),q=b(u),x=h(10),
k=h(70),u=h(72);b=b(u);var p=h(73);c.VERSION="4.7.8";c.COMPILER_REVISION=8;c.LAST_COMPATIBLE_COMPILER_REVISION=7;c.REVISION_CHANGES={1:"\x3c\x3d 1.0.rc.2",2:"\x3d\x3d 1.0.0-rc.3",3:"\x3d\x3d 1.0.0-rc.4",4:"\x3d\x3d 1.x.x",5:"\x3d\x3d 2.0.0-alpha.x",6:"\x3e\x3d 2.0.0-beta.1",7:"\x3e\x3d 4.0.0 \x3c4.3.0",8:"\x3e\x3d 4.3.0"};l.prototype={constructor:l,logger:b["default"],log:b["default"].log,registerHelper:function(b,c){if("[object Object]"===m.toString.call(b)){if(c)throw new q["default"]("Arg not supported with multiple helpers");
m.extend(this.helpers,b)}else this.helpers[b]=c},unregisterHelper:function(b){delete this.helpers[b]},registerPartial:function(b,c){if("[object Object]"===m.toString.call(b))m.extend(this.partials,b);else{if("undefined"==typeof c)throw new q["default"]('Attempting to register a partial called "'+b+'" as undefined');this.partials[b]=c}},unregisterPartial:function(b){delete this.partials[b]},registerDecorator:function(b,c){if("[object Object]"===m.toString.call(b)){if(c)throw new q["default"]("Arg not supported with multiple decorators");
m.extend(this.decorators,b)}else this.decorators[b]=c},unregisterDecorator:function(b){delete this.decorators[b]},resetLoggedPropertyAccesses:function(){p.resetLoggedProperties()}};c.log=b["default"].log;c.createFrame=m.createFrame;c.logger=b["default"]},function(b,c){function h(b){return m[b]}function l(b){for(var c=1;c<arguments.length;c++)for(var k in arguments[c])Object.prototype.hasOwnProperty.call(arguments[c],k)&&(b[k]=arguments[c][k]);return b}c.__esModule=!0;c.extend=l;c.indexOf=function(b,
c){for(var k=0,h=b.length;k<h;k++)if(b[k]===c)return k;return-1};c.escapeExpression=function(b){if("string"!=typeof b){if(b&&b.toHTML)return b.toHTML();if(null==b)return"";if(!b)return b+"";b=""+b}return q.test(b)?b.replace(u,h):b};c.isEmpty=function(b){return!b&&0!==b||!(!k(b)||0!==b.length)};c.createFrame=function(b){var c=l({},b);return c._parent=b,c};c.blockParams=function(b,c){return b.path=c,b};c.appendContextPath=function(b,c){return(b?b+".":"")+c};var m={"\x26":"\x26amp;","\x3c":"\x26lt;",
"\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#x27;","`":"\x26#x60;","\x3d":"\x26#x3D;"},u=/[&<>"'`=]/g,q=/[&<>"'`=]/,x=Object.prototype.toString;c.toString=x;b=function(b){return"function"==typeof b};b(/x/)&&(c.isFunction=b=function(b){return"function"==typeof b&&"[object Function]"===x.call(b)});c.isFunction=b;var k=Array.isArray||function(b){return!(!b||"object"!=typeof b)&&"[object Array]"===x.call(b)};c.isArray=k},function(b,c,h){function l(b,c){c=c&&c.loc;var k=void 0,h=void 0,r=void 0,w=void 0;
c&&(k=c.start.line,h=c.end.line,r=c.start.column,w=c.end.column,b+=" - "+k+":"+r);b=Error.prototype.constructor.call(this,b);for(var v=0;v<u.length;v++)this[u[v]]=b[u[v]];Error.captureStackTrace&&Error.captureStackTrace(this,l);try{c&&(this.lineNumber=k,this.endLineNumber=h,m?(Object.defineProperty(this,"column",{value:r,enumerable:!0}),Object.defineProperty(this,"endColumn",{value:w,enumerable:!0})):(this.column=r,this.endColumn=w))}catch(z){}}var m=h(7)["default"];c.__esModule=!0;var u="description fileName lineNumber endLineNumber message name number stack".split(" ");
l.prototype=Error();c["default"]=l;b.exports=c["default"]},function(b,c,h){b.exports={"default":h(8),__esModule:!0}},function(b,c,h){var l=h(9);b.exports=function(b,c,h){return l.setDesc(b,c,h)}},function(b,c){c=Object;b.exports={create:c.create,getProto:c.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:c.getOwnPropertyDescriptor,setDesc:c.defineProperty,setDescs:c.defineProperties,getKeys:c.keys,getNames:c.getOwnPropertyNames,getSymbols:c.getOwnPropertySymbols,each:[].forEach}},function(b,
c,h){b=h(1)["default"];c.__esModule=!0;c.registerDefaultHelpers=function(b){l["default"](b);m["default"](b);u["default"](b);q["default"](b);x["default"](b);k["default"](b);p["default"](b)};c.moveHelperToHooks=function(b,c,k){b.helpers[c]&&(b.hooks[c]=b.helpers[c],k||delete b.helpers[c])};c=h(11);var l=b(c);c=h(12);var m=b(c);c=h(65);var u=b(c);c=h(66);var q=b(c);c=h(67);var x=b(c);c=h(68);var k=b(c);h=h(69);var p=b(h)},function(b,c,h){c.__esModule=!0;var l=h(5);c["default"]=function(b){b.registerHelper("blockHelperMissing",
function(c,h){var x=h.inverse,k=h.fn;if(!0===c)return k(this);if(!1===c||null==c)return x(this);if(l.isArray(c))return 0<c.length?(h.ids&&(h.ids=[h.name]),b.helpers.each(c,h)):x(this);h.data&&h.ids&&(x=l.createFrame(h.data),x.contextPath=l.appendContextPath(h.data.contextPath,h.name),h={data:x});return k(c,h)})};b.exports=c["default"]},function(b,c,h){var l=h(13)["default"],m=h(43)["default"],u=h(55)["default"],q=h(60)["default"],x=h(1)["default"];c.__esModule=!0;var k=h(5);h=h(6);var p=x(h);c["default"]=
function(b){b.registerHelper("each",function(b,c){function h(c,l,p){B&&(B.key=c,B.index=l,B.first=0===l,B.last=!!p,F&&(B.contextPath=F+c));y+=n(b[c],{data:B,blockParams:k.blockParams([b[c],c],[F+c,null])})}if(!c)throw new p["default"]("Must pass iterator to #each");var n=c.fn,r=c.inverse,x=0,y="",B=void 0,F=void 0;if(c.data&&c.ids&&(F=k.appendContextPath(c.data.contextPath,c.ids[0])+"."),k.isFunction(b)&&(b=b.call(this)),c.data&&(B=k.createFrame(c.data)),b&&"object"==typeof b)if(k.isArray(b))for(c=
b.length;x<c;x++)x in b&&h(x,x,x===b.length-1);else if("function"==typeof l&&b[m]){c=[];for(var C=u(b),I=C.next();!I.done;I=C.next())c.push(I.value);b=c;for(c=b.length;x<c;x++)h(x,x,x===b.length-1)}else!function(){var c=void 0;q(b).forEach(function(b){void 0!==c&&h(c,x-1);c=b;x++});void 0!==c&&h(c,x-1,!0)}();return 0===x&&(y=r(this)),y})};b.exports=c["default"]},function(b,c,h){b.exports={"default":h(14),__esModule:!0}},function(b,c,h){h(15);h(42);b.exports=h(21).Symbol},function(b,c,h){b=h(9);c=
h(16);var l=h(17),m=h(18),u=h(20),q=h(24),x=h(19),k=h(27),p=h(28),r=h(30),w=h(29),v=h(31),z=h(36),n=h(37),E=h(38),D=h(39),y=h(32),B=h(26),F=b.getDesc,C=b.setDesc,I=b.create,J=z.get,G=c.Symbol,K=c.JSON,L=K&&K.stringify,P=!1,M=w("_hidden"),R=b.isEnum,fa=k("symbol-registry"),W=k("symbols"),V="function"==typeof G,ba=Object.prototype,S=m&&x(function(){return 7!=I(C({},"a",{get:function(){return C(this,"a",{value:7}).a}})).a})?function(b,c,k){var h=F(ba,c);h&&delete ba[c];C(b,c,k);h&&b!==ba&&C(ba,c,h)}:
C,Q=function(b){var c=W[b]=I(G.prototype);return c._k=b,m&&P&&S(ba,b,{configurable:!0,set:function(c){l(this,M)&&l(this[M],b)&&(this[M][b]=!1);S(this,b,B(1,c))}}),c},N=function(b){return"symbol"==typeof b},Y=function(b,c,k){return k&&l(W,c)?(k.enumerable?(l(b,M)&&b[M][c]&&(b[M][c]=!1),k=I(k,{enumerable:B(0,!1)})):(l(b,M)||C(b,M,B(1,{})),b[M][c]=!0),S(b,c,k)):C(b,c,k)},ka=function(b,c){D(b);for(var k,h=n(c=y(c)),l=0,p=h.length;p>l;)Y(b,k=h[l++],c[k]);return b},k=function(b,c){return void 0===c?I(b):
ka(I(b),c)},X=function(b){var c=R.call(this,b);return!(c||!l(this,b)||!l(W,b)||l(this,M)&&this[M][b])||c},ia=function(b,c){var k=F(b=y(b),c);return!k||!l(W,c)||l(b,M)&&b[M][c]||(k.enumerable=!0),k},U=function(b){var c;b=J(y(b));for(var k=[],h=0;b.length>h;)l(W,c=b[h++])||c==M||k.push(c);return k},na=function(b){var c;b=J(y(b));for(var k=[],h=0;b.length>h;)l(W,c=b[h++])&&k.push(W[c]);return k},la=function(b){if(void 0!==b&&!N(b)){for(var c,k,h=[b],l=1,n=arguments;n.length>l;)h.push(n[l++]);return c=
h[1],"function"==typeof c&&(k=c),!k&&E(c)||(c=function(b,c){if(k&&(c=k.call(this,b,c)),!N(c))return c}),h[1]=c,L.apply(K,h)}},x=x(function(){var b=G();return"[null]"!=L([b])||"{}"!=L({a:b})||"{}"!=L(Object(b))});V||(G=function(){if(N(this))throw TypeError("Symbol is not a constructor");return Q(r(0<arguments.length?arguments[0]:void 0))},q(G.prototype,"toString",function(){return this._k}),N=function(b){return b instanceof G},b.create=k,b.isEnum=X,b.getDesc=ia,b.setDesc=Y,b.setDescs=ka,b.getNames=
z.get=U,b.getSymbols=na,m&&!h(41)&&q(ba,"propertyIsEnumerable",X,!0));var ea={"for":function(b){return l(fa,b+="")?fa[b]:fa[b]=G(b)},keyFor:function(b){return v(fa,b)},useSetter:function(){P=!0},useSimple:function(){P=!1}};b.each.call("hasInstance isConcatSpreadable iterator match replace search species split toPrimitive toStringTag unscopables".split(" "),function(b){var c=w(b);ea[b]=V?c:Q(c)});P=!0;u(u.G+u.W,{Symbol:G});u(u.S,"Symbol",ea);u(u.S+u.F*!V,"Object",{create:k,defineProperty:Y,defineProperties:ka,
getOwnPropertyDescriptor:ia,getOwnPropertyNames:U,getOwnPropertySymbols:na});K&&u(u.S+u.F*(!V||x),"JSON",{stringify:la});p(G,"Symbol");p(Math,"Math",!0);p(c.JSON,"JSON",!0)},function(b,c){b=b.exports="undefined"!=typeof window&&Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=b)},function(b,c){var h={}.hasOwnProperty;b.exports=function(b,c){return h.call(b,c)}},function(b,c,h){b.exports=!h(19)(function(){return 7!=Object.defineProperty({},
"a",{get:function(){return 7}}).a})},function(b,c){b.exports=function(b){try{return!!b()}catch(c){return!0}}},function(b,c,h){var l=h(16),m=h(21),u=h(22),q=function(b,c,h){var r,w,v=b&q.F,z=b&q.G,n=b&q.S,E=b&q.P,D=b&q.B;b&=q.W;var y=z?m:m[c]||(m[c]={}),n=z?l:n?l[c]:(l[c]||{}).prototype;z&&(h=c);for(r in h)(c=!v&&n&&r in n)&&r in y||(w=c?n[r]:h[r],y[r]=z&&"function"!=typeof n[r]?h[r]:D&&c?u(w,l):b&&n[r]==w?function(b){var c=function(c){return this instanceof b?new b(c):b(c)};return c.prototype=b.prototype,
c}(w):E&&"function"==typeof w?u(Function.call,w):w,E&&((y.prototype||(y.prototype={}))[r]=w))};q.F=1;q.G=2;q.S=4;q.P=8;q.B=16;q.W=32;b.exports=q},function(b,c){b=b.exports={version:"1.2.6"};"number"==typeof __e&&(__e=b)},function(b,c,h){var l=h(23);b.exports=function(b,c,h){if(l(b),void 0===c)return b;switch(h){case 1:return function(h){return b.call(c,h)};case 2:return function(h,k){return b.call(c,h,k)};case 3:return function(h,k,l){return b.call(c,h,k,l)}}return function(){return b.apply(c,arguments)}}},
function(b,c){b.exports=function(b){if("function"!=typeof b)throw TypeError(b+" is not a function!");return b}},function(b,c,h){b.exports=h(25)},function(b,c,h){var l=h(9),m=h(26);b.exports=h(18)?function(b,c,h){return l.setDesc(b,c,m(1,h))}:function(b,c,h){return b[c]=h,b}},function(b,c){b.exports=function(b,c){return{enumerable:!(1&b),configurable:!(2&b),writable:!(4&b),value:c}}},function(b,c,h){c=h(16);var l=c["__core-js_shared__"]||(c["__core-js_shared__"]={});b.exports=function(b){return l[b]||
(l[b]={})}},function(b,c,h){var l=h(9).setDesc,m=h(17),u=h(29)("toStringTag");b.exports=function(b,c,k){b&&!m(b=k?b:b.prototype,u)&&l(b,u,{configurable:!0,value:c})}},function(b,c,h){var l=h(27)("wks"),m=h(30),u=h(16).Symbol;b.exports=function(b){return l[b]||(l[b]=u&&u[b]||(u||m)("Symbol."+b))}},function(b,c){var h=0,l=Math.random();b.exports=function(b){return"Symbol(".concat(void 0===b?"":b,")_",(++h+l).toString(36))}},function(b,c,h){var l=h(9),m=h(32);b.exports=function(b,c){for(var h=m(b),k=
l.getKeys(h),p=k.length,r=0;p>r;)if(h[b=k[r++]]===c)return b}},function(b,c,h){var l=h(33),m=h(35);b.exports=function(b){return l(m(b))}},function(b,c,h){var l=h(34);b.exports=Object("z").propertyIsEnumerable(0)?Object:function(b){return"String"==l(b)?b.split(""):Object(b)}},function(b,c){var h={}.toString;b.exports=function(b){return h.call(b).slice(8,-1)}},function(b,c){b.exports=function(b){if(void 0==b)throw TypeError("Can't call method on  "+b);return b}},function(b,c,h){var l=h(32),m=h(9).getNames,
u={}.toString,q="object"==typeof window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];b.exports.get=function(b){var c;if(q&&"[object Window]"==u.call(b))try{c=m(b)}catch(h){c=q.slice()}else c=m(l(b));return c}},function(b,c,h){var l=h(9);b.exports=function(b){var c=l.getKeys(b),h=l.getSymbols;if(h)for(var x,h=h(b),k=l.isEnum,p=0;h.length>p;)k.call(b,x=h[p++])&&c.push(x);return c}},function(b,c,h){var l=h(34);b.exports=Array.isArray||function(b){return"Array"==l(b)}},function(b,
c,h){var l=h(40);b.exports=function(b){if(!l(b))throw TypeError(b+" is not an object!");return b}},function(b,c){b.exports=function(b){return"object"==typeof b?null!==b:"function"==typeof b}},function(b,c){b.exports=!0},function(b,c){},function(b,c,h){b.exports={"default":h(44),__esModule:!0}},function(b,c,h){h(45);h(51);b.exports=h(29)("iterator")},function(b,c,h){var l=h(46)(!0);h(48)(String,"String",function(b){this._t=String(b);this._i=0},function(){var b,c=this._t,h=this._i;return h>=c.length?
{value:void 0,done:!0}:(b=l(c,h),this._i+=b.length,{value:b,done:!1})})},function(b,c,h){var l=h(47),m=h(35);b.exports=function(b){return function(c,h){var k,p;c=String(m(c));h=l(h);var r=c.length;return 0>h||h>=r?b?"":void 0:(k=c.charCodeAt(h),55296>k||56319<k||h+1===r||56320>(p=c.charCodeAt(h+1))||57343<p?b?c.charAt(h):k:b?c.slice(h,h+2):(k-55296<<10)+(p-56320)+65536)}}},function(b,c){var h=Math.ceil,l=Math.floor;b.exports=function(b){return isNaN(b=+b)?0:(0<b?l:h)(b)}},function(b,c,h){var l=h(41),
m=h(20),u=h(24),q=h(25),x=h(17),k=h(49),p=h(50),r=h(28),w=h(9).getProto,v=h(29)("iterator"),z=!([].keys&&"next"in[].keys()),n=function(){return this};b.exports=function(b,c,h,B,F,C,I){p(h,c,B);var J,G;B=function(b){return!z&&b in M?M[b]:function(){return new h(this,b)}};var K=c+" Iterator",L="values"==F,P=!1,M=b.prototype,R=M[v]||M["@@iterator"]||F&&M[F],fa=R||B(F);R&&(b=w(fa.call(new b)),r(b,K,!0),!l&&x(M,"@@iterator")&&q(b,v,n),L&&"values"!==R.name&&(P=!0,fa=function(){return R.call(this)}));if(l&&
!I||!z&&!P&&M[v]||q(M,v,fa),k[c]=fa,k[K]=n,F)if(J={values:L?fa:B("values"),keys:C?fa:B("keys"),entries:L?B("entries"):fa},I)for(G in J)G in M||u(M,G,J[G]);else m(m.P+m.F*(z||P),c,J);return J}},function(b,c){b.exports={}},function(b,c,h){var l=h(9),m=h(26),u=h(28),q={};h(25)(q,h(29)("iterator"),function(){return this});b.exports=function(b,c,h){b.prototype=l.create(q,{next:m(1,h)});u(b,c+" Iterator")}},function(b,c,h){h(52);b=h(49);b.NodeList=b.HTMLCollection=b.Array},function(b,c,h){c=h(53);var l=
h(54),m=h(49),u=h(32);b.exports=h(48)(Array,"Array",function(b,c){this._t=u(b);this._i=0;this._k=c},function(){var b=this._t,c=this._k,k=this._i++;return!b||k>=b.length?(this._t=void 0,l(1)):"keys"==c?l(0,k):"values"==c?l(0,b[k]):l(0,[k,b[k]])},"values");m.Arguments=m.Array;c("keys");c("values");c("entries")},function(b,c){b.exports=function(){}},function(b,c){b.exports=function(b,c){return{value:c,done:!!b}}},function(b,c,h){b.exports={"default":h(56),__esModule:!0}},function(b,c,h){h(51);h(45);
b.exports=h(57)},function(b,c,h){var l=h(39),m=h(58);b.exports=h(21).getIterator=function(b){var c=m(b);if("function"!=typeof c)throw TypeError(b+" is not iterable!");return l(c.call(b))}},function(b,c,h){var l=h(59),m=h(29)("iterator"),u=h(49);b.exports=h(21).getIteratorMethod=function(b){if(void 0!=b)return b[m]||b["@@iterator"]||u[l(b)]}},function(b,c,h){var l=h(34),m=h(29)("toStringTag"),u="Arguments"==l(function(){return arguments}());b.exports=function(b){var c,k,h;return void 0===b?"Undefined":
null===b?"Null":"string"==typeof(k=(c=Object(b))[m])?k:u?l(c):"Object"==(h=l(c))&&"function"==typeof c.callee?"Arguments":h}},function(b,c,h){b.exports={"default":h(61),__esModule:!0}},function(b,c,h){h(62);b.exports=h(21).Object.keys},function(b,c,h){var l=h(63);h(64)("keys",function(b){return function(c){return b(l(c))}})},function(b,c,h){var l=h(35);b.exports=function(b){return Object(l(b))}},function(b,c,h){var l=h(20),m=h(21),u=h(19);b.exports=function(b,c){var k=(m.Object||{})[b]||Object[b],
h={};h[b]=c(k);l(l.S+l.F*u(function(){k(1)}),"Object",h)}},function(b,c,h){var l=h(1)["default"];c.__esModule=!0;h=h(6);var m=l(h);c["default"]=function(b){b.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new m["default"]('Missing helper: "'+arguments[arguments.length-1].name+'"');})};b.exports=c["default"]},function(b,c,h){var l=h(1)["default"];c.__esModule=!0;var m=h(5);h=h(6);var u=l(h);c["default"]=function(b){b.registerHelper("if",function(b,c){if(2!=arguments.length)throw new u["default"]("#if requires exactly one argument");
return m.isFunction(b)&&(b=b.call(this)),!c.hash.includeZero&&!b||m.isEmpty(b)?c.inverse(this):c.fn(this)});b.registerHelper("unless",function(c,k){if(2!=arguments.length)throw new u["default"]("#unless requires exactly one argument");return b.helpers["if"].call(this,c,{fn:k.inverse,inverse:k.fn,hash:k.hash})})};b.exports=c["default"]},function(b,c){c.__esModule=!0;c["default"]=function(b){b.registerHelper("log",function(){for(var c=[void 0],m=arguments[arguments.length-1],u=0;u<arguments.length-
1;u++)c.push(arguments[u]);u=1;null!=m.hash.level?u=m.hash.level:m.data&&null!=m.data.level&&(u=m.data.level);c[0]=u;b.log.apply(b,c)})};b.exports=c["default"]},function(b,c){c.__esModule=!0;c["default"]=function(b){b.registerHelper("lookup",function(b,c,h){return b?h.lookupProperty(b,c):b})};b.exports=c["default"]},function(b,c,h){var l=h(1)["default"];c.__esModule=!0;var m=h(5);h=h(6);var u=l(h);c["default"]=function(b){b.registerHelper("with",function(b,c){if(2!=arguments.length)throw new u["default"]("#with requires exactly one argument");
m.isFunction(b)&&(b=b.call(this));var h=c.fn;if(m.isEmpty(b))return c.inverse(this);var l=c.data;return c.data&&c.ids&&(l=m.createFrame(c.data),l.contextPath=m.appendContextPath(c.data.contextPath,c.ids[0])),h(b,{data:l,blockParams:m.blockParams([b],[l&&l.contextPath])})})};b.exports=c["default"]},function(b,c,h){b=h(1)["default"];c.__esModule=!0;c.registerDefaultDecorators=function(b){l["default"](b)};c=h(71);var l=b(c)},function(b,c,h){c.__esModule=!0;var l=h(5);c["default"]=function(b){b.registerDecorator("inline",
function(b,c,h,k){var p=b;return c.partials||(c.partials={},p=function(k,p){var v=h.partials;h.partials=l.extend({},v,c.partials);k=b(k,p);return h.partials=v,k}),c.partials[k.args[0]]=k.fn,p})};b.exports=c["default"]},function(b,c,h){c.__esModule=!0;var l=h(5),m={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(b){if("string"==typeof b){var c=l.indexOf(m.methodMap,b.toLowerCase());b=0<=c?c:parseInt(b,10)}return b},log:function(b){if(b=m.lookupLevel(b),"undefined"!=typeof console&&
m.lookupLevel(m.level)<=b){var c=m.methodMap[b];console[c]||(c="log");for(var h=arguments.length,k=Array(1<h?h-1:0),l=1;l<h;l++)k[l-1]=arguments[l];console[c].apply(console,k)}}};c["default"]=m;b.exports=c["default"]},function(b,c,h){function l(b,c){void 0!==b.whitelist[c]?b=!0===b.whitelist[c]:void 0!==b.defaultValue?b=b.defaultValue:(!0!==k[c]&&(k[c]=!0,x["default"].log("error",'Handlebars: Access has been denied to resolve the property "'+c+'" because it is not an "own property" of its parent.\nYou can add a runtime option to disable the check or this warning:\nSee https://handlebarsjs.com/api-reference/runtime-options.html#options-to-control-prototype-access for details')),
b=!1);return b}var m=h(74)["default"],u=h(60)["default"];b=h(1)["default"];c.__esModule=!0;c.createProtoAccessControl=function(b){var c=m(null);c.constructor=!1;c.__defineGetter__=!1;c.__defineSetter__=!1;c.__lookupGetter__=!1;var k=m(null);return k.__proto__=!1,{properties:{whitelist:q.createNewLookupObject(k,b.allowedProtoProperties),defaultValue:b.allowProtoPropertiesByDefault},methods:{whitelist:q.createNewLookupObject(c,b.allowedProtoMethods),defaultValue:b.allowProtoMethodsByDefault}}};c.resultIsAllowed=
function(b,c,k){return"function"==typeof b?l(c.methods,k):l(c.properties,k)};c.resetLoggedProperties=function(){u(k).forEach(function(b){delete k[b]})};var q=h(76);c=h(72);var x=b(c),k=m(null)},function(b,c,h){b.exports={"default":h(75),__esModule:!0}},function(b,c,h){var l=h(9);b.exports=function(b,c){return l.create(b,c)}},function(b,c,h){var l=h(74)["default"];c.__esModule=!0;c.createNewLookupObject=function(){for(var b=arguments.length,c=Array(b),h=0;h<b;h++)c[h]=arguments[h];return m.extend.apply(void 0,
[l(null)].concat(c))};var m=h(5)},function(b,c){function h(b){this.string=b}c.__esModule=!0;h.prototype.toString=h.prototype.toHTML=function(){return""+this.string};c["default"]=h;b.exports=c["default"]},function(b,c,h){function l(b,c,k,h,l,n,p){function r(c){var l=1>=arguments.length||void 0===arguments[1]?{}:arguments[1],q=p;return!p||c==p[0]||c===b.nullContext&&null===p[0]||(q=[c].concat(p)),k(b,c,b.helpers,b.partials,l.data||h,n&&[l.blockParams].concat(n),q)}return r=q(k,r,b,p,h,n),r.program=
c,r.depth=p?p.length:0,r.blockParams=l||0,r}function m(){return""}function u(b,c){return c&&"root"in c||(c=c?n.createFrame(c):{},c.root=b),c}function q(b,c,k,h,l,n){if(b.decorator){var p={};c=b.decorator(c,p,k,h&&h[0],l,n,h);v.extend(c,p)}return c}function x(b,c){r(b).forEach(function(h){b[h]=k(b[h],c)})}function k(b,c){var k=c.lookupProperty;return D.wrapHelper(b,function(b){return v.extend({lookupProperty:k},b)})}var p=h(79)["default"],r=h(60)["default"],w=h(3)["default"];b=h(1)["default"];c.__esModule=
!0;c.checkRevision=function(b){var c=b&&b[0]||1,k=n.COMPILER_REVISION;if(!(c>=n.LAST_COMPATIBLE_COMPILER_REVISION&&c<=n.COMPILER_REVISION)){if(c<n.LAST_COMPATIBLE_COMPILER_REVISION)throw new z["default"]("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+n.REVISION_CHANGES[k]+") or downgrade your runtime to an older version ("+n.REVISION_CHANGES[c]+").");throw new z["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+
b[1]+").");}};c.template=function(b,c){function k(c){function h(c){return""+b.main(n,c,n.helpers,n.partials,p,w,r)}var l=1>=arguments.length||void 0===arguments[1]?{}:arguments[1],p=l.data;k._setup(l);!l.partial&&b.useData&&(p=u(c,p));var r=void 0,w=b.useBlockParams?[]:void 0;return b.useDepths&&(r=l.depths?c!=l.depths[0]?[c].concat(l.depths):l.depths:[c]),(h=q(b.main,h,n,l.depths||[],p,w))(c,l)}if(!c)throw new z["default"]("No environment passed to template");if(!b||!b.main)throw new z["default"]("Unknown template object: "+
typeof b);b.main.decorator=b.main_d;c.VM.checkRevision(b.compiler);var h=b.compiler&&7===b.compiler[0],n={strict:function(b,c,k){if(!(b&&c in b))throw new z["default"]('"'+c+'" not defined in '+b,{loc:k});return n.lookupProperty(b,c)},lookupProperty:function(b,c){var k=b[c];return null==k?k:Object.prototype.hasOwnProperty.call(b,c)?k:y.resultIsAllowed(k,n.protoAccessControl,c)?k:void 0},lookup:function(b,c){for(var k=b.length,h=0;h<k;h++)if(null!=(b[h]&&n.lookupProperty(b[h],c)))return b[h][c]},lambda:function(b,
c){return"function"==typeof b?b.call(c):b},escapeExpression:v.escapeExpression,invokePartial:function(k,h,l){l.hash&&(h=v.extend({},h,l.hash),l.ids&&(l.ids[0]=!0));k=c.VM.resolvePartial.call(this,k,h,l);var n=v.extend({},l,{hooks:this.hooks,protoAccessControl:this.protoAccessControl}),p=c.VM.invokePartial.call(this,k,h,n);if(null==p&&c.compile&&(l.partials[l.name]=c.compile(k,b.compilerOptions,c),p=l.partials[l.name](h,n)),null!=p){if(l.indent){k=p.split("\n");h=0;for(n=k.length;h<n&&(k[h]||h+1!==
n);h++)k[h]=l.indent+k[h];p=k.join("\n")}return p}throw new z["default"]("The partial "+l.name+" could not be compiled when running in runtime-only mode");},fn:function(c){var k=b[c];return k.decorator=b[c+"_d"],k},programs:[],program:function(b,c,k,h,n){var p=this.programs[b],r=this.fn(b);return c||n||h||k?p=l(this,b,r,c,k,h,n):p||(p=this.programs[b]=l(this,b,r)),p},data:function(b,c){for(;b&&c--;)b=b._parent;return b},mergeIfNeeded:function(b,c){var k=b||c;return b&&c&&b!==c&&(k=v.extend({},c,b)),
k},nullContext:p({}),noop:c.VM.noop,compilerInfo:b.compiler};return k.isTop=!0,k._setup=function(k){if(k.partial)n.protoAccessControl=k.protoAccessControl,n.helpers=k.helpers,n.partials=k.partials,n.decorators=k.decorators,n.hooks=k.hooks;else{var l=v.extend({},c.helpers,k.helpers);x(l,n);n.helpers=l;b.usePartial&&(n.partials=n.mergeIfNeeded(k.partials,c.partials));(b.usePartial||b.useDecorators)&&(n.decorators=v.extend({},c.decorators,k.decorators));n.hooks={};n.protoAccessControl=y.createProtoAccessControl(k);
k=k.allowCallsToHelperMissing||h;E.moveHelperToHooks(n,"helperMissing",k);E.moveHelperToHooks(n,"blockHelperMissing",k)}},k._child=function(c,k,h,p){if(b.useBlockParams&&!h)throw new z["default"]("must pass block params");if(b.useDepths&&!p)throw new z["default"]("must pass parent depths");return l(n,c,b[c],k,0,h,p)},k};c.wrapProgram=l;c.resolvePartial=function(b,c,k){return b?b.call||k.name||(k.name=b,b=k.partials[b]):b="@partial-block"===k.name?k.data["partial-block"]:k.partials[k.name],b};c.invokePartial=
function(b,c,k){var h=k.data&&k.data["partial-block"];k.partial=!0;k.ids&&(k.data.contextPath=k.ids[0]||k.data.contextPath);var l=void 0;if(k.fn&&k.fn!==m&&!function(){k.data=n.createFrame(k.data);var b=k.fn;l=k.data["partial-block"]=function(c){var k=1>=arguments.length||void 0===arguments[1]?{}:arguments[1];return k.data=n.createFrame(k.data),k.data["partial-block"]=h,b(c,k)};b.partials&&(k.partials=v.extend({},k.partials,b.partials))}(),void 0===b&&l&&(b=l),void 0===b)throw new z["default"]("The partial "+
k.name+" could not be found");if(b instanceof Function)return b(c,k)};c.noop=m;c=h(5);var v=w(c);c=h(6);var z=b(c),n=h(4),E=h(10),D=h(82),y=h(73)},function(b,c,h){b.exports={"default":h(80),__esModule:!0}},function(b,c,h){h(81);b.exports=h(21).Object.seal},function(b,c,h){var l=h(40);h(64)("seal",function(b){return function(c){return b&&l(c)?b(c):c}})},function(b,c){c.__esModule=!0;c.wrapHelper=function(b,c){return"function"!=typeof b?b:function(){return arguments[arguments.length-1]=c(arguments[arguments.length-
1]),b.apply(this,arguments)}}},function(b,c){c.__esModule=!0;c["default"]=function(b){!function(){"object"!=typeof globalThis&&(Object.prototype.__defineGetter__("__magic__",function(){return this}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__)}();var c=globalThis.Handlebars;b.noConflict=function(){return globalThis.Handlebars===b&&(globalThis.Handlebars=c),b}};b.exports=c["default"]},function(b,c){c.__esModule=!0;var h={helpers:{helperExpression:function(b){return"SubExpression"===
b.type||("MustacheStatement"===b.type||"BlockStatement"===b.type)&&!!(b.params&&b.params.length||b.hash)},scopedId:function(b){return/^\.|this\b/.test(b.original)},simpleId:function(b){return 1===b.parts.length&&!h.helpers.scopedId(b)&&!b.depth}}};c["default"]=h;b.exports=c["default"]},function(b,c,h){function l(b,c){if("Program"===b.type)return b;q["default"].yy=k;k.locInfo=function(b){return new k.SourceLocation(c&&c.srcName,b)};return q["default"].parse(b)}var m=h(1)["default"];b=h(3)["default"];
c.__esModule=!0;c.parseWithoutProcessing=l;c.parse=function(b,c){b=l(b,c);return(new x["default"](c)).accept(b)};var u=h(86),q=m(u),u=h(87),x=m(u),m=h(89);b=b(m);h=h(5);c.parser=q["default"];var k={};h.extend(k,b)},function(b,c){c.__esModule=!0;var h=function(){function b(){this.yy={}}var c={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition0:17,
END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,
inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,
hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",
55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,
1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,0],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function(b,c,k,h,l,w,v){b=w.length-1;switch(l){case 1:return w[b-
1];case 2:this.$=h.prepareProgram(w[b]);break;case 3:this.$=w[b];break;case 4:this.$=w[b];break;case 5:this.$=w[b];break;case 6:this.$=w[b];break;case 7:this.$=w[b];break;case 8:this.$=w[b];break;case 9:this.$={type:"CommentStatement",value:h.stripComment(w[b]),strip:h.stripFlags(w[b],w[b]),loc:h.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:w[b],value:w[b],loc:h.locInfo(this._$)};break;case 11:this.$=h.prepareRawBlock(w[b-2],w[b-1],w[b],this._$);break;case 12:this.$={path:w[b-
3],params:w[b-2],hash:w[b-1]};break;case 13:this.$=h.prepareBlock(w[b-3],w[b-2],w[b-1],w[b],!1,this._$);break;case 14:this.$=h.prepareBlock(w[b-3],w[b-2],w[b-1],w[b],!0,this._$);break;case 15:this.$={open:w[b-5],path:w[b-4],params:w[b-3],hash:w[b-2],blockParams:w[b-1],strip:h.stripFlags(w[b-5],w[b])};break;case 16:this.$={path:w[b-4],params:w[b-3],hash:w[b-2],blockParams:w[b-1],strip:h.stripFlags(w[b-5],w[b])};break;case 17:this.$={path:w[b-4],params:w[b-3],hash:w[b-2],blockParams:w[b-1],strip:h.stripFlags(w[b-
5],w[b])};break;case 18:this.$={strip:h.stripFlags(w[b-1],w[b-1]),program:w[b]};break;case 19:l=h.prepareBlock(w[b-2],w[b-1],w[b],w[b],!1,this._$);h=h.prepareProgram([l],w[b-1].loc);h.chained=!0;this.$={strip:w[b-2].strip,program:h,chain:!0};break;case 20:this.$=w[b];break;case 21:this.$={path:w[b-1],strip:h.stripFlags(w[b-2],w[b])};break;case 22:this.$=h.prepareMustache(w[b-3],w[b-2],w[b-1],w[b-4],h.stripFlags(w[b-4],w[b]),this._$);break;case 23:this.$=h.prepareMustache(w[b-3],w[b-2],w[b-1],w[b-
4],h.stripFlags(w[b-4],w[b]),this._$);break;case 24:this.$={type:"PartialStatement",name:w[b-3],params:w[b-2],hash:w[b-1],indent:"",strip:h.stripFlags(w[b-4],w[b]),loc:h.locInfo(this._$)};break;case 25:this.$=h.preparePartialBlock(w[b-2],w[b-1],w[b],this._$);break;case 26:this.$={path:w[b-3],params:w[b-2],hash:w[b-1],strip:h.stripFlags(w[b-4],w[b])};break;case 27:this.$=w[b];break;case 28:this.$=w[b];break;case 29:this.$={type:"SubExpression",path:w[b-3],params:w[b-2],hash:w[b-1],loc:h.locInfo(this._$)};
break;case 30:this.$={type:"Hash",pairs:w[b],loc:h.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:h.id(w[b-2]),value:w[b],loc:h.locInfo(this._$)};break;case 32:this.$=h.id(w[b-1]);break;case 33:this.$=w[b];break;case 34:this.$=w[b];break;case 35:this.$={type:"StringLiteral",value:w[b],original:w[b],loc:h.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(w[b]),original:Number(w[b]),loc:h.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:"true"===
w[b],original:"true"===w[b],loc:h.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:void 0,value:void 0,loc:h.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:h.locInfo(this._$)};break;case 40:this.$=w[b];break;case 41:this.$=w[b];break;case 42:this.$=h.preparePath(!0,w[b],this._$);break;case 43:this.$=h.preparePath(!1,w[b],this._$);break;case 44:w[b-2].push({part:h.id(w[b]),original:w[b],separator:w[b-1]});this.$=w[b-2];break;case 45:this.$=
[{part:h.id(w[b]),original:w[b]}];break;case 46:this.$=[];break;case 47:w[b-1].push(w[b]);break;case 48:this.$=[];break;case 49:w[b-1].push(w[b]);break;case 50:this.$=[];break;case 51:w[b-1].push(w[b]);break;case 58:this.$=[];break;case 59:w[b-1].push(w[b]);break;case 64:this.$=[];break;case 65:w[b-1].push(w[b]);break;case 70:this.$=[];break;case 71:w[b-1].push(w[b]);break;case 78:this.$=[];break;case 79:w[b-1].push(w[b]);break;case 82:this.$=[];break;case 83:w[b-1].push(w[b]);break;case 86:this.$=
[];break;case 87:w[b-1].push(w[b]);break;case 90:this.$=[];break;case 91:w[b-1].push(w[b]);break;case 94:this.$=[];break;case 95:w[b-1].push(w[b]);break;case 98:this.$=[w[b]];break;case 99:w[b-1].push(w[b]);break;case 100:this.$=[w[b]];break;case 101:w[b-1].push(w[b])}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,
21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],
29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,
9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{15:[2,48],
17:39,18:[2,48]},{20:41,56:40,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:44,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:45,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:46,72:[1,35],78:26,
79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:41,56:48,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:49,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,
33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],
82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,50]},{72:[1,35],86:51},{23:[2,45],33:[2,45],54:[2,45],65:[2,
45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:52,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:53,38:55,39:[1,57],43:56,44:[1,58],45:54,47:[2,54]},{28:59,43:60,44:[1,58],47:[2,56]},{13:62,15:[1,20],18:[1,61]},{33:[2,86],57:63,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,
40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:64,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:65,47:[1,66]},{30:67,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:68,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:69,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],
84:[2,50],85:[2,50]},{33:[2,90],61:70,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:74,33:[2,80],50:71,63:72,64:75,65:[1,43],69:73,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,79]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,50]},{20:74,53:80,54:[2,84],63:81,64:75,65:[1,43],69:82,70:76,71:77,72:[1,78],78:26,
79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:83,47:[1,66]},{47:[2,55]},{4:84,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:85,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:86,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:87,47:[1,66]},{47:[2,57]},{5:[2,11],14:[2,11],
15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:74,33:[2,88],58:88,63:89,64:75,65:[1,43],69:90,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:91,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],
60:[2,25]},{20:92,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,31:93,33:[2,60],63:94,64:75,65:[1,43],69:95,70:76,71:77,72:[1,78],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,66],36:96,63:97,64:75,65:[1,43],69:98,70:76,71:77,72:[1,78],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,22:99,23:[2,52],63:100,64:75,65:[1,43],69:101,70:76,71:77,72:[1,
78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,92],62:102,63:103,64:75,65:[1,43],69:104,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,105]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,
28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:106,72:[1,107],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,108],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],
83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,109]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:55,39:[1,57],43:56,44:[1,58],45:111,46:110,47:[2,76]},{33:[2,70],40:112,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,
14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,113]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:74,63:115,64:75,65:[1,43],67:114,68:[2,96],69:116,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,117]},{32:118,33:[2,62],74:119,75:[1,120]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,
59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:121,74:122,75:[1,120]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,123]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,124]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],
44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,108]},{20:74,63:125,64:75,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:74,33:[2,72],41:126,63:127,64:75,65:[1,43],69:128,70:76,71:77,72:[1,78],75:[2,72],78:26,
79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,129]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,130]},{33:[2,63]},{72:[1,132],76:131},{33:[1,
133]},{33:[2,69]},{15:[2,12],18:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:134,74:135,75:[1,120]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,
15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,137],77:[1,136]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,138]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],54:[2,55],56:[2,20],
60:[2,57],73:[2,81],82:[2,85],86:[2,18],90:[2,89],101:[2,53],104:[2,93],110:[2,19],111:[2,77],116:[2,97],119:[2,63],122:[2,69],135:[2,75],136:[2,32]},parseError:function(b,c){throw Error(b);},parse:function(b){var c=[0],k=[null],h=[],l=this.table,w="",v=0,m=0,n=0;this.lexer.setInput(b);this.lexer.yy=this.yy;this.yy.lexer=this.lexer;this.yy.parser=this;"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});b=this.lexer.yylloc;h.push(b);var u=this.lexer.options&&this.lexer.options.ranges;"function"==
typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var D,y,B,F,C,I,J,G,K={};;){B=c[c.length-1];if(this.defaultActions[B])F=this.defaultActions[B];else{if(null===D||"undefined"==typeof D)F=void 0,D=(F=this.lexer.lex()||1,"number"!=typeof F&&(F=this.symbols_[F]||F),F);F=l[B]&&l[B][D]}if("undefined"==typeof F||!F.length||!F[0]){var L;if(!n){G=[];for(I in l[B])this.terminals_[I]&&2<I&&G.push("'"+this.terminals_[I]+"'");L=this.lexer.showPosition?"Parse error on line "+(v+1)+":\n"+this.lexer.showPosition()+
"\nExpecting "+G.join(", ")+", got '"+(this.terminals_[D]||D)+"'":"Parse error on line "+(v+1)+": Unexpected "+(1==D?"end of input":"'"+(this.terminals_[D]||D)+"'");this.parseError(L,{text:this.lexer.match,token:this.terminals_[D]||D,line:this.lexer.yylineno,loc:b,expected:G})}}if(F[0]instanceof Array&&1<F.length)throw Error("Parse Error: multiple actions possible at state: "+B+", token: "+D);switch(F[0]){case 1:c.push(D);k.push(this.lexer.yytext);h.push(this.lexer.yylloc);c.push(F[1]);D=null;y?(D=
y,y=null):(m=this.lexer.yyleng,w=this.lexer.yytext,v=this.lexer.yylineno,b=this.lexer.yylloc,0<n&&n--);break;case 2:if(J=this.productions_[F[1]][1],K.$=k[k.length-J],K._$={first_line:h[h.length-(J||1)].first_line,last_line:h[h.length-1].last_line,first_column:h[h.length-(J||1)].first_column,last_column:h[h.length-1].last_column},u&&(K._$.range=[h[h.length-(J||1)].range[0],h[h.length-1].range[1]]),C=this.performAction.call(K,w,m,v,this.yy,F[1],k,h),"undefined"!=typeof C)return C;J&&(c=c.slice(0,-2*
J),k=k.slice(0,-1*J),h=h.slice(0,-1*J));c.push(this.productions_[F[1]][0]);k.push(K.$);h.push(K._$);B=l[c[c.length-2]][c[c.length-1]];c.push(B);break;case 3:return!0}}}},h=function(){var b={EOF:1,parseError:function(b,c){if(!this.yy.parser)throw Error(b);this.yy.parser.parseError(b,c)},setInput:function(b){return this._input=b,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,
last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var b=this._input[0];this.yytext+=b;this.yyleng++;this.offset++;this.match+=b;this.matched+=b;return b.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),b},unput:function(b){var c=b.length,h=b.split(/(?:\r\n?|\n)/g);this._input=b+this._input;this.yytext=this.yytext.substr(0,
this.yytext.length-c-1);this.offset-=c;b=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);h.length-1&&(this.yylineno-=h.length-1);var l=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:h?(h.length===b.length?this.yylloc.first_column:0)+b[b.length-h.length].length-h[0].length:this.yylloc.first_column-c},this.options.ranges&&
(this.yylloc.range=[l[0],l[0]+this.yyleng-c]),this},more:function(){return this._more=!0,this},less:function(b){this.unput(this.match.slice(b))},pastInput:function(){var b=this.matched.substr(0,this.matched.length-this.match.length);return(20<b.length?"...":"")+b.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var b=this.match;return 20>b.length&&(b+=this._input.substr(0,20-b.length)),(b.substr(0,20)+(20<b.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var b=this.pastInput(),
c=Array(b.length+1).join("-");return b+this.upcomingInput()+"\n"+c+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var b,c,h,l,w;this._more||(this.yytext="",this.match="");for(var v=this._currentRules(),q=0;q<v.length&&(h=this._input.match(this.rules[v[q]]),!h||c&&!(h[0].length>c[0].length)||(c=h,l=q,this.options.flex));q++);return c?(w=c[0].match(/(?:\r\n?|\n).*/g),w&&(this.yylineno+=w.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,
last_column:w?w[w.length-1].length-w[w.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+c[0].length},this.yytext+=c[0],this.match+=c[0],this.matches=c,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(c[0].length),this.matched+=c[0],b=this.performAction.call(this,this.yy,this,v[l],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),b?b:void 0):""===
this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var b=this.next();return"undefined"!=typeof b?b:this.lex()},begin:function(b){this.conditionStack.push(b)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-
2]},pushState:function(b){this.begin(b)}};return b.options={},b.performAction=function(b,c,h,l){function w(b,h){return c.yytext=c.yytext.substring(b,c.yyleng-h+b)}switch(h){case 0:if("\\\\"===c.yytext.slice(-2)?(w(0,1),this.begin("mu")):"\\"===c.yytext.slice(-1)?(w(0,1),this.begin("emu")):this.begin("mu"),c.yytext)return 15;break;case 1:return 15;case 2:return this.popState(),15;case 3:return this.begin("raw"),15;case 4:return this.popState(),"raw"===this.conditionStack[this.conditionStack.length-
1]?15:(w(5,9),"END_RAW_BLOCK");case 5:return 15;case 6:return this.popState(),14;case 7:return 65;case 8:return 68;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:return this.popState(),44;case 16:return this.popState(),44;case 17:return 34;case 18:return 39;case 19:return 51;case 20:return 48;case 21:this.unput(c.yytext);this.popState();this.begin("com");break;case 22:return this.popState(),14;case 23:return 48;
case 24:return 73;case 25:return 72;case 26:return 72;case 27:return 87;case 29:return this.popState(),54;case 30:return this.popState(),33;case 31:return c.yytext=w(1,2).replace(/\\"/g,'"'),80;case 32:return c.yytext=w(1,2).replace(/\\'/g,"'"),80;case 33:return 85;case 34:return 82;case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 41:return 72;case 42:return c.yytext=c.yytext.replace(/\\([\\\]])/g,"$1"),72;case 43:return"INVALID";case 44:return 5}},
b.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]+?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,
/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/],
b.conditions={mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}},b}();return c.lexer=h,b.prototype=c,c.Parser=b,new b}();c["default"]=h;b.exports=c["default"]},function(b,c,h){function l(){this.options=0>=arguments.length||void 0===arguments[0]?{}:arguments[0]}function m(b,c,k){void 0===
c&&(c=b.length);var h=b[c-1];b=b[c-2];return h?"ContentStatement"===h.type?(b||!k?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(h.original):void 0:k}function u(b,c,k){void 0===c&&(c=-1);var h=b[c+1];b=b[c+2];return h?"ContentStatement"===h.type?(b||!k?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(h.original):void 0:k}function q(b,c,k){!(b=b[null==c?0:c+1])||"ContentStatement"!==b.type||!k&&b.rightStripped||(c=b.value,b.value=b.value.replace(k?/^\s+/:/^[ \t]*\r?\n?/,""),b.rightStripped=b.value!==c)}function x(b,c,k){if((b=
b[null==c?b.length-1:c-1])&&"ContentStatement"===b.type&&(k||!b.leftStripped))return c=b.value,b.value=b.value.replace(k?/\s+$/:/[ \t]+$/,""),b.leftStripped=b.value!==c,b.leftStripped}var k=h(1)["default"];c.__esModule=!0;h=h(88);k=k(h);l.prototype=new k["default"];l.prototype.Program=function(b){var c=!this.options.ignoreStandalone,k=!this.isRootSeen;this.isRootSeen=!0;for(var h=b.body,l=0,n=h.length;l<n;l++){var E=h[l],D=this.accept(E);if(D){var y=m(h,l,k),B=u(h,l,k),F=D.openStandalone&&y,C=D.closeStandalone&&
B,y=D.inlineStandalone&&y&&B;D.close&&q(h,l,!0);D.open&&x(h,l,!0);c&&y&&(q(h,l),x(h,l)&&"PartialStatement"===E.type&&(E.indent=/([ \t]+$)/.exec(h[l-1].original)[1]));c&&F&&(q((E.program||E.inverse).body),x(h,l));c&&C&&(q(h,l),x((E.inverse||E.program).body))}}return b};l.prototype.BlockStatement=l.prototype.DecoratorBlock=l.prototype.PartialBlockStatement=function(b){this.accept(b.program);this.accept(b.inverse);var c=b.program||b.inverse,k=b.program&&b.inverse,h=k,l=k;if(k&&k.chained)for(h=k.body[0].program;l.chained;)l=
l.body[l.body.length-1].program;var n={open:b.openStrip.open,close:b.closeStrip.close,openStandalone:u(c.body),closeStandalone:m((h||c).body)};(b.openStrip.close&&q(c.body,null,!0),k)?(k=b.inverseStrip,k.open&&x(c.body,null,!0),k.close&&q(h.body,null,!0),b.closeStrip.open&&x(l.body,null,!0),!this.options.ignoreStandalone&&m(c.body)&&u(h.body)&&(x(c.body),q(h.body))):b.closeStrip.open&&x(c.body,null,!0);return n};l.prototype.Decorator=l.prototype.MustacheStatement=function(b){return b.strip};l.prototype.PartialStatement=
l.prototype.CommentStatement=function(b){b=b.strip||{};return{inlineStandalone:!0,open:b.open,close:b.close}};c["default"]=l;b.exports=c["default"]},function(b,c,h){function l(){this.parents=[]}function m(b){this.acceptRequired(b,"path");this.acceptArray(b.params);this.acceptKey(b,"hash")}function u(b){m.call(this,b);this.acceptKey(b,"program");this.acceptKey(b,"inverse")}function q(b){this.acceptRequired(b,"name");this.acceptArray(b.params);this.acceptKey(b,"hash")}var x=h(1)["default"];c.__esModule=
!0;h=h(6);var k=x(h);l.prototype={constructor:l,mutating:!1,acceptKey:function(b,c){var h=this.accept(b[c]);if(this.mutating){if(h&&!l.prototype[h.type])throw new k["default"]('Unexpected node type "'+h.type+'" found when accepting '+c+" on "+b.type);b[c]=h}},acceptRequired:function(b,c){if(this.acceptKey(b,c),!b[c])throw new k["default"](b.type+" requires "+c);},acceptArray:function(b){for(var c=0,k=b.length;c<k;c++)this.acceptKey(b,c),b[c]||(b.splice(c,1),c--,k--)},accept:function(b){if(b){if(!this[b.type])throw new k["default"]("Unknown type: "+
b.type,b);this.current&&this.parents.unshift(this.current);this.current=b;var c=this[b.type](b);return this.current=this.parents.shift(),!this.mutating||c?c:!1!==c?b:void 0}},Program:function(b){this.acceptArray(b.body)},MustacheStatement:m,Decorator:m,BlockStatement:u,DecoratorBlock:u,PartialStatement:q,PartialBlockStatement:function(b){q.call(this,b);this.acceptKey(b,"program")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:m,PathExpression:function(){},StringLiteral:function(){},
NumberLiteral:function(){},BooleanLiteral:function(){},UndefinedLiteral:function(){},NullLiteral:function(){},Hash:function(b){this.acceptArray(b.pairs)},HashPair:function(b){this.acceptRequired(b,"value")}};c["default"]=l;b.exports=c["default"]},function(b,c,h){function l(b,c){if(c=c.path?c.path.original:c,b.path.original!==c)throw new m["default"](b.path.original+" doesn't match "+c,{loc:b.path.loc});}b=h(1)["default"];c.__esModule=!0;c.SourceLocation=function(b,c){this.source=b;this.start={line:c.first_line,
column:c.first_column};this.end={line:c.last_line,column:c.last_column}};c.id=function(b){return/^\[.*\]$/.test(b)?b.substring(1,b.length-1):b};c.stripFlags=function(b,c){return{open:"~"===b.charAt(2),close:"~"===c.charAt(c.length-3)}};c.stripComment=function(b){return b.replace(/^\{\{~?!-?-?/,"").replace(/-?-?~?\}\}$/,"")};c.preparePath=function(b,c,h){h=this.locInfo(h);for(var k=b?"@":"",l=[],r=0,w=0,v=c.length;w<v;w++){var z=c[w].part,n=c[w].original!==z;if(k+=(c[w].separator||"")+z,n||".."!==
z&&"."!==z&&"this"!==z)l.push(z);else{if(0<l.length)throw new m["default"]("Invalid path: "+k,{loc:h});".."===z&&r++}}return{type:"PathExpression",data:b,depth:r,parts:l,original:k,loc:h}};c.prepareMustache=function(b,c,h,k,l,r){var w=k.charAt(3)||k.charAt(2),w="{"!==w&&"\x26"!==w;return{type:/\*/.test(k)?"Decorator":"MustacheStatement",path:b,params:c,hash:h,escaped:w,strip:l,loc:this.locInfo(r)}};c.prepareRawBlock=function(b,c,h,k){l(b,h);k=this.locInfo(k);return{type:"BlockStatement",path:b.path,
params:b.params,hash:b.hash,program:{type:"Program",body:c,strip:{},loc:k},openStrip:{},inverseStrip:{},closeStrip:{},loc:k}};c.prepareBlock=function(b,c,h,k,p,r){k&&k.path&&l(b,k);var w=/\*/.test(b.open);c.blockParams=b.blockParams;var v=void 0,z=void 0;if(h){if(w)throw new m["default"]("Unexpected inverse block on decorator",h);h.chain&&(h.program.body[0].closeStrip=k.strip);z=h.strip;v=h.program}return p&&(p=v,v=c,c=p),{type:w?"DecoratorBlock":"BlockStatement",path:b.path,params:b.params,hash:b.hash,
program:c,inverse:v,openStrip:b.strip,inverseStrip:z,closeStrip:k&&k.strip,loc:this.locInfo(r)}};c.prepareProgram=function(b,c){if(!c&&b.length){var h=b[0].loc,k=b[b.length-1].loc;h&&k&&(c={source:h.source,start:{line:h.start.line,column:h.start.column},end:{line:k.end.line,column:k.end.column}})}return{type:"Program",body:b,strip:{},loc:c}};c.preparePartialBlock=function(b,c,h,k){return l(b,h),{type:"PartialBlockStatement",name:b.path,params:b.params,hash:b.hash,program:c,openStrip:b.strip,closeStrip:h&&
h.strip,loc:this.locInfo(k)}};c=h(6);var m=b(c)},function(b,c,h){function l(){}function m(b,c){if(b===c)return!0;if(k.isArray(b)&&k.isArray(c)&&b.length===c.length){for(var h=0;h<b.length;h++)if(!m(b[h],c[h]))return!1;return!0}}function u(b){if(!b.path.parts){var c=b.path;b.path={type:"PathExpression",data:!1,depth:0,parts:[c.original+""],original:c.original+"",loc:c.loc}}}var q=h(74)["default"];b=h(1)["default"];c.__esModule=!0;c.Compiler=l;c.precompile=function(b,c,k){if(null==b||"string"!=typeof b&&
"Program"!==b.type)throw new x["default"]("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+b);c=c||{};"data"in c||(c.data=!0);c.compat&&(c.useDepths=!0);b=k.parse(b,c);b=(new k.Compiler).compile(b,c);return(new k.JavaScriptCompiler).compile(b,c)};c.compile=function(b,c,h){function l(){var k=h.parse(b,c),k=(new h.Compiler).compile(k,c),k=(new h.JavaScriptCompiler).compile(k,c,void 0,!0);return h.template(k)}function p(b,c){return r||(r=l()),r.call(this,b,c)}if(void 0===
c&&(c={}),null==b||"string"!=typeof b&&"Program"!==b.type)throw new x["default"]("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+b);c=k.extend({},c);"data"in c||(c.data=!0);c.compat&&(c.useDepths=!0);var r=void 0;return p._setup=function(b){return r||(r=l()),r._setup(b)},p._child=function(b,c,k,h){return r||(r=l()),r._child(b,c,k,h)},p};c=h(6);var x=b(c),k=h(5);h=h(84);var p=b(h),r=[].slice;l.prototype={compiler:l,equals:function(b){var c=this.opcodes.length;if(b.opcodes.length!==
c)return!1;for(var k=0;k<c;k++){var h=this.opcodes[k],l=b.opcodes[k];if(h.opcode!==l.opcode||!m(h.args,l.args))return!1}c=this.children.length;for(k=0;k<c;k++)if(!this.children[k].equals(b.children[k]))return!1;return!0},guid:0,compile:function(b,c){return this.sourceNode=[],this.opcodes=[],this.children=[],this.options=c,this.stringParams=c.stringParams,this.trackIds=c.trackIds,c.blockParams=c.blockParams||[],c.knownHelpers=k.extend(q(null),{helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,
unless:!0,"with":!0,log:!0,lookup:!0},c.knownHelpers),this.accept(b)},compileProgram:function(b){b=(new this.compiler).compile(b,this.options);var c=this.guid++;return this.usePartial=this.usePartial||b.usePartial,this.children[c]=b,this.useDepths=this.useDepths||b.useDepths,c},accept:function(b){if(!this[b.type])throw new x["default"]("Unknown type: "+b.type,b);this.sourceNode.unshift(b);b=this[b.type](b);return this.sourceNode.shift(),b},Program:function(b){this.options.blockParams.unshift(b.blockParams);
for(var c=b.body,k=c.length,h=0;h<k;h++)this.accept(c[h]);return this.options.blockParams.shift(),this.isSimple=1===k,this.blockParams=b.blockParams?b.blockParams.length:0,this},BlockStatement:function(b){u(b);var c=b.program,k=b.inverse,c=c&&this.compileProgram(c),k=k&&this.compileProgram(k),h=this.classifySexpr(b);"helper"===h?this.helperSexpr(b,c,k):"simple"===h?(this.simpleSexpr(b),this.opcode("pushProgram",c),this.opcode("pushProgram",k),this.opcode("emptyHash"),this.opcode("blockValue",b.path.original)):
(this.ambiguousSexpr(b,c,k),this.opcode("pushProgram",c),this.opcode("pushProgram",k),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue"));this.opcode("append")},DecoratorBlock:function(b){var c=b.program&&this.compileProgram(b.program),c=this.setupFullMustacheParams(b,c,void 0);b=b.path;this.useDecorators=!0;this.opcode("registerDecorator",c.length,b.original)},PartialStatement:function(b){this.usePartial=!0;var c=b.program;c&&(c=this.compileProgram(b.program));var k=b.params;if(1<k.length)throw new x["default"]("Unsupported number of partial arguments: "+
k.length,b);k.length||(this.options.explicitPartialContext?this.opcode("pushLiteral","undefined"):k.push({type:"PathExpression",parts:[],depth:0}));var k=b.name.original,h="SubExpression"===b.name.type;h&&this.accept(b.name);this.setupFullMustacheParams(b,c,void 0,!0);b=b.indent||"";this.options.preventIndent&&b&&(this.opcode("appendContent",b),b="");this.opcode("invokePartial",h,k,b);this.opcode("append")},PartialBlockStatement:function(b){this.PartialStatement(b)},MustacheStatement:function(b){this.SubExpression(b);
b.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},Decorator:function(b){this.DecoratorBlock(b)},ContentStatement:function(b){b.value&&this.opcode("appendContent",b.value)},CommentStatement:function(){},SubExpression:function(b){u(b);var c=this.classifySexpr(b);"simple"===c?this.simpleSexpr(b):"helper"===c?this.helperSexpr(b):this.ambiguousSexpr(b)},ambiguousSexpr:function(b,c,k){b=b.path;var h=b.parts[0],l=null!=c||null!=k;this.opcode("getContext",b.depth);this.opcode("pushProgram",
c);this.opcode("pushProgram",k);b.strict=!0;this.accept(b);this.opcode("invokeAmbiguous",h,l)},simpleSexpr:function(b){b=b.path;b.strict=!0;this.accept(b);this.opcode("resolvePossibleLambda")},helperSexpr:function(b,c,k){c=this.setupFullMustacheParams(b,c,k);k=b.path;var h=k.parts[0];if(this.options.knownHelpers[h])this.opcode("invokeKnownHelper",c.length,h);else{if(this.options.knownHelpersOnly)throw new x["default"]("You specified knownHelpersOnly, but used the unknown helper "+h,b);k.strict=!0;
k.falsy=!0;this.accept(k);this.opcode("invokeHelper",c.length,k.original,p["default"].helpers.simpleId(k))}},PathExpression:function(b){this.addDepth(b.depth);this.opcode("getContext",b.depth);var c=b.parts[0],k=p["default"].helpers.scopedId(b),h=!b.depth&&!k&&this.blockParamIndex(c);h?this.opcode("lookupBlockParam",h,b.parts):c?b.data?(this.options.data=!0,this.opcode("lookupData",b.depth,b.parts,b.strict)):this.opcode("lookupOnContext",b.parts,b.falsy,b.strict,k):this.opcode("pushContext")},StringLiteral:function(b){this.opcode("pushString",
b.value)},NumberLiteral:function(b){this.opcode("pushLiteral",b.value)},BooleanLiteral:function(b){this.opcode("pushLiteral",b.value)},UndefinedLiteral:function(){this.opcode("pushLiteral","undefined")},NullLiteral:function(){this.opcode("pushLiteral","null")},Hash:function(b){b=b.pairs;var c=0,k=b.length;for(this.opcode("pushHash");c<k;c++)this.pushParam(b[c].value);for(;c--;)this.opcode("assignToHash",b[c].key);this.opcode("popHash")},opcode:function(b){this.opcodes.push({opcode:b,args:r.call(arguments,
1),loc:this.sourceNode[0].loc})},addDepth:function(b){b&&(this.useDepths=!0)},classifySexpr:function(b){var c=p["default"].helpers.simpleId(b.path),k=c&&!!this.blockParamIndex(b.path.parts[0]),h=!k&&p["default"].helpers.helperExpression(b);(c=!k&&(h||c))&&!h&&(k=this.options,k.knownHelpers[b.path.parts[0]]?h=!0:k.knownHelpersOnly&&(c=!1));return h?"helper":c?"ambiguous":"simple"},pushParams:function(b){for(var c=0,k=b.length;c<k;c++)this.pushParam(b[c])},pushParam:function(b){var c=null!=b.value?
b.value:b.original||"";if(this.stringParams)c.replace&&(c=c.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),b.depth&&this.addDepth(b.depth),this.opcode("getContext",b.depth||0),this.opcode("pushStringParam",c,b.type),"SubExpression"===b.type&&this.accept(b);else{if(this.trackIds){var k=void 0;(!b.parts||p["default"].helpers.scopedId(b)||b.depth||(k=this.blockParamIndex(b.parts[0])),k)?(c=b.parts.slice(1).join("."),this.opcode("pushId","BlockParam",k,c)):(c=b.original||c,c.replace&&(c=c.replace(/^this(?:\.|$)/,
"").replace(/^\.\//,"").replace(/^\.$/,"")),this.opcode("pushId",b.type,c))}this.accept(b)}},setupFullMustacheParams:function(b,c,k,h){var l=b.params;return this.pushParams(l),this.opcode("pushProgram",c),this.opcode("pushProgram",k),b.hash?this.accept(b.hash):this.opcode("emptyHash",h),l},blockParamIndex:function(b){for(var c=0,h=this.options.blockParams.length;c<h;c++){var l=this.options.blockParams[c],p=l&&k.indexOf(l,b);if(l&&0<=p)return[c,p]}}}},function(b,c,h){function l(b){this.value=b}function m(){}
function u(b,c,k,h,l){var p=c.popStack(),r=k.length;for(b&&r--;h<r;h++)p=c.nameLookup(p,k[h],l);return b?[c.aliasable("container.strict"),"(",p,", ",c.quotedString(k[h]),", ",JSON.stringify(c.source.currentLocation)," )"]:p}var q=h(60)["default"],x=h(1)["default"];c.__esModule=!0;var k=h(4),p=h(6),r=x(p),w=h(5);h=h(92);var v=x(h);m.prototype={nameLookup:function(b,c){return this.internalNameLookup(b,c)},depthedLookup:function(b){return[this.aliasable("container.lookup"),"(depths, ",JSON.stringify(b),
")"]},compilerInfo:function(){var b=k.COMPILER_REVISION;return[b,k.REVISION_CHANGES[b]]},appendToBuffer:function(b,c,k){return w.isArray(b)||(b=[b]),b=this.source.wrap(b,c),this.environment.isSimple?["return ",b,";"]:k?["buffer +\x3d ",b,";"]:(b.appendToBuffer=!0,b)},initializeBuffer:function(){return this.quotedString("")},internalNameLookup:function(b,c){return this.lookupPropertyFunctionIsUsed=!0,["lookupProperty(",b,",",JSON.stringify(c),")"]},lookupPropertyFunctionIsUsed:!1,compile:function(b,
c,k,h){this.environment=b;this.options=c;this.stringParams=this.options.stringParams;this.trackIds=this.options.trackIds;this.precompile=!h;this.name=this.environment.name;this.isChild=!!k;this.context=k||{decorators:[],programs:[],environments:[]};this.preamble();this.stackSlot=0;this.stackVars=[];this.aliases={};this.registers={list:[]};this.hashes=[];this.compileStack=[];this.inlineStack=[];this.blockParams=[];this.compileChildren(b,c);this.useDepths=this.useDepths||b.useDepths||b.useDecorators||
this.options.compat;this.useBlockParams=this.useBlockParams||b.useBlockParams;var l=b.opcodes,p,q=void 0;b=0;for(k=l.length;b<k;b++)p=l[b],this.source.currentLocation=p.loc,q=q||p.loc,this[p.opcode].apply(this,p.args);if(this.source.currentLocation=q,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new r["default"]("Compile completed with content left on stack");this.decorators.isEmpty()?this.decorators=void 0:(this.useDecorators=!0,this.decorators.prepend(["var decorators \x3d container.decorators, ",
this.lookupPropertyFunctionVarDeclaration(),";\n"]),this.decorators.push("return fn;"),h?this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]):(this.decorators.prepend("function(fn, props, container, depth0, data, blockParams, depths) {\n"),this.decorators.push("}\n"),this.decorators=this.decorators.merge()));b=this.createFunctionContext(h);if(this.isChild)return b;l={compiler:this.compilerInfo(),main:b};this.decorators&&(l.main_d=
this.decorators,l.useDecorators=!0);b=this.context;p=b.programs;q=b.decorators;b=0;for(k=p.length;b<k;b++)p[b]&&(l[b]=p[b],q[b]&&(l[b+"_d"]=q[b],l.useDecorators=!0));return this.environment.usePartial&&(l.usePartial=!0),this.options.data&&(l.useData=!0),this.useDepths&&(l.useDepths=!0),this.useBlockParams&&(l.useBlockParams=!0),this.options.compat&&(l.compat=!0),h?l.compilerOptions=this.options:(l.compiler=JSON.stringify(l.compiler),this.source.currentLocation={start:{line:1,column:0}},l=this.objectLiteral(l),
c.srcName?(l=l.toStringWithSourceMap({file:c.destName}),l.map=l.map&&l.map.toString()):l=l.toString()),l},preamble:function(){this.lastContext=0;this.source=new v["default"](this.options.srcName);this.decorators=new v["default"](this.options.srcName)},createFunctionContext:function(b){var c=this,k="",h=this.stackVars.concat(this.registers.list);0<h.length&&(k+=", "+h.join(", "));var l=0;q(this.aliases).forEach(function(b){var h=c.aliases[b];h.children&&1<h.referenceCount&&(k+=", alias"+ ++l+"\x3d"+
b,h.children[0]="alias"+l)});this.lookupPropertyFunctionIsUsed&&(k+=", "+this.lookupPropertyFunctionVarDeclaration());h=["container","depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&h.push("blockParams");this.useDepths&&h.push("depths");var p=this.mergeSource(k);return b?(h.push(p),Function.apply(this,h)):this.source.wrap(["function(",h.join(","),") {\n  ",p,"}"])},mergeSource:function(b){var c=this.environment.isSimple,k=!this.forceBuffer,h=void 0,l=void 0,p=void 0,r=
void 0;return this.source.each(function(b){b.appendToBuffer?(p?b.prepend("  + "):p=b,r=b):(p&&(l?p.prepend("buffer +\x3d "):h=!0,r.add(";"),p=r=void 0),l=!0,c||(k=!1))}),k?p?(p.prepend("return "),r.add(";")):l||this.source.push('return "";'):(b+=", buffer \x3d "+(h?"":this.initializeBuffer()),p?(p.prepend("return buffer + "),r.add(";")):this.source.push("return buffer;")),b&&this.source.prepend("var "+b.substring(2)+(h?"":";\n")),this.source.merge()},lookupPropertyFunctionVarDeclaration:function(){return"\n      lookupProperty \x3d container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    }\n    ".trim()},
blockValue:function(b){var c=this.aliasable("container.hooks.blockHelperMissing"),k=[this.contextName(0)];this.setupHelperArgs(b,0,k);b=this.popStack();k.splice(1,0,b);this.push(this.source.functionCall(c,"call",k))},ambiguousBlockValue:function(){var b=this.aliasable("container.hooks.blockHelperMissing"),c=[this.contextName(0)];this.setupHelperArgs("",0,c,!0);this.flushInline();var k=this.topStack();c.splice(1,0,k);this.pushSource(["if (!",this.lastHelper,") { ",k," \x3d ",this.source.functionCall(b,
"call",c),"}"])},appendContent:function(b){this.pendingContent?b=this.pendingContent+b:this.pendingLocation=this.source.currentLocation;this.pendingContent=b},append:function(){if(this.isInline())this.replaceStack(function(b){return[" !\x3d null ? ",b,' : ""']}),this.pushSource(this.appendToBuffer(this.popStack()));else{var b=this.popStack();this.pushSource(["if (",b," !\x3d null) { ",this.appendToBuffer(b,void 0,!0)," }"]);this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",
void 0,!0)," }"])}},appendEscaped:function(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},getContext:function(b){this.lastContext=b},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(b,c,k,h){var l=0;h||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(b[l++]));this.resolvePath("context",b,l,c,k)},lookupBlockParam:function(b,c){this.useBlockParams=
!0;this.push(["blockParams[",b[0],"][",b[1],"]"]);this.resolvePath("context",c,1)},lookupData:function(b,c,k){b?this.pushStackLiteral("container.data(data, "+b+")"):this.pushStackLiteral("data");this.resolvePath("data",c,0,!0,k)},resolvePath:function(b,c,k,h,l){var p=this;if(this.options.strict||this.options.assumeObjects)return void this.push(u(this.options.strict&&l,this,c,k,b));for(l=c.length;k<l;k++)this.replaceStack(function(l){var r=p.nameLookup(l,c[k],b);return h?[" \x26\x26 ",r]:[" !\x3d null ? ",
r," : ",l]})},resolvePossibleLambda:function(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function(b,c){this.pushContext();this.pushString(c);"SubExpression"!==c&&("string"==typeof b?this.pushString(b):this.pushStackLiteral(b))},emptyHash:function(b){this.trackIds&&this.push("{}");this.stringParams&&(this.push("{}"),this.push("{}"));this.pushStackLiteral(b?"undefined":"{}")},pushHash:function(){this.hash&&this.hashes.push(this.hash);
this.hash={values:{},types:[],contexts:[],ids:[]}},popHash:function(){var b=this.hash;this.hash=this.hashes.pop();this.trackIds&&this.push(this.objectLiteral(b.ids));this.stringParams&&(this.push(this.objectLiteral(b.contexts)),this.push(this.objectLiteral(b.types)));this.push(this.objectLiteral(b.values))},pushString:function(b){this.pushStackLiteral(this.quotedString(b))},pushLiteral:function(b){this.pushStackLiteral(b)},pushProgram:function(b){null!=b?this.pushStackLiteral(this.programExpression(b)):
this.pushStackLiteral(null)},registerDecorator:function(b,c){var k=this.nameLookup("decorators",c,"decorator");b=this.setupHelperArgs(c,b);this.decorators.push(["fn \x3d ",this.decorators.functionCall(k,"",["fn","props","container",b])," || fn;"])},invokeHelper:function(b,c,k){var h=this.popStack();b=this.setupHelper(b,c);c=[];k&&c.push(b.name);c.push(h);this.options.strict||c.push(this.aliasable("container.hooks.helperMissing"));k=["(",this.itemsSeparatedBy(c,"||"),")"];k=this.source.functionCall(k,
"call",b.callParams);this.push(k)},itemsSeparatedBy:function(b,c){var k=[];k.push(b[0]);for(var h=1;h<b.length;h++)k.push(c,b[h]);return k},invokeKnownHelper:function(b,c){b=this.setupHelper(b,c);this.push(this.source.functionCall(b.name,"call",b.callParams))},invokeAmbiguous:function(b,c){this.useRegister("helper");var k=this.popStack();this.emptyHash();c=this.setupHelper(0,b,c);b=["(","(helper \x3d ",this.lastHelper=this.nameLookup("helpers",b,"helper")," || ",k,")"];this.options.strict||(b[0]=
"(helper \x3d ",b.push(" !\x3d null ? helper : ",this.aliasable("container.hooks.helperMissing")));this.push(["(",b,c.paramsInit?["),(",c.paramsInit]:[],"),","(typeof helper \x3d\x3d\x3d ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",c.callParams)," : helper))"])},invokePartial:function(b,c,k){var h=[],l=this.setupParams(c,1,h);b&&(c=this.popStack(),delete l.name);k&&(l.indent=JSON.stringify(k));l.helpers="helpers";l.partials="partials";l.decorators="container.decorators";
b?h.unshift(c):h.unshift(this.nameLookup("partials",c,"partial"));this.options.compat&&(l.depths="depths");l=this.objectLiteral(l);h.push(l);this.push(this.source.functionCall("container.invokePartial","",h))},assignToHash:function(b){var c=this.popStack(),k=void 0,h=void 0,l=void 0;this.trackIds&&(l=this.popStack());this.stringParams&&(h=this.popStack(),k=this.popStack());var p=this.hash;k&&(p.contexts[b]=k);h&&(p.types[b]=h);l&&(p.ids[b]=l);p.values[b]=c},pushId:function(b,c,k){"BlockParam"===b?
this.pushStackLiteral("blockParams["+c[0]+"].path["+c[1]+"]"+(k?" + "+JSON.stringify("."+k):"")):"PathExpression"===b?this.pushString(c):"SubExpression"===b?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:m,compileChildren:function(b,c){b=b.children;for(var k,h,l=0,p=b.length;l<p;l++){k=b[l];h=new this.compiler;var r=this.matchExistingProgram(k);null==r?(this.context.programs.push(""),r=this.context.programs.length,k.index=r,k.name="program"+r,this.context.programs[r]=h.compile(k,
c,this.context,!this.precompile),this.context.decorators[r]=h.decorators,this.context.environments[r]=k,this.useDepths=this.useDepths||h.useDepths,this.useBlockParams=this.useBlockParams||h.useBlockParams,k.useDepths=this.useDepths,k.useBlockParams=this.useBlockParams):(k.index=r.index,k.name="program"+r.index,this.useDepths=this.useDepths||r.useDepths,this.useBlockParams=this.useBlockParams||r.useBlockParams)}},matchExistingProgram:function(b){for(var c=0,k=this.context.environments.length;c<k;c++){var h=
this.context.environments[c];if(h&&h.equals(b))return h}},programExpression:function(b){b=this.environment.children[b];b=[b.index,"data",b.blockParams];return(this.useBlockParams||this.useDepths)&&b.push("blockParams"),this.useDepths&&b.push("depths"),"container.program("+b.join(", ")+")"},useRegister:function(b){this.registers[b]||(this.registers[b]=!0,this.registers.list.push(b))},push:function(b){return b instanceof l||(b=this.source.wrap(b)),this.inlineStack.push(b),b},pushStackLiteral:function(b){this.push(new l(b))},
pushSource:function(b){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0);b&&this.source.push(b)},replaceStack:function(b){var c,k,h=void 0,p=void 0;if(!this.isInline())throw new r["default"]("replaceStack on non-inline");c=this.popStack(!0);c instanceof l?(k=[c.value],c=["(",k],p=!0):(h=!0,k=this.incrStack(),c=["((",this.push(k)," \x3d ",c,")"],k=this.topStack());b=b.call(this,k);p||this.popStack();
h&&this.stackSlot--;this.push(c.concat(b,")"))},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var b=this.inlineStack;this.inlineStack=[];for(var c=0,k=b.length;c<k;c++){var h=b[c];if(h instanceof l)this.compileStack.push(h);else{var p=this.incrStack();this.pushSource([p," \x3d ",h,";"]);this.compileStack.push(p)}}},isInline:function(){return this.inlineStack.length},
popStack:function(b){var c=this.isInline(),k=(c?this.inlineStack:this.compileStack).pop();if(!b&&k instanceof l)return k.value;if(!c){if(!this.stackSlot)throw new r["default"]("Invalid stack pop");this.stackSlot--}return k},topStack:function(){var b=this.isInline()?this.inlineStack:this.compileStack,b=b[b.length-1];return b instanceof l?b.value:b},contextName:function(b){return this.useDepths&&b?"depths["+b+"]":"depth"+b},quotedString:function(b){return this.source.quotedString(b)},objectLiteral:function(b){return this.source.objectLiteral(b)},
aliasable:function(b){var c=this.aliases[b];return c?(c.referenceCount++,c):(c=this.aliases[b]=this.source.wrap(b),c.aliasable=!0,c.referenceCount=1,c)},setupHelper:function(b,c,k){var h=[];b=this.setupHelperArgs(c,b,h,k);c=this.nameLookup("helpers",c,"helper");k=this.aliasable(this.contextName(0)+" !\x3d null ? "+this.contextName(0)+" : (container.nullContext || {})");return{params:h,paramsInit:b,name:c,callParams:[k].concat(h)}},setupParams:function(b,c,k){var h={},l=[],p=[],r=[],q=!k;q&&(k=[]);
h.name=this.quotedString(b);h.hash=this.popStack();this.trackIds&&(h.hashIds=this.popStack());this.stringParams&&(h.hashTypes=this.popStack(),h.hashContexts=this.popStack());b=this.popStack();var w=this.popStack();(w||b)&&(h.fn=w||"container.noop",h.inverse=b||"container.noop");for(b=c;b--;)c=this.popStack(),k[b]=c,this.trackIds&&(r[b]=this.popStack()),this.stringParams&&(p[b]=this.popStack(),l[b]=this.popStack());return q&&(h.args=this.source.generateArray(k)),this.trackIds&&(h.ids=this.source.generateArray(r)),
this.stringParams&&(h.types=this.source.generateArray(p),h.contexts=this.source.generateArray(l)),this.options.data&&(h.data="data"),this.useBlockParams&&(h.blockParams="blockParams"),h},setupHelperArgs:function(b,c,k,h){b=this.setupParams(b,c,k);return b.loc=JSON.stringify(this.source.currentLocation),b=this.objectLiteral(b),h?(this.useRegister("options"),k.push("options"),["options\x3d",b]):k?(k.push(b),""):b}};(function(){for(var b="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),
c=m.RESERVED_WORDS={},k=0,h=b.length;k<h;k++)c[b[k]]=!0})();m.isValidJavaScriptVariableName=function(b){return!m.RESERVED_WORDS[b]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(b)};c["default"]=m;b.exports=c["default"]},function(b,c,h){function l(b,c,h){if(q.isArray(b)){for(var l=[],v=0,m=b.length;v<m;v++)l.push(c.wrap(b[v],h));return l}return"boolean"==typeof b||"number"==typeof b?b+"":b}function m(b){this.srcFile=b;this.source=[]}var u=h(60)["default"];c.__esModule=!0;var q=h(5),x=void 0,x=function(b,c,h,
l){this.src="";l&&this.add(l)};x.prototype={add:function(b){q.isArray(b)&&(b=b.join(""));this.src+=b},prepend:function(b){q.isArray(b)&&(b=b.join(""));this.src=b+this.src},toStringWithSourceMap:function(){return{code:this.toString()}},toString:function(){return this.src}};m.prototype={isEmpty:function(){return!this.source.length},prepend:function(b,c){this.source.unshift(this.wrap(b,c))},push:function(b,c){this.source.push(this.wrap(b,c))},merge:function(){var b=this.empty();return this.each(function(c){b.add(["  ",
c,"\n"])}),b},each:function(b){for(var c=0,h=this.source.length;c<h;c++)b(this.source[c])},empty:function(){var b=this.currentLocation||{start:{}};return new x(b.start.line,b.start.column,this.srcFile)},wrap:function(b){var c=1>=arguments.length||void 0===arguments[1]?this.currentLocation||{start:{}}:arguments[1];return b instanceof x?b:(b=l(b,this,c),new x(c.start.line,c.start.column,this.srcFile,b))},functionCall:function(b,c,h){return h=this.generateList(h),this.wrap([b,c?"."+c+"(":"(",h,")"])},
quotedString:function(b){return'"'+(b+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function(b){var c=this,h=[];u(b).forEach(function(q){var w=l(b[q],c);"undefined"!==w&&h.push([c.quotedString(q),":",w])});var q=this.generateList(h);return q.prepend("{"),q.add("}"),q},generateList:function(b){for(var c=this.empty(),h=0,q=b.length;h<q;h++)h&&c.add(","),c.add(l(b[h],this));return c},
generateArray:function(b){b=this.generateList(b);return b.prepend("["),b.add("]"),b}};c["default"]=m;b.exports=c["default"]}])});
(function(b){b.fn.extend({isInViewport:function(c){var h=b(this),l=h.offset();c||(c=0);var m=b(window),u=m.scrollTop();if(l.top-c<u){if(!(l.top+c>=u))return!1}else if(!(l.top+h.height()-c<=u+m.height()))return!1;u=m.scrollLeft();if(l.left-c<u){if(!(l.left+h.width()+c>=u))return!1}else if(!(l.left-c<=u+m.width()))return!1;return!0},disable:function(c){var h=b(this);h.prop("disabled",!0);h.attr("aria-disabled",!0);h.addClass("disabled-element");c&&h.find("*").prop("disabled",!0);return h},enable:function(c){var h=
b(this);h.prop("disabled",!1);h.attr("aria-disabled",!1);h.removeClass("disabled-element");c&&h.find("*").prop("disabled",!1);return h},isDisabled:function(){var c=b(this);return c.hasClass("disabled-element")||c.prop("disabled")||c.hasClass("submit-disabled")},checked:function(c){var h=b(this);if("boolean"==b.type(c))h.prop("checked",c);else return h.prop("checked")},value:function(c){var h=b(this);return void 0!==c&&null!==c?h.val(c):h.val()},style:b.fn.css,data:function(c,h,l){var m,u;void 0===
h?(m=this.data_super.apply(this,arguments),u=this.attr("data-"+c),void 0!==u&&u!=""+m&&(u="true"===u?!0:"false"===u?!1:"null"===u?null:+u+""===u?+u:u,this.data_super.call(this,c,u),m=u)):(u=this.data_super.call(this,c),m=this.data_super.apply(this,arguments),void 0!==this.attr("data-"+c)&&"function"!=b.type(h)&&"object"!=b.type(h)&&"array"!=b.type(h)&&this.attr("data-"+c,h),l||this.trigger("changeData",{property:c,oldValue:u,newValue:h}));return m},data_super:b.fn.data,centerInWindow:function(){this.css("position",
"absolute");this.css("top",Math.max(0,(b(window).height()-b(this).outerHeight())/2+b(window).scrollTop())+"px");this.css("left",Math.max(0,(b(window).width()-b(this).outerWidth())/2+b(window).scrollLeft())+"px");return this},centerInParent:function(){var c=this[0].parentNode;this.css("position","absolute");this.css("top",Math.max(0,(b(c).height()-b(this).outerHeight())/2+b(c).scrollTop())+"px");this.css("left",Math.max(0,(b(c).width()-b(this).outerWidth())/2+b(c).scrollLeft())+"px");return this},
isDisplayed:function(){return"none"!=b(this).css("display")},getObjectFitSize:function(){var b=this[0],h="contain"==this.css("object-fit")||"scale-down"==this.css("object-fit"),l=b.naturalWidth/b.naturalHeight,m=b.width/b.height;(h?l>m:l<m)?(h=b.width,m=h/l):(m=b.height,h=m*l);return{width:h,height:m,x:(b.width-h)/2,y:(b.height-m)/2}},isTopInViewport:function(c){var h=b(this).offset();c||(c=0);var l=b(window),m=l.scrollTop();if(h.top-c<m){if(!(h.top+c>=m))return!1}else if(!(h.top-c<=m+l.height()))return!1;
return!0}})})(jQuery);
(function(b){var c={base:Handlebars.compile('\x3csvg version\x3d"1.1" xmlns\x3d"http://www.w3.org/2000/svg" class\x3d"svgMask" width\x3d"{{width}}" height\x3d"{{height}}" viewBox\x3d"0 0 {{width}} {{height}}" style\x3d"top: {{top}}px; left: {{left}}px;"\x3e\x3cdefs\x3e\x3cclipPath id\x3d"{{maskID}}"\x3e{{{shape}}}\x3c/clipPath\x3e\x3c/defs\x3e\x3cdesc\x3e{{altText}}\x3c/desc\x3e\x3cimage {{#if options.preserveAspectRatio}}preserveAspectRatio\x3d"{{options.preserveAspectRatio}}"{{/if}} clip-path\x3d"url(#{{maskID}})" width\x3d"{{width}}" height\x3d"{{height}}" xmlns:xlink\x3d"http://www.w3.org/1999/xlink" xlink:href\x3d"{{src}}"\x3e\x3c/image\x3e\x3c/svg\x3e'),shapes:{circle:Handlebars.compile('\x3ccircle cx\x3d"{{x}}" cy\x3d"{{y}}" r\x3d"{{radius}}"\x3e\x3c/circle\x3e'),
star:function(b){return h(b)}}};b.fn.maskImage=function(h){var m=DKI.applyIf(h,{preserveAspectRatio:!1});b.each(this,function(){var h=b(this),l=h.data("mask");if(l&&""!=l.type){var x=h.position(),k={src:h.data("src"),width:h.width(),height:h.height(),top:x.top,left:x.left,altText:h.attr("alt")?h.attr("alt"):h.attr("title")?h.attr("title"):"",maskID:h.attr("id")+"_mask",options:m};if("star"==l.type||"sun"==l.type){var p=(k.width<k.height?k.width/2:k.height/2)*l.scale,r=p;"middle"==l.alignment.horizontal?
r=k.width/2:"right"==l.alignment.horizontal&&(r=k.width-p);var w=p;"middle"==l.alignment.vertical?w=k.height/2:"bottom"==l.alignment.vertical&&(w=k.height-p);l=c.shapes.star({x:r,y:w,outerRadius:p,innerRadius:"star"==l.type?.45*p:.9*p,points:"star"==l.type?5:15,centrepoint:r>w?r+p/2:w+p/2})}else r=p=(k.width<k.height?k.width/2:k.height/2)*l.scale,"middle"==l.alignment.horizontal?r=k.width/2:"right"==l.alignment.horizontal&&(r=k.width-p),w=p,"middle"==l.alignment.vertical?w=k.height/2:"bottom"==l.alignment.vertical&&
(w=k.height-p),l=c.shapes[l.type](DKI.applyIf({x:r,y:w,radius:p},k,!0));k.shape=l;l=b(c.base(k));h.parent().find(".svgMask").remove();h.addClass("masked").after(l);l.attr("style",h.attr("style"));delete h;x;k;l}});return this};b.fn.removeMask=function(){this.parent().find(".svgMask").remove();this.parent().find(".masked").removeClass("masked");return this};var h=function(b){var c=function(b,c,k,h){b=(b+"").replace(/[^0-9+\-Ee.]/g,"");b=isFinite(+b)?+b:0;c=isFinite(+c)?Math.abs(c):0;h="undefined"===
typeof h?",":h;k="undefined"===typeof k?".":k;var l="",l=function(b,c){c=Math.pow(10,c);return""+Math.round(b*c)/c},l=(c?l(b,c):""+Math.round(b)).split(".");3<l[0].length&&(l[0]=l[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,h));(l[1]||"").length<c&&(l[1]=l[1]||"",l[1]+=Array(c-l[1].length+1).join("0"));return l.join(k)},h=b.centrepoint,q=b.outerRadius,x=b.innerRadius,k=b.points,p=b.x;b=b.y;var r='\x3cpath d\x3d"',w=Math.PI/k,v=0,z=0,n=0,E="",D=0;for(i=0;i<=2*Math.PI;i+=w)0===z?(n=x,z=1):(n=q,z=0),D=i,E=
0==v?"M":"L",xsvg=c(n*Math.sin(i)+h,3,".",""),ysvg=c(n*Math.cos(D)+h,3,".",""),xresult=c(n*Math.sin(i)+parseFloat(p),3,".",""),yresult=c(n*Math.cos(D)+parseFloat(b),3,".",""),r+=E+" "+xresult+" "+yresult,v++;0===k%2&&(r+="z");return r+'"/\x3e'}})(jQuery);(function(b){b.fn.fontFlex=function(c,h,l){var m=this;b(window).resize(function(){var b=window.innerWidth/l;b<parseInt(c,10)&&(b=parseInt(c,10));b>parseInt(h,10)&&(b=parseInt(h,10));m.css("font-size",b+"px")}).trigger("resize")}})(jQuery);
!function(b){function c(c,h,u,q){var x=c.text();h=x.split(h);var k="";h.length&&(b(h).each(function(b,c){k+='\x3cspan class\x3d"'+u+(b+1)+'" aria-hidden\x3d"true"\x3e'+c+"\x3c/span\x3e"+q}),c.attr("aria-label",x).empty().append(k))}var h={init:function(){return this.each(function(){c(b(this),"","char","")})},words:function(){return this.each(function(){c(b(this)," ","word"," ")})},lines:function(){return this.each(function(){c(b(this).find("br").replaceWith("eefec303079ad17405c889e092e105b0").end(),
"eefec303079ad17405c889e092e105b0","line","\x3cbr /\x3e")})}};b.fn.lettering=function(c){return c&&h[c]?h[c].apply(this,[].slice.call(arguments,1)):"letters"!==c&&c?(b.error("Method "+c+" does not exist on jQuery.lettering"),this):h.init.apply(this,[].slice.call(arguments,0))}}(jQuery);
(function(b){function c(c,k){return/In/.test(c)||0<=b.inArray(c,k.inEffects)}function h(c,k){return/Out/.test(c)||0<=b.inArray(c,k.outEffects)}function l(b){return"true"!==b&&"false"!==b?b:"true"===b}function m(c){c=c.attributes||[];var k={};if(!c.length)return k;b.each(c,function(b,c){b=c.nodeName.replace(/delayscale/,"delayScale");/^data-in-*/.test(b)?(k.in=k.in||{},k.in[b.replace(/data-in-/,"")]=l(c.nodeValue)):/^data-out-*/.test(b)?(k.out=k.out||{},k.out[b.replace(/data-out-/,"")]=l(c.nodeValue)):
/^data-*/.test(b)&&(k[b.replace(/data-/,"")]=l(c.nodeValue))});return k}function u(b){for(var c,k,h=b.length;h;c=parseInt(Math.random()*h),k=b[--h],b[h]=b[c],b[c]=k);return b}function q(b,c,k){b.addClass("animated "+c).css("visibility","visible").show();b.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){b.removeClass("animated "+c);k&&k()})}function x(k,l,w){var v=k.length;v?(l.shuffle&&(k=u(k)),l.reverse&&(k=k.toArray().reverse()),b.each(k,function(k,
n){function p(){c(l.effect,l)?m.css("visibility","visible"):h(l.effect,l)&&m.css("visibility","hidden");--v;!v&&w&&w()}var m=b(n);k=l.sync?l.delay:l.delay*k*l.delayScale;m.text()?setTimeout(function(){q(m,l.effect,p)},k):p()})):w&&w()}var k=function(k,l){var q=this,v=b(k);q.init=function(){q.$texts=v.find(l.selector);q.$texts.length||(q.$texts=b('\x3cul class\x3d"texts"\x3e\x3cli\x3e'+v.html()+"\x3c/li\x3e\x3c/ul\x3e"),v.html(q.$texts));q.$texts.hide();q.$current=b("\x3cspan\x3e").html(q.$texts.find(":first-child").html()).prependTo(v);
c(l.in.effect,l)?q.$current.css("visibility","hidden"):h(l.out.effect,l)&&q.$current.css("visibility","visible");q.setOptions(l);q.timeoutRun=null;setTimeout(function(){q.options.autoStart&&q.start()},q.options.initialDelay)};q.setOptions=function(b){q.options=b};q.triggerEvent=function(c){c=b.Event(c+".tlt");v.trigger(c,q);return c};q.in=function(k,l){k=k||0;var p=q.$texts.find(":nth-child("+((k||0)+1)+")"),r=b.extend(!0,{},q.options,p.length?m(p[0]):{});p.addClass("current");q.triggerEvent("inAnimationBegin");
q.$current.html(p.html()).lettering("lines");q.$current.find("span").each(function(){b(this).lettering("words")});"char"==q.options.type&&q.$current.find('[class^\x3d"word"]').css({display:"inline-block","-webkit-transform":"translate3d(0,0,0)","-moz-transform":"translate3d(0,0,0)","-o-transform":"translate3d(0,0,0)",transform:"translate3d(0,0,0)"}).each(function(){b(this).lettering()});p=q.$current.find('[class^\x3d"'+q.options.type+'"]').css("display","inline-block");c(r.in.effect,r)?p.css("visibility",
"hidden"):h(r.in.effect,r)&&p.css("visibility","visible");q.currentIndex=k;x(p,r.in,function(){q.triggerEvent("inAnimationEnd");r.in.callback&&r.in.callback();l&&l(q)})};q.out=function(c){var k=q.$texts.find(":nth-child("+((q.currentIndex||0)+1)+")"),h=q.$current.find('[class^\x3d"'+q.options.type+'"]'),l=b.extend(!0,{},q.options,k.length?m(k[0]):{});q.triggerEvent("outAnimationBegin");x(h,l.out,function(){k.removeClass("current");q.triggerEvent("outAnimationEnd");l.out.callback&&l.out.callback();
c&&c(q)})};q.start=function(b){setTimeout(function(){q.triggerEvent("start");(function E(b){q.in(b,function(){var c=q.$texts.children().length;b+=1;!q.options.loop&&b>=c?(q.options.callback&&q.options.callback(),q.triggerEvent("end")):(b%=c,q.timeoutRun=setTimeout(function(){q.out(function(){E(b)})},q.options.minDisplayTime))})})(b||0)},q.options.initialDelay)};q.stop=function(){q.timeoutRun&&(clearInterval(q.timeoutRun),q.timeoutRun=null)};q.init()};b.fn.textillate=function(c,h){return this.each(function(){var l=
b(this),q=l.data("textillate"),z=b.extend(!0,{},b.fn.textillate.defaults,m(this),"object"==typeof c&&c);q?"string"==typeof c?q[c].apply(q,[].concat(h)):q.setOptions.call(q,z):l.data("textillate",new k(this,z))})};b.fn.textillate.defaults={selector:".texts",loop:!1,minDisplayTime:2E3,initialDelay:0,in:{effect:"fadeInLeftBig",delayScale:1.5,delay:50,sync:!1,reverse:!1,shuffle:!1,callback:function(){}},out:{effect:"hinge",delayScale:1.5,delay:50,sync:!1,reverse:!1,shuffle:!1,callback:function(){}},autoStart:!0,
inEffects:[],outEffects:["hinge"],callback:function(){},type:"char"}})(jQuery);
!function(b){function c(b){var c=b.length,k=h.type(b);return"function"!==k&&!h.isWindow(b)&&(!(1!==b.nodeType||!c)||"array"===k||0===c||"number"==typeof c&&0<c&&c-1 in b)}if(!b.jQuery){var h=function(b,c){return new h.fn.init(b,c)};h.isWindow=function(b){return b&&b===b.window};h.type=function(b){return b?"object"==typeof b||"function"==typeof b?m[q.call(b)]||"object":typeof b:b+""};h.isArray=Array.isArray||function(b){return"array"===h.type(b)};h.isPlainObject=function(b){var c;if(!b||"object"!==
h.type(b)||b.nodeType||h.isWindow(b))return!1;try{if(b.constructor&&!u.call(b,"constructor")&&!u.call(b.constructor.prototype,"isPrototypeOf"))return!1}catch(k){return!1}for(c in b);return void 0===c||u.call(b,c)};h.each=function(b,k,h){var l,q=0,n=b.length,m=c(b);if(h)if(m)for(;q<n&&(l=k.apply(b[q],h),!1!==l);q++);else for(q in b){if(l=k.apply(b[q],h),!1===l)break}else if(m)for(;q<n&&(l=k.call(b[q],q,b[q]),!1!==l);q++);else for(q in b)if(l=k.call(b[q],q,b[q]),!1===l)break;return b};h.data=function(b,
c,k){if(void 0===k){k=(k=b[h.expando])&&l[k];if(void 0===c)return k;if(k&&c in k)return k[c]}else if(void 0!==c)return b=b[h.expando]||(b[h.expando]=++h.uuid),l[b]=l[b]||{},l[b][c]=k,k};h.removeData=function(b,c){var k=(b=b[h.expando])&&l[b];k&&(c?h.each(c,function(b,c){delete k[c]}):delete l[b])};h.extend=function(){var b,c,k,l,q,n,m=arguments[0]||{},u=1,y=arguments.length,x=!1;"boolean"==typeof m&&(x=m,m=arguments[u]||{},u++);"object"!=typeof m&&"function"!==h.type(m)&&(m={});for(u===y&&(m=this,
u--);u<y;u++)if(q=arguments[u])for(l in q)b=m[l],k=q[l],m!==k&&(x&&k&&(h.isPlainObject(k)||(c=h.isArray(k)))?(c?(c=!1,n=b&&h.isArray(b)?b:[]):n=b&&h.isPlainObject(b)?b:{},m[l]=h.extend(x,n,k)):void 0!==k&&(m[l]=k));return m};h.queue=function(b,k,l){function q(b,k){k=k||[];if(b)if(c(Object(b))){b="string"==typeof b?[b]:b;for(var h=+b.length,l=0,p=k.length;l<h;)k[p++]=b[l++];if(h!==h)for(;void 0!==b[l];)k[p++]=b[l++];b=(k.length=p,k);!b}else[].push.call(k,b);return k}if(b){k=(k||"fx")+"queue";var m=
h.data(b,k);return l?(!m||h.isArray(l)?m=h.data(b,k,q(l)):m.push(l),m):m||[]}};h.dequeue=function(b,c){h.each(b.nodeType?[b]:b,function(b,k){c=c||"fx";b=h.queue(k,c);var l=b.shift();"inprogress"===l&&(l=b.shift());l&&("fx"===c&&b.unshift("inprogress"),l.call(k,function(){h.dequeue(k,c)}))})};h.fn=h.prototype={init:function(b){if(b.nodeType)return this[0]=b,this;throw Error("Not a DOM node.");},offset:function(){var c=this[0].getBoundingClientRect?this[0].getBoundingClientRect():{top:0,left:0};return{top:c.top+
(b.pageYOffset||document.scrollTop||0)-(document.clientTop||0),left:c.left+(b.pageXOffset||document.scrollLeft||0)-(document.clientLeft||0)}},position:function(){var b=this[0],c;for(c=b.offsetParent||document;c&&"html"!==c.nodeType.toLowerCase&&"static"===c.style.position;)c=c.offsetParent;c=c||document;var k=this.offset(),l=/^(?:body|html)$/i.test(c.nodeName)?{top:0,left:0}:h(c).offset();return k.top-=parseFloat(b.style.marginTop)||0,k.left-=parseFloat(b.style.marginLeft)||0,c.style&&(l.top+=parseFloat(c.style.borderTopWidth)||
0,l.left+=parseFloat(c.style.borderLeftWidth)||0),{top:k.top-l.top,left:k.left-l.left}}};var l={};h.expando="velocity"+(new Date).getTime();h.uuid=0;for(var m={},u=m.hasOwnProperty,q=m.toString,x="Boolean Number String Function Array Date RegExp Object Error".split(" "),k=0;k<x.length;k++)m["[object "+x[k]+"]"]=x[k].toLowerCase();h.fn.init.prototype=h.fn;b.Velocity={Utilities:h}}}(window);
(function(b){"object"==typeof module&&"object"==typeof module.exports?module.exports=b():"function"==typeof define&&define.amd?define(b):b()})(function(){return function(b,c,h,l){function m(b){for(var c=-1,k=b?b.length:0,h=[];++c<k;){var l=b[c];l&&h.push(l)}return h}function u(b){return E.isWrapped(b)?b=[].slice.call(b):E.isNode(b)&&(b=[b]),b}function q(b){b=v.data(b,"velocity");return null===b?l:b}function x(b){return function(c){return 1/b*Math.round(c*b)}}function k(b,k,h,l){function n(b,c,k){return(((1-
3*k+3*c)*b+(3*k-6*c))*b+3*c)*b}var p="Float32Array"in c;if(4!==arguments.length)return!1;for(var r=0;4>r;++r)if("number"!=typeof arguments[r]||isNaN(arguments[r])||!isFinite(arguments[r]))return!1;b=Math.min(b,1);h=Math.min(h,1);b=Math.max(b,0);h=Math.max(h,0);var q=p?new Float32Array(11):Array(11),v=!1,p=function(c){if(!v&&(v=!0,b!==k||h!==l))for(var p=0;11>p;++p)q[p]=n(.1*p,b,h);if(b!==k||h!==l)if(0===c)c=0;else if(1===c)c=1;else{for(var r=0,p=1;10!==p&&q[p]<=c;++p)r+=.1;--p;var p=r+(c-q[p])/(q[p+
1]-q[p])*.1,m=3*(1-3*h+3*b)*p*p+2*(3*h-6*b)*p+3*b;if(.001<=m){for(r=0;4>r;++r){m=3*(1-3*h+3*b)*p*p+2*(3*h-6*b)*p+3*b;if(0===m)break;var w=n(p,b,h)-c,p=p-w/m}c=p}else if(0===m)c=p;else{var p=r,r=r+.1,y=0;do w=p+(r-p)/2,m=n(w,b,h)-c,0<m?r=w:p=w;while(1E-7<Math.abs(m)&&10>++y);c=w}c=n(c,k,l)}return c};p.getControlPoints=function(){return[{x:b,y:k},{x:h,y:l}]};var m="generateBezier("+[b,k,h,l]+")";return p.toString=function(){return m},p}function p(b,c){var h=b;return E.isString(b)?B.Easings[b]||(h=!1):
h=E.isArray(b)&&1===b.length?x.apply(null,b):E.isArray(b)&&2===b.length?F.apply(null,b.concat([c])):!(!E.isArray(b)||4!==b.length)&&k.apply(null,b),!1===h&&(h=B.Easings[B.defaults.easing]?B.defaults.easing:y),h}function r(b){if(b){b=(new Date).getTime();var c=B.State.calls.length;1E4<c&&(B.State.calls=m(B.State.calls),c=B.State.calls.length);for(var k=0;k<c;k++)if(B.State.calls[k]){var h=B.State.calls[k],n=h[0],p=h[2],y=h[3],z=!!y,u=null;y||(y=B.State.calls[k][3]=b-16);for(var x=Math.min((b-y)/p.duration,
1),D=0,I=n.length;D<I;D++){var F=n[D],Y=F.element;if(q(Y)){var ka=!1;p.display!==l&&null!==p.display&&"none"!==p.display&&("flex"===p.display&&v.each(["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex"],function(b,c){C.setPropertyValue(Y,"display",c)}),C.setPropertyValue(Y,"display",p.display));p.visibility!==l&&"hidden"!==p.visibility&&C.setPropertyValue(Y,"visibility",p.visibility);for(var X in F)if("element"!==X){var ia,U=F[X],na=E.isString(U.easing)?B.Easings[U.easing]:U.easing;if(1===x)ia=
U.endValue;else{var la=U.endValue-U.startValue;if(ia=U.startValue+la*na(x,p,la),!z&&ia===U.currentValue)continue}if(U.currentValue=ia,"tween"===X)u=ia;else{var ea;C.Hooks.registered[X]&&(ea=C.Hooks.getRoot(X),(na=q(Y).rootPropertyValueCache[ea])&&(U.rootPropertyValue=na));U=C.setPropertyValue(Y,X,U.currentValue+(0===parseFloat(ia)?"":U.unitType),U.rootPropertyValue,U.scrollData);C.Hooks.registered[X]&&(C.Normalizations.registered[ea]?q(Y).rootPropertyValueCache[ea]=C.Normalizations.registered[ea]("extract",
null,U[1]):q(Y).rootPropertyValueCache[ea]=U[1]);"transform"===U[0]&&(ka=!0)}}p.mobileHA&&q(Y).transformCache.translate3d===l&&(q(Y).transformCache.translate3d="(0px, 0px, 0px)",ka=!0);ka&&C.flushTransformCache(Y)}}p.display!==l&&"none"!==p.display&&(B.State.calls[k][2].display=!1);p.visibility!==l&&"hidden"!==p.visibility&&(B.State.calls[k][2].visibility=!1);p.progress&&p.progress.call(h[1],h[1],x,Math.max(0,y+p.duration-b),y,u);1===x&&w(k)}}B.State.isTicking&&J(r)}function w(b,c){if(!B.State.calls[b])return!1;
for(var k=B.State.calls[b][0],h=B.State.calls[b][1],n=B.State.calls[b][2],p=B.State.calls[b][4],r=!1,m=0,w=k.length;m<w;m++){var y=k[m].element;c||n.loop||("none"===n.display&&C.setPropertyValue(y,"display",n.display),"hidden"===n.visibility&&C.setPropertyValue(y,"visibility",n.visibility));var z=q(y);if(!0!==n.loop&&(v.queue(y)[1]===l||!/\.velocityQueueEntryFlag/i.test(v.queue(y)[1]))&&z){z.isAnimating=!1;z.rootPropertyValueCache={};var u=!1;v.each(C.Lists.transforms3D,function(b,c){b=/^scale/.test(c)?
1:0;var k=z.transformCache[c];z.transformCache[c]!==l&&(new RegExp("^\\("+b+"[^.]")).test(k)&&(u=!0,delete z.transformCache[c])});n.mobileHA&&(u=!0,delete z.transformCache.translate3d);u&&C.flushTransformCache(y);C.Values.removeClass(y,"velocity-animating")}if(!c&&n.complete&&!n.loop&&m===w-1)try{n.complete.call(h,h)}catch(x){setTimeout(function(){throw x;},1)}p&&!0!==n.loop&&p(h);z&&!0===n.loop&&!c&&(v.each(z.tweensContainer,function(b,c){if(/^rotate/.test(b)&&0===(parseFloat(c.startValue)-parseFloat(c.endValue))%
360){var k=c.startValue;c.startValue=c.endValue;c.endValue=k}/^backgroundPosition/.test(b)&&100===parseFloat(c.endValue)&&"%"===c.unitType&&(c.endValue=0,c.startValue=100)}),B(y,"reverse",{loop:!0,delay:n.delay}));!1!==n.queue&&v.dequeue(y,n.queue)}B.State.calls[b]=!1;b=0;for(c=B.State.calls.length;b<c;b++)if(!1!==B.State.calls[b]){r=!0;break}!1===r&&(B.State.isTicking=!1,delete B.State.calls,B.State.calls=[])}var v,z=function(){if(h.documentMode)return h.documentMode;for(var b=7;4<b;b--){var c=h.createElement("div");
if(c.innerHTML="\x3c!--[if IE "+b+"]\x3e\x3cspan\x3e\x3c/span\x3e\x3c![endif]--\x3e",c.getElementsByTagName("span").length)return b}return l}(),n=function(){var b=0;return c.webkitRequestAnimationFrame||c.mozRequestAnimationFrame||function(c){var k,h=(new Date).getTime();return k=Math.max(0,16-(h-b)),b=h+k,setTimeout(function(){c(h+k)},k)}}(),E={isString:function(b){return"string"==typeof b},isArray:Array.isArray||function(b){return"[object Array]"===Object.prototype.toString.call(b)},isFunction:function(b){return"[object Function]"===
Object.prototype.toString.call(b)},isNode:function(b){return b&&b.nodeType},isNodeList:function(b){return"object"==typeof b&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(Object.prototype.toString.call(b))&&b.length!==l&&(0===b.length||"object"==typeof b[0]&&0<b[0].nodeType)},isWrapped:function(b){return b&&(b.jquery||c.Zepto&&c.Zepto.zepto.isZ(b))},isSVG:function(b){return c.SVGElement&&b instanceof c.SVGElement},isEmptyObject:function(b){for(var c in b)return!1;return!0}},D=!1;if(b.fn&&b.fn.jquery?
(v=b,D=!0):v=c.Velocity.Utilities,8>=z&&!D)throw Error("Velocity: IE8 and below require jQuery to be loaded before Velocity.");if(7>=z)return void(jQuery.fn.velocity=jQuery.fn.animate);var y="swing",B={State:{isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isAndroid:/Android/i.test(navigator.userAgent),isGingerbread:/Android 2\.3\.[3-7]/i.test(navigator.userAgent),isChrome:c.chrome,isFirefox:/Firefox/i.test(navigator.userAgent),prefixElement:h.createElement("div"),
prefixMatches:{},scrollAnchor:null,scrollPropertyLeft:null,scrollPropertyTop:null,isTicking:!1,calls:[]},CSS:{},Utilities:v,Redirects:{},Easings:{},Promise:c.Promise,defaults:{queue:"",duration:400,easing:y,begin:l,complete:l,progress:l,display:l,visibility:l,loop:!1,delay:!1,mobileHA:!0,_cacheValues:!0},init:function(b){v.data(b,"velocity",{isSVG:E.isSVG(b),isAnimating:!1,computedStyle:null,tweensContainer:null,rootPropertyValueCache:{},transformCache:{}})},hook:null,mock:!1,version:{major:1,minor:3,
patch:0},debug:!1};c.pageYOffset!==l?(B.State.scrollAnchor=c,B.State.scrollPropertyLeft="pageXOffset",B.State.scrollPropertyTop="pageYOffset"):(B.State.scrollAnchor=h.documentElement||h.body.parentNode||h.body,B.State.scrollPropertyLeft="scrollLeft",B.State.scrollPropertyTop="scrollTop");var F=function(){function b(c,k,h){var l=c.v+h.dv*k;return{dx:l,dv:-c.tension*(c.x+h.dx*k)-c.friction*l}}function c(k,h){var l={dx:k.v,dv:-k.tension*k.x-k.friction*k.v},n=b(k,.5*h,l),p=b(k,.5*h,n),r=b(k,h,p),q=1/
6*(l.dv+2*(n.dv+p.dv)+r.dv);return k.x+=1/6*(l.dx+2*(n.dx+p.dx)+r.dx)*h,k.v+=q*h,k}return function P(b,k,h){var l,n,p,r={x:-1,v:0,tension:null,friction:null},q=[0],v=0;b=parseFloat(b)||500;k=parseFloat(k)||20;h=h||null;r.tension=b;r.friction=k;for((l=null!==h)?(v=P(b,k),n=v/h*.016):n=.016;p=c(p||r,n),q.push(1+p.x),v+=16,1E-4<Math.abs(p.x)&&1E-4<Math.abs(p.v););return l?function(b){return q[b*(q.length-1)|0]}:v}}();B.Easings={linear:function(b){return b},swing:function(b){return.5-Math.cos(b*Math.PI)/
2},spring:function(b){return 1-Math.cos(4.5*b*Math.PI)*Math.exp(6*-b)}};v.each([["ease",[.25,.1,.25,1]],["ease-in",[.42,0,1,1]],["ease-out",[0,0,.58,1]],["ease-in-out",[.42,0,.58,1]],["easeInSine",[.47,0,.745,.715]],["easeOutSine",[.39,.575,.565,1]],["easeInOutSine",[.445,.05,.55,.95]],["easeInQuad",[.55,.085,.68,.53]],["easeOutQuad",[.25,.46,.45,.94]],["easeInOutQuad",[.455,.03,.515,.955]],["easeInCubic",[.55,.055,.675,.19]],["easeOutCubic",[.215,.61,.355,1]],["easeInOutCubic",[.645,.045,.355,1]],
["easeInQuart",[.895,.03,.685,.22]],["easeOutQuart",[.165,.84,.44,1]],["easeInOutQuart",[.77,0,.175,1]],["easeInQuint",[.755,.05,.855,.06]],["easeOutQuint",[.23,1,.32,1]],["easeInOutQuint",[.86,0,.07,1]],["easeInExpo",[.95,.05,.795,.035]],["easeOutExpo",[.19,1,.22,1]],["easeInOutExpo",[1,0,0,1]],["easeInCirc",[.6,.04,.98,.335]],["easeOutCirc",[.075,.82,.165,1]],["easeInOutCirc",[.785,.135,.15,.86]]],function(b,c){B.Easings[c[0]]=k.apply(null,c[1])});var C=B.CSS={RegEx:{isHex:/^#([A-f\d]{3}){1,2}$/i,
valueUnwrap:/^[A-z]+\((.*)\)$/i,wrappedValueAlreadyExtracted:/[0-9.]+ [0-9.]+ [0-9.]+( [0-9.]+)?/,valueSplit:/([A-z]+\(.+\))|(([A-z0-9#-.]+?)(?=\s|$))/gi},Lists:{colors:"fill stroke stopColor color backgroundColor borderColor borderTopColor borderRightColor borderBottomColor borderLeftColor outlineColor".split(" "),transformsBase:"translateX translateY scale scaleX scaleY skewX skewY rotateZ".split(" "),transforms3D:["transformPerspective","translateZ","scaleZ","rotateX","rotateY"]},Hooks:{templates:{textShadow:["Color X Y Blur",
"black 0px 0px 0px"],boxShadow:["Color X Y Blur Spread","black 0px 0px 0px 0px"],clip:["Top Right Bottom Left","0px 0px 0px 0px"],backgroundPosition:["X Y","0% 0%"],transformOrigin:["X Y Z","50% 50% 0px"],perspectiveOrigin:["X Y","50% 50%"]},registered:{},register:function(){for(var b=0;b<C.Lists.colors.length;b++)C.Hooks.templates[C.Lists.colors[b]]=["Red Green Blue Alpha","color"===C.Lists.colors[b]?"0 0 0 1":"255 255 255 1"];var c,k;if(z)for(c in C.Hooks.templates)k=C.Hooks.templates[c],b=k[0].split(" "),
k=k[1].match(C.RegEx.valueSplit),"Color"===b[0]&&(b.push(b.shift()),k.push(k.shift()),C.Hooks.templates[c]=[b.join(" "),k.join(" ")]);for(c in C.Hooks.templates){k=C.Hooks.templates[c];var b=k[0].split(" "),h;for(h in b)C.Hooks.registered[c+b[h]]=[c,h]}},getRoot:function(b){var c=C.Hooks.registered[b];return c?c[0]:b},cleanRootPropertyValue:function(b,c){return C.RegEx.valueUnwrap.test(c)&&(c=c.match(C.RegEx.valueUnwrap)[1]),C.Values.isCSSNullValue(c)&&(c=C.Hooks.templates[b][1]),c},extractValue:function(b,
c){if(b=C.Hooks.registered[b]){var k=b[1];return c=C.Hooks.cleanRootPropertyValue(b[0],c),c.toString().match(C.RegEx.valueSplit)[k]}return c},injectValue:function(b,c,k){if(b=C.Hooks.registered[b]){var h,l=b[1];return k=C.Hooks.cleanRootPropertyValue(b[0],k),h=k.toString().match(C.RegEx.valueSplit),h[l]=c,h.join(" ")}return k}},Normalizations:{registered:{clip:function(b,c,k){switch(b){case "name":return"clip";case "extract":var h;return C.RegEx.wrappedValueAlreadyExtracted.test(k)?h=k:(h=k.toString().match(C.RegEx.valueUnwrap),
h=h?h[1].replace(/,(\s+)?/g," "):k),h;case "inject":return"rect("+k+")"}},blur:function(b,c,k){switch(b){case "name":return B.State.isFirefox?"filter":"-webkit-filter";case "extract":return b=parseFloat(k),b||0===b||(b=(k=k.toString().match(/blur\(([0-9]+[A-z]+)\)/i))?k[1]:0),b;case "inject":return parseFloat(k)?"blur("+k+")":"none"}},opacity:function(b,c,k){if(8>=z)switch(b){case "name":return"filter";case "extract":return(b=k.toString().match(/alpha\(opacity=(.*)\)/i))?b[1]/100:1;case "inject":return c.style.zoom=
1,1<=parseFloat(k)?"":"alpha(opacity\x3d"+parseInt(100*parseFloat(k),10)+")"}else switch(b){case "name":return"opacity";case "extract":return k;case "inject":return k}}},register:function(){z&&!(9<z)||B.State.isGingerbread||(C.Lists.transformsBase=C.Lists.transformsBase.concat(C.Lists.transforms3D));for(var b=0;b<C.Lists.transformsBase.length;b++)!function(){var c=C.Lists.transformsBase[b];C.Normalizations.registered[c]=function(b,k,h){switch(b){case "name":return"transform";case "extract":return q(k)===
l||q(k).transformCache[c]===l?/^scale/i.test(c)?1:0:q(k).transformCache[c].replace(/[()]/g,"");case "inject":b=!1;switch(c.substr(0,c.length-1)){case "translate":b=!/(%|px|em|rem|vw|vh|\d)$/i.test(h);break;case "scal":case "scale":B.State.isAndroid&&q(k).transformCache[c]===l&&1>h&&(h=1);b=!/(\d)$/i.test(h);break;case "skew":b=!/(deg|\d)$/i.test(h);break;case "rotate":b=!/(deg|\d)$/i.test(h)}return b||(q(k).transformCache[c]="("+h+")"),q(k).transformCache[c]}}}();for(var c=0;c<C.Lists.colors.length;c++)!function(){var b=
C.Lists.colors[c];C.Normalizations.registered[b]=function(c,k,h){switch(c){case "name":return b;case "extract":if(!C.RegEx.wrappedValueAlreadyExtracted.test(h)){var n;c={black:"rgb(0, 0, 0)",blue:"rgb(0, 0, 255)",gray:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",red:"rgb(255, 0, 0)",white:"rgb(255, 255, 255)"};/^[A-z]+$/i.test(h)?n=c[h]!==l?c[h]:c.black:C.RegEx.isHex.test(h)?n="rgb("+C.Values.hexToRgb(h).join(" ")+")":/^rgba?\(/i.test(h)||(n=c.black);h=(n||h).toString().match(C.RegEx.valueUnwrap)[1].replace(/,(\s+)?/g,
" ")}return(!z||8<z)&&3===h.split(" ").length&&(h+=" 1"),h;case "inject":return 8>=z?4===h.split(" ").length&&(h=h.split(/\s+/).slice(0,3).join(" ")):3===h.split(" ").length&&(h+=" 1"),(8>=z?"rgb":"rgba")+"("+h.replace(/\s+/g,",").replace(/\.(\d)+(?=,)/g,"")+")"}}}()}},Names:{camelCase:function(b){return b.replace(/-(\w)/g,function(b,c){return c.toUpperCase()})},SVGAttribute:function(b){var c="width|height|x|y|cx|cy|r|rx|ry|x1|x2|y1|y2";return(z||B.State.isAndroid&&!B.State.isChrome)&&(c+="|transform"),
(new RegExp("^("+c+")$","i")).test(b)},prefixCheck:function(b){if(B.State.prefixMatches[b])return[B.State.prefixMatches[b],!0];for(var c=["","Webkit","Moz","ms","O"],k=0,h=c.length;k<h;k++){var l;if(l=0===k?b:c[k]+b.replace(/^\w/,function(b){return b.toUpperCase()}),E.isString(B.State.prefixElement.style[l]))return B.State.prefixMatches[b]=l,[l,!0]}return[b,!1]}},Values:{hexToRgb:function(b){var c;return b=b.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(b,c,k,h){return c+c+k+k+h+h}),c=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(b),
c?[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]:[0,0,0]},isCSSNullValue:function(b){return!b||/^(none|auto|transparent|(rgba\(0, ?0, ?0, ?0\)))$/i.test(b)},getUnitType:function(b){return/^(rotate|skew)/i.test(b)?"deg":/(^(scale|scaleX|scaleY|scaleZ|alpha|flexGrow|flexHeight|zIndex|fontWeight)$)|((opacity|red|green|blue|alpha)$)/i.test(b)?"":"px"},getDisplayType:function(b){b=b&&b.tagName.toString().toLowerCase();return/^(b|big|i|small|tt|abbr|acronym|cite|code|dfn|em|kbd|strong|samp|var|a|bdo|br|img|map|object|q|script|span|sub|sup|button|input|label|select|textarea)$/i.test(b)?
"inline":/^(li)$/i.test(b)?"list-item":/^(tr)$/i.test(b)?"table-row":/^(table)$/i.test(b)?"table":/^(tbody)$/i.test(b)?"table-row-group":"block"},addClass:function(b,c){b.classList?b.classList.add(c):b.className+=(b.className.length?" ":"")+c},removeClass:function(b,c){b.classList?b.classList.remove(c):b.className=b.className.toString().replace(new RegExp("(^|\\s)"+c.split(" ").join("|")+"(\\s|$)","gi")," ")}},getPropertyValue:function(b,k,h,n){function p(b,k){var h=0;if(8>=z)h=v.css(b,k);else{var r=
!1;/^(width|height)$/.test(k)&&0===C.getPropertyValue(b,"display")&&(r=!0,C.setPropertyValue(b,"display",C.Values.getDisplayType(b)));var m=function(){r&&C.setPropertyValue(b,"display","none")};if(!n){if("height"===k&&"border-box"!==C.getPropertyValue(b,"boxSizing").toString().toLowerCase())return k=b.offsetHeight-(parseFloat(C.getPropertyValue(b,"borderTopWidth"))||0)-(parseFloat(C.getPropertyValue(b,"borderBottomWidth"))||0)-(parseFloat(C.getPropertyValue(b,"paddingTop"))||0)-(parseFloat(C.getPropertyValue(b,
"paddingBottom"))||0),m(),k;if("width"===k&&"border-box"!==C.getPropertyValue(b,"boxSizing").toString().toLowerCase())return k=b.offsetWidth-(parseFloat(C.getPropertyValue(b,"borderLeftWidth"))||0)-(parseFloat(C.getPropertyValue(b,"borderRightWidth"))||0)-(parseFloat(C.getPropertyValue(b,"paddingLeft"))||0)-(parseFloat(C.getPropertyValue(b,"paddingRight"))||0),m(),k}h=q(b)===l?c.getComputedStyle(b,null):q(b).computedStyle?q(b).computedStyle:q(b).computedStyle=c.getComputedStyle(b,null);"borderColor"===
k&&(k="borderTopColor");h=9===z&&"filter"===k?h.getPropertyValue(k):h[k];""!==h&&null!==h||(h=b.style[k]);m()}"auto"===h&&/^(top|right|bottom|left)$/i.test(k)&&(m=p(b,"position"),("fixed"===m||"absolute"===m&&/top|left/i.test(k))&&(h=v(b).position()[k]+"px"));return h}var r;if(C.Hooks.registered[k])r=C.Hooks.getRoot(k),h===l&&(h=C.getPropertyValue(b,C.Names.prefixCheck(r)[0])),C.Normalizations.registered[r]&&(h=C.Normalizations.registered[r]("extract",b,h)),r=C.Hooks.extractValue(k,h);else if(C.Normalizations.registered[k]){var m;
h=C.Normalizations.registered[k]("name",b);"transform"!==h&&(m=p(b,C.Names.prefixCheck(h)[0]),C.Values.isCSSNullValue(m)&&C.Hooks.templates[k]&&(m=C.Hooks.templates[k][1]));r=C.Normalizations.registered[k]("extract",b,m)}if(!/^[\d-]/.test(r))if((h=q(b))&&h.isSVG&&C.Names.SVGAttribute(k))if(/^(height|width)$/i.test(k))try{r=b.getBBox()[k]}catch(w){r=0}else r=b.getAttribute(k);else r=p(b,C.Names.prefixCheck(k)[0]);return C.Values.isCSSNullValue(r)&&(r=0),r},setPropertyValue:function(b,k,h,l,n){var p=
k;if("scroll"===k)n.container?n.container["scroll"+n.direction]=h:"Left"===n.direction?c.scrollTo(h,n.alternateValue):c.scrollTo(n.alternateValue,h);else if(C.Normalizations.registered[k]&&"transform"===C.Normalizations.registered[k]("name",b))C.Normalizations.registered[k]("inject",b,h),p="transform",h=q(b).transformCache[k];else if(C.Hooks.registered[k]&&(p=k,k=C.Hooks.getRoot(k),l=l||C.getPropertyValue(b,k),h=C.Hooks.injectValue(p,h,l)),C.Normalizations.registered[k]&&(h=C.Normalizations.registered[k]("inject",
b,h),k=C.Normalizations.registered[k]("name",b)),p=C.Names.prefixCheck(k)[0],8>=z)try{b.style[p]=h}catch(r){}else(l=q(b))&&l.isSVG&&C.Names.SVGAttribute(k)?b.setAttribute(k,h):b.style[p]=h;return[p,h]},flushTransformCache:function(b){var c="",k=q(b);if((z||B.State.isAndroid&&!B.State.isChrome)&&k&&k.isSVG){var k=function(c){return parseFloat(C.getPropertyValue(b,c))},h={translate:[k("translateX"),k("translateY")],skewX:[k("skewX")],skewY:[k("skewY")],scale:1!==k("scale")?[k("scale"),k("scale")]:[k("scaleX"),
k("scaleY")],rotate:[k("rotateZ"),0,0]};v.each(q(b).transformCache,function(b){/^translate/i.test(b)?b="translate":/^scale/i.test(b)?b="scale":/^rotate/i.test(b)&&(b="rotate");h[b]&&(c+=b+"("+h[b].join(" ")+") ",delete h[b])})}else{var l,n;v.each(q(b).transformCache,function(k){return l=q(b).transformCache[k],"transformPerspective"===k?(n=l,!0):(9===z&&"rotateZ"===k&&(k="rotate"),void(c+=k+l+" "))});n&&(c="perspective"+n+" "+c)}C.setPropertyValue(b,"transform",c)}};C.Hooks.register();C.Normalizations.register();
B.hook=function(b,c,k){var h;return b=u(b),v.each(b,function(b,n){(q(n)===l&&B.init(n),k===l)?h===l&&(h=B.CSS.getPropertyValue(n,c)):(b=B.CSS.setPropertyValue(n,c,k),"transform"===b[0]&&B.CSS.flushTransformCache(n),h=b)}),h};var I=function(){function b(){return m?N.promise||null:y}function k(b,n){function m(k){var H,u;if(y.begin&&0===Q)try{y.begin.call(x,x)}catch(I){setTimeout(function(){throw I;},1)}if("scroll"===Y){var ga,F,G;u=/^x$/i.test(y.axis)?"Left":"Top";var K=parseFloat(y.offset)||0;y.container?
E.isWrapped(y.container)||E.isNode(y.container)?(y.container=y.container[0]||y.container,ga=y.container["scroll"+u],G=ga+v(b).position()[u.toLowerCase()]+K):y.container=null:(ga=B.State.scrollAnchor[B.State["scrollProperty"+u]],F=B.State.scrollAnchor[B.State["scrollProperty"+("Left"===u?"Top":"Left")]],G=v(b).offset()[u.toLowerCase()]+K);z={scroll:{rootPropertyValue:!1,startValue:ga,currentValue:ga,endValue:G,unitType:"",easing:y.easing,scrollData:{container:y.container,direction:u,alternateValue:F}},
element:b}}else if("reverse"===Y){if(H=q(b),!H)return;if(!H.tweensContainer)return void v.dequeue(b,y.queue);"none"===H.opts.display&&(H.opts.display="auto");"hidden"===H.opts.visibility&&(H.opts.visibility="visible");H.opts.loop=!1;H.opts.begin=null;H.opts.complete=null;J.easing||delete y.easing;J.duration||delete y.duration;y=v.extend({},H.opts,y);u=v.extend(!0,{},H?H.tweensContainer:null);for(var L in u)"element"!==L&&(K=u[L].startValue,u[L].startValue=u[L].currentValue=u[L].endValue,u[L].endValue=
K,E.isEmptyObject(J)||(u[L].easing=y.easing));z=u}else if("start"===Y){(H=q(b))&&H.tweensContainer&&!0===H.isAnimating&&(u=H.tweensContainer);var Da=function(c,k){var h,r,q;return E.isArray(c)?(h=c[0],!E.isArray(c[1])&&/^[\d-]/.test(c[1])||E.isFunction(c[1])||C.RegEx.isHex.test(c[1])?q=c[1]:(E.isString(c[1])&&!C.RegEx.isHex.test(c[1])||E.isArray(c[1]))&&(r=k?c[1]:p(c[1],y.duration),c[2]!==l&&(q=c[2]))):h=c,k||(r=r||y.easing),E.isFunction(h)&&(h=h.call(b,n,S)),E.isFunction(q)&&(q=q.call(b,n,S)),[h||
0,r,q]};v.each(D,function(b,c){if(RegExp("^"+C.Lists.colors.join("$|^")+"$").test(C.Names.camelCase(b))){var k=Da(c,!0),h=k[0];c=k[1];var n=k[2];if(C.RegEx.isHex.test(h)){for(var k=["Red","Green","Blue"],h=C.Values.hexToRgb(h),n=n?C.Values.hexToRgb(n):l,p=0;p<k.length;p++){var r=[h[p]];c&&r.push(c);n!==l&&r.push(n[p]);D[C.Names.camelCase(b)+k[p]]=r}delete D[b]}}});for(K in D)if(G=Da(D[K]),ga=G[0],F=G[1],G=G[2],K=C.Names.camelCase(K),k=C.Hooks.getRoot(K),L=!1,H&&H.isSVG||"tween"===k||!1!==C.Names.prefixCheck(k)[1]||
C.Normalizations.registered[k]!==l){(y.display!==l&&null!==y.display&&"none"!==y.display||y.visibility!==l&&"hidden"!==y.visibility)&&/opacity|filter/.test(K)&&!G&&0!==ga&&(G=0);y._cacheValues&&u&&u[K]?(G===l&&(G=u[K].endValue+u[K].unitType),L=H.rootPropertyValueCache[k]):C.Hooks.registered[K]?G===l?(L=C.getPropertyValue(b,k),G=C.getPropertyValue(b,K,L)):L=C.Hooks.templates[k][1]:G===l&&(G=C.getPropertyValue(b,K));var T,ba=!1,oa=function(b,c){var k,h;return h=(c||"0").toString().toLowerCase().replace(/[%A-z]+$/,
function(b){return k=b,""}),k||(k=C.Values.getUnitType(b)),[h,k]};T=oa(K,G);G=T[0];k=T[1];T=oa(K,ga);ga=T[0].replace(/^([+-\/*])=/,function(b,c){return ba=c,""});T=T[1];G=parseFloat(G)||0;ga=parseFloat(ga)||0;"%"===T&&(/^(fontSize|lineHeight)$/.test(K)?(ga/=100,T="em"):/^scale/.test(K)?(ga/=100,T=""):/(Red|Green|Blue)$/i.test(K)&&(ga=ga/100*255,T=""));oa=function(){var k=b.parentNode||h.body,l=C.getPropertyValue(b,"position"),n=C.getPropertyValue(b,"fontSize"),p=l===U.lastPosition&&k===U.lastParent,
r=n===U.lastFontSize;U.lastParent=k;U.lastPosition=l;U.lastFontSize=n;var q={};if(r&&p)q.emToPx=U.lastEmToPx,q.percentToPxWidth=U.lastPercentToPxWidth,q.percentToPxHeight=U.lastPercentToPxHeight;else{var m=H&&H.isSVG?h.createElementNS("http://www.w3.org/2000/svg","rect"):h.createElement("div");B.init(m);k.appendChild(m);v.each(["overflow","overflowX","overflowY"],function(b,c){B.CSS.setPropertyValue(m,c,"hidden")});B.CSS.setPropertyValue(m,"position",l);B.CSS.setPropertyValue(m,"fontSize",n);B.CSS.setPropertyValue(m,
"boxSizing","content-box");v.each("minWidth maxWidth width minHeight maxHeight height".split(" "),function(b,c){B.CSS.setPropertyValue(m,c,"100%")});B.CSS.setPropertyValue(m,"paddingLeft","100em");q.percentToPxWidth=U.lastPercentToPxWidth=(parseFloat(C.getPropertyValue(m,"width",null,!0))||1)/100;q.percentToPxHeight=U.lastPercentToPxHeight=(parseFloat(C.getPropertyValue(m,"height",null,!0))||1)/100;q.emToPx=U.lastEmToPx=(parseFloat(C.getPropertyValue(m,"paddingLeft"))||1)/100;k.removeChild(m)}return null===
U.remToPx&&(U.remToPx=parseFloat(C.getPropertyValue(h.body,"fontSize"))||16),null===U.vwToPx&&(U.vwToPx=parseFloat(c.innerWidth)/100,U.vhToPx=parseFloat(c.innerHeight)/100),q.remToPx=U.remToPx,q.vwToPx=U.vwToPx,q.vhToPx=U.vhToPx,q};if(/[\/*]/.test(ba))T=k;else if(k!==T&&0!==G)if(0===ga)T=k;else{w=w||oa();oa=/margin|padding|left|right|width|text|word|letter/i.test(K)||/X$/.test(K)||"x"===K?"x":"y";switch(k){case "%":G*="x"===oa?w.percentToPxWidth:w.percentToPxHeight;break;case "px":break;default:G*=
w[k+"ToPx"]}switch(T){case "%":G*=1/("x"===oa?w.percentToPxWidth:w.percentToPxHeight);break;case "px":break;default:G*=1/w[T+"ToPx"]}}switch(ba){case "+":ga=G+ga;break;case "-":ga=G-ga;break;case "*":ga*=G;break;case "/":ga=G/ga}z[K]={rootPropertyValue:L,startValue:G,currentValue:G,endValue:ga,unitType:T,easing:F}}z.element=b}z.element&&(C.Values.addClass(b,"velocity-animating"),na.push(z),H=q(b),H&&(""===y.queue&&(H.tweensContainer=z,H.opts=y),H.isAnimating=!0),Q===S-1?(B.State.calls.push([na,x,
y,null,N.resolver]),!1===B.State.isTicking&&(B.State.isTicking=!0,r())):Q++)}var w,y=v.extend({},B.defaults,J),z={};switch(q(b)===l&&B.init(b),parseFloat(y.delay)&&!1!==y.queue&&v.queue(b,y.queue,function(c){B.velocityQueueEntryFlag=!0;q(b).delayTimer={setTimeout:setTimeout(c,parseFloat(y.delay)),next:c}}),y.duration.toString().toLowerCase()){case "fast":y.duration=200;break;case "normal":y.duration=400;break;case "slow":y.duration=600;break;default:y.duration=parseFloat(y.duration)||1}!1!==B.mock&&
(!0===B.mock?y.duration=y.delay=1:(y.duration*=parseFloat(B.mock)||1,y.delay*=parseFloat(B.mock)||1));y.easing=p(y.easing,y.duration);y.begin&&!E.isFunction(y.begin)&&(y.begin=null);y.progress&&!E.isFunction(y.progress)&&(y.progress=null);y.complete&&!E.isFunction(y.complete)&&(y.complete=null);y.display!==l&&null!==y.display&&(y.display=y.display.toString().toLowerCase(),"auto"===y.display&&(y.display=B.CSS.Values.getDisplayType(b)));y.visibility!==l&&null!==y.visibility&&(y.visibility=y.visibility.toString().toLowerCase());
y.mobileHA=y.mobileHA&&B.State.isMobile&&!B.State.isGingerbread;!1===y.queue?y.delay?setTimeout(m,y.delay):m():v.queue(b,y.queue,function(b,c){return!0===c?(N.promise&&N.resolver(x),!0):(B.velocityQueueEntryFlag=!0,void m(b))});""!==y.queue&&"fx"!==y.queue||"inprogress"===v.queue(b)[0]||v.dequeue(b)}var n,m,y,z,x,D,J,F=arguments[0]&&(arguments[0].p||v.isPlainObject(arguments[0].properties)&&!arguments[0].properties.names||E.isString(arguments[0].properties));if(E.isWrapped(this)?(m=!1,z=0,x=this,
y=this):(m=!0,z=1,x=F?arguments[0].elements||arguments[0].e:arguments[0]),x=u(x)){F?(D=arguments[0].properties||arguments[0].p,J=arguments[0].options||arguments[0].o):(D=arguments[z],J=arguments[z+1]);var S=x.length,Q=0;if(!/^(stop|finish|finishAll)$/i.test(D)&&!v.isPlainObject(J))for(J={},z+=1;z<arguments.length;z++)E.isArray(arguments[z])||!/^(fast|normal|slow)$/i.test(arguments[z])&&!/^\d/.test(arguments[z])?E.isString(arguments[z])||E.isArray(arguments[z])?J.easing=arguments[z]:E.isFunction(arguments[z])&&
(J.complete=arguments[z]):J.duration=arguments[z];var N={promise:null,resolver:null,rejecter:null};m&&B.Promise&&(N.promise=new B.Promise(function(b,c){N.resolver=b;N.rejecter=c}));var Y;switch(D){case "scroll":Y="scroll";break;case "reverse":Y="reverse";break;case "finish":case "finishAll":case "stop":v.each(x,function(b,c){q(c)&&q(c).delayTimer&&(clearTimeout(q(c).delayTimer.setTimeout),q(c).delayTimer.next&&q(c).delayTimer.next(),delete q(c).delayTimer);"finishAll"!==D||!0!==J&&!E.isString(J)||
(v.each(v.queue(c,E.isString(J)?J:""),function(b,c){E.isFunction(c)&&c()}),v.queue(c,E.isString(J)?J:"",[]))});var ka=[];return v.each(B.State.calls,function(b,c){c&&v.each(c[1],function(k,h){var n=J===l?"":J;return!0!==n&&c[2].queue!==n&&(J!==l||!1!==c[2].queue)||void v.each(x,function(k,l){l===h&&(((!0===J||E.isString(J))&&(v.each(v.queue(l,E.isString(J)?J:""),function(b,c){E.isFunction(c)&&c(null,!0)}),v.queue(l,E.isString(J)?J:"",[])),"stop"===D)?((k=q(l))&&k.tweensContainer&&!1!==n&&v.each(k.tweensContainer,
function(b,c){c.endValue=c.currentValue}),ka.push(b)):"finish"!==D&&"finishAll"!==D||(c[2].duration=1))})})}),"stop"===D&&(v.each(ka,function(b,c){w(c,!0)}),N.promise&&N.resolver(x)),b();default:if(!v.isPlainObject(D)||E.isEmptyObject(D)){if(E.isString(D)&&B.Redirects[D]){n=v.extend({},J);var X=n.duration,ia=n.delay||0;return!0===n.backwards&&(x=v.extend(!0,[],x).reverse()),v.each(x,function(b,c){parseFloat(n.stagger)?n.delay=ia+parseFloat(n.stagger)*b:E.isFunction(n.stagger)&&(n.delay=ia+n.stagger.call(c,
b,S));n.drag&&(n.duration=parseFloat(X)||(/^(callout|transition)/.test(D)?1E3:400),n.duration=Math.max(n.duration*(n.backwards?1-b/S:(b+1)/S),.75*n.duration,200));B.Redirects[D].call(c,c,n||{},b,S,x,N.promise?N:l)}),b()}return N.promise&&N.rejecter(Error("Velocity: First argument ("+D+") was not a property map, a known action, or a registered redirect. Aborting.")),b()}Y="start"}var U={lastParent:null,lastPosition:null,lastFontSize:null,lastPercentToPxWidth:null,lastPercentToPxHeight:null,lastEmToPx:null,
remToPx:null,vwToPx:null,vhToPx:null},na=[];v.each(x,function(b,c){E.isNode(c)&&k(c,b)});n=v.extend({},B.defaults,J);n.loop=parseInt(n.loop,10);z=2*n.loop-1;if(n.loop)for(F=0;F<z;F++){var la={delay:n.delay,progress:n.progress};F===z-1&&(la.display=n.display,la.visibility=n.visibility,la.complete=n.complete);I(x,"reverse",la)}return b()}},B=v.extend(I,B);B.animate=I;var J=c.requestAnimationFrame||n;return B.State.isMobile||h.hidden===l||h.addEventListener("visibilitychange",function(){h.hidden?(J=
function(b){return setTimeout(function(){b(!0)},16)},r()):J=c.requestAnimationFrame||n}),b.Velocity=B,b!==c&&(b.fn.velocity=I,b.fn.velocity.defaults=B.defaults),v.each(["Down","Up"],function(b,c){B.Redirects["slide"+c]=function(b,k,h,n,p,r){k=v.extend({},k);var q=k.begin,m=k.complete,w={height:"",marginTop:"",marginBottom:"",paddingTop:"",paddingBottom:""},y={};k.display===l&&(k.display="Down"===c?"inline"===B.CSS.Values.getDisplayType(b)?"inline-block":"block":"none");k.begin=function(){q&&q.call(p,
p);for(var k in w){y[k]=b.style[k];var h=B.CSS.getPropertyValue(b,k);w[k]="Down"===c?[h,0]:[0,h]}y.overflow=b.style.overflow;b.style.overflow="hidden"};k.complete=function(){for(var c in y)b.style[c]=y[c];m&&m.call(p,p);r&&r.resolver(p)};B(b,w,k)}}),v.each(["In","Out"],function(b,c){B.Redirects["fade"+c]=function(b,k,h,n,p,r){b=v.extend({},k);var q=b.complete;k={opacity:"In"===c?1:0};h!==n-1?b.complete=b.begin=null:b.complete=function(){q&&q.call(p,p);r&&r.resolver(p)};b.display===l&&(b.display="In"===
c?"auto":"none");B(this,k,b)}}),B}(window.jQuery||window.Zepto||window,window,document)});
!function(b){"function"==typeof require&&"object"==typeof exports?module.exports=b():"function"==typeof define&&define.amd?define(["velocity"],b):b()}(function(){return function(b,c,h,l){var m=b.Velocity;if(m&&m.Utilities){var u=m.Utilities;if(function(b,c){var h=[];return!(!b||!c)&&(u.each([b,c],function(b,c){var k=[];u.each(c,function(b,c){for(;5>c.toString().length;)c="0"+c;k.push(c)});h.push(k.join(""))}),parseFloat(h[0])>parseFloat(h[1]))}({major:1,minor:1,patch:0},m.version))throw alert("Velocity UI Pack: You need to update Velocity (jquery.velocity.js) to a newer version. Visit http://github.com/julianshapiro/velocity."),
Error("Velocity UI Pack: You need to update Velocity (jquery.velocity.js) to a newer version. Visit http://github.com/julianshapiro/velocity.");m.RegisterEffect=m.RegisterUI=function(b,c){function h(b,c,k,l){var n,p=0;u.each(b.nodeType?[b]:b,function(b,c){l&&(k+=b*l);n=c.parentNode;propertiesToSum=["height","paddingTop","paddingBottom","marginTop","marginBottom"];"border-box"===m.CSS.getPropertyValue(c,"boxSizing").toString().toLowerCase()&&(propertiesToSum=["height"]);u.each(propertiesToSum,function(b,
k){p+=parseFloat(m.CSS.getPropertyValue(c,k))})});m.animate(n,{height:("In"===c?"+":"-")+"\x3d"+p},{queue:!1,easing:"ease-in-out",duration:k*("In"===c?.6:1)})}return m.Redirects[b]=function(r,q,v,z,n,E){var D=v===z-1;"function"==typeof c.defaultDuration?c.defaultDuration=c.defaultDuration.call(n,n):c.defaultDuration=parseFloat(c.defaultDuration);for(z=0;z<c.calls.length;z++){var y=c.calls[z],B=y[0],F=1E3,C=y[1],y=y[2]||{},I={};if(q.duration!==l?F=q.duration:c.defaultDuration!==l&&(F=c.defaultDuration),
I.duration=F*(C||1),I.queue=q.queue||"",I.easing=y.easing||"ease",I.delay=parseFloat(y.delay)||0,I._cacheValues=y._cacheValues||!0,0===z){if(I.delay+=parseFloat(q.delay)||0,0===v&&(I.begin=function(){q.begin&&q.begin.call(n,n);var c=b.match(/(In|Out)$/);c&&"In"===c[0]&&B.opacity!==l&&u.each(n.nodeType?[n]:n,function(b,c){m.CSS.setPropertyValue(c,"opacity",0)});q.animateParentHeight&&c&&h(n,c[0],F+I.delay,q.stagger)}),null!==q.display)q.display!==l&&"none"!==q.display?I.display=q.display:/In$/.test(b)&&
(C=m.CSS.Values.getDisplayType(r),I.display="inline"===C?"inline-block":C);q.visibility&&"hidden"!==q.visibility&&(I.visibility=q.visibility)}if(z===c.calls.length-1){var J=function(){q.display!==l&&"none"!==q.display||!/Out$/.test(b)||u.each(n.nodeType?[n]:n,function(b,c){m.CSS.setPropertyValue(c,"display","none")});q.complete&&q.complete.call(n,n);E&&E.resolver(n||r)};I.complete=function(){if(c.reset){for(var b in c.reset){var h=c.reset[b];m.CSS.Hooks.registered[b]!==l||"string"!=typeof h&&"number"!=
typeof h||(c.reset[b]=[c.reset[b],c.reset[b]])}b={duration:0,queue:!1};D&&(b.complete=J);m.animate(r,c.reset,b)}else D&&J()};"hidden"===q.visibility&&(I.visibility=q.visibility)}m.animate(r,B,I)}},m};m.RegisterEffect.packagedEffects={"callout.bounce":{defaultDuration:550,calls:[[{translateY:-30},.25],[{translateY:0},.125],[{translateY:-15},.125],[{translateY:0},.25]]},"callout.shake":{defaultDuration:800,calls:[[{translateX:-11},.125],[{translateX:11},.125],[{translateX:-11},.125],[{translateX:11},
.125],[{translateX:-11},.125],[{translateX:11},.125],[{translateX:-11},.125],[{translateX:0},.125]]},"callout.flash":{defaultDuration:1100,calls:[[{opacity:[0,"easeInOutQuad",1]},.25],[{opacity:[1,"easeInOutQuad"]},.25],[{opacity:[0,"easeInOutQuad"]},.25],[{opacity:[1,"easeInOutQuad"]},.25]]},"callout.pulse":{defaultDuration:825,calls:[[{scaleX:1.1,scaleY:1.1},.5,{easing:"easeInExpo"}],[{scaleX:1,scaleY:1},.5]]},"callout.swing":{defaultDuration:950,calls:[[{rotateZ:15},.2],[{rotateZ:-10},.2],[{rotateZ:5},
.2],[{rotateZ:-5},.2],[{rotateZ:0},.2]]},"callout.tada":{defaultDuration:1E3,calls:[[{scaleX:.9,scaleY:.9,rotateZ:-3},.1],[{scaleX:1.1,scaleY:1.1,rotateZ:3},.1],[{scaleX:1.1,scaleY:1.1,rotateZ:-3},.1],["reverse",.125],["reverse",.125],["reverse",.125],["reverse",.125],["reverse",.125],[{scaleX:1,scaleY:1,rotateZ:0},.2]]},"transition.fadeIn":{defaultDuration:500,calls:[[{opacity:[1,0]}]]},"transition.fadeOut":{defaultDuration:500,calls:[[{opacity:[0,1]}]]},"transition.flipXIn":{defaultDuration:700,
calls:[[{opacity:[1,0],transformPerspective:[800,800],rotateY:[0,-55]}]],reset:{transformPerspective:0}},"transition.flipXOut":{defaultDuration:700,calls:[[{opacity:[0,1],transformPerspective:[800,800],rotateY:55}]],reset:{transformPerspective:0,rotateY:0}},"transition.flipYIn":{defaultDuration:800,calls:[[{opacity:[1,0],transformPerspective:[800,800],rotateX:[0,-45]}]],reset:{transformPerspective:0}},"transition.flipYOut":{defaultDuration:800,calls:[[{opacity:[0,1],transformPerspective:[800,800],
rotateX:25}]],reset:{transformPerspective:0,rotateX:0}},"transition.flipBounceXIn":{defaultDuration:900,calls:[[{opacity:[.725,0],transformPerspective:[400,400],rotateY:[-10,90]},.5],[{opacity:.8,rotateY:10},.25],[{opacity:1,rotateY:0},.25]],reset:{transformPerspective:0}},"transition.flipBounceXOut":{defaultDuration:800,calls:[[{opacity:[.9,1],transformPerspective:[400,400],rotateY:-10},.5],[{opacity:0,rotateY:90},.5]],reset:{transformPerspective:0,rotateY:0}},"transition.flipBounceYIn":{defaultDuration:850,
calls:[[{opacity:[.725,0],transformPerspective:[400,400],rotateX:[-10,90]},.5],[{opacity:.8,rotateX:10},.25],[{opacity:1,rotateX:0},.25]],reset:{transformPerspective:0}},"transition.flipBounceYOut":{defaultDuration:800,calls:[[{opacity:[.9,1],transformPerspective:[400,400],rotateX:-15},.5],[{opacity:0,rotateX:90},.5]],reset:{transformPerspective:0,rotateX:0}},"transition.swoopIn":{defaultDuration:850,calls:[[{opacity:[1,0],transformOriginX:["100%","50%"],transformOriginY:["100%","100%"],scaleX:[1,
0],scaleY:[1,0],translateX:[0,-700],translateZ:0}]],reset:{transformOriginX:"50%",transformOriginY:"50%"}},"transition.swoopOut":{defaultDuration:850,calls:[[{opacity:[0,1],transformOriginX:["50%","100%"],transformOriginY:["100%","100%"],scaleX:0,scaleY:0,translateX:-700,translateZ:0}]],reset:{transformOriginX:"50%",transformOriginY:"50%",scaleX:1,scaleY:1,translateX:0}},"transition.whirlIn":{defaultDuration:850,calls:[[{opacity:[1,0],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],
scaleX:[1,0],scaleY:[1,0],rotateY:[0,160]},1,{easing:"easeInOutSine"}]]},"transition.whirlOut":{defaultDuration:750,calls:[[{opacity:[0,"easeInOutQuint",1],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:0,scaleY:0,rotateY:160},1,{easing:"swing"}]],reset:{scaleX:1,scaleY:1,rotateY:0}},"transition.shrinkIn":{defaultDuration:750,calls:[[{opacity:[1,0],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:[1,1.5],scaleY:[1,1.5],translateZ:0}]]},"transition.shrinkOut":{defaultDuration:600,
calls:[[{opacity:[0,1],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:1.3,scaleY:1.3,translateZ:0}]],reset:{scaleX:1,scaleY:1}},"transition.expandIn":{defaultDuration:700,calls:[[{opacity:[1,0],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:[1,.625],scaleY:[1,.625],translateZ:0}]]},"transition.expandOut":{defaultDuration:700,calls:[[{opacity:[0,1],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:.5,scaleY:.5,translateZ:0}]],reset:{scaleX:1,
scaleY:1}},"transition.bounceIn":{defaultDuration:800,calls:[[{opacity:[1,0],scaleX:[1.05,.3],scaleY:[1.05,.3]},.4],[{scaleX:.9,scaleY:.9,translateZ:0},.2],[{scaleX:1,scaleY:1},.5]]},"transition.bounceOut":{defaultDuration:800,calls:[[{scaleX:.95,scaleY:.95},.35],[{scaleX:1.1,scaleY:1.1,translateZ:0},.35],[{opacity:[0,1],scaleX:.3,scaleY:.3},.3]],reset:{scaleX:1,scaleY:1}},"transition.bounceUpIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateY:[-30,1E3]},.6,{easing:"easeOutCirc"}],[{translateY:10},
.2],[{translateY:0},.2]]},"transition.bounceUpOut":{defaultDuration:1E3,calls:[[{translateY:20},.2],[{opacity:[0,"easeInCirc",1],translateY:-1E3},.8]],reset:{translateY:0}},"transition.bounceDownIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateY:[30,-1E3]},.6,{easing:"easeOutCirc"}],[{translateY:-10},.2],[{translateY:0},.2]]},"transition.bounceDownOut":{defaultDuration:1E3,calls:[[{translateY:-20},.2],[{opacity:[0,"easeInCirc",1],translateY:1E3},.8]],reset:{translateY:0}},"transition.bounceLeftIn":{defaultDuration:750,
calls:[[{opacity:[1,0],translateX:[30,-1250]},.6,{easing:"easeOutCirc"}],[{translateX:-10},.2],[{translateX:0},.2]]},"transition.bounceLeftOut":{defaultDuration:750,calls:[[{translateX:30},.2],[{opacity:[0,"easeInCirc",1],translateX:-1250},.8]],reset:{translateX:0}},"transition.bounceRightIn":{defaultDuration:750,calls:[[{opacity:[1,0],translateX:[-30,1250]},.6,{easing:"easeOutCirc"}],[{translateX:10},.2],[{translateX:0},.2]]},"transition.bounceRightOut":{defaultDuration:750,calls:[[{translateX:-30},
.2],[{opacity:[0,"easeInCirc",1],translateX:1250},.8]],reset:{translateX:0}},"transition.slideUpIn":{defaultDuration:900,calls:[[{opacity:[1,0],translateY:[0,20],translateZ:0}]]},"transition.slideUpOut":{defaultDuration:900,calls:[[{opacity:[0,1],translateY:-20,translateZ:0}]],reset:{translateY:0}},"transition.slideDownIn":{defaultDuration:900,calls:[[{opacity:[1,0],translateY:[0,-20],translateZ:0}]]},"transition.slideDownOut":{defaultDuration:900,calls:[[{opacity:[0,1],translateY:20,translateZ:0}]],
reset:{translateY:0}},"transition.slideLeftIn":{defaultDuration:1E3,calls:[[{opacity:[1,0],translateX:[0,-20],translateZ:0}]]},"transition.slideLeftOut":{defaultDuration:1050,calls:[[{opacity:[0,1],translateX:-20,translateZ:0}]],reset:{translateX:0}},"transition.slideRightIn":{defaultDuration:1E3,calls:[[{opacity:[1,0],translateX:[0,20],translateZ:0}]]},"transition.slideRightOut":{defaultDuration:1050,calls:[[{opacity:[0,1],translateX:20,translateZ:0}]],reset:{translateX:0}},"transition.slideUpBigIn":{defaultDuration:850,
calls:[[{opacity:[1,0],translateY:[0,75],translateZ:0}]]},"transition.slideUpBigOut":{defaultDuration:800,calls:[[{opacity:[0,1],translateY:-75,translateZ:0}]],reset:{translateY:0}},"transition.slideDownBigIn":{defaultDuration:850,calls:[[{opacity:[1,0],translateY:[0,-75],translateZ:0}]]},"transition.slideDownBigOut":{defaultDuration:800,calls:[[{opacity:[0,1],translateY:75,translateZ:0}]],reset:{translateY:0}},"transition.slideLeftBigIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateX:[0,
-75],translateZ:0}]]},"transition.slideLeftBigOut":{defaultDuration:750,calls:[[{opacity:[0,1],translateX:-75,translateZ:0}]],reset:{translateX:0}},"transition.slideRightBigIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateX:[0,75],translateZ:0}]]},"transition.slideRightBigOut":{defaultDuration:750,calls:[[{opacity:[0,1],translateX:75,translateZ:0}]],reset:{translateX:0}},"transition.perspectiveUpIn":{defaultDuration:800,calls:[[{opacity:[1,0],transformPerspective:[800,800],transformOriginX:[0,
0],transformOriginY:["100%","100%"],rotateX:[0,-180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveUpOut":{defaultDuration:850,calls:[[{opacity:[0,1],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:["100%","100%"],rotateX:-180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateX:0}},"transition.perspectiveDownIn":{defaultDuration:800,calls:[[{opacity:[1,0],transformPerspective:[800,800],
transformOriginX:[0,0],transformOriginY:[0,0],rotateX:[0,180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveDownOut":{defaultDuration:850,calls:[[{opacity:[0,1],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:[0,0],rotateX:180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateX:0}},"transition.perspectiveLeftIn":{defaultDuration:950,calls:[[{opacity:[1,0],transformPerspective:[2E3,2E3],
transformOriginX:[0,0],transformOriginY:[0,0],rotateY:[0,-180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveLeftOut":{defaultDuration:950,calls:[[{opacity:[0,1],transformPerspective:[2E3,2E3],transformOriginX:[0,0],transformOriginY:[0,0],rotateY:-180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateY:0}},"transition.perspectiveRightIn":{defaultDuration:950,calls:[[{opacity:[1,0],transformPerspective:[2E3,
2E3],transformOriginX:["100%","100%"],transformOriginY:[0,0],rotateY:[0,180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveRightOut":{defaultDuration:950,calls:[[{opacity:[0,1],transformPerspective:[2E3,2E3],transformOriginX:["100%","100%"],transformOriginY:[0,0],rotateY:180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateY:0}}};for(var q in m.RegisterEffect.packagedEffects)m.RegisterEffect(q,m.RegisterEffect.packagedEffects[q]);
m.RunSequence=function(b){var c=u.extend(!0,[],b);1<c.length&&(u.each(c.reverse(),function(b,h){var l=c[b+1];if(l){var q=h.o||h.options;b=l.o||l.options;var q=q&&!1===q.sequenceQueue?"begin":"complete",z=b&&b[q],n={};n[q]=function(){var b=l.e||l.elements,b=b.nodeType?[b]:b;z&&z.call(b,b);m(h)};l.o?l.o=u.extend({},b,n):l.options=u.extend({},b,n)}}),c.reverse());m(c[0])}}}(window.jQuery||window.Zepto||window,window,document)});
!function(b,c){"function"==typeof define&&define.amd?define(["jquery"],c):c("object"==typeof exports?require("jquery"):b.jQuery?b.jQuery:b.Zepto)}(this,function(b,c){b.fn.jPlayer=function(h){var l="string"==typeof h,k=Array.prototype.slice.call(arguments,1),p=this;return h=!l&&k.length?b.extend.apply(null,[!0,h].concat(k)):h,l&&"_"===h.charAt(0)?p:(this.each(l?function(){var l=b(this).data("jPlayer"),m=l&&b.isFunction(l[h])?l[h].apply(l,k):l;return m!==l&&m!==c?(p=m,!1):void 0}:function(){var c=b(this).data("jPlayer");
c?c.option(h||{}):b(this).data("jPlayer",new b.jPlayer(h,this))}),p)};b.jPlayer=function(c,h){if(arguments.length){this.element=b(h);this.options=b.extend(!0,{},this.options,c);var k=this;this.element.bind("remove.jPlayer",function(){k.destroy()});this._init()}};"function"!=typeof b.fn.stop&&(b.fn.stop=function(){});b.jPlayer.emulateMethods="load play pause";b.jPlayer.emulateStatus="src readyState networkState currentTime duration paused ended playbackRate";b.jPlayer.emulateOptions="muted volume";
b.jPlayer.reservedEvent="ready flashreset resize repeat error warning";b.jPlayer.event={};b.each("ready setmedia flashreset resize repeat click error warning loadstart progress suspend abort emptied stalled play pause loadedmetadata loadeddata waiting playing canplay canplaythrough seeking seeked timeupdate ended ratechange durationchange volumechange".split(" "),function(){b.jPlayer.event[this]="jPlayer_"+this});b.jPlayer.htmlEvent="loadstart abort emptied stalled loadedmetadata canplay canplaythrough".split(" ");
b.jPlayer.pause=function(){b.jPlayer.prototype.destroyRemoved();b.each(b.jPlayer.prototype.instances,function(b,c){c.data("jPlayer").status.srcSet&&c.jPlayer("pause")})};b.jPlayer.timeFormat={showHour:!1,showMin:!0,showSec:!0,padHour:!1,padMin:!0,padSec:!0,sepHour:":",sepMin:":",sepSec:""};var h=function(){this.init()};h.prototype={init:function(){this.options={timeFormat:b.jPlayer.timeFormat}},time:function(b){var c=new Date(1E3*(b&&"number"==typeof b?b:0));b=c.getUTCHours();var k=this.options.timeFormat.showHour?
c.getUTCMinutes():c.getUTCMinutes()+60*b,c=this.options.timeFormat.showMin?c.getUTCSeconds():c.getUTCSeconds()+60*k;b=this.options.timeFormat.padHour&&10>b?"0"+b:b;var k=this.options.timeFormat.padMin&&10>k?"0"+k:k,c=this.options.timeFormat.padSec&&10>c?"0"+c:c,h="";return h+=this.options.timeFormat.showHour?b+this.options.timeFormat.sepHour:"",h+=this.options.timeFormat.showMin?k+this.options.timeFormat.sepMin:"",h+(this.options.timeFormat.showSec?c+this.options.timeFormat.sepSec:"")}};var l=new h;
b.jPlayer.convertTime=function(b){return l.time(b)};b.jPlayer.uaBrowser=function(b){b=b.toLowerCase();var c=/(opera)(?:.*version)?[ \/]([\w.]+)/,k=/(msie) ([\w.]+)/,h=/(mozilla)(?:.*? rv:([\w.]+))?/;b=/(webkit)[ \/]([\w.]+)/.exec(b)||c.exec(b)||k.exec(b)||0>b.indexOf("compatible")&&h.exec(b)||[];return{browser:b[1]||"",version:b[2]||"0"}};b.jPlayer.uaPlatform=function(b){var c=b.toLowerCase(),k=/(android)/,h=/(mobile)/;b=/(ipad|iphone|ipod|android|blackberry|playbook|windows ce|webos)/.exec(c)||[];
c=/(ipad|playbook)/.exec(c)||!h.exec(c)&&k.exec(c)||[];return b[1]&&(b[1]=b[1].replace(/\s/g,"_")),{platform:b[1]||"",tablet:c[1]||""}};b.jPlayer.browser={};b.jPlayer.platform={};var m=b.jPlayer.uaBrowser(navigator.userAgent);m.browser&&(b.jPlayer.browser[m.browser]=!0,b.jPlayer.browser.version=m.version);m=b.jPlayer.uaPlatform(navigator.userAgent);m.platform&&(b.jPlayer.platform[m.platform]=!0,b.jPlayer.platform.mobile=!m.tablet,b.jPlayer.platform.tablet=!!m.tablet);b.jPlayer.getDocMode=function(){var c;
return b.jPlayer.browser.msie&&(document.documentMode?c=document.documentMode:(c=5,document.compatMode&&"CSS1Compat"===document.compatMode&&(c=7))),c};b.jPlayer.browser.documentMode=b.jPlayer.getDocMode();b.jPlayer.nativeFeatures={init:function(){var b,c,k,h=document;b=h.createElement("video");var l={w3c:"fullscreenEnabled fullscreenElement requestFullscreen exitFullscreen fullscreenchange fullscreenerror".split(" "),moz:"mozFullScreenEnabled mozFullScreenElement mozRequestFullScreen mozCancelFullScreen mozfullscreenchange mozfullscreenerror".split(" "),
webkit:" webkitCurrentFullScreenElement webkitRequestFullScreen webkitCancelFullScreen webkitfullscreenchange ".split(" "),webkitVideo:"webkitSupportsFullscreen webkitDisplayingFullscreen webkitEnterFullscreen webkitExitFullscreen  ".split(" "),ms:" msFullscreenElement msRequestFullscreen msExitFullscreen MSFullscreenChange MSFullscreenError".split(" ")},m=["w3c","moz","webkit","webkitVideo","ms"];this.fullscreen=b={support:{w3c:!!h[l.w3c[0]],moz:!!h[l.moz[0]],webkit:"function"==typeof h[l.webkit[3]],
webkitVideo:"function"==typeof b[l.webkitVideo[2]],ms:"function"==typeof b[l.ms[2]]},used:{}};c=0;for(k=m.length;k>c;c++){var v=m[c];if(b.support[v]){b.spec=v;b.used[v]=!0;break}}if(b.spec){var z=l[b.spec];b.api={fullscreenEnabled:!0,fullscreenElement:function(b){return b=b?b:h,b[z[1]]},requestFullscreen:function(b){return b[z[2]]()},exitFullscreen:function(b){return b=b?b:h,b[z[3]]()}};b.event={fullscreenchange:z[4],fullscreenerror:z[5]}}else b.api={fullscreenEnabled:!1,fullscreenElement:function(){return null},
requestFullscreen:function(){},exitFullscreen:function(){}},b.event={}}};b.jPlayer.nativeFeatures.init();b.jPlayer.focus=null;b.jPlayer.keyIgnoreElementNames="A INPUT TEXTAREA SELECT BUTTON";var u=function(c){var h,k=b.jPlayer.focus;k&&(b.each(b.jPlayer.keyIgnoreElementNames.split(/\s+/g),function(b,k){return c.target.nodeName.toUpperCase()===k.toUpperCase()?(h=!0,!1):void 0}),h||b.each(k.options.keyBindings,function(h,l){return l&&b.isFunction(l.fn)&&("number"==typeof l.key&&c.which===l.key||"string"==
typeof l.key&&c.key===l.key)?(c.preventDefault(),l.fn(k),!1):void 0}))};b.jPlayer.keys=function(c){b(document.documentElement).unbind("keydown.jPlayer");c&&b(document.documentElement).bind("keydown.jPlayer",u)};b.jPlayer.keys(!0);b.jPlayer.prototype={count:0,version:{script:"2.9.2",needFlash:"2.9.0",flash:"unknown"},options:{swfPath:"js",solution:"html, flash",supplied:"mp3",auroraFormats:"wav",preload:"metadata",volume:.8,muted:!1,remainingDuration:!1,toggleDuration:!1,captureDuration:!0,playbackRate:1,
defaultPlaybackRate:1,minPlaybackRate:.5,maxPlaybackRate:4,wmode:"opaque",backgroundColor:"#000000",cssSelectorAncestor:"#jp_container_1",cssSelector:{videoPlay:".jp-video-play",play:".jp-play",pause:".jp-pause",stop:".jp-stop",seekBar:".jp-seek-bar",playBar:".jp-play-bar",mute:".jp-mute",unmute:".jp-unmute",volumeBar:".jp-volume-bar",volumeBarValue:".jp-volume-bar-value",volumeMax:".jp-volume-max",playbackRateBar:".jp-playback-rate-bar",playbackRateBarValue:".jp-playback-rate-bar-value",currentTime:".jp-current-time",
duration:".jp-duration",title:".jp-title",fullScreen:".jp-full-screen",restoreScreen:".jp-restore-screen",repeat:".jp-repeat",repeatOff:".jp-repeat-off",gui:".jp-gui",noSolution:".jp-no-solution"},stateClass:{playing:"jp-state-playing",seeking:"jp-state-seeking",muted:"jp-state-muted",looped:"jp-state-looped",fullScreen:"jp-state-full-screen",noVolume:"jp-state-no-volume"},useStateClassSkin:!1,autoBlur:!0,smoothPlayBar:!1,fullScreen:!1,fullWindow:!1,autohide:{restored:!1,full:!0,fadeIn:200,fadeOut:600,
hold:1E3},loop:!1,repeat:function(c){c.jPlayer.options.loop?b(this).unbind(".jPlayerRepeat").bind(b.jPlayer.event.ended+".jPlayer.jPlayerRepeat",function(){b(this).jPlayer("play")}):b(this).unbind(".jPlayerRepeat")},nativeVideoControls:{},noFullWindow:{msie:/msie [0-6]\./,ipad:/ipad.*?os [0-4]\./,iphone:/iphone/,ipod:/ipod/,android_pad:/android [0-3]\.(?!.*?mobile)/,android_phone:/(?=.*android)(?!.*chrome)(?=.*mobile)/,blackberry:/blackberry/,windows_ce:/windows ce/,iemobile:/iemobile/,webos:/webos/},
noVolume:{ipad:/ipad/,iphone:/iphone/,ipod:/ipod/,android_pad:/android(?!.*?mobile)/,android_phone:/android.*?mobile/,blackberry:/blackberry/,windows_ce:/windows ce/,iemobile:/iemobile/,webos:/webos/,playbook:/playbook/},timeFormat:{},keyEnabled:!1,audioFullScreen:!1,keyBindings:{play:{key:80,fn:function(b){b.status.paused?b.play():b.pause()}},fullScreen:{key:70,fn:function(b){(b.status.video||b.options.audioFullScreen)&&b._setOption("fullScreen",!b.options.fullScreen)}},muted:{key:77,fn:function(b){b._muted(!b.options.muted)}},
volumeUp:{key:190,fn:function(b){b.volume(b.options.volume+.1)}},volumeDown:{key:188,fn:function(b){b.volume(b.options.volume-.1)}},loop:{key:76,fn:function(b){b._loop(!b.options.loop)}}},verticalVolume:!1,verticalPlaybackRate:!1,globalVolume:!1,idPrefix:"jp",noConflict:"jQuery",emulateHtml:!1,consoleAlerts:!0,errorAlerts:!1,warningAlerts:!1},optionsAudio:{size:{width:"0px",height:"0px",cssClass:""},sizeFull:{width:"0px",height:"0px",cssClass:""}},optionsVideo:{size:{width:"480px",height:"270px",
cssClass:"jp-video-270p"},sizeFull:{width:"100%",height:"100%",cssClass:"jp-video-full"}},instances:{},status:{src:"",media:{},paused:!0,format:{},formatType:"",waitForPlay:!0,waitForLoad:!0,srcSet:!1,video:!1,seekPercent:0,currentPercentRelative:0,currentPercentAbsolute:0,currentTime:0,duration:0,remaining:0,videoWidth:0,videoHeight:0,readyState:0,networkState:0,playbackRate:1,ended:0},internal:{ready:!1},solution:{html:!0,aurora:!0,flash:!0},format:{mp3:{codec:"audio/mpeg",flashCanPlay:!0,media:"audio"},
m4a:{codec:'audio/mp4; codecs\x3d"mp4a.40.2"',flashCanPlay:!0,media:"audio"},m3u8a:{codec:'application/vnd.apple.mpegurl; codecs\x3d"mp4a.40.2"',flashCanPlay:!1,media:"audio"},m3ua:{codec:"audio/mpegurl",flashCanPlay:!1,media:"audio"},oga:{codec:'audio/ogg; codecs\x3d"vorbis, opus"',flashCanPlay:!1,media:"audio"},flac:{codec:"audio/x-flac",flashCanPlay:!1,media:"audio"},wav:{codec:'audio/wav; codecs\x3d"1"',flashCanPlay:!1,media:"audio"},webma:{codec:'audio/webm; codecs\x3d"vorbis"',flashCanPlay:!1,
media:"audio"},fla:{codec:"audio/x-flv",flashCanPlay:!0,media:"audio"},rtmpa:{codec:'audio/rtmp; codecs\x3d"rtmp"',flashCanPlay:!0,media:"audio"},m4v:{codec:'video/mp4; codecs\x3d"avc1.42E01E, mp4a.40.2"',flashCanPlay:!0,media:"video"},m3u8v:{codec:'application/vnd.apple.mpegurl; codecs\x3d"avc1.42E01E, mp4a.40.2"',flashCanPlay:!1,media:"video"},m3uv:{codec:"audio/mpegurl",flashCanPlay:!1,media:"video"},ogv:{codec:'video/ogg; codecs\x3d"theora, vorbis"',flashCanPlay:!1,media:"video"},webmv:{codec:'video/webm; codecs\x3d"vorbis, vp8"',
flashCanPlay:!1,media:"video"},flv:{codec:"video/x-flv",flashCanPlay:!0,media:"video"},rtmpv:{codec:'video/rtmp; codecs\x3d"rtmp"',flashCanPlay:!0,media:"video"}},_init:function(){var h=this;if(this.element.empty(),this.status=b.extend({},this.status),this.internal=b.extend({},this.internal),this.options.timeFormat=b.extend({},b.jPlayer.timeFormat,this.options.timeFormat),this.internal.cmdsIgnored=b.jPlayer.platform.ipad||b.jPlayer.platform.iphone||b.jPlayer.platform.ipod,this.internal.domNode=this.element.get(0),
this.options.keyEnabled&&!b.jPlayer.focus&&(b.jPlayer.focus=this),this.androidFix={setMedia:!1,play:!1,pause:!1,time:0/0},b.jPlayer.platform.android&&(this.options.preload="auto"!==this.options.preload?"metadata":"auto"),this.formats=[],this.solutions=[],this.require={},this.htmlElement={},this.html={},this.html.audio={},this.html.video={},this.aurora={},this.aurora.formats=[],this.aurora.properties=[],this.flash={},this.css={},this.css.cs={},this.css.jq={},this.ancestorJq=[],this.options.volume=
this._limitValue(this.options.volume,0,1),b.each(this.options.supplied.toLowerCase().split(","),function(c,k){var l=k.replace(/^\s+|\s+$/g,"");if(h.format[l]){var p=!1;b.each(h.formats,function(b,c){return l===c?(p=!0,!1):void 0});p||h.formats.push(l)}}),b.each(this.options.solution.toLowerCase().split(","),function(c,k){var l=k.replace(/^\s+|\s+$/g,"");if(h.solution[l]){var p=!1;b.each(h.solutions,function(b,c){return l===c?(p=!0,!1):void 0});p||h.solutions.push(l)}}),b.each(this.options.auroraFormats.toLowerCase().split(","),
function(c,k){var l=k.replace(/^\s+|\s+$/g,"");if(h.format[l]){var p=!1;b.each(h.aurora.formats,function(b,c){return l===c?(p=!0,!1):void 0});p||h.aurora.formats.push(l)}}),this.internal.instance="jp_"+this.count,this.instances[this.internal.instance]=this.element,this.element.attr("id")||this.element.attr("id",this.options.idPrefix+"_jplayer_"+this.count),this.internal.self=b.extend({},{id:this.element.attr("id"),jq:this.element}),this.internal.audio=b.extend({},{id:this.options.idPrefix+"_audio_"+
this.count,jq:c}),this.internal.video=b.extend({},{id:this.options.idPrefix+"_video_"+this.count,jq:c}),this.internal.flash=b.extend({},{id:this.options.idPrefix+"_flash_"+this.count,jq:c,swf:this.options.swfPath+(".swf"!==this.options.swfPath.toLowerCase().slice(-4)?(this.options.swfPath&&"/"!==this.options.swfPath.slice(-1)?"/":"")+"jquery.jplayer.swf":"")}),this.internal.poster=b.extend({},{id:this.options.idPrefix+"_poster_"+this.count,jq:c}),b.each(b.jPlayer.event,function(b,k){h.options[b]!==
c&&(h.element.bind(k+".jPlayer",h.options[b]),h.options[b]=c)}),this.require.audio=!1,this.require.video=!1,b.each(this.formats,function(b,c){h.require[h.format[c].media]=!0}),this.options=this.require.video?b.extend(!0,{},this.optionsVideo,this.options):b.extend(!0,{},this.optionsAudio,this.options),this._setSize(),this.status.nativeVideoControls=this._uaBlocklist(this.options.nativeVideoControls),this.status.noFullWindow=this._uaBlocklist(this.options.noFullWindow),this.status.noVolume=this._uaBlocklist(this.options.noVolume),
b.jPlayer.nativeFeatures.fullscreen.api.fullscreenEnabled&&this._fullscreenAddEventListeners(),this._restrictNativeVideoControls(),this.htmlElement.poster=document.createElement("img"),this.htmlElement.poster.id=this.internal.poster.id,this.htmlElement.poster.onload=function(){h.status.video&&!h.status.waitForPlay||h.internal.poster.jq.show()},this.element.append(this.htmlElement.poster),this.internal.poster.jq=b("#"+this.internal.poster.id),this.internal.poster.jq.css({width:this.status.width,height:this.status.height}),
this.internal.poster.jq.hide(),this.internal.poster.jq.bind("click.jPlayer",function(){h._trigger(b.jPlayer.event.click)}),this.html.audio.available=!1,this.require.audio&&(this.htmlElement.audio=document.createElement("audio"),this.htmlElement.audio.id=this.internal.audio.id,this.html.audio.available=!!this.htmlElement.audio.canPlayType&&this._testCanPlayType(this.htmlElement.audio)),this.html.video.available=!1,this.require.video&&(this.htmlElement.video=document.createElement("video"),this.htmlElement.video.id=
this.internal.video.id,this.html.video.available=!!this.htmlElement.video.canPlayType&&this._testCanPlayType(this.htmlElement.video)),this.flash.available=this._checkForFlash(10.1),this.html.canPlay={},this.aurora.canPlay={},this.flash.canPlay={},b.each(this.formats,function(c,k){h.html.canPlay[k]=h.html[h.format[k].media].available&&""!==h.htmlElement[h.format[k].media].canPlayType(h.format[k].codec);h.aurora.canPlay[k]=-1<b.inArray(k,h.aurora.formats);h.flash.canPlay[k]=h.format[k].flashCanPlay&&
h.flash.available}),this.html.desired=!1,this.aurora.desired=!1,this.flash.desired=!1,b.each(this.solutions,function(c,k){if(0===c)h[k].desired=!0;else{var l=!1,p=!1;b.each(h.formats,function(b,c){h[h.solutions[0]].canPlay[c]&&("video"===h.format[c].media?p=!0:l=!0)});h[k].desired=h.require.audio&&!l||h.require.video&&!p}}),this.html.support={},this.aurora.support={},this.flash.support={},b.each(this.formats,function(b,c){h.html.support[c]=h.html.canPlay[c]&&h.html.desired;h.aurora.support[c]=h.aurora.canPlay[c]&&
h.aurora.desired;h.flash.support[c]=h.flash.canPlay[c]&&h.flash.desired}),this.html.used=!1,this.aurora.used=!1,this.flash.used=!1,b.each(this.solutions,function(c,k){b.each(h.formats,function(b,c){return h[k].support[c]?(h[k].used=!0,!1):void 0})}),this._resetActive(),this._resetGate(),this._cssSelectorAncestor(this.options.cssSelectorAncestor),this.html.used||this.aurora.used||this.flash.used?this.css.jq.noSolution.length&&this.css.jq.noSolution.hide():(this._error({type:b.jPlayer.error.NO_SOLUTION,
context:"{solution:'"+this.options.solution+"', supplied:'"+this.options.supplied+"'}",message:b.jPlayer.errorMsg.NO_SOLUTION,hint:b.jPlayer.errorHint.NO_SOLUTION}),this.css.jq.noSolution.length&&this.css.jq.noSolution.show()),this.flash.used){var l,k="jQuery\x3d"+encodeURI(this.options.noConflict)+"\x26id\x3d"+encodeURI(this.internal.self.id)+"\x26vol\x3d"+this.options.volume+"\x26muted\x3d"+this.options.muted;if(b.jPlayer.browser.msie&&(9>Number(b.jPlayer.browser.version)||9>b.jPlayer.browser.documentMode)){k=
['\x3cparam name\x3d"movie" value\x3d"'+this.internal.flash.swf+'" /\x3e','\x3cparam name\x3d"FlashVars" value\x3d"'+k+'" /\x3e','\x3cparam name\x3d"allowScriptAccess" value\x3d"always" /\x3e','\x3cparam name\x3d"bgcolor" value\x3d"'+this.options.backgroundColor+'" /\x3e','\x3cparam name\x3d"wmode" value\x3d"'+this.options.wmode+'" /\x3e'];l=document.createElement('\x3cobject id\x3d"'+this.internal.flash.id+'" classid\x3d"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width\x3d"0" height\x3d"0" tabindex\x3d"-1"\x3e\x3c/object\x3e');
for(var p=0;p<k.length;p++)l.appendChild(document.createElement(k[p]))}else p=function(b,c,k){var h=document.createElement("param");h.setAttribute("name",c);h.setAttribute("value",k);b.appendChild(h)},l=document.createElement("object"),l.setAttribute("id",this.internal.flash.id),l.setAttribute("name",this.internal.flash.id),l.setAttribute("data",this.internal.flash.swf),l.setAttribute("type","application/x-shockwave-flash"),l.setAttribute("width","1"),l.setAttribute("height","1"),l.setAttribute("tabindex",
"-1"),p(l,"flashvars",k),p(l,"allowscriptaccess","always"),p(l,"bgcolor",this.options.backgroundColor),p(l,"wmode",this.options.wmode);this.element.append(l);this.internal.flash.jq=b(l)}this.status.playbackRateEnabled=this.html.used&&!this.flash.used?this._testPlaybackRate("audio"):!1;this._updatePlaybackRate();this.html.used&&(this.html.audio.available&&(this._addHtmlEventListeners(this.htmlElement.audio,this.html.audio),this.element.append(this.htmlElement.audio),this.internal.audio.jq=b("#"+this.internal.audio.id)),
this.html.video.available&&(this._addHtmlEventListeners(this.htmlElement.video,this.html.video),this.element.append(this.htmlElement.video),this.internal.video.jq=b("#"+this.internal.video.id),this.internal.video.jq.css(this.status.nativeVideoControls?{width:this.status.width,height:this.status.height}:{width:"0px",height:"0px"}),this.internal.video.jq.bind("click.jPlayer",function(){h._trigger(b.jPlayer.event.click)})));this.aurora.used;this.options.emulateHtml&&this._emulateHtmlBridge();!this.html.used&&
!this.aurora.used||this.flash.used||setTimeout(function(){h.internal.ready=!0;h.version.flash="n/a";h._trigger(b.jPlayer.event.repeat);h._trigger(b.jPlayer.event.ready)},100);this._updateNativeVideoControls();this.css.jq.videoPlay.length&&this.css.jq.videoPlay.hide();b.jPlayer.prototype.count++},destroy:function(){this.clearMedia();this._removeUiClass();this.css.jq.currentTime.length&&this.css.jq.currentTime.text("");this.css.jq.duration.length&&this.css.jq.duration.text("");b.each(this.css.jq,function(b,
c){c.length&&c.unbind(".jPlayer")});this.internal.poster.jq.unbind(".jPlayer");this.internal.video.jq&&this.internal.video.jq.unbind(".jPlayer");this._fullscreenRemoveEventListeners();this===b.jPlayer.focus&&(b.jPlayer.focus=null);this.options.emulateHtml&&this._destroyHtmlBridge();this.element.removeData("jPlayer");this.element.unbind(".jPlayer");this.element.empty();delete this.instances[this.internal.instance]},destroyRemoved:function(){var c=this;b.each(this.instances,function(b,k){c.element!==
k&&(k.data("jPlayer")||(k.jPlayer("destroy"),delete c.instances[b]))})},enable:function(){},disable:function(){},_testCanPlayType:function(b){try{return b.canPlayType(this.format.mp3.codec),!0}catch(c){return!1}},_testPlaybackRate:function(b){b=document.createElement("string"==typeof b?b:"audio");try{return"playbackRate"in b?(b.playbackRate=.5,.5===b.playbackRate):!1}catch(c){return!1}},_uaBlocklist:function(c){var h=navigator.userAgent.toLowerCase(),k=!1;return b.each(c,function(b,c){return c&&c.test(h)?
(k=!0,!1):void 0}),k},_restrictNativeVideoControls:function(){this.require.audio&&this.status.nativeVideoControls&&(this.status.nativeVideoControls=!1,this.status.noFullWindow=!0)},_updateNativeVideoControls:function(){this.html.video.available&&this.html.used&&(this.htmlElement.video.controls=this.status.nativeVideoControls,this._updateAutohide(),this.status.nativeVideoControls&&this.require.video?(this.internal.poster.jq.hide(),this.internal.video.jq.css({width:this.status.width,height:this.status.height})):
this.status.waitForPlay&&this.status.video&&(this.internal.poster.jq.show(),this.internal.video.jq.css({width:"0px",height:"0px"})))},_addHtmlEventListeners:function(c,h){var k=this;c.preload=this.options.preload;c.muted=this.options.muted;c.volume=this.options.volume;this.status.playbackRateEnabled&&(c.defaultPlaybackRate=this.options.defaultPlaybackRate,c.playbackRate=this.options.playbackRate);c.addEventListener("progress",function(){h.gate&&(k.internal.cmdsIgnored&&0<this.readyState&&(k.internal.cmdsIgnored=
!1),k._getHtmlStatus(c),k._updateInterface(),k._trigger(b.jPlayer.event.progress))},!1);c.addEventListener("loadeddata",function(){h.gate&&(k.androidFix.setMedia=!1,k.androidFix.play&&(k.androidFix.play=!1,k.play(k.androidFix.time)),k.androidFix.pause&&(k.androidFix.pause=!1,k.pause(k.androidFix.time)),k._trigger(b.jPlayer.event.loadeddata))},!1);c.addEventListener("timeupdate",function(){h.gate&&(k._getHtmlStatus(c),k._updateInterface(),k._trigger(b.jPlayer.event.timeupdate))},!1);c.addEventListener("durationchange",
function(){h.gate&&(k._getHtmlStatus(c),k._updateInterface(),k._trigger(b.jPlayer.event.durationchange))},!1);c.addEventListener("play",function(){h.gate&&(k._updateButtons(!0),k._html_checkWaitForPlay(),k._trigger(b.jPlayer.event.play))},!1);c.addEventListener("playing",function(){h.gate&&(k._updateButtons(!0),k._seeked(),k._trigger(b.jPlayer.event.playing))},!1);c.addEventListener("pause",function(){h.gate&&(k._updateButtons(!1),k._trigger(b.jPlayer.event.pause))},!1);c.addEventListener("waiting",
function(){h.gate&&(k._seeking(),k._trigger(b.jPlayer.event.waiting))},!1);c.addEventListener("seeking",function(){h.gate&&(k._seeking(),k._trigger(b.jPlayer.event.seeking))},!1);c.addEventListener("seeked",function(){h.gate&&(k._seeked(),k._trigger(b.jPlayer.event.seeked))},!1);c.addEventListener("volumechange",function(){h.gate&&(k.options.volume=c.volume,k.options.muted=c.muted,k._updateMute(),k._updateVolume(),k._trigger(b.jPlayer.event.volumechange))},!1);c.addEventListener("ratechange",function(){h.gate&&
(k.options.defaultPlaybackRate=c.defaultPlaybackRate,k.options.playbackRate=c.playbackRate,k._updatePlaybackRate(),k._trigger(b.jPlayer.event.ratechange))},!1);c.addEventListener("suspend",function(){h.gate&&(k._seeked(),k._trigger(b.jPlayer.event.suspend))},!1);c.addEventListener("ended",function(){h.gate&&(b.jPlayer.browser.webkit||(k.htmlElement.media.currentTime=0),k.htmlElement.media.pause(),k._updateButtons(!1),k._getHtmlStatus(c,!0),k._updateInterface(),k._trigger(b.jPlayer.event.ended))},
!1);c.addEventListener("error",function(){h.gate&&(k._updateButtons(!1),k._seeked(),k.status.srcSet&&(clearTimeout(k.internal.htmlDlyCmdId),k.status.waitForLoad=!0,k.status.waitForPlay=!0,k.status.video&&!k.status.nativeVideoControls&&k.internal.video.jq.css({width:"0px",height:"0px"}),k._validString(k.status.media.poster)&&!k.status.nativeVideoControls&&k.internal.poster.jq.show(),k.css.jq.videoPlay.length&&k.css.jq.videoPlay.show(),k._error({type:b.jPlayer.error.URL,context:k.status.src,message:b.jPlayer.errorMsg.URL,
hint:b.jPlayer.errorHint.URL})))},!1);b.each(b.jPlayer.htmlEvent,function(l,r){c.addEventListener(this,function(){h.gate&&k._trigger(b.jPlayer.event[r])},!1)})},_addAuroraEventListeners:function(c,h){var k=this;c.volume=100*this.options.volume;c.on("progress",function(){h.gate&&(k.internal.cmdsIgnored&&0<this.readyState&&(k.internal.cmdsIgnored=!1),k._getAuroraStatus(c),k._updateInterface(),k._trigger(b.jPlayer.event.progress),0<c.duration&&k._trigger(b.jPlayer.event.timeupdate))},!1);c.on("ready",
function(){h.gate&&k._trigger(b.jPlayer.event.loadeddata)},!1);c.on("duration",function(){h.gate&&(k._getAuroraStatus(c),k._updateInterface(),k._trigger(b.jPlayer.event.durationchange))},!1);c.on("end",function(){h.gate&&(k._updateButtons(!1),k._getAuroraStatus(c,!0),k._updateInterface(),k._trigger(b.jPlayer.event.ended))},!1);c.on("error",function(){h.gate&&(k._updateButtons(!1),k._seeked(),k.status.srcSet&&(k.status.waitForLoad=!0,k.status.waitForPlay=!0,k.status.video&&!k.status.nativeVideoControls&&
k.internal.video.jq.css({width:"0px",height:"0px"}),k._validString(k.status.media.poster)&&!k.status.nativeVideoControls&&k.internal.poster.jq.show(),k.css.jq.videoPlay.length&&k.css.jq.videoPlay.show(),k._error({type:b.jPlayer.error.URL,context:k.status.src,message:b.jPlayer.errorMsg.URL,hint:b.jPlayer.errorHint.URL})))},!1)},_getHtmlStatus:function(b,c){var k,h,l=0,m=0;isFinite(b.duration)&&(this.status.duration=b.duration);k=b.currentTime;h=0<this.status.duration?100*k/this.status.duration:0;"object"==
typeof b.seekable&&0<b.seekable.length?(l=0<this.status.duration?100*b.seekable.end(b.seekable.length-1)/this.status.duration:100,m=0<this.status.duration?100*b.currentTime/b.seekable.end(b.seekable.length-1):0):(l=100,m=h);c&&(k=0,m=0,h=0);this.status.seekPercent=l;this.status.currentPercentRelative=m;this.status.currentPercentAbsolute=h;this.status.currentTime=k;this.status.remaining=this.status.duration-this.status.currentTime;this.status.videoWidth=b.videoWidth;this.status.videoHeight=b.videoHeight;
this.status.readyState=b.readyState;this.status.networkState=b.networkState;this.status.playbackRate=b.playbackRate;this.status.ended=b.ended},_getAuroraStatus:function(b,c){var k,h,l=0,m=0;this.status.duration=b.duration/1E3;k=b.currentTime/1E3;h=0<this.status.duration?100*k/this.status.duration:0;0<b.buffered?(l=0<this.status.duration?b.buffered*this.status.duration/this.status.duration:100,m=0<this.status.duration?k/(b.buffered*this.status.duration):0):(l=100,m=h);c&&(k=0,m=0,h=0);this.status.seekPercent=
l;this.status.currentPercentRelative=m;this.status.currentPercentAbsolute=h;this.status.currentTime=k;this.status.remaining=this.status.duration-this.status.currentTime;this.status.readyState=4;this.status.networkState=0;this.status.playbackRate=1;this.status.ended=!1},_resetStatus:function(){this.status=b.extend({},this.status,b.jPlayer.prototype.status)},_trigger:function(c,h,k){c=b.Event(c);c.jPlayer={};c.jPlayer.version=b.extend({},this.version);c.jPlayer.options=b.extend(!0,{},this.options);
c.jPlayer.status=b.extend(!0,{},this.status);c.jPlayer.html=b.extend(!0,{},this.html);c.jPlayer.aurora=b.extend(!0,{},this.aurora);c.jPlayer.flash=b.extend(!0,{},this.flash);h&&(c.jPlayer.error=b.extend({},h));k&&(c.jPlayer.warning=b.extend({},k));this.element.trigger(c)},jPlayerFlashEvent:function(c,h){if(c===b.jPlayer.event.ready)if(this.internal.ready){if(this.flash.gate){if(this.status.srcSet){var k=this.status.currentTime,l=this.status.paused;this.setMedia(this.status.media);this.volumeWorker(this.options.volume);
0<k&&(l?this.pause(k):this.play(k))}this._trigger(b.jPlayer.event.flashreset)}}else this.internal.ready=!0,this.internal.flash.jq.css({width:"0px",height:"0px"}),this.version.flash=h.version,this.version.needFlash!==this.version.flash&&this._error({type:b.jPlayer.error.VERSION,context:this.version.flash,message:b.jPlayer.errorMsg.VERSION+this.version.flash,hint:b.jPlayer.errorHint.VERSION}),this._trigger(b.jPlayer.event.repeat),this._trigger(c);if(this.flash.gate)switch(c){case b.jPlayer.event.progress:this._getFlashStatus(h);
this._updateInterface();this._trigger(c);break;case b.jPlayer.event.timeupdate:this._getFlashStatus(h);this._updateInterface();this._trigger(c);break;case b.jPlayer.event.play:this._seeked();this._updateButtons(!0);this._trigger(c);break;case b.jPlayer.event.pause:this._updateButtons(!1);this._trigger(c);break;case b.jPlayer.event.ended:this._updateButtons(!1);this._trigger(c);break;case b.jPlayer.event.click:this._trigger(c);break;case b.jPlayer.event.error:this.status.waitForLoad=!0;this.status.waitForPlay=
!0;this.status.video&&this.internal.flash.jq.css({width:"0px",height:"0px"});this._validString(this.status.media.poster)&&this.internal.poster.jq.show();this.css.jq.videoPlay.length&&this.status.video&&this.css.jq.videoPlay.show();this.status.video?this._flash_setVideo(this.status.media):this._flash_setAudio(this.status.media);this._updateButtons(!1);this._error({type:b.jPlayer.error.URL,context:h.src,message:b.jPlayer.errorMsg.URL,hint:b.jPlayer.errorHint.URL});break;case b.jPlayer.event.seeking:this._seeking();
this._trigger(c);break;case b.jPlayer.event.seeked:this._seeked();this._trigger(c);break;case b.jPlayer.event.ready:break;default:this._trigger(c)}return!1},_getFlashStatus:function(b){this.status.seekPercent=b.seekPercent;this.status.currentPercentRelative=b.currentPercentRelative;this.status.currentPercentAbsolute=b.currentPercentAbsolute;this.status.currentTime=b.currentTime;this.status.duration=b.duration;this.status.remaining=b.duration-b.currentTime;this.status.videoWidth=b.videoWidth;this.status.videoHeight=
b.videoHeight;this.status.readyState=4;this.status.networkState=0;this.status.playbackRate=1;this.status.ended=!1},_updateButtons:function(b){b===c?b=!this.status.paused:this.status.paused=!b;b?this.addStateClass("playing"):this.removeStateClass("playing");!this.status.noFullWindow&&this.options.fullWindow?this.addStateClass("fullScreen"):this.removeStateClass("fullScreen");this.options.loop?this.addStateClass("looped"):this.removeStateClass("looped");this.css.jq.play.length&&this.css.jq.pause.length&&
(b?(this.css.jq.play.hide(),this.css.jq.pause.show()):(this.css.jq.play.show(),this.css.jq.pause.hide()));this.css.jq.restoreScreen.length&&this.css.jq.fullScreen.length&&(this.status.noFullWindow?(this.css.jq.fullScreen.hide(),this.css.jq.restoreScreen.hide()):this.options.fullWindow?(this.css.jq.fullScreen.hide(),this.css.jq.restoreScreen.show()):(this.css.jq.fullScreen.show(),this.css.jq.restoreScreen.hide()));this.css.jq.repeat.length&&this.css.jq.repeatOff.length&&(this.options.loop?(this.css.jq.repeat.hide(),
this.css.jq.repeatOff.show()):(this.css.jq.repeat.show(),this.css.jq.repeatOff.hide()))},_updateInterface:function(){this.css.jq.seekBar.length&&this.css.jq.seekBar.width(this.status.seekPercent+"%");this.css.jq.playBar.length&&(this.options.smoothPlayBar?this.css.jq.playBar.stop().animate({width:this.status.currentPercentAbsolute+"%"},250,"linear"):this.css.jq.playBar.width(this.status.currentPercentRelative+"%"));var b="";this.css.jq.currentTime.length&&(b=this._convertTime(this.status.currentTime),
b!==this.css.jq.currentTime.text()&&this.css.jq.currentTime.text(this._convertTime(this.status.currentTime)));var b="",c=this.status.duration,k=this.status.remaining;this.css.jq.duration.length&&("string"==typeof this.status.media.duration?b=this.status.media.duration:("number"==typeof this.status.media.duration&&(c=this.status.media.duration,k=c-this.status.currentTime),b=this.options.remainingDuration?(0<k?"-":"")+this._convertTime(k):this._convertTime(c)),b!==this.css.jq.duration.text()&&this.css.jq.duration.text(b))},
_convertTime:h.prototype.time,_seeking:function(){this.css.jq.seekBar.length&&this.css.jq.seekBar.addClass("jp-seeking-bg");this.addStateClass("seeking")},_seeked:function(){this.css.jq.seekBar.length&&this.css.jq.seekBar.removeClass("jp-seeking-bg");this.removeStateClass("seeking")},_resetGate:function(){this.html.audio.gate=!1;this.html.video.gate=!1;this.aurora.gate=!1;this.flash.gate=!1},_resetActive:function(){this.html.active=!1;this.aurora.active=!1;this.flash.active=!1},_escapeHtml:function(b){return b.split("\x26").join("\x26amp;").split("\x3c").join("\x26lt;").split("\x3e").join("\x26gt;").split('"').join("\x26quot;")},
_qualifyURL:function(b){var c=document.createElement("div");return c.innerHTML='\x3ca href\x3d"'+this._escapeHtml(b)+'"\x3ex\x3c/a\x3e',c.firstChild.href},_absoluteMediaUrls:function(c){var h=this;return b.each(c,function(b,l){l&&h.format[b]&&"data:"!==l.substr(0,5)&&(c[b]=h._qualifyURL(l))}),c},addStateClass:function(b){this.ancestorJq.length&&this.ancestorJq.addClass(this.options.stateClass[b])},removeStateClass:function(b){this.ancestorJq.length&&this.ancestorJq.removeClass(this.options.stateClass[b])},
setMedia:function(c){var h=this,k=!1,l=this.status.media.poster!==c.poster;this._resetMedia();this._resetGate();this._resetActive();this.androidFix.setMedia=!1;this.androidFix.play=!1;this.androidFix.pause=!1;c=this._absoluteMediaUrls(c);b.each(this.formats,function(l,p){var m="video"===h.format[p].media;return b.each(h.solutions,function(l,n){if(h[n].support[p]&&h._validString(c[p]))return l="html"===n,n="aurora"===n,m?(l?(h.html.video.gate=!0,h._html_setVideo(c),h.html.active=!0):(h.flash.gate=
!0,h._flash_setVideo(c),h.flash.active=!0),h.css.jq.videoPlay.length&&h.css.jq.videoPlay.show(),h.status.video=!0):(l?(h.html.audio.gate=!0,h._html_setAudio(c),h.html.active=!0,b.jPlayer.platform.android&&(h.androidFix.setMedia=!0)):n?(h.aurora.gate=!0,h._aurora_setAudio(c),h.aurora.active=!0):(h.flash.gate=!0,h._flash_setAudio(c),h.flash.active=!0),h.css.jq.videoPlay.length&&h.css.jq.videoPlay.hide(),h.status.video=!1),k=!0,!1}),k?!1:void 0});k?(this.status.nativeVideoControls&&this.html.video.gate||
this._validString(c.poster)&&(l?this.htmlElement.poster.src=c.poster:this.internal.poster.jq.show()),"string"==typeof c.title&&(this.css.jq.title.length&&this.css.jq.title.html(c.title),this.htmlElement.audio&&this.htmlElement.audio.setAttribute("title",c.title),this.htmlElement.video&&this.htmlElement.video.setAttribute("title",c.title)),this.status.srcSet=!0,this.status.media=b.extend({},c),this._updateButtons(!1),this._updateInterface(),this._trigger(b.jPlayer.event.setmedia)):this._error({type:b.jPlayer.error.NO_SUPPORT,
context:"{supplied:'"+this.options.supplied+"'}",message:b.jPlayer.errorMsg.NO_SUPPORT,hint:b.jPlayer.errorHint.NO_SUPPORT})},_resetMedia:function(){this._resetStatus();this._updateButtons(!1);this._updateInterface();this._seeked();this.internal.poster.jq.hide();clearTimeout(this.internal.htmlDlyCmdId);this.html.active?this._html_resetMedia():this.aurora.active?this._aurora_resetMedia():this.flash.active&&this._flash_resetMedia()},clearMedia:function(){this._resetMedia();this.html.active?this._html_clearMedia():
this.aurora.active?this._aurora_clearMedia():this.flash.active&&this._flash_clearMedia();this._resetGate();this._resetActive()},load:function(){this.status.srcSet?this.html.active?this._html_load():this.aurora.active?this._aurora_load():this.flash.active&&this._flash_load():this._urlNotSetError("load")},focus:function(){this.options.keyEnabled&&(b.jPlayer.focus=this)},play:function(b){"object"==typeof b&&this.options.useStateClassSkin&&!this.status.paused?this.pause(b):(b="number"==typeof b?b:0/0,
this.status.srcSet?(this.focus(),this.html.active?this._html_play(b):this.aurora.active?this._aurora_play(b):this.flash.active&&this._flash_play(b)):this._urlNotSetError("play"))},videoPlay:function(){this.play()},pause:function(b){b="number"==typeof b?b:0/0;this.status.srcSet?this.html.active?this._html_pause(b):this.aurora.active?this._aurora_pause(b):this.flash.active&&this._flash_pause(b):this._urlNotSetError("pause")},tellOthers:function(c,h){var k=this,l="function"==typeof h,r=Array.prototype.slice.call(arguments);
"string"==typeof c&&(l&&r.splice(1,1),b.jPlayer.prototype.destroyRemoved(),b.each(this.instances,function(){k.element===this||l&&!h.call(this.data("jPlayer"),k)||this.jPlayer.apply(this,r)}))},pauseOthers:function(b){this.tellOthers("pause",function(){return this.status.srcSet},b)},stop:function(){this.status.srcSet?this.html.active?this._html_pause(0):this.aurora.active?this._aurora_pause(0):this.flash.active&&this._flash_pause(0):this._urlNotSetError("stop")},playHead:function(b){b=this._limitValue(b,
0,100);this.status.srcSet?this.html.active?this._html_playHead(b):this.aurora.active?this._aurora_playHead(b):this.flash.active&&this._flash_playHead(b):this._urlNotSetError("playHead")},_muted:function(b){this.mutedWorker(b);this.options.globalVolume&&this.tellOthers("mutedWorker",function(){return this.options.globalVolume},b)},mutedWorker:function(c){this.options.muted=c;this.html.used&&this._html_setProperty("muted",c);this.aurora.used&&this._aurora_mute(c);this.flash.used&&this._flash_mute(c);
this.html.video.gate||this.html.audio.gate||(this._updateMute(c),this._updateVolume(this.options.volume),this._trigger(b.jPlayer.event.volumechange))},mute:function(b){"object"==typeof b&&this.options.useStateClassSkin&&this.options.muted?this._muted(!1):(b=b===c?!0:!!b,this._muted(b))},unmute:function(b){b=b===c?!0:!!b;this._muted(!b)},_updateMute:function(b){b===c&&(b=this.options.muted);b?this.addStateClass("muted"):this.removeStateClass("muted");this.css.jq.mute.length&&this.css.jq.unmute.length&&
(this.status.noVolume?(this.css.jq.mute.hide(),this.css.jq.unmute.hide()):b?(this.css.jq.mute.hide(),this.css.jq.unmute.show()):(this.css.jq.mute.show(),this.css.jq.unmute.hide()))},volume:function(b){this.volumeWorker(b);this.options.globalVolume&&this.tellOthers("volumeWorker",function(){return this.options.globalVolume},b)},volumeWorker:function(c){c=this._limitValue(c,0,1);this.options.volume=c;this.html.used&&this._html_setProperty("volume",c);this.aurora.used&&this._aurora_volume(c);this.flash.used&&
this._flash_volume(c);this.html.video.gate||this.html.audio.gate||(this._updateVolume(c),this._trigger(b.jPlayer.event.volumechange))},volumeBar:function(c){if(this.css.jq.volumeBar.length){var h=b(c.currentTarget),k=h.offset(),l=c.pageX-k.left,r=h.width();c=h.height()-c.pageY+k.top;h=h.height();this.volume(this.options.verticalVolume?c/h:l/r)}this.options.muted&&this._muted(!1)},_updateVolume:function(b){b===c&&(b=this.options.volume);b=this.options.muted?0:b;this.status.noVolume?(this.addStateClass("noVolume"),
this.css.jq.volumeBar.length&&this.css.jq.volumeBar.hide(),this.css.jq.volumeBarValue.length&&this.css.jq.volumeBarValue.hide(),this.css.jq.volumeMax.length&&this.css.jq.volumeMax.hide()):(this.removeStateClass("noVolume"),this.css.jq.volumeBar.length&&this.css.jq.volumeBar.show(),this.css.jq.volumeBarValue.length&&(this.css.jq.volumeBarValue.show(),this.css.jq.volumeBarValue[this.options.verticalVolume?"height":"width"](100*b+"%")),this.css.jq.volumeMax.length&&this.css.jq.volumeMax.show())},volumeMax:function(){this.volume(1);
this.options.muted&&this._muted(!1)},_cssSelectorAncestor:function(c){var h=this;this.options.cssSelectorAncestor=c;this._removeUiClass();this.ancestorJq=c?b(c):[];c&&1!==this.ancestorJq.length&&this._warning({type:b.jPlayer.warning.CSS_SELECTOR_COUNT,context:c,message:b.jPlayer.warningMsg.CSS_SELECTOR_COUNT+this.ancestorJq.length+" found for cssSelectorAncestor.",hint:b.jPlayer.warningHint.CSS_SELECTOR_COUNT});this._addUiClass();b.each(this.options.cssSelector,function(b,c){h._cssSelector(b,c)});
this._updateInterface();this._updateButtons();this._updateAutohide();this._updateVolume();this._updateMute()},_cssSelector:function(c,h){var k=this;"string"==typeof h?b.jPlayer.prototype.options.cssSelector[c]?((this.css.jq[c]&&this.css.jq[c].length&&this.css.jq[c].unbind(".jPlayer"),this.options.cssSelector[c]=h,this.css.cs[c]=this.options.cssSelectorAncestor+" "+h,this.css.jq[c]=h?b(this.css.cs[c]):[],this.css.jq[c].length&&this[c])&&this.css.jq[c].bind("click.jPlayer",function(h){h.preventDefault();
k[c](h);k.options.autoBlur?b(this).blur():b(this).focus()}),h&&1!==this.css.jq[c].length&&this._warning({type:b.jPlayer.warning.CSS_SELECTOR_COUNT,context:this.css.cs[c],message:b.jPlayer.warningMsg.CSS_SELECTOR_COUNT+this.css.jq[c].length+" found for "+c+" method.",hint:b.jPlayer.warningHint.CSS_SELECTOR_COUNT})):this._warning({type:b.jPlayer.warning.CSS_SELECTOR_METHOD,context:c,message:b.jPlayer.warningMsg.CSS_SELECTOR_METHOD,hint:b.jPlayer.warningHint.CSS_SELECTOR_METHOD}):this._warning({type:b.jPlayer.warning.CSS_SELECTOR_STRING,
context:h,message:b.jPlayer.warningMsg.CSS_SELECTOR_STRING,hint:b.jPlayer.warningHint.CSS_SELECTOR_STRING})},duration:function(b){this.options.toggleDuration&&(this.options.captureDuration&&b.stopPropagation(),this._setOption("remainingDuration",!this.options.remainingDuration))},scale:function(){var b=$("body").css("transform");return-1!==b.indexOf("matrix")?1/b.split("(")[1].split(")")[0].split(",")[0]:1},seekBar:function(c){if(this.css.jq.seekBar.length){var h=this.scale(),k=b(c.currentTarget),
l=k.offset();c=c.pageX-l.left;k=k.width();this.playHead(100*c*h/k)}},playbackRate:function(b){this._setOption("playbackRate",b)},playbackRateBar:function(c){if(this.css.jq.playbackRateBar.length){var h=b(c.currentTarget),k=h.offset(),l=c.pageX-k.left,r=h.width();c=h.height()-c.pageY+k.top;h=h.height();this.playbackRate((this.options.verticalPlaybackRate?c/h:l/r)*(this.options.maxPlaybackRate-this.options.minPlaybackRate)+this.options.minPlaybackRate)}},_updatePlaybackRate:function(){var b=(this.options.playbackRate-
this.options.minPlaybackRate)/(this.options.maxPlaybackRate-this.options.minPlaybackRate);this.status.playbackRateEnabled?(this.css.jq.playbackRateBar.length&&this.css.jq.playbackRateBar.show(),this.css.jq.playbackRateBarValue.length&&(this.css.jq.playbackRateBarValue.show(),this.css.jq.playbackRateBarValue[this.options.verticalPlaybackRate?"height":"width"](100*b+"%"))):(this.css.jq.playbackRateBar.length&&this.css.jq.playbackRateBar.hide(),this.css.jq.playbackRateBarValue.length&&this.css.jq.playbackRateBarValue.hide())},
repeat:function(b){this._loop("object"==typeof b&&this.options.useStateClassSkin&&this.options.loop?!1:!0)},repeatOff:function(){this._loop(!1)},_loop:function(c){this.options.loop!==c&&(this.options.loop=c,this._updateButtons(),this._trigger(b.jPlayer.event.repeat))},option:function(h,l){var k=h;if(0===arguments.length)return b.extend(!0,{},this.options);if("string"==typeof h){var p=h.split(".");if(l===c){for(var k=b.extend(!0,{},this.options),r=0;r<p.length;r++){if(k[p[r]]===c)return this._warning({type:b.jPlayer.warning.OPTION_KEY,
context:h,message:b.jPlayer.warningMsg.OPTION_KEY,hint:b.jPlayer.warningHint.OPTION_KEY}),c;k=k[p[r]]}return k}for(var r=k={},m=0;m<p.length;m++)m<p.length-1?(r[p[m]]={},r=r[p[m]]):r[p[m]]=l}return this._setOptions(k),this},_setOptions:function(c){var h=this;return b.each(c,function(b,c){h._setOption(b,c)}),this},_setOption:function(c,h){var k=this;switch(c){case "volume":this.volume(h);break;case "muted":this._muted(h);break;case "globalVolume":this.options[c]=h;break;case "cssSelectorAncestor":this._cssSelectorAncestor(h);
break;case "cssSelector":b.each(h,function(b,c){k._cssSelector(b,c)});break;case "playbackRate":this.options[c]=h=this._limitValue(h,this.options.minPlaybackRate,this.options.maxPlaybackRate);this.html.used&&this._html_setProperty("playbackRate",h);this._updatePlaybackRate();break;case "defaultPlaybackRate":this.options[c]=h=this._limitValue(h,this.options.minPlaybackRate,this.options.maxPlaybackRate);this.html.used&&this._html_setProperty("defaultPlaybackRate",h);this._updatePlaybackRate();break;
case "minPlaybackRate":this.options[c]=h=this._limitValue(h,.1,this.options.maxPlaybackRate-.1);this._updatePlaybackRate();break;case "maxPlaybackRate":this.options[c]=h=this._limitValue(h,this.options.minPlaybackRate+.1,16);this._updatePlaybackRate();break;case "fullScreen":if(this.options[c]!==h){var l=b.jPlayer.nativeFeatures.fullscreen.used.webkitVideo;(!l||l&&!this.status.waitForPlay)&&(l||(this.options[c]=h),h?this._requestFullscreen():this._exitFullscreen(),l||this._setOption("fullWindow",
h))}break;case "fullWindow":this.options[c]!==h&&(this._removeUiClass(),this.options[c]=h,this._refreshSize());break;case "size":this.options.fullWindow||this.options[c].cssClass===h.cssClass||this._removeUiClass();this.options[c]=b.extend({},this.options[c],h);this._refreshSize();break;case "sizeFull":this.options.fullWindow&&this.options[c].cssClass!==h.cssClass&&this._removeUiClass();this.options[c]=b.extend({},this.options[c],h);this._refreshSize();break;case "autohide":this.options[c]=b.extend({},
this.options[c],h);this._updateAutohide();break;case "loop":this._loop(h);break;case "remainingDuration":this.options[c]=h;this._updateInterface();break;case "toggleDuration":this.options[c]=h;break;case "nativeVideoControls":this.options[c]=b.extend({},this.options[c],h);this.status.nativeVideoControls=this._uaBlocklist(this.options.nativeVideoControls);this._restrictNativeVideoControls();this._updateNativeVideoControls();break;case "noFullWindow":this.options[c]=b.extend({},this.options[c],h);this.status.nativeVideoControls=
this._uaBlocklist(this.options.nativeVideoControls);this.status.noFullWindow=this._uaBlocklist(this.options.noFullWindow);this._restrictNativeVideoControls();this._updateButtons();break;case "noVolume":this.options[c]=b.extend({},this.options[c],h);this.status.noVolume=this._uaBlocklist(this.options.noVolume);this._updateVolume();this._updateMute();break;case "emulateHtml":this.options[c]!==h&&(this.options[c]=h,h?this._emulateHtmlBridge():this._destroyHtmlBridge());break;case "timeFormat":this.options[c]=
b.extend({},this.options[c],h);break;case "keyEnabled":(this.options[c]=h)||this!==b.jPlayer.focus||(b.jPlayer.focus=null);break;case "keyBindings":this.options[c]=b.extend(!0,{},this.options[c],h);break;case "audioFullScreen":this.options[c]=h;break;case "autoBlur":this.options[c]=h}return this},_refreshSize:function(){this._setSize();this._addUiClass();this._updateSize();this._updateButtons();this._updateAutohide();this._trigger(b.jPlayer.event.resize)},_setSize:function(){this.options.fullWindow?
(this.status.width=this.options.sizeFull.width,this.status.height=this.options.sizeFull.height,this.status.cssClass=this.options.sizeFull.cssClass):(this.status.width=this.options.size.width,this.status.height=this.options.size.height,this.status.cssClass=this.options.size.cssClass);this.element.css({width:this.status.width,height:this.status.height})},_addUiClass:function(){this.ancestorJq.length&&this.ancestorJq.addClass(this.status.cssClass)},_removeUiClass:function(){this.ancestorJq.length&&this.ancestorJq.removeClass(this.status.cssClass)},
_updateSize:function(){this.internal.poster.jq.css({width:this.status.width,height:this.status.height});!this.status.waitForPlay&&this.html.active&&this.status.video||this.html.video.available&&this.html.used&&this.status.nativeVideoControls?this.internal.video.jq.css({width:this.status.width,height:this.status.height}):!this.status.waitForPlay&&this.flash.active&&this.status.video&&this.internal.flash.jq.css({width:this.status.width,height:this.status.height})},_updateAutohide:function(){var b=this,
c=function(c){var h,l,m=!1;"undefined"!=typeof b.internal.mouse?(h=b.internal.mouse.x-c.pageX,l=b.internal.mouse.y-c.pageY,m=0<Math.floor(h)||0<Math.floor(l)):m=!0;b.internal.mouse={x:c.pageX,y:c.pageY};m&&b.css.jq.gui.fadeIn(b.options.autohide.fadeIn,function(){clearTimeout(b.internal.autohideId);b.internal.autohideId=setTimeout(function(){b.css.jq.gui.fadeOut(b.options.autohide.fadeOut)},b.options.autohide.hold)})};this.css.jq.gui.length&&(this.css.jq.gui.stop(!0,!0),clearTimeout(this.internal.autohideId),
delete this.internal.mouse,this.element.unbind(".jPlayerAutohide"),this.css.jq.gui.unbind(".jPlayerAutohide"),this.status.nativeVideoControls?this.css.jq.gui.hide():this.options.fullWindow&&this.options.autohide.full||!this.options.fullWindow&&this.options.autohide.restored?(this.element.bind("mousemove.jPlayer.jPlayerAutohide",c),this.css.jq.gui.bind("mousemove.jPlayer.jPlayerAutohide",c),this.css.jq.gui.hide()):this.css.jq.gui.show())},fullScreen:function(b){"object"==typeof b&&this.options.useStateClassSkin&&
this.options.fullScreen?this._setOption("fullScreen",!1):this._setOption("fullScreen",!0)},restoreScreen:function(){this._setOption("fullScreen",!1)},_fullscreenAddEventListeners:function(){var c=this,h=b.jPlayer.nativeFeatures.fullscreen;h.api.fullscreenEnabled&&h.event.fullscreenchange&&("function"!=typeof this.internal.fullscreenchangeHandler&&(this.internal.fullscreenchangeHandler=function(){c._fullscreenchange()}),document.addEventListener(h.event.fullscreenchange,this.internal.fullscreenchangeHandler,
!1))},_fullscreenRemoveEventListeners:function(){var c=b.jPlayer.nativeFeatures.fullscreen;this.internal.fullscreenchangeHandler&&document.removeEventListener(c.event.fullscreenchange,this.internal.fullscreenchangeHandler,!1)},_fullscreenchange:function(){this.options.fullScreen&&!b.jPlayer.nativeFeatures.fullscreen.api.fullscreenElement()&&this._setOption("fullScreen",!1)},_requestFullscreen:function(){var c=this.ancestorJq.length?this.ancestorJq[0]:this.element[0],h=b.jPlayer.nativeFeatures.fullscreen;
h.used.webkitVideo&&(c=this.htmlElement.video);h.api.fullscreenEnabled&&h.api.requestFullscreen(c)},_exitFullscreen:function(){var c,h=b.jPlayer.nativeFeatures.fullscreen;h.used.webkitVideo&&(c=this.htmlElement.video);h.api.fullscreenEnabled&&h.api.exitFullscreen(c)},_html_initMedia:function(c){var h=b(this.htmlElement.media).empty();b.each(c.track||[],function(b,c){b=document.createElement("track");b.setAttribute("kind",c.kind?c.kind:"");b.setAttribute("src",c.src?c.src:"");b.setAttribute("srclang",
c.srclang?c.srclang:"");b.setAttribute("label",c.label?c.label:"");c.def&&b.setAttribute("default",c.def);h.append(b)});this.htmlElement.media.src=this.status.src;"none"!==this.options.preload&&this._html_load();this._trigger(b.jPlayer.event.timeupdate)},_html_setFormat:function(c){var h=this;b.each(this.formats,function(b,l){return h.html.support[l]&&c[l]?(h.status.src=c[l],h.status.format[l]=!0,h.status.formatType=l,!1):void 0})},_html_setAudio:function(b){this._html_setFormat(b);this.htmlElement.media=
this.htmlElement.audio;this._html_initMedia(b)},_html_setVideo:function(b){this._html_setFormat(b);this.status.nativeVideoControls&&(this.htmlElement.video.poster=this._validString(b.poster)?b.poster:"");this.htmlElement.media=this.htmlElement.video;this._html_initMedia(b)},_html_resetMedia:function(){this.htmlElement.media&&(this.htmlElement.media.id!==this.internal.video.id||this.status.nativeVideoControls||this.internal.video.jq.css({width:"0px",height:"0px"}),this.htmlElement.media.pause())},
_html_clearMedia:function(){this.htmlElement.media&&(this.htmlElement.media.src="about:blank",this.htmlElement.media.load())},_html_load:function(){this.status.waitForLoad&&(this.status.waitForLoad=!1,this.htmlElement.media.load());clearTimeout(this.internal.htmlDlyCmdId)},_html_play:function(b){var c=this,k=this.htmlElement.media;if(this.androidFix.pause=!1,this._html_load(),this.androidFix.setMedia)this.androidFix.play=!0,this.androidFix.time=b;else if(isNaN(b))k.play();else{this.internal.cmdsIgnored&&
k.play();try{if(k.seekable&&!("object"==typeof k.seekable&&0<k.seekable.length))throw 1;k.currentTime=b;k.play()}catch(h){return void(this.internal.htmlDlyCmdId=setTimeout(function(){c.play(b)},250))}}this._html_checkWaitForPlay()},_html_pause:function(b){var c=this,k=this.htmlElement.media;if(this.androidFix.play=!1,0<b?this._html_load():clearTimeout(this.internal.htmlDlyCmdId),k.pause(),this.androidFix.setMedia)this.androidFix.pause=!0,this.androidFix.time=b;else if(!isNaN(b))try{if(k.seekable&&
!("object"==typeof k.seekable&&0<k.seekable.length))throw 1;k.currentTime=b}catch(h){return void(this.internal.htmlDlyCmdId=setTimeout(function(){c.pause(b)},250))}0<b&&this._html_checkWaitForPlay()},_html_playHead:function(b){var c=this,k=this.htmlElement.media;this._html_load();try{if("object"==typeof k.seekable&&0<k.seekable.length)k.currentTime=b*k.seekable.end(k.seekable.length-1)/100;else{if(!(0<k.duration)||isNaN(k.duration))throw"e";k.currentTime=b*k.duration/100}}catch(h){return void(this.internal.htmlDlyCmdId=
setTimeout(function(){c.playHead(b)},250))}this.status.waitForLoad||this._html_checkWaitForPlay()},_html_checkWaitForPlay:function(){this.status.waitForPlay&&(this.status.waitForPlay=!1,this.css.jq.videoPlay.length&&this.css.jq.videoPlay.hide(),this.status.video&&(this.internal.poster.jq.hide(),this.internal.video.jq.css({width:this.status.width,height:this.status.height})))},_html_setProperty:function(b,c){this.html.audio.available&&(this.htmlElement.audio[b]=c);this.html.video.available&&(this.htmlElement.video[b]=
c)},_aurora_setAudio:function(c){var h=this;b.each(this.formats,function(b,l){return h.aurora.support[l]&&c[l]?(h.status.src=c[l],h.status.format[l]=!0,h.status.formatType=l,!1):void 0});this.aurora.player=new AV.Player.fromURL(this.status.src);this._addAuroraEventListeners(this.aurora.player,this.aurora);"auto"===this.options.preload&&(this._aurora_load(),this.status.waitForLoad=!1)},_aurora_resetMedia:function(){this.aurora.player&&this.aurora.player.stop()},_aurora_clearMedia:function(){},_aurora_load:function(){this.status.waitForLoad&&
(this.status.waitForLoad=!1,this.aurora.player.preload())},_aurora_play:function(c){this.status.waitForLoad||isNaN(c)||this.aurora.player.seek(c);this.aurora.player.playing||this.aurora.player.play();this.status.waitForLoad=!1;this._aurora_checkWaitForPlay();this._updateButtons(!0);this._trigger(b.jPlayer.event.play)},_aurora_pause:function(c){isNaN(c)||this.aurora.player.seek(1E3*c);this.aurora.player.pause();0<c&&this._aurora_checkWaitForPlay();this._updateButtons(!1);this._trigger(b.jPlayer.event.pause)},
_aurora_playHead:function(b){0<this.aurora.player.duration&&this.aurora.player.seek(b*this.aurora.player.duration/100);this.status.waitForLoad||this._aurora_checkWaitForPlay()},_aurora_checkWaitForPlay:function(){this.status.waitForPlay&&(this.status.waitForPlay=!1)},_aurora_volume:function(b){this.aurora.player.volume=100*b},_aurora_mute:function(b){b?(this.aurora.properties.lastvolume=this.aurora.player.volume,this.aurora.player.volume=0):this.aurora.player.volume=this.aurora.properties.lastvolume;
this.aurora.properties.muted=b},_flash_setAudio:function(c){var h=this;try{b.each(this.formats,function(b,l){if(h.flash.support[l]&&c[l]){switch(l){case "m4a":case "fla":h._getMovie().fl_setAudio_m4a(c[l]);break;case "mp3":h._getMovie().fl_setAudio_mp3(c[l]);break;case "rtmpa":h._getMovie().fl_setAudio_rtmp(c[l])}return h.status.src=c[l],h.status.format[l]=!0,h.status.formatType=l,!1}}),"auto"===this.options.preload&&(this._flash_load(),this.status.waitForLoad=!1)}catch(k){this._flashError(k)}},_flash_setVideo:function(c){var h=
this;try{b.each(this.formats,function(b,l){if(h.flash.support[l]&&c[l]){switch(l){case "m4v":case "flv":h._getMovie().fl_setVideo_m4v(c[l]);break;case "rtmpv":h._getMovie().fl_setVideo_rtmp(c[l])}return h.status.src=c[l],h.status.format[l]=!0,h.status.formatType=l,!1}}),"auto"===this.options.preload&&(this._flash_load(),this.status.waitForLoad=!1)}catch(k){this._flashError(k)}},_flash_resetMedia:function(){this.internal.flash.jq.css({width:"0px",height:"0px"});this._flash_pause(0/0)},_flash_clearMedia:function(){try{this._getMovie().fl_clearMedia()}catch(b){this._flashError(b)}},
_flash_load:function(){try{this._getMovie().fl_load()}catch(b){this._flashError(b)}this.status.waitForLoad=!1},_flash_play:function(b){try{this._getMovie().fl_play(b)}catch(c){this._flashError(c)}this.status.waitForLoad=!1;this._flash_checkWaitForPlay()},_flash_pause:function(b){try{this._getMovie().fl_pause(b)}catch(c){this._flashError(c)}0<b&&(this.status.waitForLoad=!1,this._flash_checkWaitForPlay())},_flash_playHead:function(b){try{this._getMovie().fl_play_head(b)}catch(c){this._flashError(c)}this.status.waitForLoad||
this._flash_checkWaitForPlay()},_flash_checkWaitForPlay:function(){this.status.waitForPlay&&(this.status.waitForPlay=!1,this.css.jq.videoPlay.length&&this.css.jq.videoPlay.hide(),this.status.video&&(this.internal.poster.jq.hide(),this.internal.flash.jq.css({width:this.status.width,height:this.status.height})))},_flash_volume:function(b){try{this._getMovie().fl_volume(b)}catch(c){this._flashError(c)}},_flash_mute:function(b){try{this._getMovie().fl_mute(b)}catch(c){this._flashError(c)}},_getMovie:function(){return document[this.internal.flash.id]},
_getFlashPluginVersion:function(){var b,c=0;if(window.ActiveXObject)try{b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");var k=b.GetVariable("$version");k&&(k=k.split(" ")[1].split(","),c=parseInt(k[0],10)+"."+parseInt(k[1],10))}catch(h){}else navigator.plugins&&0<navigator.mimeTypes.length&&(b=navigator.plugins["Shockwave Flash"],b&&(c=navigator.plugins["Shockwave Flash"].description.replace(/.*\s(\d+\.\d+).*/,"$1")));return 1*c},_checkForFlash:function(b){var c=!1;return this._getFlashPluginVersion()>=
b&&(c=!0),c},_validString:function(b){return b&&"string"==typeof b},_limitValue:function(b,c,k){return c>b?c:b>k?k:b},_urlNotSetError:function(c){this._error({type:b.jPlayer.error.URL_NOT_SET,context:c,message:b.jPlayer.errorMsg.URL_NOT_SET,hint:b.jPlayer.errorHint.URL_NOT_SET})},_flashError:function(c){var h;h=this.internal.ready?"FLASH_DISABLED":"FLASH";this._error({type:b.jPlayer.error[h],context:this.internal.flash.swf,message:b.jPlayer.errorMsg[h]+c.message,hint:b.jPlayer.errorHint[h]});this.internal.flash.jq.css({width:"1px",
height:"1px"})},_error:function(c){this._trigger(b.jPlayer.event.error,c);this.options.errorAlerts&&this._alert("Error!"+(c.message?"\n"+c.message:"")+(c.hint?"\n"+c.hint:"")+"\nContext: "+c.context)},_warning:function(h){this._trigger(b.jPlayer.event.warning,c,h);this.options.warningAlerts&&this._alert("Warning!"+(h.message?"\n"+h.message:"")+(h.hint?"\n"+h.hint:"")+"\nContext: "+h.context)},_alert:function(b){b="jPlayer "+this.version.script+" : id\x3d'"+this.internal.self.id+"' : "+b;this.options.consoleAlerts||
alert(b)},_emulateHtmlBridge:function(){var c=this;b.each(b.jPlayer.emulateMethods.split(/\s+/g),function(b,k){c.internal.domNode[k]=function(b){c[k](b)}});b.each(b.jPlayer.event,function(h,k){var l=!0;b.each(b.jPlayer.reservedEvent.split(/\s+/g),function(b,c){return c===h?(l=!1,!1):void 0});l&&c.element.bind(k+".jPlayer.jPlayerHtml",function(){c._emulateHtmlUpdate();var b=document.createEvent("Event");b.initEvent(h,!1,!0);c.internal.domNode.dispatchEvent(b)})})},_emulateHtmlUpdate:function(){var c=
this;b.each(b.jPlayer.emulateStatus.split(/\s+/g),function(b,k){c.internal.domNode[k]=c.status[k]});b.each(b.jPlayer.emulateOptions.split(/\s+/g),function(b,k){c.internal.domNode[k]=c.options[k]})},_destroyHtmlBridge:function(){var c=this;this.element.unbind(".jPlayerHtml");b.each((b.jPlayer.emulateMethods+" "+b.jPlayer.emulateStatus+" "+b.jPlayer.emulateOptions).split(/\s+/g),function(b,k){delete c.internal.domNode[k]})}};b.jPlayer.error={FLASH:"e_flash",FLASH_DISABLED:"e_flash_disabled",NO_SOLUTION:"e_no_solution",
NO_SUPPORT:"e_no_support",URL:"e_url",URL_NOT_SET:"e_url_not_set",VERSION:"e_version"};b.jPlayer.errorMsg={FLASH:"jPlayer's Flash fallback is not configured correctly, or a command was issued before the jPlayer Ready event. Details: ",FLASH_DISABLED:"jPlayer's Flash fallback has been disabled by the browser due to the CSS rules you have used. Details: ",NO_SOLUTION:"No solution can be found by jPlayer in this browser. Neither HTML nor Flash can be used.",NO_SUPPORT:"It is not possible to play any media format provided in setMedia() on this browser using your current options.",
URL:"Media URL could not be loaded.",URL_NOT_SET:"Attempt to issue media playback commands, while no media url is set.",VERSION:"jPlayer "+b.jPlayer.prototype.version.script+" needs Jplayer.swf version "+b.jPlayer.prototype.version.needFlash+" but found "};b.jPlayer.errorHint={FLASH:"Check your swfPath option and that Jplayer.swf is there.",FLASH_DISABLED:"Check that you have not display:none; the jPlayer entity or any ancestor.",NO_SOLUTION:"Review the jPlayer options: support and supplied.",NO_SUPPORT:"Video or audio formats defined in the supplied option are missing.",
URL:"Check media URL is valid.",URL_NOT_SET:"Use setMedia() to set the media URL.",VERSION:"Update jPlayer files."};b.jPlayer.warning={CSS_SELECTOR_COUNT:"e_css_selector_count",CSS_SELECTOR_METHOD:"e_css_selector_method",CSS_SELECTOR_STRING:"e_css_selector_string",OPTION_KEY:"e_option_key"};b.jPlayer.warningMsg={CSS_SELECTOR_COUNT:"The number of css selectors found did not equal one: ",CSS_SELECTOR_METHOD:"The methodName given in jPlayer('cssSelector') is not a valid jPlayer method.",CSS_SELECTOR_STRING:"The methodCssSelector given in jPlayer('cssSelector') is not a String or is empty.",
OPTION_KEY:"The option requested in jPlayer('option') is undefined."};b.jPlayer.warningHint={CSS_SELECTOR_COUNT:"Check your css selector and the ancestor.",CSS_SELECTOR_METHOD:"Check your method name.",CSS_SELECTOR_STRING:"Check your css selector is a string.",OPTION_KEY:"Check your option name."}});
(function(b,c){function h(b){D.put.call(this,b)}function l(b){this.parent=b;this.byStart=[{start:-1,end:-1}];this.byEnd=[{start:-1,end:-1}];this.animating=[];this.endIndex=this.startIndex=0;this.previousUpdateTime=-1;this.count=1}function m(b,c){return function(){if(y.plugin.debug)return b.apply(this,arguments);try{return b.apply(this,arguments)}catch(k){y.plugin.errors.push({plugin:c,thrown:k,source:b.toString()}),this.emit("pluginerror",y.plugin.errors)}}}if(c.addEventListener){var u=Array.prototype,
q=Object.prototype,x=u.forEach,k=u.slice,p=q.hasOwnProperty,r=q.toString,w=b.Popcorn,v=[],z=!1,n={hash:{},apis:{}},E=function(){return b.requestAnimationFrame||b.webkitRequestAnimationFrame||b.mozRequestAnimationFrame||b.oRequestAnimationFrame||b.msRequestAnimationFrame||function(c,k){b.setTimeout(c,16)}}(),D={put:function(b){for(var c in b)b.hasOwnProperty(c)&&(this[c]=b[c])}},y=function(b,c){return new y.p.init(b,c||null)};y.version="@VERSION";y.isSupported=!0;y.instances=[];y.p=y.prototype={init:function(b,
k){var h,n=this;if("function"===typeof b)if("complete"===c.readyState)b(c,y);else{if(v.push(b),!z){z=!0;var p=function(){c.removeEventListener("DOMContentLoaded",p,!1);for(var b=0,k=v.length;b<k;b++)v[b].call(c,y);v=null};c.addEventListener("DOMContentLoaded",p,!1)}}else{if("string"===typeof b)try{h=c.querySelector(b)}catch(r){throw Error("Popcorn.js Error: Invalid media element selector: "+b);}this.media=h||b;h=this.media.nodeName&&this.media.nodeName.toLowerCase()||"video";this[h]=this.media;this.options=
y.extend({},k)||{};this.id=this.options.id||y.guid(h);if(y.byId(this.id))throw Error("Popcorn.js Error: Cannot use duplicate ID ("+this.id+")");this.isDestroyed=!1;this.data={running:{cue:[]},timeUpdate:y.nop,disabled:{},events:{},hooks:{},history:[],state:{volume:this.media.volume},trackRefs:{},trackEvents:new l(this)};y.instances.push(this);var m=function(){0>n.media.currentTime&&(n.media.currentTime=0);n.media.removeEventListener("loadedmetadata",m,!1);var b,c,k,h,l;b=n.media.duration;b=b!=b?Number.MAX_VALUE:
b+1;y.addTrackEvent(n,{start:b,end:b});n.isDestroyed||(n.data.durationChange=function(){var b=n.media.duration,c=b+1,k=n.data.trackEvents.byStart,h=n.data.trackEvents.byEnd;k.pop();h.pop();for(var l=h.length-1;0<l;l--)h[l].end>b&&n.removeTrackEvent(h[l]._id);for(h=0;h<k.length;h++)k[h].end>b&&n.removeTrackEvent(k[h]._id);n.data.trackEvents.byEnd.push({start:c,end:c});n.data.trackEvents.byStart.push({start:c,end:c})},n.media.addEventListener("durationchange",n.data.durationChange,!1));n.options.frameAnimation?
(n.data.timeUpdate=function(){y.timeUpdate(n,{});y.forEach(y.manifest,function(b,p){if(c=n.data.running[p])for(h=c.length,b=0;b<h;b++)k=c[b],(l=k._natives)&&l.frame&&l.frame.call(n,{},k,n.currentTime())});n.emit("timeupdate");!n.isDestroyed&&E(n.data.timeUpdate)},!n.isDestroyed&&E(n.data.timeUpdate)):(n.data.timeUpdate=function(b){y.timeUpdate(n,b)},n.isDestroyed||n.media.addEventListener("timeupdate",n.data.timeUpdate,!1))};n.media.addEventListener("error",function(){n.error=n.media.error},!1);1<=
n.media.readyState?m():n.media.addEventListener("loadedmetadata",m,!1);return this}}};y.p.init.prototype=y.p;y.byId=function(b){for(var c=y.instances,k=c.length,h=0;h<k;h++)if(c[h].id===b)return c[h];return null};y.forEach=function(b,c,k){if(!b||!c)return{};k=k||this;var h,l;if(x&&b.forEach===x)return b.forEach(c,k);if("[object NodeList]"===r.call(b)){h=0;for(l=b.length;h<l;h++)c.call(k,b[h],h,b);return b}for(h in b)p.call(b,h)&&c.call(k,b[h],h,b);return b};y.extend=function(b){var c=b,h=k.call(arguments,
1);y.forEach(h,function(b){for(var k in b)c[k]=b[k]});return c};y.extend(y,{noConflict:function(c){c&&(b.Popcorn=w);return y},error:function(b){throw Error(b);},guid:function(b){y.guid.counter++;return(b?b:"")+(+new Date+y.guid.counter)},sizeOf:function(b){var c=0,k;for(k in b)c++;return c},isArray:Array.isArray||function(b){return"[object Array]"===r.call(b)},nop:function(){},position:function(k){if(!k.parentNode)return null;k=k.getBoundingClientRect();var h={},l=c.documentElement,n=c.body,p,r,m;
p=l.clientTop||n.clientTop||0;r=l.clientLeft||n.clientLeft||0;m=b.pageYOffset&&l.scrollTop||n.scrollTop;l=b.pageXOffset&&l.scrollLeft||n.scrollLeft;p=Math.ceil(k.top+m-p);r=Math.ceil(k.left+l-r);for(var v in k)h[v]=Math.round(k[v]);return y.extend({},h,{top:p,left:r})},disable:function(b,c){if(!b.data.disabled[c]){b.data.disabled[c]=!0;if(c in y.registryByName&&b.data.running[c])for(var k=b.data.running[c].length-1,h;0<=k;k--)h=b.data.running[c][k],h._natives.end.call(b,null,h),b.emit("trackend",
y.extend({},h,{plugin:h.type,type:"trackend"}));return b}},enable:function(b,c){if(b.data.disabled[c]){b.data.disabled[c]=!1;if(c in y.registryByName&&b.data.running[c])for(var k=b.data.running[c].length-1,h;0<=k;k--)h=b.data.running[c][k],h._natives.start.call(b,null,h),b.emit("trackstart",y.extend({},h,{plugin:h.type,type:"trackstart",track:h}));return b}},destroy:function(b){var c=b.data.events,k=b.data.trackEvents,h,l,n,p;for(l in c){h=c[l];for(n in h)delete h[n];c[l]=null}for(p in y.registryByName)y.removePlugin(b,
p);k.byStart.length=0;k.byEnd.length=0;b.isDestroyed||(b.data.timeUpdate&&b.media.removeEventListener("timeupdate",b.data.timeUpdate,!1),b.isDestroyed=!0);y.instances.splice(y.instances.indexOf(b),1)}});y.guid.counter=1;y.extend(y.p,function(){var b={};y.forEach("load play pause currentTime playbackRate volume duration preload playbackRate autoplay loop controls muted buffered readyState seeking paused played seekable ended".split(/\s+/g),function(c){b[c]=function(b){var k;return"function"===typeof this.media[c]?
(null!=b&&/play|pause/.test(c)&&(this.media.currentTime=y.util.toSeconds(b)),this.media[c](),this):null!=b?(k=this.media[c],this.media[c]=b,k!==b&&this.emit("attrchange",{attribute:c,previousValue:k,currentValue:b}),this):this.media[c]}});return b}());y.forEach(["enable","disable"],function(b){y.p[b]=function(c){return y[b](this,c)}});y.extend(y.p,{roundTime:function(){return Math.round(this.media.currentTime)},exec:function(b,c,k){var l=arguments.length,n="trackadded",p,r;try{r=y.util.toSeconds(b)}catch(m){}"number"===
typeof r&&(b=r);if("number"===typeof b&&2===l)k=c,c=b,b=y.guid("cue");else if(1===l)c=-1;else if(p=this.getTrackEvent(b))this.data.trackEvents.remove(b),h.end(this,p),y.removeTrackEvent.ref(this,b),n="cuechange","string"===typeof b&&2===l&&("number"===typeof c&&(k=p._natives.start),"function"===typeof c&&(k=c,c=p.start));else if(2<=l){if("string"===typeof c){try{r=y.util.toSeconds(c)}catch(m){}c=r}"number"===typeof c&&(k=k||y.nop());"function"===typeof c&&(k=c,c=-1)}l={id:b,start:c,end:c+1,_running:!1,
_natives:{start:k||y.nop,end:y.nop,type:"cue"}};p&&(l=y.extend(p,l));"cuechange"===n?(l._id=l.id||l._id||y.guid(l._natives.type),this.data.trackEvents.add(l),h.start(this,l),this.timeUpdate(this,null,!0),y.addTrackEvent.ref(this,l),this.emit(n,y.extend({},l,{id:b,type:n,previousValue:{time:p.start,fn:p._natives.start},currentValue:{time:c,fn:k||y.nop},track:p}))):y.addTrackEvent(this,l);return this},mute:function(b){b=null==b||!0===b?"muted":"unmuted";"unmuted"===b&&(this.media.muted=!1,this.media.volume=
this.data.state.volume);"muted"===b&&(this.data.state.volume=this.media.volume,this.media.muted=!0);this.emit(b);return this},unmute:function(b){return this.mute(null==b?!1:!b)},position:function(){return y.position(this.media)},toggle:function(b){return y[this.data.disabled[b]?"enable":"disable"](this,b)},defaults:function(b,c){if(y.isArray(b))return y.forEach(b,function(b){for(var c in b)this.defaults(c,b[c])},this),this;this.options.defaults||(this.options.defaults={});this.options.defaults[b]||
(this.options.defaults[b]={});y.extend(this.options.defaults[b],c);return this}});y.Events={UIEvents:"blur focus focusin focusout load resize scroll unload",MouseEvents:"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave click dblclick",Events:"loadstart progress suspend emptied stalled play pause error loadedmetadata loadeddata waiting playing canplay canplaythrough seeking seeked timeupdate ended ratechange durationchange volumechange"};y.Events.Natives=y.Events.UIEvents+" "+y.Events.MouseEvents+
" "+y.Events.Events;n.apiTypes=["UIEvents","MouseEvents","Events"];(function(b,c){for(var k=n.apiTypes,h=b.Natives.split(/\s+/g),l=0,p=h.length;l<p;l++)c.hash[h[l]]=!0;k.forEach(function(k,h){c.apis[k]={};h=b[k].split(/\s+/g);for(var l=h.length,n=0;n<l;n++)c.apis[k][h[n]]=!0})})(y.Events,n);y.events={isNative:function(b){return!!n.hash[b]},getInterface:function(b){if(!y.events.isNative(b))return!1;for(var c=n.apiTypes,k=n.apis,h=0,l=c.length,p,r;h<l;h++)if(r=c[h],k[r][b]){p=r;break}return p},all:y.Events.Natives.split(/\s+/g),
fn:{trigger:function(k,h){var l,n=this.data.events[k];if(n){if(l=y.events.getInterface(k))return l=c.createEvent(l),l.initEvent(k,!0,!0,b,1),this.media.dispatchEvent(l),this;for(l=n.slice();l.length;)l.shift().call(this,h)}return this},listen:function(b,c){var k=this,h=!0,l=y.events.hooks[b],n,p;if("function"!==typeof c)throw Error("Popcorn.js Error: Listener is not a function");this.data.events[b]||(this.data.events[b]=[],h=!1);l&&(l.add&&l.add.call(this,{},c),l.bind&&(b=l.bind),l.handler&&(p=c,
c=function(b){l.handler.call(k,b,p)}),h=!0,this.data.events[b]||(this.data.events[b]=[],h=!1));this.data.events[b].push(c);!h&&-1<y.events.all.indexOf(b)&&this.media.addEventListener(b,function(c){if(k.data.events[b])for(n=k.data.events[b].slice();n.length;)n.shift().call(k,c)},!1);return this},unlisten:function(b,c){var k,h=this.data.events[b];if(h){if("string"===typeof c){for(k=0;k<h.length;k++)h[k].name===c&&h.splice(k--,1);return this}if("function"===typeof c){for(;-1!==k;)k=h.indexOf(c),-1!==
k&&h.splice(k,1);return this}this.data.events[b]=null;return this}}},hooks:{canplayall:{bind:"canplaythrough",add:function(b,c){var k=!1;this.media.readyState&&(setTimeout(function(){c.call(this,b)}.bind(this),0),k=!0);this.data.hooks.canplayall={fired:k}},handler:function(b,c){this.data.hooks.canplayall.fired||(c.call(this,b),this.data.hooks.canplayall.fired=!0)}}}};y.forEach([["trigger","emit"],["listen","on"],["unlisten","off"]],function(b){y.p[b[0]]=y.p[b[1]]=y.events.fn[b[0]]});h.start=function(b,
c){c.end>b.media.currentTime&&c.start<=b.media.currentTime&&!c._running&&(c._running=!0,b.data.running[c._natives.type].push(c),b.data.disabled[c._natives.type]||(c._natives.start.call(b,null,c),b.emit("trackstart",y.extend({},c,{plugin:c._natives.type,type:"trackstart",track:c}))))};h.end=function(b,c){var k;(c.end<=b.media.currentTime||c.start>b.media.currentTime)&&c._running&&(k=b.data.running[c._natives.type],c._running=!1,k.splice(k.indexOf(c),1),b.data.disabled[c._natives.type]||(c._natives.end.call(b,
null,c),b.emit("trackend",y.extend({},c,{plugin:c._natives.type,type:"trackend",track:c}))))};l.prototype.where=function(b){return(this.parent.getTrackEvents()||[]).filter(function(c){var k,h;if(!b)return!0;for(k in b){h=b[k];var l;(l=c[k]&&c[k]===h)||(l=c._natives,l=l[k]&&l[k]===h);if(l)return!0}return!1})};l.prototype.add=function(b){var c=this.byStart,k=this.byEnd,h;b&&b._id&&this.parent.data.history.push(b._id);b.start=y.util.toSeconds(b.start,this.parent.options.framerate);b.end=y.util.toSeconds(b.end,
this.parent.options.framerate);for(h=c.length-1;0<=h;h--)if(b.start>=c[h].start){c.splice(h+1,0,b);break}for(c=k.length-1;0<=c;c--)if(b.end>k[c].end){k.splice(c+1,0,b);break}h<=this.parent.data.trackEvents.startIndex&&b.start<=this.parent.data.trackEvents.previousUpdateTime&&this.parent.data.trackEvents.startIndex++;c<=this.parent.data.trackEvents.endIndex&&b.end<this.parent.data.trackEvents.previousUpdateTime&&this.parent.data.trackEvents.endIndex++;this.count++};l.prototype.remove=function(b,c){b instanceof
h&&(b=b.id);if("object"===typeof b)return this.where(b).forEach(function(b){this.removeTrackEvent(b._id)},this.parent),this;var k,l;l=this.byStart.length;for(var n=0,p=0,r=[],m=[],v=[],w=[];-1<--l;)c=this.byStart[n],k=this.byEnd[n],c._id||(r.push(c),m.push(k)),c._id&&(c._id!==b&&r.push(c),k._id!==b&&m.push(k),c._id===b&&(p=n)),n++;l=this.animating.length;n=0;if(l)for(;-1<--l;)c=this.animating[n],c._id||v.push(c),c._id&&c._id!==b&&v.push(c),n++;p<=this.startIndex&&this.startIndex--;p<=this.endIndex&&
this.endIndex--;this.byStart=r;this.byEnd=m;this.animating=v;this.count--;l=this.parent.data.history.length;for(n=0;n<l;n++)this.parent.data.history[n]!==b&&w.push(this.parent.data.history[n]);this.parent.data.history=w};y.addTrackEvent=function(b,c){var k;c instanceof h||((c=new h(c),c._natives)&&c._natives.type&&b.options.defaults&&b.options.defaults[c._natives.type]&&(k=y.extend({},c),y.extend(c,b.options.defaults[c._natives.type],k)),c._natives&&(c._id=c.id||c._id||y.guid(c._natives.type),c._natives._setup&&
(c._natives._setup.call(b,c),b.emit("tracksetup",y.extend({},c,{plugin:c._natives.type,type:"tracksetup",track:c})))),b.data.trackEvents.add(c),h.start(b,c),this.timeUpdate(b,null,!0),c._id&&y.addTrackEvent.ref(b,c),b.emit("trackadded",y.extend({},c,c._natives?{plugin:c._natives.type}:{},{type:"trackadded",track:c})))};y.addTrackEvent.ref=function(b,c){b.data.trackRefs[c._id]=c;return b};y.removeTrackEvent=function(b,c){var k=b.getTrackEvent(c);k&&(k._natives._teardown&&k._natives._teardown.call(b,
k),b.data.trackEvents.remove(c),y.removeTrackEvent.ref(b,c),k._natives&&b.emit("trackremoved",y.extend({},k,{plugin:k._natives.type,type:"trackremoved",track:k})))};y.removeTrackEvent.ref=function(b,c){delete b.data.trackRefs[c];return b};y.getTrackEvents=function(b){var c=[];b=b.data.trackEvents.byStart;for(var k=b.length,h=0,l;h<k;h++)l=b[h],l._id&&c.push(l);return c};y.getTrackEvents.ref=function(b){return b.data.trackRefs};y.getTrackEvent=function(b,c){return b.data.trackRefs[c]};y.getTrackEvent.ref=
function(b,c){return b.data.trackRefs[c]};y.getLastTrackEventId=function(b){return b.data.history[b.data.history.length-1]};y.timeUpdate=function(b,c){var k=b.media.currentTime,h=b.data.trackEvents.previousUpdateTime,l=b.data.trackEvents,n=l.endIndex,p=l.startIndex,r=l.byStart.length,m=l.byEnd.length,v=y.registryByName,w,q,z;if(h<=k){for(;l.byEnd[n]&&l.byEnd[n].end<=k;)if(w=l.byEnd[n],q=(h=w._natives)&&h.type,!h||v[q]||b[q])!0===w._running&&(w._running=!1,z=b.data.running[q],z.splice(z.indexOf(w),
1),b.data.disabled[q]||(h.end.call(b,c,w),b.emit("trackend",y.extend({},w,{plugin:q,type:"trackend",track:w})))),n++;else{y.removeTrackEvent(b,w._id);return}for(;l.byStart[p]&&l.byStart[p].start<=k;)if(w=l.byStart[p],q=(h=w._natives)&&h.type,!h||v[q]||b[q])w.end>k&&!1===w._running&&(w._running=!0,b.data.running[q].push(w),b.data.disabled[q]||(h.start.call(b,c,w),b.emit("trackstart",y.extend({},w,{plugin:q,type:"trackstart",track:w})))),p++;else{y.removeTrackEvent(b,w._id);return}}else if(h>k){for(;l.byStart[p]&&
l.byStart[p].start>k;)if(w=l.byStart[p],q=(h=w._natives)&&h.type,!h||v[q]||b[q])!0===w._running&&(w._running=!1,z=b.data.running[q],z.splice(z.indexOf(w),1),b.data.disabled[q]||(h.end.call(b,c,w),b.emit("trackend",y.extend({},w,{plugin:q,type:"trackend",track:w})))),p--;else{y.removeTrackEvent(b,w._id);return}for(;l.byEnd[n]&&l.byEnd[n].end>k;)if(w=l.byEnd[n],q=(h=w._natives)&&h.type,!h||v[q]||b[q])w.start<=k&&!1===w._running&&(w._running=!0,b.data.running[q].push(w),b.data.disabled[q]||(h.start.call(b,
c,w),b.emit("trackstart",y.extend({},w,{plugin:q,type:"trackstart",track:w})))),n--;else{y.removeTrackEvent(b,w._id);return}}l.endIndex=n;l.startIndex=p;l.previousUpdateTime=k;l.byStart.length<r&&l.startIndex--;l.byEnd.length<m&&l.endIndex--};y.extend(y.p,{getTrackEvents:function(){return y.getTrackEvents.call(null,this)},getTrackEvent:function(b){return y.getTrackEvent.call(null,this,b)},getLastTrackEventId:function(){return y.getLastTrackEventId.call(null,this)},removeTrackEvent:function(b){y.removeTrackEvent.call(null,
this,b);return this},removePlugin:function(b){y.removePlugin.call(null,this,b);return this},timeUpdate:function(b){y.timeUpdate.call(null,this,b);return this},destroy:function(){y.destroy.call(null,this);return this}});y.manifest={};y.registry=[];y.registryByName={};y.plugin=function(b,c,l){if(0<=y.protect.natives.indexOf(b.toLowerCase()))y.error("'"+b+"' is a protected function name");else{var n="function"===typeof c,r=["start","end","type","manifest"],v=["_setup","_teardown","start","end","frame"],
w={},q=function(b,c){b=b||y.nop;c=c||y.nop;return function(){b.apply(this,arguments);c.apply(this,arguments)}};y.manifest[b]=l=l||c.manifest||{};v.forEach(function(k){c[k]=m(c[k]||y.nop,b)});var z=function(c,n){if(!n)return this;if(n.ranges&&y.isArray(n.ranges))return y.forEach(n.ranges,function(c){c=y.extend({},n,c);delete c.ranges;this[b](c)},this),this;var m=n._natives={},w="",z;y.extend(m,c);n._natives.type=n._natives.plugin=b;n._running=!1;m.start=m.start||m["in"];m.end=m.end||m.out;n.once&&
(m.end=q(m.end,function(){this.removeTrackEvent(n._id)}));m._teardown=q(function(){var b=k.call(arguments),c=this.data.running[m.type];b.unshift(null);b[1]._running&&c.splice(c.indexOf(n),1)&&m.end.apply(this,b);b[1]._running=!1;this.emit("trackend",y.extend({},n,{plugin:m.type,type:"trackend",track:y.getTrackEvent(this,n.id||n._id)}))},m._teardown);m._teardown=q(m._teardown,function(){this.emit("trackteardown",y.extend({},n,{plugin:b,type:"trackteardown",track:y.getTrackEvent(this,n.id||n._id)}))});
n.compose=n.compose||[];"string"===typeof n.compose&&(n.compose=n.compose.split(" "));n.effect=n.effect||[];"string"===typeof n.effect&&(n.effect=n.effect.split(" "));n.compose=n.compose.concat(n.effect);n.compose.forEach(function(b){w=y.compositions[b]||{};v.forEach(function(b){m[b]=q(m[b],w[b])})});n._natives.manifest=l;"start"in n||(n.start=n["in"]||0);n.end||0===n.end||(n.end=n.out||Number.MAX_VALUE);p.call(n,"toString")||(n.toString=function(){var c=["start: "+n.start,"end: "+n.end,"id: "+(n.id||
n._id)];null!=n.target&&c.push("target: "+n.target);return b+" ( "+c.join(", ")+" )"});n.target||(z="options"in l&&l.options,n.target=z&&"target"in z&&z.target);!n._id&&n._natives&&(n._id=y.guid(n._natives.type));n instanceof h?(n._natives&&(n._id=n.id||n._id||y.guid(n._natives.type),n._natives._setup&&(n._natives._setup.call(this,n),this.emit("tracksetup",y.extend({},n,{plugin:n._natives.type,type:"tracksetup",track:n})))),this.data.trackEvents.add(n),h.start(this,n),this.timeUpdate(this,null,!0),
n._id&&y.addTrackEvent.ref(this,n)):y.addTrackEvent(this,n);y.forEach(c,function(b,c){if(-1===r.indexOf(c))this.on(c,b)},this);return this};y.p[b]=w[b]=function(k,l){var r,m;if(k&&!l)l=k;else{if(r=this.getTrackEvent(k)){m=l;var v={},w;for(w in r)p.call(m,w)&&p.call(r,w)&&(v[w]=r[w]);if(r._natives._update)this.data.trackEvents.remove(r),p.call(l,"start")&&(r.start=l.start),p.call(l,"end")&&(r.end=l.end),h.end(this,r),n&&c.call(this,r),r._natives._update.call(this,r,l),this.data.trackEvents.add(r),
h.start(this,r);else return y.extend(r,l),this.data.trackEvents.remove(k),r._natives._teardown&&r._natives._teardown.call(this,r),y.removeTrackEvent.ref(this,k),n?z.call(this,c.call(this,r),r):(r._id=r.id||r._id||y.guid(r._natives.type),r._natives&&r._natives._setup&&(r._natives._setup.call(this,r),this.emit("tracksetup",y.extend({},r,{plugin:r._natives.type,type:"tracksetup",track:r}))),this.data.trackEvents.add(r),h.start(this,r),this.timeUpdate(this,null,!0),y.addTrackEvent.ref(this,r)),this.emit("trackchange",
{id:r.id,type:"trackchange",previousValue:v,currentValue:r,track:r}),this;"cue"!==r._natives.type&&this.emit("trackchange",{id:r.id,type:"trackchange",previousValue:v,currentValue:m,track:r});return this}l.id=k}this.data.running[b]=this.data.running[b]||[];r=y.extend({},this.options.defaults&&this.options.defaults[b]||{},l);z.call(this,n?c.call(this,r):c,r);return this};l&&y.extend(c,{manifest:l});var u={fn:w[b],definition:c,base:c,parents:[],name:b};y.registry.push(y.extend(w,u,{type:b}));y.registryByName[b]=
u;return w}};y.plugin.errors=[];y.plugin.debug="@VERSION"===y.version;y.removePlugin=function(b,c){if(!c){c=b;b=y.p;if(0<=y.protect.natives.indexOf(c.toLowerCase())){y.error("'"+c+"' is a protected function name");return}var k=y.registry.length,h;for(h=0;h<k;h++)if(y.registry[h].name===c){y.registry.splice(h,1);delete y.registryByName[c];delete y.manifest[c];delete b[c];return}}k=b.data.trackEvents.byStart;h=b.data.trackEvents.byEnd;var l=b.data.trackEvents.animating,n,p;n=0;for(p=k.length;n<p;n++)k[n]&&
k[n]._natives&&k[n]._natives.type===c&&(k[n]._natives._teardown&&k[n]._natives._teardown.call(b,k[n]),k.splice(n,1),n--,p--,b.data.trackEvents.startIndex<=n&&(b.data.trackEvents.startIndex--,b.data.trackEvents.endIndex--)),h[n]&&h[n]._natives&&h[n]._natives.type===c&&h.splice(n,1);n=0;for(p=l.length;n<p;n++)l[n]&&l[n]._natives&&l[n]._natives.type===c&&(l.splice(n,1),n--,p--)};y.compositions={};y.compose=function(b,c,k){y.manifest[b]=k||c.manifest||{};y.compositions[b]=c};y.plugin.effect=y.effect=
y.compose;var B=/^(?:\.|#|\[)/;y.dom={debug:!1,find:function(b,k){var h=null;k=k||c;if(b){if(!B.test(b)&&(h=c.getElementById(b),null!==h))return h;try{h=k.querySelector(b)}catch(l){if(y.dom.debug)throw Error(l);}}return h}};var F=/\?/,C={ajax:null,url:"",data:"",dataType:"",success:y.nop,type:"GET",async:!0,contentType:"application/x-www-form-urlencoded; charset\x3dUTF-8"};y.xhr=function(b){b.dataType=b.dataType&&b.dataType.toLowerCase()||null;if(!b.dataType||"jsonp"!==b.dataType&&"script"!==b.dataType){if(b=
y.extend({},C,b),b.ajax=new XMLHttpRequest,b.ajax)return"GET"===b.type&&b.data&&(b.url+=(F.test(b.url)?"\x26":"?")+b.data,b.data=null),b.ajax.open(b.type,b.url,b.async),"POST"===b.type&&b.ajax.setRequestHeader("Content-Type",b.contentType),b.ajax.send(b.data||null),y.xhr.httpData(b)}else y.xhr.getJSONP(b.url,b.success,"script"===b.dataType)};y.xhr.httpData=function(b){var c,k=null,h,l=null;b.ajax.onreadystatechange=function(){if(4===b.ajax.readyState){try{k=JSON.parse(b.ajax.responseText)}catch(n){}c=
{xml:b.ajax.responseXML,text:b.ajax.responseText,json:k};if(!c.xml||!c.xml.documentElement){c.xml=null;try{h=new DOMParser,l=h.parseFromString(b.ajax.responseText,"text/xml"),l.getElementsByTagName("parsererror").length||(c.xml=l)}catch(n){}}b.dataType&&(c=c[b.dataType]);b.success.call(b.ajax,c)}};return c};y.xhr.getJSONP=function(b,k,h){var l=c.head||c.getElementsByTagName("head")[0]||c.documentElement,n=c.createElement("script"),p=!1,r=[],r=/(=)\?(?=&|$)|\?\?/,m,v;h||(v=b.match(/(callback=[^&]*)/),
null!==v&&v.length?(r=v[1].split("\x3d")[1],"?"===r&&(r="jsonp"),m=y.guid(r),b=b.replace(/(callback=[^&]*)/,"callback\x3d"+m)):(m=y.guid("jsonp"),r.test(b)&&(b=b.replace(r,"$1"+m)),r=b.split(/\?(.+)?/),b=r[0]+"?",r[1]&&(b+=r[1]+"\x26"),b+="callback\x3d"+m),window[m]=function(b){k&&k(b);p=!0});n.addEventListener("load",function(){h&&k&&k();p&&delete window[m];l.removeChild(n)},!1);n.addEventListener("error",function(b){k&&k({error:b});h||delete window[m];l.removeChild(n)},!1);n.src=b;l.insertBefore(n,
l.firstChild)};y.getJSONP=y.xhr.getJSONP;y.getScript=y.xhr.getScript=function(b,c){return y.xhr.getJSONP(b,c,!0)};y.util={toSeconds:function(b,c){var k=/^([0-9]+:){0,2}[0-9]+([.;][0-9]+)?$/,h,l;if("number"===typeof b)return b;"string"!==typeof b||k.test(b)||y.error("Invalid time format");k=b.split(":");b=k.length-1;h=k[b];-1<h.indexOf(";")&&(h=h.split(";"),l=0,c&&"number"===typeof c&&(l=parseFloat(h[1],10)/c),k[b]=parseInt(h[0],10)+l);b=k[0];return{1:parseFloat(b,10),2:60*parseInt(b,10)+parseFloat(k[1],
10),3:3600*parseInt(b,10)+60*parseInt(k[1],10)+parseFloat(k[2],10)}[k.length||1]}};y.p.cue=y.p.exec;y.protect={natives:function(b){if(Object.keys)b=Object.keys(b);else{var c,k=[];for(c in b)p.call(b,c)&&k.push(c);b=k}return b}(y.p).map(function(b){return b.toLowerCase()})};y.forEach({listen:"on",unlisten:"off",trigger:"emit",exec:"cue"},function(b,c){var k=y.p[c];y.p[c]=function(){"undefined"!==typeof console&&console.warn&&(y.p[c]=k);return y.p[b].apply(this,[].slice.call(arguments))}});b.Popcorn=
y}else for(b.Popcorn={isSupported:!1},u="byId forEach extend effects error guid sizeOf isArray nop position disable enable destroyaddTrackEvent removeTrackEvent getTrackEvents getTrackEvent getLastTrackEventId timeUpdate plugin removePlugin compose effect xhr getJSONP getScript".split(/\s+/);u.length;)b.Popcorn[u.shift()]=function(){}})(window,window.document);
(function(b){var c=function(c,l){c=c||b.nop;l=l||b.nop;return function(){c.apply(this,arguments);l.apply(this,arguments)}};b.player=function(h,l){if(!b[h]){l=l||{};var m=function(h,m,x){x=x||{};var k=new Date/1E3,p=k,r=0,w=0,v=1,z=!1,n={},E="string"===typeof h?b.dom.find(h):h,D={};Object.prototype.__defineGetter__||(D=E||document.createElement("div"));for(var y in E)y in D||("object"===typeof E[y]?D[y]=E[y]:"function"===typeof E[y]?D[y]=function(b){return"length"in E[b]&&!E[b].call?E[b]:function(){return E[b].apply(E,
arguments)}}(y):b.player.defineProperty(D,y,{get:function(b){return function(){return E[b]}}(y),set:b.nop,configurable:!0}));var B=function(){k=new Date/1E3;D.paused||(D.currentTime+=k-p,D.dispatchEvent("timeupdate"),setTimeout(B,10));p=k};D.play=function(){this.paused=!1;4<=D.readyState&&(p=new Date/1E3,D.dispatchEvent("play"),B())};D.pause=function(){this.paused=!0;D.dispatchEvent("pause")};b.player.defineProperty(D,"currentTime",{get:function(){return r},set:function(b){r=+b;D.dispatchEvent("timeupdate");
return r},configurable:!0});b.player.defineProperty(D,"volume",{get:function(){return v},set:function(b){v=+b;D.dispatchEvent("volumechange");return v},configurable:!0});b.player.defineProperty(D,"muted",{get:function(){return z},set:function(b){z=+b;D.dispatchEvent("volumechange");return z},configurable:!0});b.player.defineProperty(D,"readyState",{get:function(){return w},set:function(b){return w=b},configurable:!0});D.addEventListener=function(b,c){n[b]||(n[b]=[]);n[b].push(c);return c};D.removeEventListener=
function(b,c){var k=n[b];if(k){for(b=n[b].length-1;0<=b;b--)c===k[b]&&k.splice(b,1);return c}};D.dispatchEvent=function(c){var k,h=c.type;!h&&(h=c,c=b.events.getInterface(h))&&(k=document.createEvent(c),k.initEvent(h,!0,!0,window,1));if(n[h])for(c=n[h].length-1;0<=c;c--)n[h][c].call(this,k,this)};D.src=m||"";D.duration=0;D.paused=!0;D.ended=0;x&&x.events&&b.forEach(x.events,function(b,c){D.addEventListener(c,b,!1)});!1!==l._canPlayType(E.nodeName,m)?l._setup?l._setup.call(D,x):(D.readyState=4,D.dispatchEvent("loadedmetadata"),
D.dispatchEvent("loadeddata"),D.dispatchEvent("canplaythrough")):setTimeout(function(){D.dispatchEvent("error")},0);h=new b.p.init(D,x);l._teardown&&(h.destroy=c(h.destroy,function(){l._teardown.call(D,x)}));return h};m.canPlayType=l._canPlayType=l._canPlayType||b.nop;b[h]=b.player.registry[h]=m}};b.player.registry={};b.player.defineProperty=Object.defineProperty||function(c,l,m){c.__defineGetter__(l,m.get||b.nop);c.__defineSetter__(l,m.set||b.nop)};b.player.playerQueue=function(){var b=[],c=!1;return{next:function(){c=
!1;b.shift();b[0]&&b[0]()},add:function(m){b.push(function(){c=!0;m&&m()});!c&&b[0]()}}};b.smart=function(c,l,m){var u="string"===typeof c?b.dom.find(c):c,q,x,k,p,r,w=["HTMLYouTubeVideoElement","HTMLVimeoVideoElement","HTMLSoundCloudAudioElement","HTMLNullVideoElement"];if(u){l="string"===typeof l?[l]:l;c=0;for(r=l.length;c<r;c++){q=l[c];for(x=0;x<w.length;x++)if((p=b[w[x]])&&"probably"===p._canPlaySrc(q))return k=p(u),m=b(k,m),setTimeout(function(){k.src=q},0),m;for(var v in b.player.registry)if(b.player.registry.hasOwnProperty(v)&&
b.player.registry[v].canPlayType(u.nodeName,q))return b[v](u,q,m)}var z;v=b.guid("popcorn-video-");x=document.createElement("div");x.style.width="100%";x.style.height="100%";if(1===l.length)return z=document.createElement("video"),z.id=v,u.appendChild(z),setTimeout(function(){var b=document.createElement("div");b.innerHTML=l[0];z.src=b.firstChild.nodeValue},0),b("#"+v,m);u.appendChild(x);w='\x3cvideo id\x3d"'+v+'" preload\x3dauto autobuffer\x3e';c=0;for(r=l.length;c<r;c++)w+='\x3csource src\x3d"'+
l[c]+'"\x3e';x.innerHTML=w+"\x3c/video\x3e";m&&m.events&&m.events.error&&u.addEventListener("error",m.events.error,!1);return b("#"+v,m)}b.error("Specified target `"+c+"` was not found.")}})(Popcorn);
(function(b){var c=Object.prototype.hasOwnProperty;b.parsers={};b.parser=function(h,l,m){if(0<=b.protect.natives.indexOf(h.toLowerCase()))b.error("'"+h+"' is a protected function name");else if("function"!==typeof l||m||(m=l,l=""),"function"===typeof m&&"string"===typeof l){var u={};u[h]=function(h,u,k){if(!h)return this;"function"===typeof u||k||(k=u,u=null);var p=this;b.xhr({url:h,dataType:l,success:function(b){var h,l,q=0;b=m(b,k).data||[];if(h=b.length){for(;q<h;q++){l=b[q];for(var n in l)if(c.call(l,
n)&&p[n])p[n](l[n])}u&&u()}}});return this};b.extend(b.p,u);return u}}})(Popcorn);
(function(b){function c(b,c){var h={};h[b]=c;return h}function h(b){b=b.split(":");try{var c=b[2].split(",");1===c.length&&(c=b[2].split("."));return 3600*parseFloat(b[0],10)+60*parseFloat(b[1],10)+parseFloat(c[0],10)+parseFloat(c[1],10)/1E3}catch(h){return 0}}b.parser("parseSRT",function(b,m){var u={title:"",remote:"",data:[]},q=[],x,k,p,r,w,v;k=b.text.split(/(?:\r\n|\r|\n)/gm);for(r=k.length-1;0<=r&&!k[r];)r--;w=r+1;for(b=0;b<w;b++){v={};for(r=[];!k[b];)b++;v.id=parseInt(k[b++],10);p=k[b++].split(/[\t ]*--\x3e[\t ]*/);
v.start=h(p[0]);x=p[1].indexOf(" ");-1!==x&&(p[1]=p[1].substr(0,x));for(v.end=h(p[1]);b<w&&k[b];)r.push(k[b++]);v.text=r.join("\\N").replace(/\{(\\[\w]+\(?([\w\d]+,?)+\)?)+\}/gi,"");v.text=v.text.replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;");v.text=v.text.replace(/&lt;(\/?(font|b|u|i|s))((\s+(\w|\w[\w\-]*\w)(\s*=\s*(?:\".*?\"|'.*?'|[^'\">\s]+))?)+\s*|\s*)(\/?)&gt;/gi,"\x3c$1$3$7\x3e");v.text=v.text.replace(/\\N/gi,"\x3cbr /\x3e");m&&m.target&&(v.target=m.target);q.push(c("subtitle",v))}u.data=q;
return u})})(Popcorn);
(function(b){b.parser("parseSBV",function(b){var h={title:"",remote:"",data:[]},l=[],m=0,u=0,q=function(b){b=b.split(":");var c=b.length-1,k;try{k=60*parseInt(b[c-1],10)+parseFloat(b[c],10),2===c&&(k+=3600*parseInt(b[0],10))}catch(h){throw"Bad cue";}return k},x=function(b,c){var k={};k[b]=c;return k};b=b.text.split(/(?:\r\n|\r|\n)/gm);for(u=b.length;m<u;){var k={},p=[],r=b[m++].split(",");try{k.start=q(r[0]);for(k.end=q(r[1]);m<u&&b[m];)p.push(b[m++]);k.text=p.join("\x3cbr /\x3e");l.push(x("subtitle",
k))}catch(w){for(;m<u&&b[m];)m++}for(;m<u&&!b[m];)m++}h.data=l;return h})})(Popcorn);
(function(b){function c(b){var c=b.split(":");b=b.length;var h;if(12!==b&&9!==b)throw"Bad cue";b=c.length-1;try{h=60*parseInt(c[b-1],10)+parseFloat(c[b],10),2===b&&(h+=3600*parseInt(c[0],10))}catch(q){throw"Bad cue";}return h}function h(b,c){var h={};h[b]=c;return h}b.parser("parseVTT",function(b){var m={title:"",remote:"",data:[]},u=[],q=0,x,k,p;x=b.text.split(/(?:\r\n|\r|\n)/gm);b=x.length;if(0===b||"WEBVTT"!==x[0])return m;for(q++;q<b;){k=[];try{for(var r=q;r<b&&!x[r];)r++;var q=r,r=void 0,w=x[q++],
v={};if(!w)throw"Bad cue";if(-1===w.indexOf("--\x3e")){w=x[q];if(-1===w.indexOf("--\x3e"))throw"Bad cue";q++}r=w.replace(/--\x3e/," --\x3e ").split(/[\t ]+/);if(2>r.length)throw"Bad cue";v.id=w;v.start=c(r[0]);v.end=c(r[2]);for(p=v;q<b&&x[q];)k.push(x[q++]);p.text=k.join("\x3cbr /\x3e");u.push(h("subtitle",p))}catch(z){for(;q<b&&x[q];)q++}}m.data=u;return m})})(Popcorn);
(function(b){var c=0,h=function(c,h){if(0<$(c.media).closest(".dki-audio-element").length)return c.container=$(c.media).closest(".dkiContentFrame, .page-standalone").find(".dki-audio-closed-caption-container")[0],c.container;var u=c.container=document.createElement("div"),q=u.style;u.id=h||b.guid();u.className="subClass";q.position="absolute";q.color="white";q.textShadow="black 2px 2px 6px";q.fontWeight="400";q.textAlign="center";c.media.parentNode.appendChild(u);return u};b.plugin("subtitle",{manifest:{about:{name:"Popcorn Subtitle Plugin",
version:"0.1",author:"Scott Downe",website:"http://scottdowne.wordpress.com/"},options:{start:{elem:"input",type:"text",label:"Start"},end:{elem:"input",type:"text",label:"End"},target:"subtitle-container",text:{elem:"input",type:"text",label:"Text"}}},_setup:function(b){var m=document.createElement("div");m.id="subtitle-"+c++;m.className="popcorn-subtitle";m.style.display="none";this.container||b.target&&"subtitle-container"!==b.target||h(this);b.container=b.target&&"subtitle-container"!==b.target?
document.getElementById(b.target)||h(this,b.target):this.container;document.getElementById(b.container.id)&&document.getElementById(b.container.id).appendChild(m);b.innerContainer=m;b.formatText=function(){b.text=b.text.replace("[br]","\x3cbr/\x3e")};b.showSubtitle=function(){b.formatText();var c=b.text?"\x26nbsp"+b.text.replace(/<br\s*[\/]?>/gi,"\x26nbsp\x3cbr\x3e\x26nbsp")+"\x26nbsp":"";b.innerContainer.innerHTML=c.replace("[br]","\x3cbr/\x3e")}},start:function(b,c){c.innerContainer.style.display=
"inline-block";c.showSubtitle(c,c.text)},end:function(b,c){c.innerContainer.style.display="none";c.innerContainer.innerHTML=""},_teardown:function(b){b.container.removeChild(b.innerContainer)}})})(Popcorn);
(function(b){var c=!1,h=!1,l={mp3:{codec:'audio/mpeg; codecs\x3d"mp3"',flashCanPlay:!0,media:"audio"},m4a:{codec:'audio/mp4; codecs\x3d"mp4a.40.2"',flashCanPlay:!0,media:"audio"},oga:{codec:'audio/ogg; codecs\x3d"vorbis"',flashCanPlay:!1,media:"audio"},wav:{codec:'audio/wav; codecs\x3d"1"',flashCanPlay:!1,media:"audio"},webma:{codec:'audio/webm; codecs\x3d"vorbis"',flashCanPlay:!1,media:"audio"},fla:{codec:"audio/x-flv",flashCanPlay:!0,media:"audio"},rtmpa:{codec:'audio/rtmp; codecs\x3d"rtmp"',flashCanPlay:!0,
media:"audio"},m4v:{codec:'video/mp4; codecs\x3d"avc1.42E01E, mp4a.40.2"',flashCanPlay:!0,media:"video"},ogv:{codec:'video/ogg; codecs\x3d"theora, vorbis"',flashCanPlay:!1,media:"video"},webmv:{codec:'video/webm; codecs\x3d"vorbis, vp8"',flashCanPlay:!1,media:"video"},flv:{codec:"video/x-flv",flashCanPlay:!0,media:"video"},rtmpv:{codec:'video/rtmp; codecs\x3d"rtmp"',flashCanPlay:!0,media:"video"}},m=function(b){return b&&"object"===typeof b&&b.hasOwnProperty?!0:!1},u=function(b){var c=!1;/\.mp3$/i.test(b)?
c="mp3":/\.mp4$/i.test(b)||/\.m4v$/i.test(b)?c="m4v":/\.m4a$/i.test(b)?c="m4a":/\.ogg$/i.test(b)||/\.oga$/i.test(b)?c="oga":/\.ogv$/i.test(b)?c="ogv":/\.webm$/i.test(b)&&(c="webmv");return c},q=function(b){var c="",h="";if(m(b))for(var l in b)b.hasOwnProperty(l)&&(c+=h+l,h=",");return c};b.player("jplayer",{_canPlayType:function(b,c){var h=b.toLowerCase(),r={media:{},options:{}};b=!1;if("video"!==h&&"audio"!==h&&("string"===typeof c?/^http.*/i.test(c)&&(h=u(c))&&(r.media[h]=c,r.options.solution="html,flash",
r.options.supplied=h):r=c,m(r)&&m(r.media))){m(r.options)||(r.options={});r.options.solution||(r.options.solution="html,flash");r.options.supplied||(r.options.supplied=q(r.media));c=r.options.solution.toLowerCase().split(",");for(var r=r.options.supplied.toLowerCase().split(","),w=0;w<c.length;w++)for(var h=c[w].replace(/^\s+|\s+$/g,""),v="html"===h,z="flash"===h,n,E=0;E<r.length;E++)if(h=r[E].replace(/^\s+|\s+$/g,""),l[h]){!n&&v&&(n=document.createElement(l[h].media));var D=!!(n&&n.canPlayType&&
n.canPlayType(l[h].codec))&&v,y=l[h].flashCanPlay&&z;if(D||y)b={html:D,type:h},w=c.length,E=r.length}}return b},_setup:function(){var l=this,k,p,r="unknown",w={},v={},z=!1,n=0,E=null,D=!1,y=null,B=function(){z?l.dispatchEvent("durationchange"):(clearTimeout(E),E=setTimeout(B,250))},F=function(){var b=function(b){b.jPlayer.status.duration!==n&&(n=b.jPlayer.status.duration,B())},c=function(b){D||100!==b.jPlayer.status.seekPercent||(D=!0,setTimeout(function(){p._trigger($.jPlayer.event.canplaythrough)},
0))};k.bind($.jPlayer.event.loadstart,function(){setTimeout(function(){p._trigger($.jPlayer.event.loadeddata)},0)}).bind($.jPlayer.event.progress,function(k){b(k);c(k)}).bind($.jPlayer.event.timeupdate,function(k){b(k);c(k)}).bind($.jPlayer.event.play,function(){setTimeout(function(){p._trigger($.jPlayer.event.playing)},0)})},C=function(){(function(c){k=c("#"+l.id);"string"===typeof l.src?(r=u(l.src),w[r]=l.src,v.supplied=r,v.solution="html,flash"):m(l.src)&&(w=m(l.src.media)?l.src.media:{},v=m(l.src.options)?
l.src.options:{},v.solution=v.solution||"html,flash",v.supplied=v.supplied||q(l.src.media));v.swfPath=v.swfPath||"http://www.jplayer.org/2.4.0/js/Jplayer.swf";k.bind(c.jPlayer.event.ready,function(b){b.jPlayer.flash.used&&F();c(this).jPlayer("setMedia",w).jPlayer("load")});var h=(c.jPlayer.reservedEvent+" loadeddata durationchange").split(/\s+/g),D=function(b){k.bind(c.jPlayer.event[b],function(c){l.dispatchEvent(b)})},E;for(E in c.jPlayer.event)if(c.jPlayer.event.hasOwnProperty(E)){var C=!0,J;for(J in h)if(h.hasOwnProperty(J)&&
h[J]===E){C=!1;break}C&&D(E)}k.bind(c.jPlayer.event.loadeddata,function(b){l.dispatchEvent("loadeddata");z=!0});k.bind(c.jPlayer.event.durationchange,function(b){n=b.jPlayer.status.duration;B()});k.bind(c.jPlayer.event.error,function(b){y=b.jPlayer.error;y.code=y.type===c.jPlayer.error.URL?4:0;l.dispatchEvent("error")});b.player.defineProperty(l,"error",{set:function(){return y},get:function(){return y}});b.player.defineProperty(l,"currentTime",{set:function(b){p.status.paused?k.jPlayer("pause",b):
k.jPlayer("play",b);return b},get:function(){return p.status.currentTime}});b.player.defineProperty(l,"duration",{set:function(){return z?n:NaN},get:function(){return z?n:NaN}});b.player.defineProperty(l,"muted",{set:function(b){k.jPlayer("mute",b);return p.options.muted},get:function(){return p.options.muted}});b.player.defineProperty(l,"volume",{set:function(b){k.jPlayer("volume",b);return p.options.volume},get:function(){return p.options.volume}});b.player.defineProperty(l,"paused",{set:function(){return p.status.paused},
get:function(){return p.status.paused}});l.play=function(){k.jPlayer("play")};l.pause=function(){k.jPlayer("pause")};k.jPlayer(v);p=k.data("jPlayer")})(jQuery)},I=function(){jQuery.jPlayer?C():h?setTimeout(I,250):(h=!0,b.getScript("http://www.jplayer.org/2.4.0/js/jquery.jplayer.min.js",function(){h=!1;C()}))},J=function(){window.jQuery?I():c?setTimeout(J,250):(c=!0,b.getScript("http://ajax.googleapis.com/ajax/libs/jquery/1.8/jquery.min.js",function(){c=!1;I()}))};J()},_teardown:function(){jQuery("#"+
this.id).jPlayer("destroy")}})})(Popcorn);
!function(){function b(l){if(!l)throw Error("No options passed to Waypoint constructor");if(!l.element)throw Error("No element option passed to Waypoint constructor");if(!l.handler)throw Error("No handler option passed to Waypoint constructor");this.key="waypoint-"+c;this.options=b.Adapter.extend({},b.defaults,l);this.element=this.options.element;this.adapter=new b.Adapter(this.element);this.callback=l.handler;this.axis=this.options.horizontal?"horizontal":"vertical";this.enabled=this.options.enabled;
this.triggerPoint=null;this.group=b.Group.findOrCreate({name:this.options.group,axis:this.axis});this.context=b.Context.findOrCreateByElement(this.options.context);b.offsetAliases[this.options.offset]&&(this.options.offset=b.offsetAliases[this.options.offset]);this.group.add(this);this.context.add(this);h[this.key]=this;c+=1}var c=0,h={};b.prototype.queueTrigger=function(b){this.group.queueTrigger(this,b)};b.prototype.trigger=function(b){this.enabled&&this.callback&&this.callback.apply(this,b)};b.prototype.destroy=
function(){this.context.remove(this);this.group.remove(this);delete h[this.key]};b.prototype.disable=function(){return this.enabled=!1,this};b.prototype.enable=function(){return this.context.refresh(),this.enabled=!0,this};b.prototype.next=function(){return this.group.next(this)};b.prototype.previous=function(){return this.group.previous(this)};b.invokeAll=function(b){var c=[],u;for(u in h)c.push(h[u]);u=0;for(var q=c.length;q>u;u++)c[u][b]()};b.destroyAll=function(){b.invokeAll("destroy")};b.disableAll=
function(){b.invokeAll("disable")};b.enableAll=function(){b.invokeAll("enable")};b.refreshAll=function(){b.Context.refreshAll()};b.viewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight};b.viewportWidth=function(){return document.documentElement.clientWidth};b.adapters=[];b.defaults={context:window,continuous:!0,enabled:!0,group:"default",horizontal:!1,offset:0};b.offsetAliases={"bottom-in-view":function(){return this.context.innerHeight()-this.adapter.outerHeight()},
"right-in-view":function(){return this.context.innerWidth()-this.adapter.outerWidth()}};window.Waypoint=b}();
(function(){function b(b){window.setTimeout(b,1E3/60)}function c(b){this.element=b;this.Adapter=m.Adapter;this.adapter=new this.Adapter(b);this.key="waypoint-context-"+h;this.didResize=this.didScroll=!1;this.oldScroll={x:this.adapter.scrollLeft(),y:this.adapter.scrollTop()};this.waypoints={vertical:{},horizontal:{}};b.waypointContextKey=this.key;l[b.waypointContextKey]=this;h+=1;this.createThrottledScrollHandler();this.createThrottledResizeHandler()}var h=0,l={},m=window.Waypoint,u=window.onload;
c.prototype.add=function(b){this.waypoints[b.options.horizontal?"horizontal":"vertical"][b.key]=b;this.refresh()};c.prototype.checkEmpty=function(){var b=this.Adapter.isEmptyObject(this.waypoints.horizontal),c=this.Adapter.isEmptyObject(this.waypoints.vertical);b&&c&&(this.adapter.off(".waypoints"),delete l[this.key])};c.prototype.createThrottledResizeHandler=function(){function b(){c.handleResize();c.didResize=!1}var c=this;this.adapter.on("resize.waypoints",function(){c.didResize||(c.didResize=
!0,m.requestAnimationFrame(b))})};c.prototype.createThrottledScrollHandler=function(){function b(){c.handleScroll();c.didScroll=!1}var c=this;this.adapter.on("scroll.waypoints",function(){c.didScroll&&!m.isTouch||(c.didScroll=!0,m.requestAnimationFrame(b))})};c.prototype.handleResize=function(){m.Context.refreshAll()};c.prototype.handleScroll=function(){var b={},c={horizontal:{newScroll:this.adapter.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.adapter.scrollTop(),
oldScroll:this.oldScroll.y,forward:"down",backward:"up"}},k;for(k in c){var h=c[k],l=h.newScroll>h.oldScroll?h.forward:h.backward,m;for(m in this.waypoints[k]){var v=this.waypoints[k][m],z=h.oldScroll<v.triggerPoint,n=h.newScroll>=v.triggerPoint,u=!z&&!n;(z&&n||u)&&(v.queueTrigger(l),b[v.group.id]=v.group)}}for(var D in b)b[D].flushTriggers();this.oldScroll={x:c.horizontal.newScroll,y:c.vertical.newScroll}};c.prototype.innerHeight=function(){return this.element==this.element.window?m.viewportHeight():
this.adapter.innerHeight()};c.prototype.remove=function(b){delete this.waypoints[b.axis][b.key];this.checkEmpty()};c.prototype.innerWidth=function(){return this.element==this.element.window?m.viewportWidth():this.adapter.innerWidth()};c.prototype.destroy=function(){var b=[],c;for(c in this.waypoints)for(var k in this.waypoints[c])b.push(this.waypoints[c][k]);c=0;for(k=b.length;k>c;c++)b[c].destroy()};c.prototype.refresh=function(){var b;b=this.element==this.element.window;var c=this.adapter.offset(),
k={};this.handleScroll();b={horizontal:{contextOffset:b?0:c.left,contextScroll:b?0:this.oldScroll.x,contextDimension:this.innerWidth(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:b?0:c.top,contextScroll:b?0:this.oldScroll.y,contextDimension:this.innerHeight(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}};for(var h in b){var c=b[h],l;for(l in this.waypoints[h]){var m,v,z,n=this.waypoints[h][l];z=n.options.offset;
m=n.triggerPoint;v=0;var u=null==m;n.element!==n.element.window&&(v=n.adapter.offset()[c.offsetProp]);"function"==typeof z?z=z.apply(n):"string"==typeof z&&(z=parseFloat(z),-1<n.options.offset.indexOf("%")&&(z=Math.ceil(c.contextDimension*z/100)));n.triggerPoint=v+(c.contextScroll-c.contextOffset)-z;m=m<c.oldScroll;v=n.triggerPoint>=c.oldScroll;z=m&&v;m=!m&&!v;!u&&z?(n.queueTrigger(c.backward),k[n.group.id]=n.group):!u&&m?(n.queueTrigger(c.forward),k[n.group.id]=n.group):u&&c.oldScroll>=n.triggerPoint&&
(n.queueTrigger(c.forward),k[n.group.id]=n.group)}}for(var D in k)k[D].flushTriggers();return this};c.findOrCreateByElement=function(b){return c.findByElement(b)||new c(b)};c.refreshAll=function(){for(var b in l)l[b].refresh()};c.findByElement=function(b){return l[b.waypointContextKey]};window.onload=function(){u&&u();c.refreshAll()};m.requestAnimationFrame=function(c){(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||b).call(window,c)};m.Context=
c})();
(function(){function b(b,c){return b.triggerPoint-c.triggerPoint}function c(b,c){return c.triggerPoint-b.triggerPoint}function h(b){this.name=b.name;this.axis=b.axis;this.id=this.name+"-"+this.axis;this.waypoints=[];this.clearTriggerQueues();l[this.axis][this.name]=this}var l={vertical:{},horizontal:{}},m=window.Waypoint;h.prototype.add=function(b){this.waypoints.push(b)};h.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}};h.prototype.flushTriggers=function(){for(var h in this.triggerQueues){var l=
this.triggerQueues[h];l.sort("up"===h||"left"===h?c:b);for(var m=0,k=l.length;k>m;m+=1){var p=l[m];(p.options.continuous||m===l.length-1)&&p.trigger([h])}}this.clearTriggerQueues()};h.prototype.next=function(c){this.waypoints.sort(b);c=m.Adapter.inArray(c,this.waypoints);return c===this.waypoints.length-1?null:this.waypoints[c+1]};h.prototype.previous=function(c){this.waypoints.sort(b);return(c=m.Adapter.inArray(c,this.waypoints))?this.waypoints[c-1]:null};h.prototype.queueTrigger=function(b,c){this.triggerQueues[c].push(b)};
h.prototype.remove=function(b){b=m.Adapter.inArray(b,this.waypoints);-1<b&&this.waypoints.splice(b,1)};h.prototype.first=function(){return this.waypoints[0]};h.prototype.last=function(){return this.waypoints[this.waypoints.length-1]};h.findOrCreate=function(b){return l[b.axis][b.name]||new h(b)};m.Group=h})();
(function(){function b(b){this.$element=c(b)}var c=window.jQuery,h=window.Waypoint;c.each("innerHeight innerWidth off offset on outerHeight outerWidth scrollLeft scrollTop".split(" "),function(c,h){b.prototype[h]=function(){var b=Array.prototype.slice.call(arguments);return this.$element[h].apply(this.$element,b)}});c.each(["extend","inArray","isEmptyObject"],function(h,m){b[m]=c[m]});h.adapters.push({name:"jquery",Adapter:b});h.Adapter=b})();
(function(){function b(b){return function(l,m){var u=[],q=l;return b.isFunction(l)&&(q=b.extend({},m),q.handler=l),this.each(function(){var l=b.extend({},q,{element:this});"string"==typeof l.context&&(l.context=b(this).closest(l.context)[0]);u.push(new c(l))}),u}}var c=window.Waypoint;window.jQuery&&(window.jQuery.fn.waypoint=b(window.jQuery));window.Zepto&&(window.Zepto.fn.waypoint=b(window.Zepto))})();
!function(){function b(){}function c(b){this.options=h.Adapter.extend({},c.defaults,b);this.axis=this.options.horizontal?"horizontal":"vertical";this.waypoints=[];this.createWaypoints()}var h=window.Waypoint;c.prototype.createWaypoints=function(){for(var b={vertical:[{down:"enter",up:"exited",offset:"100%"},{down:"entered",up:"exit",offset:"bottom-in-view"},{down:"exit",up:"entered",offset:0},{down:"exited",up:"enter",offset:function(){return-this.adapter.outerHeight()}}],horizontal:[{right:"enter",
left:"exited",offset:"100%"},{right:"entered",left:"exit",offset:"right-in-view"},{right:"exit",left:"entered",offset:0},{right:"exited",left:"enter",offset:function(){return-this.adapter.outerWidth()}}]},c=0,h=b[this.axis].length;h>c;c++)this.createWaypoint(b[this.axis][c])};c.prototype.createWaypoint=function(b){var c=this;this.waypoints.push(new h({element:this.options.element,handler:function(b){return function(h){c.options[b[h]].call(this,h)}}(b),offset:b.offset,horizontal:this.options.horizontal}))};
c.prototype.destroy=function(){for(var b=0,c=this.waypoints.length;c>b;b++)this.waypoints[b].destroy();this.waypoints=[]};c.defaults={enter:b,entered:b,exit:b,exited:b};h.Inview=c}();
(function(b){b.fn.extend({reflect:function(c){c=b.extend({height:1/3,opacity:.5},c);return this.unreflect().each(function(){var h=this;if(/^img$/i.test(h.tagName)){var l=function(){var l=h.width,u=h.height,q,x,k,p;x=Math.floor(1<c.height?Math.min(u,c.height):u*c.height);q=b("\x3ccanvas /\x3e")[0];if(q.getContext){k=q.getContext("2d");try{b(q).attr({width:l,height:x}),k.save(),k.translate(0,u-1),k.scale(1,-1),k.drawImage(h,0,0,l,u),k.restore(),k.globalCompositeOperation="destination-out",p=k.createLinearGradient(0,
0,0,x),p.addColorStop(0,"rgba(255, 255, 255, "+(1-c.opacity)+")"),p.addColorStop(1,"rgba(255, 255, 255, 1.0)"),k.fillStyle=p,k.rect(0,0,l,x),k.fill()}catch(r){return}}else{if(!b.browser.msie)return;q=b("\x3cimg /\x3e").attr("src",h.src).css({width:l,height:u,marginBottom:x-u,filter:"FlipV progid:DXImageTransform.Microsoft.Alpha(Opacity\x3d"+100*c.opacity+", FinishOpacity\x3d0, Style\x3d1, StartX\x3d0, StartY\x3d0, FinishX\x3d0, FinishY\x3d"+x/u*100+")"})[0]}b(q).css({display:"block",border:0});q=
b(/^a$/i.test(h.parentNode.tagName)?"\x3cspan /\x3e":"\x3cdiv /\x3e").insertAfter(h).append([h,q])[0];q.className=h.className;b.data(h,"reflected",q.style.cssText=h.style.cssText);b(q).css({width:l,height:u+x,overflow:"hidden"});h.style.cssText="display: block; border: 0px";h.className="reflected";void 0!=c.attr&&void 0!=c.attr.style&&(q.style.cssText=c.attr.style);void 0!=c.attr&&void 0!=c.attr.cls&&(q.className=c.attr.cls)};h.complete?l():b(h).load(l)}})},unreflect:function(){return this.unbind("load").each(function(){var c=
b.data(this,"reflected"),h;void 0!==c&&(h=this.parentNode,this.className=h.className,this.style.cssText=c,b.removeData(this,"reflected"),h.parentNode.replaceChild(this,h))})}})})(jQuery);jQuery(function(b){b("img.reflect").reflect({})});
!function(b){"function"==typeof define&&define.amd?define(["jquery"],b):b(jQuery)}(function(b){function c(b,c,k){return[parseFloat(b[0])*(B.test(b[0])?c/100:1),parseFloat(b[1])*(B.test(b[1])?k/100:1)]}function h(b){return null==b?b+"":"object"==typeof b?fa[W.call(b)]||"object":typeof b}function l(b,c,k){var h=N[c.type]||{};return null==b?k||!c.def?null:c.def:(b=h.floor?~~b:parseFloat(b),isNaN(b)?c.def:h.mod?(b+h.mod)%h.mod:Math.min(h.max,Math.max(0,b)))}function m(b){var c=S(),k=c._rgba=[];return b=
b.toLowerCase(),X(ba,function(h,l){h=(h=l.re.exec(b))&&l.parse(h);l=l.space||"rgba";if(h)return h=c[l](h),c[Q[l].cache]=h[Q[l].cache],k=c._rgba=h._rgba,!1}),k.length?("0,0,0,0"===k.join()&&R.extend(k,Aa.transparent),c):Aa[b]}function u(b,c,k){return 1>6*(k=(k+1)%1)?b+(c-b)*k*6:1>2*k?c:2>3*k?b+(c-b)*(2/3-k)*6:b}function q(b){var c,k=b.ownerDocument.defaultView?b.ownerDocument.defaultView.getComputedStyle(b,null):b.currentStyle,h={};if(k&&k.length&&k[0]&&k[k[0]])for(b=k.length;b--;)"string"==typeof k[c=
k[b]]&&(h[c.replace(/-([\da-z])/gi,function(b,c){return c.toUpperCase()})]=k[c]);else for(c in k)"string"==typeof k[c]&&(h[c]=k[c]);return h}function x(c,k,h,l){return c={effect:c=b.isPlainObject(c)?(k=c).effect:c},"function"==typeof(k=null==k?{}:k)&&(l=k,h=null,k={}),"number"!=typeof k&&!b.fx.speeds[k]||(l=h,h=k,k={}),"function"==typeof h&&(l=h,h=null),k&&b.extend(c,k),h=h||k.duration,c.duration=b.fx.off?0:"number"==typeof h?h:h in b.fx.speeds?b.fx.speeds[h]:b.fx.speeds._default,c.complete=l||k.complete,
c}function k(c){return!c||"number"==typeof c||b.fx.speeds[c]||"string"==typeof c&&!b.effects.effect[c]||"function"==typeof c||"object"==typeof c&&!c.effect}function p(b,c){var k=c.outerWidth();c=c.outerHeight();b=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/.exec(b)||["",0,k,c,0];return{top:parseFloat(b[1])||0,right:"auto"===b[2]?k:parseFloat(b[2]),bottom:"auto"===b[3]?c:parseFloat(b[3]),left:parseFloat(b[4])||
0}}b.ui=b.ui||{};b.ui.version="1.13.3";var r,w,v,z,n,E,D,y,B,F,C=0,I=Array.prototype.hasOwnProperty,J=Array.prototype.slice;b.cleanData=(r=b.cleanData,function(c){for(var k,h,l=0;null!=(h=c[l]);l++)(k=b._data(h,"events"))&&k.remove&&b(h).triggerHandler("remove");r(c)});b.widget=function(c,k,h){var l,n,p,r={},m=c.split(".")[0],v=m+"-"+(c=c.split(".")[1]);return h||(h=k,k=b.Widget),Array.isArray(h)&&(h=b.extend.apply(null,[{}].concat(h))),b.expr.pseudos[v.toLowerCase()]=function(c){return!!b.data(c,
v)},b[m]=b[m]||{},l=b[m][c],n=b[m][c]=function(b,c){if(!this||!this._createWidget)return new n(b,c);arguments.length&&this._createWidget(b,c)},b.extend(n,l,{version:h.version,_proto:b.extend({},h),_childConstructors:[]}),(p=new k).options=b.widget.extend({},p.options),b.each(h,function(b,c){function h(){return k.prototype[b].apply(this,arguments)}function l(c){return k.prototype[b].apply(this,c)}r[b]="function"!=typeof c?c:function(){var b,k=this._super,n=this._superApply;return this._super=h,this._superApply=
l,b=c.apply(this,arguments),this._super=k,this._superApply=n,b}}),n.prototype=b.widget.extend(p,{widgetEventPrefix:l&&p.widgetEventPrefix||c},r,{constructor:n,namespace:m,widgetName:c,widgetFullName:v}),l?(b.each(l._childConstructors,function(c,k){c=k.prototype;b.widget(c.namespace+"."+c.widgetName,n,k._proto)}),delete l._childConstructors):k._childConstructors.push(n),b.widget.bridge(c,n),n};b.widget.extend=function(c){for(var k,h,l=J.call(arguments,1),n=0,p=l.length;n<p;n++)for(k in l[n])h=l[n][k],
I.call(l[n],k)&&void 0!==h&&(b.isPlainObject(h)?c[k]=b.isPlainObject(c[k])?b.widget.extend({},c[k],h):b.widget.extend({},h):c[k]=h);return c};b.widget.bridge=function(c,k){var h=k.prototype.widgetFullName||c;b.fn[c]=function(l){var n="string"==typeof l,p=J.call(arguments,1),r=this;return n?this.length||"instance"!==l?this.each(function(){var k,n=b.data(this,h);return"instance"===l?(r=n,!1):n?"function"!=typeof n[l]||"_"===l.charAt(0)?b.error("no such method '"+l+"' for "+c+" widget instance"):(k=
n[l].apply(n,p))!==n&&void 0!==k?(r=k&&k.jquery?r.pushStack(k.get()):k,!1):void 0:b.error("cannot call methods on "+c+" prior to initialization; attempted to call method '"+l+"'")}):r=void 0:(p.length&&(l=b.widget.extend.apply(null,[l].concat(p))),this.each(function(){var c=b.data(this,h);c?(c.option(l||{}),c._init&&c._init()):b.data(this,h,new k(l,this))})),r}};b.Widget=function(){};b.Widget._childConstructors=[];b.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"\x3cdiv\x3e",
options:{classes:{},disabled:!1,create:null},_createWidget:function(c,k){k=b(k||this.defaultElement||this)[0];this.element=b(k);this.uuid=C++;this.eventNamespace="."+this.widgetName+this.uuid;this.bindings=b();this.hoverable=b();this.focusable=b();this.classesElementLookup={};k!==this&&(b.data(k,this.widgetFullName,this),this._on(!0,this.element,{remove:function(b){b.target===k&&this.destroy()}}),this.document=b(k.style?k.ownerDocument:k.document||k),this.window=b(this.document[0].defaultView||this.document[0].parentWindow));
this.options=b.widget.extend({},this.options,this._getCreateOptions(),c);this._create();this.options.disabled&&this._setOptionDisabled(this.options.disabled);this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:b.noop,_create:b.noop,_init:b.noop,destroy:function(){var c=this;this._destroy();b.each(this.classesElementLookup,function(b,k){c._removeClass(k,b)});this.element.off(this.eventNamespace).removeData(this.widgetFullName);
this.widget().off(this.eventNamespace).removeAttr("aria-disabled");this.bindings.off(this.eventNamespace)},_destroy:b.noop,widget:function(){return this.element},option:function(c,k){var h,l,n,p=c;if(0===arguments.length)return b.widget.extend({},this.options);if("string"==typeof c)if(p={},c=(h=c.split(".")).shift(),h.length){l=p[c]=b.widget.extend({},this.options[c]);for(n=0;n<h.length-1;n++)l[h[n]]=l[h[n]]||{},l=l[h[n]];if(c=h.pop(),1===arguments.length)return void 0===l[c]?null:l[c];l[c]=k}else{if(1===
arguments.length)return void 0===this.options[c]?null:this.options[c];p[c]=k}return this._setOptions(p),this},_setOptions:function(b){for(var c in b)this._setOption(c,b[c]);return this},_setOption:function(b,c){return"classes"===b&&this._setOptionClasses(c),this.options[b]=c,"disabled"===b&&this._setOptionDisabled(c),this},_setOptionClasses:function(c){var k,h,l;for(k in c)l=this.classesElementLookup[k],c[k]!==this.options.classes[k]&&l&&l.length&&(h=b(l.get()),this._removeClass(l,k),h.addClass(this._classes({element:h,
keys:k,classes:c,add:!0})))},_setOptionDisabled:function(b){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!b);b&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(c){function k(n,p){for(var r,m=0;m<n.length;m++)r=l.classesElementLookup[n[m]]||b(),r=c.add?(function(){var k=[];c.element.each(function(c,
h){b.map(l.classesElementLookup,function(b){return b}).some(function(b){return b.is(h)})||k.push(h)});l._on(b(k),{remove:"_untrackClassesElement"})}(),b(b.uniqueSort(r.get().concat(c.element.get())))):b(r.not(c.element).get()),l.classesElementLookup[n[m]]=r,h.push(n[m]),p&&c.classes[n[m]]&&h.push(c.classes[n[m]])}var h=[],l=this;return(c=b.extend({element:this.element,classes:this.options.classes||{}},c)).keys&&k(c.keys.match(/\S+/g)||[],!0),c.extra&&k(c.extra.match(/\S+/g)||[]),h.join(" ")},_untrackClassesElement:function(c){var k=
this;b.each(k.classesElementLookup,function(h,l){-1!==b.inArray(c.target,l)&&(k.classesElementLookup[h]=b(l.not(c.target).get()))});this._off(b(c.target))},_removeClass:function(b,c,k){return this._toggleClass(b,c,k,!1)},_addClass:function(b,c,k){return this._toggleClass(b,c,k,!0)},_toggleClass:function(b,c,k,h){var l="string"==typeof b||null===b;c={extra:l?c:k,keys:l?b:c,element:l?this.element:b,add:h="boolean"==typeof h?h:k};return c.element.toggleClass(this._classes(c),h),this},_on:function(c,
k,h){var l,n=this;"boolean"!=typeof c&&(h=k,k=c,c=!1);h?(k=l=b(k),this.bindings=this.bindings.add(k)):(h=k,k=this.element,l=this.widget());b.each(h,function(h,p){function r(){if(c||!0!==n.options.disabled&&!b(this).hasClass("ui-state-disabled"))return("string"==typeof p?n[p]:p).apply(n,arguments)}"string"!=typeof p&&(r.guid=p.guid=p.guid||r.guid||b.guid++);h=h.match(/^([\w:-]*)\s*(.*)$/);var m=h[1]+n.eventNamespace;(h=h[2])?l.on(m,h,r):k.on(m,r)})},_off:function(c,k){k=(k||"").split(" ").join(this.eventNamespace+
" ")+this.eventNamespace;c.off(k);this.bindings=b(this.bindings.not(c).get());this.focusable=b(this.focusable.not(c).get());this.hoverable=b(this.hoverable.not(c).get())},_delay:function(b,c){var k=this;return setTimeout(function(){return("string"==typeof b?k[b]:b).apply(k,arguments)},c||0)},_hoverable:function(c){this.hoverable=this.hoverable.add(c);this._on(c,{mouseenter:function(c){this._addClass(b(c.currentTarget),null,"ui-state-hover")},mouseleave:function(c){this._removeClass(b(c.currentTarget),
null,"ui-state-hover")}})},_focusable:function(c){this.focusable=this.focusable.add(c);this._on(c,{focusin:function(c){this._addClass(b(c.currentTarget),null,"ui-state-focus")},focusout:function(c){this._removeClass(b(c.currentTarget),null,"ui-state-focus")}})},_trigger:function(c,k,h){var l,n=this.options[c];if(h=h||{},(k=b.Event(k)).type=(c===this.widgetEventPrefix?c:this.widgetEventPrefix+c).toLowerCase(),k.target=this.element[0],c=k.originalEvent)for(l in c)l in k||(k[l]=c[l]);return this.element.trigger(k,
h),!("function"==typeof n&&!1===n.apply(this.element[0],[k].concat(h))||k.isDefaultPrevented())}};b.each({show:"fadeIn",hide:"fadeOut"},function(c,k){b.Widget.prototype["_"+c]=function(h,l,n){var p,r=(l="string"==typeof l?{effect:l}:l)?!0!==l&&"number"!=typeof l&&l.effect||k:c;"number"==typeof(l=l||{})?l={duration:l}:!0===l&&(l={});p=!b.isEmptyObject(l);l.complete=n;l.delay&&h.delay(l.delay);p&&b.effects&&b.effects.effect[r]?h[c](l):r!==c&&h[r]?h[r](l.duration,l.easing,n):h.queue(function(k){b(this)[c]();
n&&n.call(h[0]);k()})}});b.widget;v=Math.max;z=Math.abs;n=/left|center|right/;E=/top|center|bottom/;D=/[\+\-]\d+(\.[\d]+)?%?/;y=/^\w+/;B=/%$/;F=b.fn.position;b.position={scrollbarWidth:function(){var c,k,h;return void 0!==w?w:(h=(k=b("\x3cdiv style\x3d'display:block;position:absolute;width:200px;height:200px;overflow:hidden;'\x3e\x3cdiv style\x3d'height:300px;width:auto;'\x3e\x3c/div\x3e\x3c/div\x3e")).children()[0],b("body").append(k),c=h.offsetWidth,k.css("overflow","scroll"),c===(h=h.offsetWidth)&&
(h=k[0].clientWidth),k.remove(),w=c-h)},getScrollInfo:function(c){var k=c.isWindow||c.isDocument?"":c.element.css("overflow-x"),h=c.isWindow||c.isDocument?"":c.element.css("overflow-y"),k="scroll"===k||"auto"===k&&c.width<c.element[0].scrollWidth;return{width:"scroll"===h||"auto"===h&&c.height<c.element[0].scrollHeight?b.position.scrollbarWidth():0,height:k?b.position.scrollbarWidth():0}},getWithinInfo:function(c){var k=b(c||window),h;h=k[0];h=null!=h&&h===h.window;var l=!!k[0]&&9===k[0].nodeType;
return{element:k,isWindow:h,isDocument:l,offset:h||l?{left:0,top:0}:b(c).offset(),scrollLeft:k.scrollLeft(),scrollTop:k.scrollTop(),width:k.outerWidth(),height:k.outerHeight()}}};b.fn.position=function(k){var h,l,p,r,m,w,q,u,B,x,C,G;return k&&k.of?(w="string"==typeof(k=b.extend({},k)).of?b(document).find(k.of):b(k.of),q=b.position.getWithinInfo(k.within),u=b.position.getScrollInfo(q),B=(k.collision||"flip").split(" "),x={},G=9===(G=(C=w)[0]).nodeType?{width:C.width(),height:C.height(),offset:{top:0,
left:0}}:null!=G&&G===G.window?{width:C.width(),height:C.height(),offset:{top:C.scrollTop(),left:C.scrollLeft()}}:G.preventDefault?{width:0,height:0,offset:{top:G.pageY,left:G.pageX}}:{width:C.outerWidth(),height:C.outerHeight(),offset:C.offset()},w[0].preventDefault&&(k.at="left top"),l=G.width,p=G.height,m=b.extend({},r=G.offset),b.each(["my","at"],function(){var b,c,h=(k[this]||"").split(" ");(h=1===h.length?n.test(h[0])?h.concat(["center"]):E.test(h[0])?["center"].concat(h):["center","center"]:
h)[0]=n.test(h[0])?h[0]:"center";h[1]=E.test(h[1])?h[1]:"center";b=D.exec(h[0]);c=D.exec(h[1]);x[this]=[b?b[0]:0,c?c[0]:0];k[this]=[y.exec(h[0])[0],y.exec(h[1])[0]]}),1===B.length&&(B[1]=B[0]),"right"===k.at[0]?m.left+=l:"center"===k.at[0]&&(m.left+=l/2),"bottom"===k.at[1]?m.top+=p:"center"===k.at[1]&&(m.top+=p/2),h=c(x.at,l,p),m.left+=h[0],m.top+=h[1],this.each(function(){var n,y,D=b(this),E=D.outerWidth(),C=D.outerHeight(),F=parseInt(b.css(this,"marginLeft"),10)||0,G=parseInt(b.css(this,"marginTop"),
10)||0,J=E+F+(parseInt(b.css(this,"marginRight"),10)||0)+u.width,I=C+G+(parseInt(b.css(this,"marginBottom"),10)||0)+u.height,aa=b.extend({},m),ja=c(x.my,D.outerWidth(),D.outerHeight());"right"===k.my[0]?aa.left-=E:"center"===k.my[0]&&(aa.left-=E/2);"bottom"===k.my[1]?aa.top-=C:"center"===k.my[1]&&(aa.top-=C/2);aa.left+=ja[0];aa.top+=ja[1];n={marginLeft:F,marginTop:G};b.each(["left","top"],function(c,r){b.ui.position[B[c]]&&b.ui.position[B[c]][r](aa,{targetWidth:l,targetHeight:p,elemWidth:E,elemHeight:C,
collisionPosition:n,collisionWidth:J,collisionHeight:I,offset:[h[0]+ja[0],h[1]+ja[1]],my:k.my,at:k.at,within:q,elem:D})});k.using&&(y=function(b){var c=r.left-aa.left,h=c+l-E,n=r.top-aa.top,m=n+p-C,y={target:{element:w,left:r.left,top:r.top,width:l,height:p},element:{element:D,left:aa.left,top:aa.top,width:E,height:C},horizontal:0>h?"left":0<c?"right":"center",vertical:0>m?"top":0<n?"bottom":"middle"};l<E&&z(c+h)<l&&(y.horizontal="center");p<C&&z(n+m)<p&&(y.vertical="middle");v(z(c),z(h))>v(z(n),
z(m))?y.important="horizontal":y.important="vertical";k.using.call(this,b,y)});D.offset(b.extend(aa,{using:y}))})):F.apply(this,arguments)};b.ui.position={fit:{left:function(b,c){var k,h=c.within,l=h.isWindow?h.scrollLeft:h.offset.left,h=h.width,n=b.left-c.collisionPosition.marginLeft,p=l-n,r=n+c.collisionWidth-h-l;c.collisionWidth>h?0<p&&0>=r?(k=b.left+p+c.collisionWidth-h-l,b.left+=p-k):b.left=!(0<r&&0>=p)&&r<p?l+h-c.collisionWidth:l:0<p?b.left+=p:0<r?b.left-=r:b.left=v(b.left-n,b.left)},top:function(b,
c){var k,h=c.within,h=h.isWindow?h.scrollTop:h.offset.top,l=c.within.height,n=b.top-c.collisionPosition.marginTop,p=h-n,r=n+c.collisionHeight-l-h;c.collisionHeight>l?0<p&&0>=r?(k=b.top+p+c.collisionHeight-l-h,b.top+=p-k):b.top=!(0<r&&0>=p)&&r<p?h+l-c.collisionHeight:h:0<p?b.top+=p:0<r?b.top-=r:b.top=v(b.top-n,b.top)}},flip:{left:function(b,c){var k=c.within,h=k.offset.left+k.scrollLeft,l=k.width,k=k.isWindow?k.scrollLeft:k.offset.left,n=b.left-c.collisionPosition.marginLeft,p=n-k,n=n+c.collisionWidth-
l-k,r="left"===c.my[0]?-c.elemWidth:"right"===c.my[0]?c.elemWidth:0,m="left"===c.at[0]?c.targetWidth:"right"===c.at[0]?-c.targetWidth:0,v=-2*c.offset[0];0>p?(0>(l=b.left+r+m+v+c.collisionWidth-l-h)||l<z(p))&&(b.left+=r+m+v):0<n&&(0<(h=b.left-c.collisionPosition.marginLeft+r+m+v-k)||z(h)<n)&&(b.left+=r+m+v)},top:function(b,c){var k=c.within,h=k.offset.top+k.scrollTop,l=k.height,k=k.isWindow?k.scrollTop:k.offset.top,n=b.top-c.collisionPosition.marginTop,p=n-k,n=n+c.collisionHeight-l-k,r="top"===c.my[1]?
-c.elemHeight:"bottom"===c.my[1]?c.elemHeight:0,m="top"===c.at[1]?c.targetHeight:"bottom"===c.at[1]?-c.targetHeight:0,v=-2*c.offset[1];0>p?(0>(l=b.top+r+m+v+c.collisionHeight-l-h)||l<z(p))&&(b.top+=r+m+v):0<n&&(0<(h=b.top-c.collisionPosition.marginTop+r+m+v-k)||z(h)<n)&&(b.top+=r+m+v)}},flipfit:{left:function(){b.ui.position.flip.left.apply(this,arguments);b.ui.position.fit.left.apply(this,arguments)},top:function(){b.ui.position.flip.top.apply(this,arguments);b.ui.position.fit.top.apply(this,arguments)}}};
var G;b.ui.position;b.extend(b.expr.pseudos,{data:b.expr.createPseudo?b.expr.createPseudo(function(c){return function(k){return!!b.data(k,c)}}):function(c,k,h){return!!b.data(c,h[3])}});b.fn.extend({disableSelection:(G="onselectstart"in document.createElement("div")?"selectstart":"mousedown",function(){return this.on(G+".ui-disableSelection",function(b){b.preventDefault()})}),enableSelection:function(){return this.off(".ui-disableSelection")}});b.ui.focusable=function(c,k){var h,l,n,p=c.nodeName.toLowerCase();
if("area"===p)c=(n=(h=c.parentNode).name,!(!c.href||!n||"map"!==h.nodeName.toLowerCase())&&0<(h=b("img[usemap\x3d'#"+n+"']")).length&&h.is(":visible"));else{/^(input|select|textarea|button|object)$/.test(p)?(l=!c.disabled)&&(n=b(c).closest("fieldset")[0])&&(l=!n.disabled):l="a"===p&&c.href||k;if(h=l&&b(c).is(":visible")){c=b(c);for(h=c.css("visibility");"inherit"===h;)c=c.parent(),h=c.css("visibility");h="visible"===h}c=h}return c};b.extend(b.expr.pseudos,{focusable:function(c){return b.ui.focusable(c,
null!=b.attr(c,"tabindex"))}});b.ui.focusable;b.fn._form=function(){return"string"==typeof this[0].form?this.closest("form"):b(this[0].form)};b.ui.formResetMixin={_formResetHandler:function(){var c=b(this);setTimeout(function(){var k=c.data("ui-form-reset-instances");b.each(k,function(){this.refresh()})})},_bindFormResetHandler:function(){var b;this.form=this.element._form();this.form.length&&((b=this.form.data("ui-form-reset-instances")||[]).length||this.form.on("reset.ui-form-reset",this._formResetHandler),
b.push(this),this.form.data("ui-form-reset-instances",b))},_unbindFormResetHandler:function(){var c;this.form.length&&((c=this.form.data("ui-form-reset-instances")).splice(b.inArray(this,c),1),c.length?this.form.data("ui-form-reset-instances",c):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset"))}};b.expr.pseudos||(b.expr.pseudos=b.expr[":"]);b.uniqueSort||(b.uniqueSort=b.unique);b.escapeSelector||(K=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,L=function(b,c){return c?"\x00"===
b?"\ufffd":b.slice(0,-1)+"\\"+b.charCodeAt(b.length-1).toString(16)+" ":"\\"+b},b.escapeSelector=function(b){return(b+"").replace(K,L)});b.fn.even&&b.fn.odd||b.fn.extend({even:function(){return this.filter(function(b){return 0==b%2})},odd:function(){return this.filter(function(b){return 1==b%2})}});b.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38};b.fn.labels=function(){var c,k,h;return this.length?
this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(k=this.eq(0).parents("label"),(c=this.attr("id"))&&(h=(h=this.eq(0).parents().last()).add((h.length?h:this).siblings()),c="label[for\x3d'"+b.escapeSelector(c)+"']",k=k.add(h.find(c).addBack(c))),this.pushStack(k)):this.pushStack([])};b.fn.scrollParent=function(c){var k=this.css("position"),h="absolute"===k,l=c?/(auto|scroll|hidden)/:/(auto|scroll)/;c=this.parents().filter(function(){var c=b(this);return(!h||"static"!==c.css("position"))&&
l.test(c.css("overflow")+c.css("overflow-y")+c.css("overflow-x"))}).eq(0);return"fixed"!==k&&c.length?c:b(this[0].ownerDocument||document)};b.extend(b.expr.pseudos,{tabbable:function(c){var k=b.attr(c,"tabindex"),h=null!=k;return(!h||0<=k)&&b.ui.focusable(c,h)}});b.fn.extend({uniqueId:(P=0,function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++P)})}),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&b(this).removeAttr("id")})}});b.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());
var K,L,P,M=!1;b(document).on("mouseup",function(){M=!1});b.widget("ui.mouse",{version:"1.13.3",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var c=this;this.element.on("mousedown."+this.widgetName,function(b){return c._mouseDown(b)}).on("click."+this.widgetName,function(k){if(!0===b.data(k.target,c.widgetName+".preventClickEvent"))return b.removeData(k.target,c.widgetName+".preventClickEvent"),k.stopImmediatePropagation(),!1});this.started=!1},
_mouseDestroy:function(){this.element.off("."+this.widgetName);this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(c){var k,h,l;if(!M)return this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(c),h=1===(this._mouseDownEvent=c).which,l=!("string"!=typeof(k=this).options.cancel||!c.target.nodeName)&&b(c.target).closest(this.options.cancel).length,h&&!l&&this._mouseCapture(c)&&(this.mouseDelayMet=
!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){k.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(c)&&this._mouseDelayMet(c)&&(this._mouseStarted=!1!==this._mouseStart(c),!this._mouseStarted)?c.preventDefault():(!0===b.data(c.target,this.widgetName+".preventClickEvent")&&b.removeData(c.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(b){return k._mouseMove(b)},this._mouseUpDelegate=function(b){return k._mouseUp(b)},this.document.on("mousemove."+
this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),c.preventDefault(),M=!0)),!0},_mouseMove:function(c){if(this._mouseMoved){if(b.ui.ie&&(!document.documentMode||9>document.documentMode)&&!c.button)return this._mouseUp(c);if(!c.which)if(c.originalEvent.altKey||c.originalEvent.ctrlKey||c.originalEvent.metaKey||c.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(c)}return(c.which||c.button)&&(this._mouseMoved=
!0),this._mouseStarted?(this._mouseDrag(c),c.preventDefault()):(this._mouseDistanceMet(c)&&this._mouseDelayMet(c)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,c),this._mouseStarted?this._mouseDrag(c):this._mouseUp(c)),!this._mouseStarted)},_mouseUp:function(c){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate);this._mouseStarted&&(this._mouseStarted=!1,c.target===this._mouseDownEvent.target&&b.data(c.target,
this.widgetName+".preventClickEvent",!0),this._mouseStop(c));this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer);M=this.ignoreMissingWhich=!1;c.preventDefault()},_mouseDistanceMet:function(b){return Math.max(Math.abs(this._mouseDownEvent.pageX-b.pageX),Math.abs(this._mouseDownEvent.pageY-b.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}});
b.ui.plugin={add:function(c,k,h){var l;c=b.ui[c].prototype;for(l in h)c.plugins[l]=c.plugins[l]||[],c.plugins[l].push([k,h[l]])},call:function(b,c,k,h){if((c=b.plugins[c])&&(h||b.element[0].parentNode&&11!==b.element[0].parentNode.nodeType))for(h=0;h<c.length;h++)b.options[c[h][0]]&&c[h][1].apply(b.element,k)}};b.ui.safeActiveElement=function(b){var c;try{c=b.activeElement}catch(k){c=b.body}return(c=c||b.body).nodeName?c:b.body};b.ui.safeBlur=function(c){c&&"body"!==c.nodeName.toLowerCase()&&b(c).trigger("blur")};
b.widget("ui.draggable",b.ui.mouse,{version:"1.13.3",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&
this._setPositionRelative();this.options.addClasses&&this._addClass("ui-draggable");this._setHandleClassName();this._mouseInit()},_setOption:function(b,c){this._super(b,c);"handle"===b&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){(this.helper||this.element).is(".ui-draggable-dragging")?this.destroyOnClear=!0:(this._removeHandleClassName(),this._mouseDestroy())},_mouseCapture:function(c){var k=this.options;return!(this.helper||k.disabled||0<b(c.target).closest(".ui-resizable-handle").length||
(this.handle=this._getHandle(c),!this.handle)||(this._blurActiveElement(c),this._blockFrames(!0===k.iframeFix?"iframe":k.iframeFix),0))},_blockFrames:function(c){this.iframeBlocks=this.document.find(c).map(function(){var c=b(this);return b("\x3cdiv\x3e").css("position","absolute").appendTo(c.parent()).outerWidth(c.outerWidth()).outerHeight(c.outerHeight()).offset(c.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(c){var k=
b.ui.safeActiveElement(this.document[0]);b(c.target).closest(k).length||b.ui.safeBlur(k)},_mouseStart:function(c){var k=this.options;return this.helper=this._createHelper(c),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),b.ui.ddmanager&&(b.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=0<this.helper.parents().filter(function(){return"fixed"===
b(this).css("position")}).length,this.positionAbs=this.element.offset(),this._refreshOffsets(c),this.originalPosition=this.position=this._generatePosition(c,!1),this.originalPageX=c.pageX,this.originalPageY=c.pageY,k.cursorAt&&this._adjustOffsetFromHelper(k.cursorAt),this._setContainment(),!1===this._trigger("start",c)?(this._clear(),!1):(this._cacheHelperProportions(),b.ui.ddmanager&&!k.dropBehaviour&&b.ui.ddmanager.prepareOffsets(this,c),this._mouseDrag(c,!0),b.ui.ddmanager&&b.ui.ddmanager.dragStart(this,
c),!0)},_refreshOffsets:function(b){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()};this.offset.click={left:b.pageX-this.offset.left,top:b.pageY-this.offset.top}},_mouseDrag:function(c,k){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(c,!0),this.positionAbs=this._convertPositionTo("absolute"),!k){k=this._uiHash();
if(!1===this._trigger("drag",c,k))return this._mouseUp(new b.Event("mouseup",c)),!1;this.position=k.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",b.ui.ddmanager&&b.ui.ddmanager.drag(this,c),!1},_mouseStop:function(c){var k=this,h=!1;return b.ui.ddmanager&&!this.options.dropBehaviour&&(h=b.ui.ddmanager.drop(this,c)),this.dropped&&(h=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!h||"valid"===this.options.revert&&h||
!0===this.options.revert||"function"==typeof this.options.revert&&this.options.revert.call(this.element,h)?b(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==k._trigger("stop",c)&&k._clear()}):!1!==this._trigger("stop",c)&&this._clear(),!1},_mouseUp:function(c){return this._unblockFrames(),b.ui.ddmanager&&b.ui.ddmanager.dragStop(this,c),this.handleElement.is(c.target)&&this.element.trigger("focus"),b.ui.mouse.prototype._mouseUp.call(this,c)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?
this._mouseUp(new b.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(c){return!this.options.handle||!!b(c.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element;this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(c){var k=
this.options,h="function"==typeof k.helper;c=h?b(k.helper.apply(this.element[0],[c])):"clone"===k.helper?this.element.clone().removeAttr("id"):this.element;return c.parents("body").length||c.appendTo("parent"===k.appendTo?this.element[0].parentNode:k.appendTo),h&&c[0]===this.element[0]&&this._setPositionRelative(),c[0]===this.element[0]||/(fixed|absolute)/.test(c.css("position"))||c.css("position","absolute"),c},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position=
"relative")},_adjustOffsetFromHelper:function(b){"string"==typeof b&&(b=b.split(" "));"left"in(b=Array.isArray(b)?{left:+b[0],top:+b[1]||0}:b)&&(this.offset.click.left=b.left+this.margins.left);"right"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left);"top"in b&&(this.offset.click.top=b.top+this.margins.top);"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_isRootNode:function(b){return/(html|body)/i.test(b.tagName)||
b===this.document[0]},_getParentOffset:function(){var c=this.offsetParent.offset(),k=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==k&&b.contains(this.scrollParent[0],this.offsetParent[0])&&(c.left+=this.scrollParent.scrollLeft(),c.top+=this.scrollParent.scrollTop()),{top:(c=this._isRootNode(this.offsetParent[0])?{top:0,left:0}:c).top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:c.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){var b,
c;return"relative"!==this.cssPosition?{top:0,left:0}:(b=this.element.position(),c=this._isRootNode(this.scrollParent[0]),{top:b.top-(parseInt(this.helper.css("top"),10)||0)+(c?0:this.scrollParent.scrollTop()),left:b.left-(parseInt(this.helper.css("left"),10)||0)+(c?0:this.scrollParent.scrollLeft())})},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),
10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var c,k=this.options,h=this.document[0];this.relativeContainer=null;k.containment?"window"===k.containment?this.containment=[b(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,b(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,b(window).scrollLeft()+b(window).width()-this.helperProportions.width-this.margins.left,
b(window).scrollTop()+(b(window).height()||h.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:"document"===k.containment?this.containment=[0,0,b(h).width()-this.helperProportions.width-this.margins.left,(b(h).height()||h.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:k.containment.constructor===Array?this.containment=k.containment:("parent"===k.containment&&(k.containment=this.helper[0].parentNode),(k=(h=b(k.containment))[0])&&(c=/(scroll|auto)/.test(h.css("overflow")),
this.containment=[(parseInt(h.css("borderLeftWidth"),10)||0)+(parseInt(h.css("paddingLeft"),10)||0),(parseInt(h.css("borderTopWidth"),10)||0)+(parseInt(h.css("paddingTop"),10)||0),(c?Math.max(k.scrollWidth,k.offsetWidth):k.offsetWidth)-(parseInt(h.css("borderRightWidth"),10)||0)-(parseInt(h.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(c?Math.max(k.scrollHeight,k.offsetHeight):k.offsetHeight)-(parseInt(h.css("borderBottomWidth"),10)||0)-(parseInt(h.css("paddingBottom"),
10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=h)):this.containment=null},_convertPositionTo:function(b,c){c=c||this.position;b="absolute"===b?1:-1;var k=this._isRootNode(this.scrollParent[0]);return{top:c.top+this.offset.relative.top*b+this.offset.parent.top*b-("fixed"===this.cssPosition?-this.offset.scroll.top:k?0:this.offset.scroll.top)*b,left:c.left+this.offset.relative.left*b+this.offset.parent.left*b-("fixed"===this.cssPosition?-this.offset.scroll.left:
k?0:this.offset.scroll.left)*b}},_generatePosition:function(b,c){var k,h=this.options,l=this._isRootNode(this.scrollParent[0]),n=b.pageX,p=b.pageY;return l&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),{top:(c&&(this.containment&&(k=this.relativeContainer?(c=this.relativeContainer.offset(),[this.containment[0]+c.left,this.containment[1]+c.top,this.containment[2]+c.left,this.containment[3]+c.top]):this.containment,b.pageX-this.offset.click.left<
k[0]&&(n=k[0]+this.offset.click.left),b.pageY-this.offset.click.top<k[1]&&(p=k[1]+this.offset.click.top),b.pageX-this.offset.click.left>k[2]&&(n=k[2]+this.offset.click.left),b.pageY-this.offset.click.top>k[3])&&(p=k[3]+this.offset.click.top),h.grid&&(c=h.grid[1]?this.originalPageY+Math.round((p-this.originalPageY)/h.grid[1])*h.grid[1]:this.originalPageY,p=!k||c-this.offset.click.top>=k[1]||c-this.offset.click.top>k[3]?c:c-this.offset.click.top>=k[1]?c-h.grid[1]:c+h.grid[1],b=h.grid[0]?this.originalPageX+
Math.round((n-this.originalPageX)/h.grid[0])*h.grid[0]:this.originalPageX,n=!k||b-this.offset.click.left>=k[0]||b-this.offset.click.left>k[2]?b:b-this.offset.click.left>=k[0]?b-h.grid[0]:b+h.grid[0]),"y"===h.axis&&(n=this.originalPageX),"x"===h.axis)?this.originalPageY:p)-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:l?0:this.offset.scroll.top),left:n-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+
("fixed"===this.cssPosition?-this.offset.scroll.left:l?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging");this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove();this.helper=null;this.cancelHelperRemoval=!1;this.destroyOnClear&&this.destroy()},_trigger:function(c,k,h){return h=h||this._uiHash(),b.ui.plugin.call(this,c,[k,h,this],!0),/^(drag|start|stop)/.test(c)&&(this.positionAbs=this._convertPositionTo("absolute"),h.offset=
this.positionAbs),b.Widget.prototype._trigger.call(this,c,k,h)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});b.ui.plugin.add("draggable","connectToSortable",{start:function(c,k,h){var l=b.extend({},k,{item:h.element});h.sortables=[];b(h.options.connectToSortable).each(function(){var k=b(this).sortable("instance");k&&!k.options.disabled&&(h.sortables.push(k),k.refreshPositions(),k._trigger("activate",
c,l))})},stop:function(c,k,h){var l=b.extend({},k,{item:h.element});h.cancelHelperRemoval=!1;b.each(h.sortables,function(){this.isOver?(this.isOver=0,h.cancelHelperRemoval=!0,this.cancelHelperRemoval=!1,this._storedCSS={position:this.placeholder.css("position"),top:this.placeholder.css("top"),left:this.placeholder.css("left")},this._mouseStop(c),this.options.helper=this.options._helper):(this.cancelHelperRemoval=!0,this._trigger("deactivate",c,l))})},drag:function(c,k,h){b.each(h.sortables,function(){var l=
!1,n=this;n.positionAbs=h.positionAbs;n.helperProportions=h.helperProportions;n.offset.click=h.offset.click;n._intersectsWith(n.containerCache)&&(l=!0,b.each(h.sortables,function(){return this.positionAbs=h.positionAbs,this.helperProportions=h.helperProportions,this.offset.click=h.offset.click,l=this!==n&&this._intersectsWith(this.containerCache)&&b.contains(n.element[0],this.element[0])?!1:l}));l?(n.isOver||(n.isOver=1,h._parent=k.helper.parent(),n.currentItem=k.helper.appendTo(n.element).data("ui-sortable-item",
!0),n.options._helper=n.options.helper,n.options.helper=function(){return k.helper[0]},c.target=n.currentItem[0],n._mouseCapture(c,!0),n._mouseStart(c,!0,!0),n.offset.click.top=h.offset.click.top,n.offset.click.left=h.offset.click.left,n.offset.parent.left-=h.offset.parent.left-n.offset.parent.left,n.offset.parent.top-=h.offset.parent.top-n.offset.parent.top,h._trigger("toSortable",c),h.dropped=n.element,b.each(h.sortables,function(){this.refreshPositions()}),h.currentItem=h.element,n.fromOutside=
h),n.currentItem&&(n._mouseDrag(c),k.position=n.position)):n.isOver&&(n.isOver=0,n.cancelHelperRemoval=!0,n.options._revert=n.options.revert,n.options.revert=!1,n._trigger("out",c,n._uiHash(n)),n._mouseStop(c,!0),n.options.revert=n.options._revert,n.options.helper=n.options._helper,n.placeholder&&n.placeholder.remove(),k.helper.appendTo(h._parent),h._refreshOffsets(c),k.position=h._generatePosition(c,!0),h._trigger("fromSortable",c),h.dropped=!1,b.each(h.sortables,function(){this.refreshPositions()}))})}});
b.ui.plugin.add("draggable","cursor",{start:function(c,k,h){c=b("body");h=h.options;c.css("cursor")&&(h._cursor=c.css("cursor"));c.css("cursor",h.cursor)},stop:function(c,k,h){h=h.options;h._cursor&&b("body").css("cursor",h._cursor)}});b.ui.plugin.add("draggable","opacity",{start:function(c,k,h){k=b(k.helper);h=h.options;k.css("opacity")&&(h._opacity=k.css("opacity"));k.css("opacity",h.opacity)},stop:function(c,k,h){h=h.options;h._opacity&&b(k.helper).css("opacity",h._opacity)}});b.ui.plugin.add("draggable",
"scroll",{start:function(b,c,k){k.scrollParentNotHidden||(k.scrollParentNotHidden=k.helper.scrollParent(!1));k.scrollParentNotHidden[0]!==k.document[0]&&"HTML"!==k.scrollParentNotHidden[0].tagName&&(k.overflowOffset=k.scrollParentNotHidden.offset())},drag:function(c,k,h){k=h.options;var l=!1,n=h.scrollParentNotHidden[0],p=h.document[0];n!==p&&"HTML"!==n.tagName?(k.axis&&"x"===k.axis||(h.overflowOffset.top+n.offsetHeight-c.pageY<k.scrollSensitivity?n.scrollTop=l=n.scrollTop+k.scrollSpeed:c.pageY-h.overflowOffset.top<
k.scrollSensitivity&&(n.scrollTop=l=n.scrollTop-k.scrollSpeed)),k.axis&&"y"===k.axis||(h.overflowOffset.left+n.offsetWidth-c.pageX<k.scrollSensitivity?n.scrollLeft=l=n.scrollLeft+k.scrollSpeed:c.pageX-h.overflowOffset.left<k.scrollSensitivity&&(n.scrollLeft=l=n.scrollLeft-k.scrollSpeed))):(k.axis&&"x"===k.axis||(c.pageY-b(p).scrollTop()<k.scrollSensitivity?l=b(p).scrollTop(b(p).scrollTop()-k.scrollSpeed):b(window).height()-(c.pageY-b(p).scrollTop())<k.scrollSensitivity&&(l=b(p).scrollTop(b(p).scrollTop()+
k.scrollSpeed))),k.axis&&"y"===k.axis||(c.pageX-b(p).scrollLeft()<k.scrollSensitivity?l=b(p).scrollLeft(b(p).scrollLeft()-k.scrollSpeed):b(window).width()-(c.pageX-b(p).scrollLeft())<k.scrollSensitivity&&(l=b(p).scrollLeft(b(p).scrollLeft()+k.scrollSpeed))));!1!==l&&b.ui.ddmanager&&!k.dropBehaviour&&b.ui.ddmanager.prepareOffsets(h,c)}});b.ui.plugin.add("draggable","snap",{start:function(c,k,h){c=h.options;h.snapElements=[];b(c.snap.constructor!==String?c.snap.items||":data(ui-draggable)":c.snap).each(function(){var c=
b(this),k=c.offset();this!==h.element[0]&&h.snapElements.push({item:this,width:c.outerWidth(),height:c.outerHeight(),top:k.top,left:k.left})})},drag:function(c,k,h){for(var l,n,p,r,m,v,w,y,q,z=h.options,u=z.snapTolerance,D=k.offset.left,E=D+h.helperProportions.width,B=k.offset.top,x=B+h.helperProportions.height,C=h.snapElements.length-1;0<=C;C--)v=(m=h.snapElements[C].left-h.margins.left)+h.snapElements[C].width,y=(w=h.snapElements[C].top-h.margins.top)+h.snapElements[C].height,E<m-u||v+u<D||x<w-
u||y+u<B||!b.contains(h.snapElements[C].item.ownerDocument,h.snapElements[C].item)?(h.snapElements[C].snapping&&h.options.snap.release&&h.options.snap.release.call(h.element,c,b.extend(h._uiHash(),{snapItem:h.snapElements[C].item})),h.snapElements[C].snapping=!1):("inner"!==z.snapMode&&(l=Math.abs(w-x)<=u,n=Math.abs(y-B)<=u,p=Math.abs(m-E)<=u,r=Math.abs(v-D)<=u,l&&(k.position.top=h._convertPositionTo("relative",{top:w-h.helperProportions.height,left:0}).top),n&&(k.position.top=h._convertPositionTo("relative",
{top:y,left:0}).top),p&&(k.position.left=h._convertPositionTo("relative",{top:0,left:m-h.helperProportions.width}).left),r)&&(k.position.left=h._convertPositionTo("relative",{top:0,left:v}).left),q=l||n||p||r,"outer"!==z.snapMode&&(l=Math.abs(w-B)<=u,n=Math.abs(y-x)<=u,p=Math.abs(m-D)<=u,r=Math.abs(v-E)<=u,l&&(k.position.top=h._convertPositionTo("relative",{top:w,left:0}).top),n&&(k.position.top=h._convertPositionTo("relative",{top:y-h.helperProportions.height,left:0}).top),p&&(k.position.left=h._convertPositionTo("relative",
{top:0,left:m}).left),r)&&(k.position.left=h._convertPositionTo("relative",{top:0,left:v-h.helperProportions.width}).left),!h.snapElements[C].snapping&&(l||n||p||r||q)&&h.options.snap.snap&&h.options.snap.snap.call(h.element,c,b.extend(h._uiHash(),{snapItem:h.snapElements[C].item})),h.snapElements[C].snapping=l||n||p||r||q)}});b.ui.plugin.add("draggable","stack",{start:function(c,k,h){var l;h=h.options;h=b.makeArray(b(h.stack)).sort(function(c,k){return(parseInt(b(c).css("zIndex"),10)||0)-(parseInt(b(k).css("zIndex"),
10)||0)});h.length&&(l=parseInt(b(h[0]).css("zIndex"),10)||0,b(h).each(function(c){b(this).css("zIndex",l+c)}),this.css("zIndex",l+h.length))}});b.ui.plugin.add("draggable","zIndex",{start:function(c,k,h){k=b(k.helper);h=h.options;k.css("zIndex")&&(h._zIndex=k.css("zIndex"));k.css("zIndex",h.zIndex)},stop:function(c,k,h){h=h.options;h._zIndex&&b(k.helper).css("zIndex",h._zIndex)}});b.ui.draggable;b.widget("ui.droppable",{version:"1.13.3",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,
greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var b,c=this.options,k=c.accept;this.isover=!1;this.isout=!0;this.accept="function"==typeof k?k:function(b){return b.is(k)};this.proportions=function(){if(!arguments.length)return b=b||{width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};b=arguments[0]};this._addToManager(c.scope);c.addClasses&&this._addClass("ui-droppable")},_addToManager:function(c){b.ui.ddmanager.droppables[c]=
b.ui.ddmanager.droppables[c]||[];b.ui.ddmanager.droppables[c].push(this)},_splice:function(b){for(var c=0;c<b.length;c++)b[c]===this&&b.splice(c,1)},_destroy:function(){this._splice(b.ui.ddmanager.droppables[this.options.scope])},_setOption:function(c,k){var h;"accept"===c?this.accept="function"==typeof k?k:function(b){return b.is(k)}:"scope"===c&&(h=b.ui.ddmanager.droppables[this.options.scope],this._splice(h),this._addToManager(k));this._super(c,k)},_activate:function(c){var k=b.ui.ddmanager.current;
this._addActiveClass();k&&this._trigger("activate",c,this.ui(k))},_deactivate:function(c){var k=b.ui.ddmanager.current;this._removeActiveClass();k&&this._trigger("deactivate",c,this.ui(k))},_over:function(c){var k=b.ui.ddmanager.current;k&&(k.currentItem||k.element)[0]!==this.element[0]&&this.accept.call(this.element[0],k.currentItem||k.element)&&(this._addHoverClass(),this._trigger("over",c,this.ui(k)))},_out:function(c){var k=b.ui.ddmanager.current;k&&(k.currentItem||k.element)[0]!==this.element[0]&&
this.accept.call(this.element[0],k.currentItem||k.element)&&(this._removeHoverClass(),this._trigger("out",c,this.ui(k)))},_drop:function(c,k){var h=k||b.ui.ddmanager.current,l=!1;return!(!h||(h.currentItem||h.element)[0]===this.element[0]||(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var k=b(this).droppable("instance");if(k.options.greedy&&!k.options.disabled&&k.options.scope===h.options.scope&&k.accept.call(k.element[0],h.currentItem||h.element)&&b.ui.intersect(h,
b.extend(k,{offset:k.element.offset()}),k.options.tolerance,c))return!(l=!0)}),l)||!this.accept.call(this.element[0],h.currentItem||h.element))&&(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",c,this.ui(h)),this.element)},ui:function(b){return{draggable:b.currentItem||b.element,helper:b.helper,position:b.position,offset:b.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},
_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});b.ui.intersect=function(b,c,k,h){if(!c.offset)return!1;var l=(b.positionAbs||b.position.absolute).left+b.margins.left,n=(b.positionAbs||b.position.absolute).top+b.margins.top,p=l+b.helperProportions.width,r=n+b.helperProportions.height,m=c.offset.left,v=c.offset.top,w=m+c.proportions().width,y=v+c.proportions().height;switch(k){case "fit":return m<=l&&p<=w&&v<=n&&r<=y;case "intersect":return m<l+b.helperProportions.width/2&&
p-b.helperProportions.width/2<w&&v<n+b.helperProportions.height/2&&r-b.helperProportions.height/2<y;case "pointer":b=h.pageY;k=c.proportions().height;if(v=v<=b&&b<v+k)h=h.pageX,c=c.proportions().width,v=m<=h&&h<m+c;return v;case "touch":return(v<=n&&n<=y||v<=r&&r<=y||n<v&&y<r)&&(m<=l&&l<=w||m<=p&&p<=w||l<m&&w<p);default:return!1}};!(b.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(c,k){var h,l,n=b.ui.ddmanager.droppables[c.options.scope]||[],p=k?k.type:null,r=(c.currentItem||
c.element).find(":data(ui-droppable)").addBack();h=0;a:for(;h<n.length;h++)if(!(n[h].options.disabled||c&&!n[h].accept.call(n[h].element[0],c.currentItem||c.element))){for(l=0;l<r.length;l++)if(r[l]===n[h].element[0]){n[h].proportions().height=0;continue a}l="undefined"!=typeof DKI&&"undefined"!=typeof DKI.utility&&"undefined"!=typeof DKI.utility.getScale?DKI.utility.getScale():1;n[h].visible="none"!==n[h].element.css("display");n[h].visible&&("mousedown"===p&&n[h]._activate.call(n[h],k),n[h].offset=
n[h].element.offset(),n[h].proportions({width:n[h].element[0].offsetWidth*l,height:n[h].element[0].offsetHeight*l}))}},drop:function(c,k){var h=!1;return b.each((b.ui.ddmanager.droppables[c.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&b.ui.intersect(c,this,this.options.tolerance,k)&&(h=this._drop.call(this,k)||h),!this.options.disabled)&&this.visible&&this.accept.call(this.element[0],c.currentItem||c.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,
k))}),h},dragStart:function(c,k){c.element.parentsUntil("body").on("scroll.droppable",function(){c.options.refreshPositions||b.ui.ddmanager.prepareOffsets(c,k)})},drag:function(c,k){c.options.refreshPositions&&b.ui.ddmanager.prepareOffsets(c,k);b.each(b.ui.ddmanager.droppables[c.options.scope]||[],function(){var h,l,n,p;this.options.disabled||this.greedyChild||!this.visible||(p=!(p=b.ui.intersect(c,this,this.options.tolerance,k))&&this.isover?"isout":p&&!this.isover?"isover":null)&&(this.options.greedy&&
(l=this.options.scope,(n=this.element.parents(":data(ui-droppable)").filter(function(){return b(this).droppable("instance").options.scope===l})).length)&&((h=b(n[0]).droppable("instance")).greedyChild="isover"===p),h&&"isover"===p&&(h.isover=!1,h.isout=!0,h._out.call(h,k)),this[p]=!0,this["isout"===p?"isover":"isout"]=!1,this["isover"===p?"_over":"_out"].call(this,k),h)&&"isout"===p&&(h.isout=!1,h.isover=!0,h._over.call(h,k))})},dragStop:function(c,k){c.element.parentsUntil("body").off("scroll.droppable");
c.options.refreshPositions||b.ui.ddmanager.prepareOffsets(c,k)}})!==b.uiBackCompat&&b.widget("ui.droppable",b.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super();this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super();this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super();this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},
_removeHoverClass:function(){this._super();this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}});b.ui.droppable;b.widget("ui.resizable",b.ui.mouse,{version:"1.13.3",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,
zIndex:90,resize:null,start:null,stop:null},_num:function(b){return parseFloat(b)||0},_isNumber:function(b){return!isNaN(parseFloat(b))},_hasScroll:function(c,k){if("hidden"===b(c).css("overflow"))return!1;k=k&&"left"===k?"scrollLeft":"scrollTop";var h=!1;if(0<c[k])return!0;try{c[k]=1,h=0<c[k],c[k]=0}catch(l){}return h},_create:function(){var c,k=this.options,h=this;this._addClass("ui-resizable");b.extend(this,{_aspectRatio:!!k.aspectRatio,aspectRatio:k.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],
_helper:k.helper||k.ghost||k.animate?k.helper||"ui-resizable-helper":null});this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(b("\x3cdiv class\x3d'ui-wrapper'\x3e\x3c/div\x3e").css({overflow:"hidden",position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),
this.elementIsWrapper=!0,c={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(c),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),
this.originalElement.css(c),this._proportionallyResize());this._setupHandles();k.autoHide&&b(this.element).on("mouseenter",function(){k.disabled||(h._removeClass("ui-resizable-autohide"),h._handles.show())}).on("mouseleave",function(){k.disabled||h.resizing||(h._addClass("ui-resizable-autohide"),h._handles.hide())});this._mouseInit()},_destroy:function(){function c(k){b(k).removeData("resizable").removeData("ui-resizable").off(".resizable")}this._mouseDestroy();this._addedHandles.remove();var k;return this.elementIsWrapper&&
(c(this.element),k=this.element,this.originalElement.css({position:k.css("position"),width:k.outerWidth(),height:k.outerHeight(),top:k.css("top"),left:k.css("left")}).insertAfter(k),k.remove()),this.originalElement.css("resize",this.originalResizeStyle),c(this.originalElement),this},_setOption:function(b,c){switch(this._super(b,c),b){case "handles":this._removeHandles();this._setupHandles();break;case "aspectRatio":this._aspectRatio=!!c}},_setupHandles:function(){var c,k,h,l,n,p=this.options,r=this;
if(this.handles=p.handles||(b(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=b(),this._addedHandles=b(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),h=this.handles.split(","),this.handles={},k=0;k<h.length;k++)l="ui-resizable-"+(c=String.prototype.trim.call(h[k])),
n=b("\x3cdiv\x3e"),this._addClass(n,"ui-resizable-handle "+l),n.css({zIndex:p.zIndex}),this.handles[c]=".ui-resizable-"+c,this.element.children(this.handles[c]).length||(this.element.append(n),this._addedHandles=this._addedHandles.add(n));this._renderAxis=function(c){var k,h,l;for(k in c=c||this.element,this.handles)this.handles[k].constructor===String?this.handles[k]=this.element.children(this.handles[k]).first().show():(this.handles[k].jquery||this.handles[k].nodeType)&&(this.handles[k]=b(this.handles[k]),
this._on(this.handles[k],{mousedown:r._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(l=b(this.handles[k],this.element),l=/sw|ne|nw|se|n|s/.test(k)?l.outerHeight():l.outerWidth(),h=["padding",/ne|nw|n/.test(k)?"Top":/se|sw|s/.test(k)?"Bottom":/^e$/.test(k)?"Right":"Left"].join(""),c.css(h,l),this._proportionallyResize()),this._handles=this._handles.add(this.handles[k])};this._renderAxis(this.element);this._handles=this._handles.add(this.element.find(".ui-resizable-handle"));
this._handles.disableSelection();this._handles.on("mouseover",function(){r.resizing||(this.className&&(n=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),r.axis=n&&n[1]?n[1]:"se")});p.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._addedHandles.remove()},_mouseCapture:function(c){var k,h,l=!1;for(k in this.handles)(h=b(this.handles[k])[0])!==c.target&&!b.contains(h,c.target)||(l=!0);return!this.options.disabled&&l},_mouseStart:function(c){var k,
h,l=this.options,n=this.element;return this.resizing=!0,this._renderProxy(),k=this._num(this.helper.css("left")),h=this._num(this.helper.css("top")),l.containment&&(k+=b(l.containment).scrollLeft()||0,h+=b(l.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:k,top:h},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:n.width(),height:n.height()},this.originalSize=this._helper?{width:n.outerWidth(),height:n.outerHeight()}:{width:n.width(),
height:n.height()},this.sizeDiff={width:n.outerWidth()-n.width(),height:n.outerHeight()-n.height()},this.originalPosition={left:k,top:h},this.originalMousePosition={left:c.pageX,top:c.pageY},this.aspectRatio="number"==typeof l.aspectRatio?l.aspectRatio:this.originalSize.width/this.originalSize.height||1,n=b(".ui-resizable-"+this.axis).css("cursor"),b("body").css("cursor","auto"===n?this.axis+"-resize":n),this._addClass("ui-resizable-resizing"),this._propagate("start",c),!0},_mouseDrag:function(c){var k=
this.originalMousePosition,h=this.axis,l=c.pageX-k.left||0,k=c.pageY-k.top||0,h=this._change[h];return this._updatePrevProperties(),h&&(h=h.apply(this,[c,l,k]),this._updateVirtualBoundaries(c.shiftKey),(this._aspectRatio||c.shiftKey)&&(h=this._updateRatio(h,c)),h=this._respectSize(h,c),this._updateCache(h),this._propagate("resize",c),l=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),b.isEmptyObject(l)||(this._updatePrevProperties(),this._trigger("resize",
c,this.ui()),this._applyChanges())),!1},_mouseStop:function(c){this.resizing=!1;var k,h,l,n=this.options;return this._helper&&(h=(k=(h=this._proportionallyResizeElements).length&&/textarea/i.test(h[0].nodeName))&&this._hasScroll(h[0],"left")?0:this.sizeDiff.height,k=k?0:this.sizeDiff.width,k={width:this.helper.width()-k,height:this.helper.height()-h},h=parseFloat(this.element.css("left"))+(this.position.left-this.originalPosition.left)||null,l=parseFloat(this.element.css("top"))+(this.position.top-
this.originalPosition.top)||null,n.animate||this.element.css(b.extend(k,{top:l,left:h})),this.helper.height(this.size.height),this.helper.width(this.size.width),this._helper)&&!n.animate&&this._proportionallyResize(),b("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",c),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left};this.prevSize={width:this.size.width,height:this.size.height}},
_applyChanges:function(){var b={};return this.position.top!==this.prevPosition.top&&(b.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(b.left=this.position.left+"px"),this.helper.css(b),this.size.width!==this.prevSize.width&&(b.width=this.size.width+"px",this.helper.width(b.width)),this.size.height!==this.prevSize.height&&(b.height=this.size.height+"px",this.helper.height(b.height)),b},_updateVirtualBoundaries:function(b){var c,k,h,l=this.options,l={minWidth:this._isNumber(l.minWidth)?
l.minWidth:0,maxWidth:this._isNumber(l.maxWidth)?l.maxWidth:1/0,minHeight:this._isNumber(l.minHeight)?l.minHeight:0,maxHeight:this._isNumber(l.maxHeight)?l.maxHeight:1/0};(this._aspectRatio||b)&&(b=l.minHeight*this.aspectRatio,k=l.minWidth/this.aspectRatio,c=l.maxHeight*this.aspectRatio,h=l.maxWidth/this.aspectRatio,l.minWidth<b&&(l.minWidth=b),l.minHeight<k&&(l.minHeight=k),c<l.maxWidth&&(l.maxWidth=c),h<l.maxHeight)&&(l.maxHeight=h);this._vBoundaries=l},_updateCache:function(b){this.offset=this.helper.offset();
this._isNumber(b.left)&&(this.position.left=b.left);this._isNumber(b.top)&&(this.position.top=b.top);this._isNumber(b.height)&&(this.size.height=b.height);this._isNumber(b.width)&&(this.size.width=b.width)},_updateRatio:function(b){var c=this.position,k=this.size,h=this.axis;return this._isNumber(b.height)?b.width=b.height*this.aspectRatio:this._isNumber(b.width)&&(b.height=b.width/this.aspectRatio),"sw"===h&&(b.left=c.left+(k.width-b.width),b.top=null),"nw"===h&&(b.top=c.top+(k.height-b.height),
b.left=c.left+(k.width-b.width)),b},_respectSize:function(b){var c=this._vBoundaries,k=this.axis,h=this._isNumber(b.width)&&c.maxWidth&&c.maxWidth<b.width,l=this._isNumber(b.height)&&c.maxHeight&&c.maxHeight<b.height,n=this._isNumber(b.width)&&c.minWidth&&c.minWidth>b.width,p=this._isNumber(b.height)&&c.minHeight&&c.minHeight>b.height,r=this.originalPosition.left+this.originalSize.width,m=this.originalPosition.top+this.originalSize.height,v=/sw|nw|w/.test(k),k=/nw|ne|n/.test(k);return n&&(b.width=
c.minWidth),p&&(b.height=c.minHeight),h&&(b.width=c.maxWidth),l&&(b.height=c.maxHeight),n&&v&&(b.left=r-c.minWidth),h&&v&&(b.left=r-c.maxWidth),p&&k&&(b.top=m-c.minHeight),l&&k&&(b.top=m-c.maxHeight),b.width||b.height||b.left||!b.top?b.width||b.height||b.top||!b.left||(b.left=null):b.top=null,b},_getPaddingPlusBorderDimensions:function(b){var c=0,k=[],h=[b.css("borderTopWidth"),b.css("borderRightWidth"),b.css("borderBottomWidth"),b.css("borderLeftWidth")];for(b=[b.css("paddingTop"),b.css("paddingRight"),
b.css("paddingBottom"),b.css("paddingLeft")];4>c;c++)k[c]=parseFloat(h[c])||0,k[c]+=parseFloat(b[c])||0;return{height:k[0]+k[2],width:k[1]+k[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var b,c=0,k=this.helper||this.element;c<this._proportionallyResizeElements.length;c++)b=this._proportionallyResizeElements[c],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(b)),b.css({height:k.height()-this.outerDimensions.height||0,width:k.width()-
this.outerDimensions.width||0})},_renderProxy:function(){var c=this.options;this.elementOffset=this.element.offset();this._helper?(this.helper=this.helper||b("\x3cdiv\x3e\x3c/div\x3e").css({overflow:"hidden"}),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++c.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=
this.element},_change:{e:function(b,c){return{width:this.originalSize.width+c}},w:function(b,c){return{left:this.originalPosition.left+c,width:this.originalSize.width-c}},n:function(b,c,k){return{top:this.originalPosition.top+k,height:this.originalSize.height-k}},s:function(b,c,k){return{height:this.originalSize.height+k}},se:function(c,k,h){return b.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[c,k,h]))},sw:function(c,k,h){return b.extend(this._change.s.apply(this,arguments),
this._change.w.apply(this,[c,k,h]))},ne:function(c,k,h){return b.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[c,k,h]))},nw:function(c,k,h){return b.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[c,k,h]))}},_propagate:function(c,k){b.ui.plugin.call(this,c,[k,this.ui()]);"resize"!==c&&this._trigger(c,k,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,
originalSize:this.originalSize,originalPosition:this.originalPosition}}});b.ui.plugin.add("resizable","animate",{stop:function(c){var k=b(this).resizable("instance"),h=k.options,l=k._proportionallyResizeElements,n=l.length&&/textarea/i.test(l[0].nodeName),p=n&&k._hasScroll(l[0],"left")?0:k.sizeDiff.height,n=n?0:k.sizeDiff.width,n={width:k.size.width-n,height:k.size.height-p},p=parseFloat(k.element.css("left"))+(k.position.left-k.originalPosition.left)||null,r=parseFloat(k.element.css("top"))+(k.position.top-
k.originalPosition.top)||null;k.element.animate(b.extend(n,r&&p?{top:r,left:p}:{}),{duration:h.animateDuration,easing:h.animateEasing,step:function(){var h={width:parseFloat(k.element.css("width")),height:parseFloat(k.element.css("height")),top:parseFloat(k.element.css("top")),left:parseFloat(k.element.css("left"))};l&&l.length&&b(l[0]).css({width:h.width,height:h.height});k._updateCache(h);k._propagate("resize",c)}})}});b.ui.plugin.add("resizable","containment",{start:function(){var c,k,h,l,n=b(this).resizable("instance"),
p=n.options,r=n.element,p=p.containment;(r=p instanceof b?p.get(0):/parent/.test(p)?r.parent().get(0):p)&&(n.containerElement=b(r),/document/.test(p)||p===document?(n.containerOffset={left:0,top:0},n.containerPosition={left:0,top:0},n.parentData={element:b(document),left:0,top:0,width:b(document).width(),height:b(document).height()||document.body.parentNode.scrollHeight}):(c=b(r),k=[],b(["Top","Right","Left","Bottom"]).each(function(b,h){k[b]=n._num(c.css("padding"+h))}),n.containerOffset=c.offset(),
n.containerPosition=c.position(),n.containerSize={height:c.innerHeight()-k[3],width:c.innerWidth()-k[1]},p=n.containerOffset,l=n.containerSize.height,h=n.containerSize.width,h=n._hasScroll(r,"left")?r.scrollWidth:h,l=n._hasScroll(r)?r.scrollHeight:l,n.parentData={element:r,left:p.left,top:p.top,width:h,height:l}))},resize:function(c){var k=b(this).resizable("instance"),h=k.options,l=k.containerOffset,n=k.position;c=k._aspectRatio||c.shiftKey;var p={top:0,left:0},r=k.containerElement,m=!0;r[0]!==document&&
/static/.test(r.css("position"))&&(p=l);n.left<(k._helper?l.left:0)&&(k.size.width+=k._helper?k.position.left-l.left:k.position.left-p.left,c&&(k.size.height=k.size.width/k.aspectRatio,m=!1),k.position.left=h.helper?l.left:0);n.top<(k._helper?l.top:0)&&(k.size.height+=k._helper?k.position.top-l.top:k.position.top,c&&(k.size.width=k.size.height*k.aspectRatio,m=!1),k.position.top=k._helper?l.top:0);r=k.containerElement.get(0)===k.element.parent().get(0);h=/relative|absolute/.test(k.containerElement.css("position"));
r&&h?(k.offset.left=k.parentData.left+k.position.left,k.offset.top=k.parentData.top+k.position.top):(k.offset.left=k.element.offset().left,k.offset.top=k.element.offset().top);n=Math.abs(k.sizeDiff.width+(k._helper?k.offset.left-p.left:k.offset.left-l.left));r=Math.abs(k.sizeDiff.height+(k._helper?k.offset.top-p.top:k.offset.top-l.top));n+k.size.width>=k.parentData.width&&(k.size.width=k.parentData.width-n,c)&&(k.size.height=k.size.width/k.aspectRatio,m=!1);r+k.size.height>=k.parentData.height&&(k.size.height=
k.parentData.height-r,c)&&(k.size.width=k.size.height*k.aspectRatio,m=!1);m||(k.position.left=k.prevPosition.left,k.position.top=k.prevPosition.top,k.size.width=k.prevSize.width,k.size.height=k.prevSize.height)},stop:function(){var c=b(this).resizable("instance"),k=c.options,h=c.containerOffset,l=c.containerPosition,n=c.containerElement,p=b(c.helper),r=p.offset(),m=p.outerWidth()-c.sizeDiff.width,p=p.outerHeight()-c.sizeDiff.height;c._helper&&!k.animate&&/relative/.test(n.css("position"))&&b(this).css({left:r.left-
l.left-h.left,width:m,height:p});c._helper&&!k.animate&&/static/.test(n.css("position"))&&b(this).css({left:r.left-l.left-h.left,width:m,height:p})}});b.ui.plugin.add("resizable","alsoResize",{start:function(){var c=b(this).resizable("instance").options;b(c.alsoResize).each(function(){var c=b(this);c.data("ui-resizable-alsoresize",{width:parseFloat(c.css("width")),height:parseFloat(c.css("height")),left:parseFloat(c.css("left")),top:parseFloat(c.css("top"))})})},resize:function(c,k){c=b(this).resizable("instance");
var h=c.originalSize,l=c.originalPosition,n={height:c.size.height-h.height||0,width:c.size.width-h.width||0,top:c.position.top-l.top||0,left:c.position.left-l.left||0};b(c.options.alsoResize).each(function(){var c=b(this),h=b(this).data("ui-resizable-alsoresize"),l={},p=c.parents(k.originalElement[0]).length?["width","height"]:["width","height","top","left"];b.each(p,function(b,c){(b=(h[c]||0)+(n[c]||0))&&0<=b&&(l[c]=b||null)});c.css(l)})},stop:function(){b(this).removeData("ui-resizable-alsoresize")}});
b.ui.plugin.add("resizable","ghost",{start:function(){var c=b(this).resizable("instance"),k=c.size;c.ghost=c.originalElement.clone();c.ghost.css({opacity:.25,display:"block",position:"relative",height:k.height,width:k.width,margin:0,left:0,top:0});c._addClass(c.ghost,"ui-resizable-ghost");!1!==b.uiBackCompat&&"string"==typeof c.options.ghost&&c.ghost.addClass(this.options.ghost);c.ghost.appendTo(c.helper)},resize:function(){var c=b(this).resizable("instance");c.ghost&&c.ghost.css({position:"relative",
height:c.size.height,width:c.size.width})},stop:function(){var c=b(this).resizable("instance");c.ghost&&c.helper&&c.helper.get(0).removeChild(c.ghost.get(0))}});b.ui.plugin.add("resizable","grid",{resize:function(){var c,k=b(this).resizable("instance"),h=k.options,l=k.size,n=k.originalSize,p=k.originalPosition,r=k.axis,m="number"==typeof h.grid?[h.grid,h.grid]:h.grid,v=m[0]||1,w=m[1]||1,y=Math.round((l.width-n.width)/v)*v,l=Math.round((l.height-n.height)/w)*w,q=n.width+y,z=n.height+l,u=h.maxWidth&&
h.maxWidth<q,D=h.maxHeight&&h.maxHeight<z,E=h.minWidth&&h.minWidth>q,B=h.minHeight&&h.minHeight>z;h.grid=m;E&&(q+=v);B&&(z+=w);u&&(q-=v);D&&(z-=w);/^(se|s|e)$/.test(r)?(k.size.width=q,k.size.height=z):/^(ne)$/.test(r)?(k.size.width=q,k.size.height=z,k.position.top=p.top-l):/^(sw)$/.test(r)?(k.size.width=q,k.size.height=z,k.position.left=p.left-y):((0>=z-w||0>=q-v)&&(c=k._getPaddingPlusBorderDimensions(this)),0<z-w?(k.size.height=z,k.position.top=p.top-l):(z=w-c.height,k.size.height=z,k.position.top=
p.top+n.height-z),0<q-v?(k.size.width=q,k.position.left=p.left-y):(q=v-c.width,k.size.width=q,k.position.left=p.left+n.width-q))}});b.ui.resizable;b.widget("ui.selectable",b.ui.mouse,{version:"1.13.3",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var c=this;this._addClass("ui-selectable");this.dragged=!1;this.refresh=function(){c.elementPos=b(c.element[0]).offset();
c.selectees=b(c.options.filter,c.element[0]);c._addClass(c.selectees,"ui-selectee");c.selectees.each(function(){var k=b(this),h=k.offset(),h={left:h.left-c.elementPos.left,top:h.top-c.elementPos.top};b.data(this,"selectable-item",{element:this,$element:k,left:h.left,top:h.top,right:h.left+k.outerWidth(),bottom:h.top+k.outerHeight(),startselected:!1,selected:k.hasClass("ui-selected"),selecting:k.hasClass("ui-selecting"),unselecting:k.hasClass("ui-unselecting")})})};this.refresh();this._mouseInit();
this.helper=b("\x3cdiv\x3e");this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item");this._mouseDestroy()},_mouseStart:function(c){var k=this,h=this.options;this.opos=[c.pageX,c.pageY];this.elementPos=b(this.element[0]).offset();this.options.disabled||(this.selectees=b(h.filter,this.element[0]),this._trigger("start",c),b(h.appendTo).append(this.helper),this.helper.css({left:c.pageX,top:c.pageY,width:0,height:0}),h.autoRefresh&&this.refresh(),
this.selectees.filter(".ui-selected").each(function(){var h=b.data(this,"selectable-item");h.startselected=!0;c.metaKey||c.ctrlKey||(k._removeClass(h.$element,"ui-selected"),h.selected=!1,k._addClass(h.$element,"ui-unselecting"),h.unselecting=!0,k._trigger("unselecting",c,{unselecting:h.element}))}),b(c.target).parents().addBack().each(function(){var h,l=b.data(this,"selectable-item");if(l)return h=!c.metaKey&&!c.ctrlKey||!l.$element.hasClass("ui-selected"),k._removeClass(l.$element,h?"ui-unselecting":
"ui-selected")._addClass(l.$element,h?"ui-selecting":"ui-unselecting"),l.unselecting=!h,l.selecting=h,(l.selected=h)?k._trigger("selecting",c,{selecting:l.element}):k._trigger("unselecting",c,{unselecting:l.element}),!1}))},_mouseDrag:function(c){var k,h,l,n,p,r,m;if(this.dragged=!0,!this.options.disabled)return l=(h=this).options,n=this.opos[0],p=this.opos[1],r=c.pageX,m=c.pageY,r<n&&(k=r,r=n,n=k),m<p&&(k=m,m=p,p=k),this.helper.css({left:n,top:p,width:r-n,height:m-p}),this.selectees.each(function(){var k=
b.data(this,"selectable-item"),v=!1,w,y,q,z;k&&k.element!==h.element[0]&&(w=k.left+h.elementPos.left,y=k.right+h.elementPos.left,q=k.top+h.elementPos.top,z=k.bottom+h.elementPos.top,"touch"===l.tolerance?v=!(r<w||y<n||m<q||z<p):"fit"===l.tolerance&&(v=n<w&&y<r&&p<q&&z<m),v?(k.selected&&(h._removeClass(k.$element,"ui-selected"),k.selected=!1),k.unselecting&&(h._removeClass(k.$element,"ui-unselecting"),k.unselecting=!1),k.selecting||(h._addClass(k.$element,"ui-selecting"),k.selecting=!0,h._trigger("selecting",
c,{selecting:k.element}))):(k.selecting&&((c.metaKey||c.ctrlKey)&&k.startselected?(h._removeClass(k.$element,"ui-selecting"),k.selecting=!1,h._addClass(k.$element,"ui-selected"),k.selected=!0):(h._removeClass(k.$element,"ui-selecting"),k.selecting=!1,k.startselected&&(h._addClass(k.$element,"ui-unselecting"),k.unselecting=!0),h._trigger("unselecting",c,{unselecting:k.element}))),!k.selected||c.metaKey||c.ctrlKey||k.startselected||(h._removeClass(k.$element,"ui-selected"),k.selected=!1,h._addClass(k.$element,
"ui-unselecting"),k.unselecting=!0,h._trigger("unselecting",c,{unselecting:k.element}))))}),!1},_mouseStop:function(c){var k=this;return this.dragged=!1,b(".ui-unselecting",this.element[0]).each(function(){var h=b.data(this,"selectable-item");k._removeClass(h.$element,"ui-unselecting");h.unselecting=!1;h.startselected=!1;k._trigger("unselected",c,{unselected:h.element})}),b(".ui-selecting",this.element[0]).each(function(){var h=b.data(this,"selectable-item");k._removeClass(h.$element,"ui-selecting")._addClass(h.$element,
"ui-selected");h.selecting=!1;h.selected=!0;h.startselected=!0;k._trigger("selected",c,{selected:h.element})}),this._trigger("stop",c),this.helper.remove(),!1}});b.widget("ui.sortable",b.ui.mouse,{version:"1.13.3",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"\x3e *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,
scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1E3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(b,c,k){return c<=b&&b<c+k},_isFloating:function(b){return/left|right/.test(b.css("float"))||/inline|table-cell/.test(b.css("display"))},_create:function(){this.containerCache={};this._addClass("ui-sortable");this.refresh();this.offset=this.element.offset();this._mouseInit();
this._setHandleClassName();this.ready=!0},_setOption:function(b,c){this._super(b,c);"handle"===b&&this._setHandleClassName()},_setHandleClassName:function(){var c=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle");b.each(this.items,function(){c._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var b=this.items.length-1;0<=b;b--)this.items[b].item.removeData(this.widgetName+
"-item");return this},_mouseCapture:function(c,k){var h=null,l=!1,n=this;return!(this.reverting||this.options.disabled||"static"===this.options.type||(this._refreshItems(c),b(c.target).parents().each(function(){if(b.data(this,n.widgetName+"-item")===n)return h=b(this),!1}),!(h=b.data(c.target,n.widgetName+"-item")===n?b(c.target):h))||this.options.handle&&!k&&(b(this.options.handle,h).find("*").addBack().each(function(){this===c.target&&(l=!0)}),!l)||(this.currentItem=h,this._removeCurrentsFromItems(),
0))},_mouseStart:function(c,k,h){var l;k=this.options;if((this.currentContainer=this).refreshPositions(),this.appendTo=b("parent"!==k.appendTo?k.appendTo:this.currentItem.parent()),this.helper=this._createHelper(c),this._cacheHelperProportions(),this._cacheMargins(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},b.extend(this.offset,{click:{left:c.pageX-this.offset.left,top:c.pageY-this.offset.top},relative:this._getRelativeOffset()}),
this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),k.cursorAt&&this._adjustOffsetFromHelper(k.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),this.scrollParent=this.placeholder.scrollParent(),b.extend(this.offset,{parent:this._getParentOffset()}),k.containment&&this._setContainment(),k.cursor&&"auto"!==k.cursor&&(l=this.document.find("body"),
this.storedCursor=l.css("cursor"),l.css("cursor",k.cursor),this.storedStylesheet=b("\x3cstyle\x3e*{ cursor: "+k.cursor+" !important; }\x3c/style\x3e").appendTo(l)),k.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",k.zIndex)),k.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",k.opacity)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=
this.scrollParent.offset()),this._trigger("start",c,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!h)for(h=this.containers.length-1;0<=h;h--)this.containers[h]._trigger("activate",c,this._uiHash(this));return b.ui.ddmanager&&(b.ui.ddmanager.current=this),b.ui.ddmanager&&!k.dropBehaviour&&b.ui.ddmanager.prepareOffsets(this,c),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this.helper.parent().is(this.appendTo)||(this.helper.detach().appendTo(this.appendTo),
this.offset.parent=this._getParentOffset()),this.position=this.originalPosition=this._generatePosition(c),this.originalPageX=c.pageX,this.originalPageY=c.pageY,this.lastPositionAbs=this.positionAbs=this._convertPositionTo("absolute"),this._mouseDrag(c),!0},_scroll:function(b){var c=this.options,k=!1;return this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-b.pageY<c.scrollSensitivity?this.scrollParent[0].scrollTop=
k=this.scrollParent[0].scrollTop+c.scrollSpeed:b.pageY-this.overflowOffset.top<c.scrollSensitivity&&(this.scrollParent[0].scrollTop=k=this.scrollParent[0].scrollTop-c.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-b.pageX<c.scrollSensitivity?this.scrollParent[0].scrollLeft=k=this.scrollParent[0].scrollLeft+c.scrollSpeed:b.pageX-this.overflowOffset.left<c.scrollSensitivity&&(this.scrollParent[0].scrollLeft=k=this.scrollParent[0].scrollLeft-c.scrollSpeed)):(b.pageY-this.document.scrollTop()<
c.scrollSensitivity?k=this.document.scrollTop(this.document.scrollTop()-c.scrollSpeed):this.window.height()-(b.pageY-this.document.scrollTop())<c.scrollSensitivity&&(k=this.document.scrollTop(this.document.scrollTop()+c.scrollSpeed)),b.pageX-this.document.scrollLeft()<c.scrollSensitivity?k=this.document.scrollLeft(this.document.scrollLeft()-c.scrollSpeed):this.window.width()-(b.pageX-this.document.scrollLeft())<c.scrollSensitivity&&(k=this.document.scrollLeft(this.document.scrollLeft()+c.scrollSpeed))),
k},_mouseDrag:function(c){var k,h,l,n;k=this.options;this.position=this._generatePosition(c);this.positionAbs=this._convertPositionTo("absolute");this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px");this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px");k.scroll&&!1!==this._scroll(c)&&(this._refreshItemPositions(!0),b.ui.ddmanager)&&!k.dropBehaviour&&b.ui.ddmanager.prepareOffsets(this,c);this.dragDirection={vertical:this._getDragVerticalDirection(),
horizontal:this._getDragHorizontalDirection()};for(k=this.items.length-1;0<=k;k--)if(l=(h=this.items[k]).item[0],(n=this._intersectsWithPointer(h))&&h.instance===this.currentContainer&&!(l===this.currentItem[0]||this.placeholder[1===n?"next":"prev"]()[0]===l||b.contains(this.placeholder[0],l)||"semi-dynamic"===this.options.type&&b.contains(this.element[0],l))){if(this.direction=1===n?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(h))break;this._rearrange(c,h);this._trigger("change",
c,this._uiHash());break}return this._contactContainers(c),b.ui.ddmanager&&b.ui.ddmanager.drag(this,c),this._trigger("sort",c,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(c,k){var h,l,n,p;if(c)return b.ui.ddmanager&&!this.options.dropBehaviour&&b.ui.ddmanager.drop(this,c),this.options.revert?(l=(h=this).placeholder.offset(),p={},(n=this.options.axis)&&"x"!==n||(p.left=l.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),
n&&"y"!==n||(p.top=l.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,b(this.helper).animate(p,parseInt(this.options.revert,10)||500,function(){h._clear(c)})):this._clear(c,k),!1},cancel:function(){if(this.dragging){this._mouseUp(new b.Event("mouseup",{target:null}));"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();
for(var c=this.containers.length-1;0<=c;c--)this.containers[c]._trigger("deactivate",null,this._uiHash(this)),this.containers[c].containerCache.over&&(this.containers[c]._trigger("out",null,this._uiHash(this)),this.containers[c].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),b.extend(this,{helper:null,dragging:!1,
reverting:!1,_noFinalSort:null}),this.domPosition.prev?b(this.domPosition.prev).after(this.currentItem):b(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(c){var k=this._getItemsAsjQuery(c&&c.connected),h=[];return c=c||{},b(k).each(function(){var k=(b(c.item||this).attr(c.attribute||"id")||"").match(c.expression||/(.+)[\-=_](.+)/);k&&h.push((c.key||k[1]+"[]")+"\x3d"+(c.key&&c.expression?k[1]:k[2]))}),!h.length&&c.key&&h.push(c.key+"\x3d"),h.join("\x26")},toArray:function(c){var k=
this._getItemsAsjQuery(c&&c.connected),h=[];return c=c||{},k.each(function(){h.push(b(c.item||this).attr(c.attribute||"id")||"")}),h},_intersectsWith:function(b){var c=this.positionAbs.left,k=c+this.helperProportions.width,h=this.positionAbs.top,l=h+this.helperProportions.height,n=b.left,p=n+b.width,r=b.top,m=r+b.height,v=this.offset.click.top,w=this.offset.click.left,v="x"===this.options.axis||r<h+v&&h+v<m,w="y"===this.options.axis||n<c+w&&c+w<p;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||
"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>b[this.floating?"width":"height"]?v&&w:n<c+this.helperProportions.width/2&&k-this.helperProportions.width/2<p&&r<h+this.helperProportions.height/2&&l-this.helperProportions.height/2<m},_intersectsWithPointer:function(b){var c="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,b.top,b.height);b="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,
b.left,b.width);return!(!c||!b)&&(c=this.dragDirection.vertical,b=this.dragDirection.horizontal,this.floating?"right"===b||"down"===c?2:1:c&&("down"===c?2:1))},_intersectsWithSides:function(b){var c=this._isOverAxis(this.positionAbs.top+this.offset.click.top,b.top+b.height/2,b.height);b=this._isOverAxis(this.positionAbs.left+this.offset.click.left,b.left+b.width/2,b.width);var k=this.dragDirection.vertical,h=this.dragDirection.horizontal;return this.floating&&h?"right"===h&&b||"left"===h&&!b:k&&("down"===
k&&c||"up"===k&&!c)},_getDragVerticalDirection:function(){var b=this.positionAbs.top-this.lastPositionAbs.top;return 0!=b&&(0<b?"down":"up")},_getDragHorizontalDirection:function(){var b=this.positionAbs.left-this.lastPositionAbs.left;return 0!=b&&(0<b?"right":"left")},refresh:function(b){return this._refreshItems(b),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var b=this.options;return b.connectWith.constructor===String?[b.connectWith]:b.connectWith},_getItemsAsjQuery:function(c){function k(){p.push(this)}
var h,l,n,p=[],r=[],m=this._connectWith();if(m&&c)for(c=m.length-1;0<=c;c--)for(h=(l=b(m[c],this.document[0])).length-1;0<=h;h--)(n=b.data(l[h],this.widgetFullName))&&n!==this&&!n.options.disabled&&r.push(["function"==typeof n.options.items?n.options.items.call(n.element):b(n.options.items,n.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),n]);r.push(["function"==typeof this.options.items?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):b(this.options.items,
this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(c=r.length-1;0<=c;c--)r[c][0].each(k);return b(p)},_removeCurrentsFromItems:function(){var c=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=b.grep(this.items,function(b){for(var k=0;k<c.length;k++)if(c[k]===b.item[0])return!1;return!0})},_refreshItems:function(c){this.items=[];this.containers=[this];var k,h,l,n,p,r=this.items,m=[["function"==typeof this.options.items?this.options.items.call(this.element[0],
c,{item:this.currentItem}):b(this.options.items,this.element),this]];if((p=this._connectWith())&&this.ready)for(k=p.length-1;0<=k;k--)for(h=(l=b(p[k],this.document[0])).length-1;0<=h;h--)(n=b.data(l[h],this.widgetFullName))&&n!==this&&!n.options.disabled&&(m.push(["function"==typeof n.options.items?n.options.items.call(n.element[0],c,{item:this.currentItem}):b(n.options.items,n.element),n]),this.containers.push(n));for(k=m.length-1;0<=k;k--)for(c=m[k][1],p=(l=m[k][h=0]).length;h<p;h++)(n=b(l[h])).data(this.widgetName+
"-item",c),r.push({item:n,instance:c,width:0,height:0,left:0,top:0})},_refreshItemPositions:function(c){for(var k,h,l=this.items.length-1;0<=l;l--)k=this.items[l],this.currentContainer&&k.instance!==this.currentContainer&&k.item[0]!==this.currentItem[0]||(h=this.options.toleranceElement?b(this.options.toleranceElement,k.item):k.item,c||(k.width=h.outerWidth(),k.height=h.outerHeight()),h=h.offset(),k.left=h.left,k.top=h.top)},refreshPositions:function(b){var c;if(this.floating=!!this.items.length&&
("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),this._refreshItemPositions(b),this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(b=this.containers.length-1;0<=b;b--)c=this.containers[b].element.offset(),this.containers[b].containerCache.left=c.left,this.containers[b].containerCache.top=c.top,this.containers[b].containerCache.width=this.containers[b].element.outerWidth(),
this.containers[b].containerCache.height=this.containers[b].element.outerHeight();return this},_createPlaceholder:function(c){var k,h,l=(c=c||this).options;l.placeholder&&l.placeholder.constructor!==String||(k=l.placeholder,h=c.currentItem[0].nodeName.toLowerCase(),l.placeholder={element:function(){var l=b("\x3c"+h+"\x3e",c.document[0]);return c._addClass(l,"ui-sortable-placeholder",k||c.currentItem[0].className)._removeClass(l,"ui-sortable-helper"),"tbody"===h?c._createTrPlaceholder(c.currentItem.find("tr").eq(0),
b("\x3ctr\x3e",c.document[0]).appendTo(l)):"tr"===h?c._createTrPlaceholder(c.currentItem,l):"img"===h&&l.attr("src",c.currentItem.attr("src")),k||l.css("visibility","hidden"),l},update:function(b,n){k&&!l.forcePlaceholderSize||(n.height()&&(!l.forcePlaceholderSize||"tbody"!==h&&"tr"!==h)||n.height(c.currentItem.innerHeight()-parseInt(c.currentItem.css("paddingTop")||0,10)-parseInt(c.currentItem.css("paddingBottom")||0,10)),n.width())||n.width(c.currentItem.innerWidth()-parseInt(c.currentItem.css("paddingLeft")||
0,10)-parseInt(c.currentItem.css("paddingRight")||0,10))}});c.placeholder=b(l.placeholder.element.call(c.element,c.currentItem));c.currentItem.after(c.placeholder);l.placeholder.update(c,c.placeholder)},_createTrPlaceholder:function(c,k){var h=this;c.children().each(function(){b("\x3ctd\x3e\x26#160;\x3c/td\x3e",h.document[0]).attr("colspan",b(this).attr("colspan")||1).appendTo(k)})},_contactContainers:function(c){var k,h,l,n,p,r,m,v,w=n=null;for(h=this.containers.length-1;0<=h;h--)b.contains(this.currentItem[0],
this.containers[h].element[0])||(this._intersectsWith(this.containers[h].containerCache)?n&&b.contains(this.containers[h].element[0],n.element[0])||(n=this.containers[h],w=h):this.containers[h].containerCache.over&&(this.containers[h]._trigger("out",c,this._uiHash(this)),this.containers[h].containerCache.over=0));if(n)if(1===this.containers.length)this.containers[w].containerCache.over||(this.containers[w]._trigger("over",c,this._uiHash(this)),this.containers[w].containerCache.over=1);else{h=1E4;
l=null;n=(k=n.floating||this._isFloating(this.currentItem))?"left":"top";p=k?"width":"height";v=k?"pageX":"pageY";for(k=this.items.length-1;0<=k;k--)b.contains(this.containers[w].element[0],this.items[k].item[0])&&this.items[k].item[0]!==this.currentItem[0]&&(r=this.items[k].item.offset()[n],m=!1,c[v]-r>this.items[k][p]/2&&(m=!0),Math.abs(c[v]-r)<h)&&(h=Math.abs(c[v]-r),l=this.items[k],this.direction=m?"up":"down");(l||this.options.dropOnEmpty)&&(this.currentContainer===this.containers[w]?this.currentContainer.containerCache.over||
(this.containers[w]._trigger("over",c,this._uiHash()),this.currentContainer.containerCache.over=1):(l?this._rearrange(c,l,null,!0):this._rearrange(c,null,this.containers[w].element,!0),this._trigger("change",c,this._uiHash()),this.containers[w]._trigger("change",c,this._uiHash(this)),this.currentContainer=this.containers[w],this.options.placeholder.update(this.currentContainer,this.placeholder),this.scrollParent=this.placeholder.scrollParent(),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&
(this.overflowOffset=this.scrollParent.offset()),this.containers[w]._trigger("over",c,this._uiHash(this)),this.containers[w].containerCache.over=1))}},_createHelper:function(c){var k=this.options;c="function"==typeof k.helper?b(k.helper.apply(this.element[0],[c,this.currentItem])):"clone"===k.helper?this.currentItem.clone():this.currentItem;return c.parents("body").length||this.appendTo[0].appendChild(c[0]),c[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,
position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),c[0].style.width&&!k.forceHelperSize||c.width(this.currentItem.width()),c[0].style.height&&!k.forceHelperSize||c.height(this.currentItem.height()),c},_adjustOffsetFromHelper:function(b){"string"==typeof b&&(b=b.split(" "));"left"in(b=Array.isArray(b)?{left:+b[0],top:+b[1]||0}:b)&&(this.offset.click.left=b.left+this.margins.left);"right"in b&&(this.offset.click.left=this.helperProportions.width-
b.right+this.margins.left);"top"in b&&(this.offset.click.top=b.top+this.margins.top);"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var c=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&b.contains(this.scrollParent[0],this.offsetParent[0])&&(c.left+=this.scrollParent.scrollLeft(),c.top+=this.scrollParent.scrollTop()),{top:(c=
this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&b.ui.ie?{top:0,left:0}:c).top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:c.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){var b;return"relative"===this.cssPosition?{top:(b=this.currentItem.position()).top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:b.left-(parseInt(this.helper.css("left"),
10)||0)+this.scrollParent.scrollLeft()}:{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var c,k,h=this.options;"parent"===h.containment&&(h.containment=this.helper[0].parentNode);"document"!==h.containment&&"window"!==h.containment||
(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===h.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===h.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]);/^(document|window|parent)$/.test(h.containment)||(c=b(h.containment)[0],
h=b(h.containment).offset(),k="hidden"!==b(c).css("overflow"),this.containment=[h.left+(parseInt(b(c).css("borderLeftWidth"),10)||0)+(parseInt(b(c).css("paddingLeft"),10)||0)-this.margins.left,h.top+(parseInt(b(c).css("borderTopWidth"),10)||0)+(parseInt(b(c).css("paddingTop"),10)||0)-this.margins.top,h.left+(k?Math.max(c.scrollWidth,c.offsetWidth):c.offsetWidth)-(parseInt(b(c).css("borderLeftWidth"),10)||0)-(parseInt(b(c).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,
h.top+(k?Math.max(c.scrollHeight,c.offsetHeight):c.offsetHeight)-(parseInt(b(c).css("borderTopWidth"),10)||0)-(parseInt(b(c).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(c,k){k=k||this.position;c="absolute"===c?1:-1;var h="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&b.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(h[0].tagName);return{top:k.top+this.offset.relative.top*
c+this.offset.parent.top*c-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:h.scrollTop())*c,left:k.left+this.offset.relative.left*c+this.offset.parent.left*c-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:h.scrollLeft())*c}},_generatePosition:function(c){var k=this.options,h=c.pageX,l=c.pageY,n="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&b.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,p=/(html|body)/i.test(n[0].tagName);
return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(c.pageX-this.offset.click.left<this.containment[0]&&(h=this.containment[0]+this.offset.click.left),c.pageY-this.offset.click.top<this.containment[1]&&(l=this.containment[1]+this.offset.click.top),c.pageX-this.offset.click.left>this.containment[2]&&(h=this.containment[2]+this.offset.click.left),
c.pageY-this.offset.click.top>this.containment[3])&&(l=this.containment[3]+this.offset.click.top),k.grid)&&(c=this.originalPageY+Math.round((l-this.originalPageY)/k.grid[1])*k.grid[1],l=!this.containment||c-this.offset.click.top>=this.containment[1]&&c-this.offset.click.top<=this.containment[3]?c:c-this.offset.click.top>=this.containment[1]?c-k.grid[1]:c+k.grid[1],c=this.originalPageX+Math.round((h-this.originalPageX)/k.grid[0])*k.grid[0],h=!this.containment||c-this.offset.click.left>=this.containment[0]&&
c-this.offset.click.left<=this.containment[2]?c:c-this.offset.click.left>=this.containment[0]?c-k.grid[0]:c+k.grid[0]),{top:l-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():p?0:n.scrollTop()),left:h-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():p?0:n.scrollLeft())}},_rearrange:function(b,c,k,h){k?k[0].appendChild(this.placeholder[0]):
c.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?c.item[0]:c.item[0].nextSibling);var l=this.counter=this.counter?++this.counter:1;this._delay(function(){l===this.counter&&this.refreshPositions(!h)})},_clear:function(b,c){function k(b,c,h){return function(k){h._trigger(b,k,c._uiHash(c))}}this.reverting=!1;var h,l=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(h in this._storedCSS)"auto"!==
this._storedCSS[h]&&"static"!==this._storedCSS[h]||(this._storedCSS[h]="");this.currentItem.css(this._storedCSS);this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!c&&l.push(function(b){this._trigger("receive",b,this._uiHash(this.fromOutside))});!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||c||l.push(function(b){this._trigger("update",b,
this._uiHash())});this===this.currentContainer||c||(l.push(function(b){this._trigger("remove",b,this._uiHash())}),l.push(function(b){return function(c){b._trigger("receive",c,this._uiHash(this))}}.call(this,this.currentContainer)),l.push(function(b){return function(c){b._trigger("update",c,this._uiHash(this))}}.call(this,this.currentContainer)));for(h=this.containers.length-1;0<=h;h--)c||l.push(k("deactivate",this,this.containers[h])),this.containers[h].containerCache.over&&(l.push(k("out",this,this.containers[h])),
this.containers[h].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,c||this._trigger("beforeStop",b,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&
this.helper.remove(),this.helper=null),!c){for(h=0;h<l.length;h++)l[h].call(this,b);this._trigger("stop",b,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===b.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(c){var k=c||this;return{helper:k.helper,placeholder:k.placeholder||b([]),position:k.position,originalPosition:k.originalPosition,offset:k.positionAbs,item:k.currentItem,sender:c?c.element:null}}});var R=b,fa={},W=fa.toString,
V=/^([\-+])=\s*(\d+\.?\d*)/,ba=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(b){return[b[1],b[2],b[3],b[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(b){return[2.55*b[1],2.55*b[2],2.55*b[3],b[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})?/,parse:function(b){return[parseInt(b[1],16),parseInt(b[2],16),parseInt(b[3],16),b[4]?(parseInt(b[4],
16)/255).toFixed(2):1]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])?/,parse:function(b){return[parseInt(b[1]+b[1],16),parseInt(b[2]+b[2],16),parseInt(b[3]+b[3],16),b[4]?(parseInt(b[4]+b[4],16)/255).toFixed(2):1]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(b){return[b[1],b[2]/100,b[3]/100,b[4]]}}],S=R.Color=function(b,c,k,h){return new R.Color.fn.parse(b,c,k,h)},Q={rgba:{props:{red:{idx:0,type:"byte"},
green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},N={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},Y=S.support={},ka=R("\x3cp\x3e")[0],X=R.each;ka.style.cssText="background-color:rgba(1,1,1,.5)";Y.rgba=-1<ka.style.backgroundColor.indexOf("rgba");X(Q,function(b,c){c.cache="_"+b;c.props.alpha={idx:3,type:"percent",def:1}});R.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),
function(b,c){fa["[object "+c+"]"]=c.toLowerCase()});(S.fn=R.extend(S.prototype,{parse:function(b,c,k,n){if(void 0===b)return this._rgba=[null,null,null,null],this;(b.jquery||b.nodeType)&&(b=R(b).css(c),c=void 0);var p=this,r=h(b),v=this._rgba=[];return void 0!==c&&(b=[b,c,k,n],r="array"),"string"===r?this.parse(m(b)||Aa._default):"array"===r?(X(Q.rgba.props,function(c,k){v[k.idx]=l(b[k.idx],k)}),this):"object"===r?(b instanceof S?X(Q,function(c,k){b[k.cache]&&(p[k.cache]=b[k.cache].slice())}):X(Q,
function(c,k){var h=k.cache;X(k.props,function(c,n){if(!p[h]&&k.to){if("alpha"===c||null==b[c])return;p[h]=k.to(p._rgba)}p[h][n.idx]=l(b[c],n,!0)});p[h]&&0>R.inArray(null,p[h].slice(0,3))&&(null==p[h][3]&&(p[h][3]=1),k.from)&&(p._rgba=k.from(p[h]))}),this):void 0},is:function(b){var c=S(b),k=!0,h=this;return X(Q,function(b,l){var n,p=c[l.cache];return p&&(n=h[l.cache]||l.to&&l.to(h._rgba)||[],X(l.props,function(b,c){if(null!=p[c.idx])return k=p[c.idx]===n[c.idx]})),k}),k},_space:function(){var b=
[],c=this;return X(Q,function(k,h){c[h.cache]&&b.push(k)}),b.pop()},transition:function(b,c){b=(r=S(b))._space();var k=Q[b],h=0===this.alpha()?S("transparent"):this,n=h[k.cache]||k.to(h._rgba),p=n.slice(),r=r[k.cache];return X(k.props,function(b,k){b=k.idx;var h=n[b],m=r[b],v=N[k.type]||{};null!==m&&(null===h?p[b]=m:(v.mod&&(m-h>v.mod/2?h+=v.mod:h-m>v.mod/2&&(h-=v.mod)),p[b]=l((m-h)*c+h,k)))}),this[b](p)},blend:function(b){var c,k,h;return 1===this._rgba[3]?this:(c=this._rgba.slice(),k=c.pop(),h=
S(b)._rgba,S(R.map(c,function(b,c){return(1-k)*h[c]+k*b})))},toRgbaString:function(){var b="rgba(",c=R.map(this._rgba,function(b,c){return null!=b?b:2<c?1:0});return 1===c[3]&&(c.pop(),b="rgb("),b+c.join()+")"},toHslaString:function(){var b="hsla(",c=R.map(this.hsla(),function(b,c){return null==b&&(b=2<c?1:0),c&&3>c?Math.round(100*b)+"%":b});return 1===c[3]&&(c.pop(),b="hsl("),b+c.join()+")"},toHexString:function(b){var c=this._rgba.slice(),k=c.pop();return b&&c.push(~~(255*k)),"#"+R.map(c,function(b){return 1===
(b=(b||0).toString(16)).length?"0"+b:b}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}})).parse.prototype=S.fn;Q.hsla.to=function(b){var c,k,h,l,n,p,r,m;return null==b[0]||null==b[1]||null==b[2]?[null,null,null,b[3]]:(c=b[0]/255,k=b[1]/255,h=b[2]/255,b=b[3],l=(m=Math.max(c,k,h))-(r=Math.min(c,k,h)),p=.5*(n=m+r),r=r===m?0:c===m?60*(k-h)/l+360:k===m?60*(h-c)/l+120:60*(c-k)/l+240,m=0==l?0:.5>=p?l/n:l/(2-n),[Math.round(r)%360,m,p,null==b?1:b])};Q.hsla.from=
function(b){var c,k,h;return null==b[0]||null==b[1]||null==b[2]?[null,null,null,b[3]]:(c=b[0]/360,h=b[1],k=b[2],b=b[3],h=2*k-(k=.5>=k?k*(1+h):k+h-k*h),[Math.round(255*u(h,k,c+1/3)),Math.round(255*u(h,k,c)),Math.round(255*u(h,k,c-1/3)),b])};X(Q,function(b,c){var k=c.props,n=c.cache,p=c.to,r=c.from;S.fn[b]=function(b){var c,m,v;return p&&!this[n]&&(this[n]=p(this._rgba)),void 0===b?this[n].slice():(c=h(b),m="array"===c||"object"===c?b:arguments,v=this[n].slice(),X(k,function(b,k){b=m["object"===c?b:
k.idx];null==b&&(b=v[k.idx]);v[k.idx]=l(b,k)}),r?((b=S(r(v)))[n]=v,b):S(v))};X(k,function(c,k){S.fn[c]||(S.fn[c]=function(l){var n=h(l),p="alpha"===c?this._hsla?"hsla":"rgba":b,r=this[p](),m=r[k.idx];return"undefined"===n?m:("function"===n&&(n=h(l=l.call(this,m))),null==l&&k.empty?this:("string"===n&&(n=V.exec(l))&&(l=m+parseFloat(n[2])*("+"===n[1]?1:-1)),r[k.idx]=l,this[p](r)))})})});(S.hook=function(b){b=b.split(" ");X(b,function(b,c){R.cssHooks[c]={set:function(b,k){var l,n="";if("transparent"!==
k&&("string"!==h(k)||(l=m(k)))){if(k=S(l||k),!Y.rgba&&1!==k._rgba[3]){for(l="backgroundColor"===c?b.parentNode:b;(""===n||"transparent"===n)&&l&&l.style;)try{n=R.css(l,"backgroundColor"),l=l.parentNode}catch(p){}k=k.blend(n&&"transparent"!==n?n:"_default")}k=k.toRgbaString()}try{b.style[c]=k}catch(p){}}};R.fx.step[c]=function(b){b.colorInit||(b.start=S(b.elem,c),b.end=S(b.end),b.colorInit=!0);R.cssHooks[c].set(b.elem,b.start.transition(b.end,b.pos))}})})("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor");
R.cssHooks.borderColor={expand:function(b){var c={};return X(["Top","Right","Bottom","Left"],function(k,h){c["border"+h+"Color"]=b}),c}};var ia,U,na,la,ea,ca,ra,ja,va,Fa,Aa=R.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"};b.effects=
{effect:{}};la=["add","remove","toggle"];ea={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};b.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(c,k){b.fx.step[k]=function(b){("none"!==b.end&&!b.setAttr||1===b.pos&&!b.setAttr)&&(R.style(b.elem,k,b.end),b.setAttr=!0)}});b.fn.addBack||(b.fn.addBack=function(b){return this.add(null==b?this.prevObject:this.prevObject.filter(b))});b.effects.animateClass=
function(c,k,h,l){var n=b.speed(k,h,l);return this.queue(function(){var k=b(this),h=k.attr("class")||"",l=(l=n.children?k.find("*").addBack():k).map(function(){return{el:b(this),start:q(this)}}),p=function(){b.each(la,function(b,h){c[h]&&k[h+"Class"](c[h])})};p();l=l.map(function(){this.end=q(this.el[0]);var c=this.start,k=this.end,h,l,n={};for(h in k)l=k[h],c[h]===l||ea[h]||!b.fx.step[h]&&isNaN(parseFloat(l))||(n[h]=l);return this.diff=n,this});k.attr("class",h);l=l.map(function(){var c=this,k=b.Deferred(),
h=b.extend({},n,{queue:!1,complete:function(){k.resolve(c)}});return this.el.animate(this.diff,h),k.promise()});b.when.apply(b,l.get()).done(function(){p();b.each(arguments,function(){var c=this.el;b.each(this.diff,function(b){c.css(b,"")})});n.complete.call(k[0])})})};b.fn.extend({addClass:(na=b.fn.addClass,function(c,k,h,l){return k?b.effects.animateClass.call(this,{add:c},k,h,l):na.apply(this,arguments)}),removeClass:(U=b.fn.removeClass,function(c,k,h,l){return 1<arguments.length?b.effects.animateClass.call(this,
{remove:c},k,h,l):U.apply(this,arguments)}),toggleClass:(ia=b.fn.toggleClass,function(c,k,h,l,n){return"boolean"==typeof k||void 0===k?h?b.effects.animateClass.call(this,k?{add:c}:{remove:c},h,l,n):ia.apply(this,arguments):b.effects.animateClass.call(this,{toggle:c},k,h,l)}),switchClass:function(c,k,h,l,n){return b.effects.animateClass.call(this,{add:k,remove:c},h,l,n)}});b.expr&&b.expr.pseudos&&b.expr.pseudos.animated&&(b.expr.pseudos.animated=(ca=b.expr.pseudos.animated,function(c){return!!b(c).data("ui-effects-animated")||
ca(c)}));!1!==b.uiBackCompat&&b.extend(b.effects,{save:function(b,c){for(var k=0,h=c.length;k<h;k++)null!==c[k]&&b.data("ui-effects-"+c[k],b[0].style[c[k]])},restore:function(b,c){for(var k,h=0,l=c.length;h<l;h++)null!==c[h]&&(k=b.data("ui-effects-"+c[h]),b.css(c[h],k))},setMode:function(b,c){return"toggle"===c?b.is(":hidden")?"show":"hide":c},createWrapper:function(c){if(c.parent().is(".ui-effects-wrapper"))return c.parent();var k={width:c.outerWidth(!0),height:c.outerHeight(!0),float:c.css("float")},
h=b("\x3cdiv\x3e\x3c/div\x3e").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),l={width:c.width(),height:c.height()},n=document.activeElement;try{n.id}catch(p){n=document.body}return c.wrap(h),c[0]!==n&&!b.contains(c[0],n)||b(n).trigger("focus"),h=c.parent(),"static"===c.css("position")?(h.css({position:"relative"}),c.css({position:"relative"})):(b.extend(k,{position:c.css("position"),zIndex:c.css("z-index")}),b.each(["top","left","bottom",
"right"],function(b,h){k[h]=c.css(h);isNaN(parseInt(k[h],10))&&(k[h]="auto")}),c.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),c.css(l),h.css(k).show()},removeWrapper:function(c){var k=document.activeElement;return c.parent().is(".ui-effects-wrapper")&&(c.parent().replaceWith(c),c[0]!==k&&!b.contains(c[0],k)||b(k).trigger("focus")),c}});b.extend(b.effects,{version:"1.13.3",define:function(c,k,h){return h||(h=k,k="effect"),b.effects.effect[c]=h,b.effects.effect[c].mode=k,h},scaledDimensions:function(b,
c,k){var h;return 0===c?{height:0,width:0,outerHeight:0,outerWidth:0}:(h="horizontal"!==k?(c||100)/100:1,k="vertical"!==k?(c||100)/100:1,{height:b.height()*k,width:b.width()*h,outerHeight:b.outerHeight()*k,outerWidth:b.outerWidth()*h})},clipToBox:function(b){return{width:b.clip.right-b.clip.left,height:b.clip.bottom-b.clip.top,left:b.clip.left,top:b.clip.top}},unshift:function(b,c,k){var h=b.queue();1<c&&h.splice.apply(h,[1,0].concat(h.splice(c,k)));b.dequeue()},saveStyle:function(b){b.data("ui-effects-style",
b[0].style.cssText)},restoreStyle:function(b){b[0].style.cssText=b.data("ui-effects-style")||"";b.removeData("ui-effects-style")},mode:function(b,c){b=b.is(":hidden");return"toggle"===c&&(c=b?"show":"hide"),(b?"hide"===c:"show"===c)?"none":c},getBaseline:function(b,c){var k;switch(b[0]){case "top":k=0;break;case "middle":k=.5;break;case "bottom":k=1;break;default:k=b[0]/c.height}switch(b[1]){case "left":b=0;break;case "center":b=.5;break;case "right":b=1;break;default:b=b[1]/c.width}return{x:b,y:k}},
createPlaceholder:function(c){var k,h=c.css("position"),l=c.position();return c.css({marginTop:c.css("marginTop"),marginBottom:c.css("marginBottom"),marginLeft:c.css("marginLeft"),marginRight:c.css("marginRight")}).outerWidth(c.outerWidth()).outerHeight(c.outerHeight()),/^(static|relative)/.test(h)&&(h="absolute",k=b("\x3c"+c[0].nodeName+"\x3e").insertAfter(c).css({display:/^(inline|ruby)/.test(c.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:c.css("marginTop"),marginBottom:c.css("marginBottom"),
marginLeft:c.css("marginLeft"),marginRight:c.css("marginRight"),float:c.css("float")}).outerWidth(c.outerWidth()).outerHeight(c.outerHeight()).addClass("ui-effects-placeholder"),c.data("ui-effects-placeholder",k)),c.css({position:h,left:l.left,top:l.top}),k},removePlaceholder:function(b){var c=b.data("ui-effects-placeholder");c&&(c.remove(),b.removeData("ui-effects-placeholder"))},cleanUp:function(c){b.effects.restoreStyle(c);b.effects.removePlaceholder(c)},setTransition:function(c,k,h,l){return l=
l||{},b.each(k,function(b,k){b=c.cssUnit(k);0<b[0]&&(l[k]=b[0]*h+b[1])}),l}});b.fn.extend({effect:function(){function c(k){var h=b(this),l=b.effects.mode(h,v)||n;h.data("ui-effects-animated",!0);w.push(l);n&&("show"===l||l===n&&"hide"===l)&&h.show();n&&"none"===l||b.effects.saveStyle(h);"function"==typeof k&&k()}function k(c){function p(){"function"==typeof m&&m.call(r[0]);"function"==typeof c&&c()}var r=b(this);h.mode=w.shift();!1===b.uiBackCompat||n?"none"===h.mode?(r[v](),p()):l.call(r[0],h,function(){r.removeData("ui-effects-animated");
b.effects.cleanUp(r);"hide"===h.mode&&r.hide();p()}):(r.is(":hidden")?"hide"===v:"show"===v)?(r[v](),p()):l.call(r[0],h,p)}var h=x.apply(this,arguments),l=b.effects.effect[h.effect],n=l.mode,p=h.queue,r=p||"fx",m=h.complete,v=h.mode,w=[];return b.fx.off||!l?v?this[v](h.duration,m):this.each(function(){m&&m.call(this)}):!1===p?this.each(c).each(k):this.queue(r,c).queue(r,k)},show:(va=b.fn.show,function(b){return k(b)?va.apply(this,arguments):((b=x.apply(this,arguments)).mode="show",this.effect.call(this,
b))}),hide:(ja=b.fn.hide,function(b){return k(b)?ja.apply(this,arguments):((b=x.apply(this,arguments)).mode="hide",this.effect.call(this,b))}),toggle:(ra=b.fn.toggle,function(b){return k(b)||"boolean"==typeof b?ra.apply(this,arguments):((b=x.apply(this,arguments)).mode="toggle",this.effect.call(this,b))}),cssUnit:function(c){var k=this.css(c),h=[];return b.each(["em","px","%","pt"],function(b,c){0<k.indexOf(c)&&(h=[parseFloat(k),c])}),h},cssClip:function(b){return b?this.css("clip","rect("+b.top+
"px "+b.right+"px "+b.bottom+"px "+b.left+"px)"):p(this.css("clip"),this)},transfer:function(c,k){var h=b(this),l=b(c.to),n="fixed"===l.css("position"),p=b("body"),r=n?p.scrollTop():0,p=n?p.scrollLeft():0,m=l.offset(),m={top:m.top-r,left:m.left-p,height:l.innerHeight(),width:l.innerWidth()},l=h.offset(),v=b("\x3cdiv class\x3d'ui-effects-transfer'\x3e\x3c/div\x3e");v.appendTo("body").addClass(c.className).css({top:l.top-r,left:l.left-p,height:h.innerHeight(),width:h.innerWidth(),position:n?"fixed":
"absolute"}).animate(m,c.duration,c.easing,function(){v.remove();"function"==typeof k&&k()})}});b.fx.step.clip=function(c){c.clipInit||(c.start=b(c.elem).cssClip(),"string"==typeof c.end&&(c.end=p(c.end,c.elem)),c.clipInit=!0);b(c.elem).cssClip({top:c.pos*(c.end.top-c.start.top)+c.start.top,right:c.pos*(c.end.right-c.start.right)+c.start.right,bottom:c.pos*(c.end.bottom-c.start.bottom)+c.start.bottom,left:c.pos*(c.end.left-c.start.left)+c.start.left})};Fa={};b.each(["Quad","Cubic","Quart","Quint",
"Expo"],function(b,c){Fa[c]=function(c){return Math.pow(c,b+2)}});b.extend(Fa,{Sine:function(b){return 1-Math.cos(b*Math.PI/2)},Circ:function(b){return 1-Math.sqrt(1-b*b)},Elastic:function(b){return 0===b||1===b?b:-Math.pow(2,8*(b-1))*Math.sin((80*(b-1)-7.5)*Math.PI/15)},Back:function(b){return b*b*(3*b-2)},Bounce:function(b){for(var c,k=4;b<((c=Math.pow(2,--k))-1)/11;);return 1/Math.pow(4,3-k)-7.5625*Math.pow((3*c-2)/22-b,2)}});b.each(Fa,function(c,k){b.easing["easeIn"+c]=k;b.easing["easeOut"+c]=
function(b){return 1-k(1-b)};b.easing["easeInOut"+c]=function(b){return.5>b?k(2*b)/2:1-k(-2*b+2)/2}});ka=b.effects;b.effects.define("blind","hide",function(c,k){var h={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},l=b(this),n=c.direction||"up",p=l.cssClip(),r={clip:b.extend({},p)},m=b.effects.createPlaceholder(l);r.clip[h[n][0]]=r.clip[h[n][1]];"show"===c.mode&&(l.cssClip(r.clip),m&&m.css(b.effects.clipToBox(r)),
r.clip=p);m&&m.animate(b.effects.clipToBox(r),c.duration,c.easing);l.animate(r,{queue:!1,duration:c.duration,easing:c.easing,complete:k})});b.effects.define("bounce",function(c,k){var h,l,n=b(this),p=c.mode,r="hide"===p,p="show"===p,m=c.direction||"up",v=c.distance,w=c.times||5,y=2*w+(p||r?1:0),q=c.duration/y,z=c.easing,u="up"===m||"down"===m?"top":"left",D="up"===m||"left"===m,E=0;c=n.queue().length;b.effects.createPlaceholder(n);m=n.css(u);v=v||n["top"==u?"outerHeight":"outerWidth"]()/3;p&&((l=
{opacity:1})[u]=m,n.css("opacity",0).css(u,D?2*-v:2*v).animate(l,q,z));r&&(v/=Math.pow(2,w-1));for((l={})[u]=m;E<w;E++)(h={})[u]=(D?"-\x3d":"+\x3d")+v,n.animate(h,q,z).animate(l,q,z),v=r?2*v:v/2;r&&((h={opacity:0})[u]=(D?"-\x3d":"+\x3d")+v,n.animate(h,q,z));n.queue(k);b.effects.unshift(n,c,1+y)});b.effects.define("clip","hide",function(c,k){var h={},l=b(this),n=c.direction||"vertical",p="both"===n,r=p||"horizontal"===n,p=p||"vertical"===n,n=l.cssClip();h.clip={top:p?(n.bottom-n.top)/2:n.top,right:r?
(n.right-n.left)/2:n.right,bottom:p?(n.bottom-n.top)/2:n.bottom,left:r?(n.right-n.left)/2:n.left};b.effects.createPlaceholder(l);"show"===c.mode&&(l.cssClip(h.clip),h.clip=n);l.animate(h,{queue:!1,duration:c.duration,easing:c.easing,complete:k})});b.effects.define("drop","hide",function(c,k){var h,l=b(this),n="show"===c.mode,p=c.direction||"left",r="up"===p||"down"===p?"top":"left",p="up"===p||"left"===p?"-\x3d":"+\x3d",m="+\x3d"==p?"-\x3d":"+\x3d",v={opacity:0};b.effects.createPlaceholder(l);h=c.distance||
l["top"==r?"outerHeight":"outerWidth"](!0)/2;v[r]=p+h;n&&(l.css(v),v[r]=m+h,v.opacity=1);l.animate(v,{queue:!1,duration:c.duration,easing:c.easing,complete:k})});b.effects.define("explode","hide",function(c,k){function h(){B.push(this);B.length===w*y&&(q.css({visibility:"visible"}),b(B).remove(),k())}var l,n,p,r,m,v,w=c.pieces?Math.round(Math.sqrt(c.pieces)):3,y=w,q=b(this),z="show"===c.mode,u=q.show().css("visibility","hidden").offset(),D=Math.ceil(q.outerWidth()/y),E=Math.ceil(q.outerHeight()/w),
B=[];for(l=0;l<w;l++)for(r=u.top+l*E,v=l-(w-1)/2,n=0;n<y;n++)p=u.left+n*D,m=n-(y-1)/2,q.clone().appendTo("body").wrap("\x3cdiv\x3e\x3c/div\x3e").css({position:"absolute",visibility:"visible",left:-n*D,top:-l*E}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:D,height:E,left:p+(z?m*D:0),top:r+(z?v*E:0),opacity:z?0:1}).animate({left:p+(z?0:m*D),top:r+(z?0:v*E),opacity:z?1:0},c.duration||500,c.easing,h)});b.effects.define("fade","toggle",function(c,k){var h=
"show"===c.mode;b(this).css("opacity",h?0:1).animate({opacity:h?1:0},{queue:!1,duration:c.duration,easing:c.easing,complete:k})});b.effects.define("fold","hide",function(c,k){var h=b(this),l=c.mode,n="show"===l,l="hide"===l,p=c.size||15,r=/([0-9]+)%/.exec(p),m=c.horizFirst?["right","bottom"]:["bottom","right"],v=c.duration/2,w=b.effects.createPlaceholder(h),y=h.cssClip(),q={clip:b.extend({},y)},z={clip:b.extend({},y)},u=[y[m[0]],y[m[1]]],D=h.queue().length;r&&(p=parseInt(r[1],10)/100*u[l?0:1]);q.clip[m[0]]=
p;z.clip[m[0]]=p;z.clip[m[1]]=0;n&&(h.cssClip(z.clip),w&&w.css(b.effects.clipToBox(z)),z.clip=y);h.queue(function(k){w&&w.animate(b.effects.clipToBox(q),v,c.easing).animate(b.effects.clipToBox(z),v,c.easing);k()}).animate(q,v,c.easing).animate(z,v,c.easing).queue(k);b.effects.unshift(h,D,4)});b.effects.define("highlight","show",function(c,k){var h=b(this),l={backgroundColor:h.css("backgroundColor")};"hide"===c.mode&&(l.opacity=0);b.effects.saveStyle(h);h.css({backgroundImage:"none",backgroundColor:c.color||
"#ffff99"}).animate(l,{queue:!1,duration:c.duration,easing:c.easing,complete:k})});b.effects.define("size",function(c,k){var h,l,n,p,r=b(this),m=["fontSize"],v=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],w=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],y=c.mode,q="effect"!==y,z=c.scale||"both",u=c.origin||["middle","center"],D=r.css("position"),E=r.position(),B=b.effects.scaledDimensions(r),x=c.from||B,C=c.to||b.effects.scaledDimensions(r,0);b.effects.createPlaceholder(r);
"show"===y&&(y=x,x=C,C=y);n=x.height/B.height;p=x.width/B.width;h=C.height/B.height;l=C.width/B.width;"box"!==z&&"both"!==z||(n!==h&&(x=b.effects.setTransition(r,v,n,x),C=b.effects.setTransition(r,v,h,C)),p!==l&&(x=b.effects.setTransition(r,w,p,x),C=b.effects.setTransition(r,w,l,C)));"content"!==z&&"both"!==z||n!==h&&(x=b.effects.setTransition(r,m,n,x),C=b.effects.setTransition(r,m,h,C));u&&(y=b.effects.getBaseline(u,B),x.top=(B.outerHeight-x.outerHeight)*y.y+E.top,x.left=(B.outerWidth-x.outerWidth)*
y.x+E.left,C.top=(B.outerHeight-C.outerHeight)*y.y+E.top,C.left=(B.outerWidth-C.outerWidth)*y.x+E.left);delete x.outerHeight;delete x.outerWidth;r.css(x);"content"!==z&&"both"!==z||(v=v.concat(["marginTop","marginBottom"]).concat(m),w=w.concat(["marginLeft","marginRight"]),r.find("*[width]").each(function(){var k=b(this),r=b.effects.scaledDimensions(k),m={height:r.height*n,width:r.width*p,outerHeight:r.outerHeight*n,outerWidth:r.outerWidth*p},r={height:r.height*h,width:r.width*l,outerHeight:r.height*
h,outerWidth:r.width*l};n!==h&&(m=b.effects.setTransition(k,v,n,m),r=b.effects.setTransition(k,v,h,r));p!==l&&(m=b.effects.setTransition(k,w,p,m),r=b.effects.setTransition(k,w,l,r));q&&b.effects.saveStyle(k);k.css(m);k.animate(r,c.duration,c.easing,function(){q&&b.effects.restoreStyle(k)})}));r.animate(C,{queue:!1,duration:c.duration,easing:c.easing,complete:function(){var c=r.offset();0===C.opacity&&r.css("opacity",x.opacity);q||(r.css("position","static"===D?"relative":D).offset(c),b.effects.saveStyle(r));
k()}})});b.effects.define("scale",function(c,k){var h=b(this),l=c.mode,l=parseInt(c.percent,10)||(0===parseInt(c.percent,10)||"effect"!==l?0:100),h=b.extend(!0,{from:b.effects.scaledDimensions(h),to:b.effects.scaledDimensions(h,l,c.direction||"both"),origin:c.origin||["middle","center"]},c);c.fade&&(h.from.opacity=1,h.to.opacity=0);b.effects.effect.size.call(this,h,k)});b.effects.define("puff","hide",function(c,k){c=b.extend(!0,{},c,{fade:!0,percent:parseInt(c.percent,10)||150});b.effects.effect.scale.call(this,
c,k)});b.effects.define("pulsate","show",function(c,k){var h=b(this),l=c.mode,n="show"===l,p=2*(c.times||5)+(n||"hide"===l?1:0),r=c.duration/p,m=0,v=1,l=h.queue().length;for(!n&&h.is(":visible")||(h.css("opacity",0).show(),m=1);v<p;v++)h.animate({opacity:m},r,c.easing),m=1-m;h.animate({opacity:m},r,c.easing);h.queue(k);b.effects.unshift(h,l,1+p)});b.effects.define("shake",function(c,k){var h=1,l=b(this),n=c.direction||"left",p=c.distance||20,r=c.times||3,m=2*r+1,v=Math.round(c.duration/m),w="up"===
n||"down"===n?"top":"left",n="up"===n||"left"===n,y={},q={},z={},u=l.queue().length;b.effects.createPlaceholder(l);y[w]=(n?"-\x3d":"+\x3d")+p;q[w]=(n?"+\x3d":"-\x3d")+2*p;z[w]=(n?"-\x3d":"+\x3d")+2*p;for(l.animate(y,v,c.easing);h<r;h++)l.animate(q,v,c.easing).animate(z,v,c.easing);l.animate(q,v,c.easing).animate(y,v/2,c.easing).queue(k);b.effects.unshift(l,u,1+m)});b.effects.define("slide","show",function(c,k){var h,l,n=b(this),p={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left",
"right"]},r=c.mode,m=c.direction||"left",v="up"===m||"down"===m?"top":"left",w="up"===m||"left"===m,y=c.distance||n["top"==v?"outerHeight":"outerWidth"](!0),q={};b.effects.createPlaceholder(n);h=n.cssClip();l=n.position()[v];q[v]=(w?-1:1)*y+l;q.clip=n.cssClip();q.clip[p[m][1]]=q.clip[p[m][0]];"show"===r&&(n.cssClip(q.clip),n.css(v,q[v]),q.clip=h,q[v]=l);n.animate(q,{queue:!1,duration:c.duration,easing:c.easing,complete:k})});!1!==b.uiBackCompat&&b.effects.define("transfer",function(c,k){b(this).transfer(c,
k)})});
function d(b){var c,h;if(!this.length)return this;c=this[0];c.ownerDocument?h=c.ownerDocument:(h=c,c=h.documentElement);if(null==b)return h.cancelFullScreen||h.webkitCancelFullScreen||h.mozCancelFullScreen?(b=!!h.fullScreen||!!h.webkitIsFullScreen||!!h.mozFullScreen)?h.fullScreenElement||h.webkitCurrentFullScreenElement||h.mozFullScreenElement||b:b:null;b?(b=c.requestFullScreen||c.webkitRequestFullScreen||c.mozRequestFullScreen)&&b.call(c,Element.ALLOW_KEYBOARD_INPUT):(b=h.cancelFullScreen||h.webkitCancelFullScreen||
h.mozCancelFullScreen)&&b.call(h);return this}jQuery.fn.fullScreen=d;jQuery.fn.toggleFullScreen=function(){return d.call(this,!d.call(this))};var e,f,g;e=document;e.webkitCancelFullScreen?(f="webkitfullscreenchange",g="webkitfullscreenerror"):e.mozCancelFullScreen?(f="mozfullscreenchange",g="mozfullscreenerror"):(f="fullscreenchange",g="fullscreenerror");jQuery(document).bind(f,function(){jQuery(document).trigger(new jQuery.Event("fullscreenchange"))});jQuery(document).bind(g,function(){jQuery(document).trigger(new jQuery.Event("fullscreenerror"))});
(function(b){b.effects.effect.fly=function(c){var h=b(this),l=["position","top","bottom","left","right"];b.effects.setMode(h,c.mode||"show");var m=c.direction||"left";b.effects.save(h,l);var u=h.position();"none"==h.css("display")&&(h.css({visibility:"hidden",display:"block"}),u=h.position(),h.css({visibility:"inherit",display:"none"}));h.parent();"absolute"!=h.css("position")&&"relative"!=h.css("position")&&h.css({position:"absolute",top:u.top+"px",left:u.left+"px"});"show"==c.mode?("left"==m?h.css("left",
0-h.width()+"px"):"right"==m?h.css("left",b(document).width()+h.width()+"px"):"up"==m?h.css("top",0-h.height()+"px"):"down"==m&&h.css("top",b(document).height()+h.height()+"px"),h.show(),m=void 0!=c.duration?c.duration:1E3,h.animate(u,{duration:m,queue:!1,easing:"linear",complete:function(){b.effects.restore(h,l);c.callback&&c.callback.apply(this,arguments);h.dequeue()}})):(u={},"left"==m?u.left=0-h.width():"right"==m?u.left=b(document).width()+h.width():"up"==m?u.top=0-h.height():"down"==m&&(u.top=
b(document).height()+h.height()),m=void 0!=c.duration?c.duration:1E3,h.animate(u,{duration:m,queue:!1,easing:"linear",complete:function(){h.hide();b.effects.restore(h,l);c.callback&&c.callback.apply(this,arguments);h.dequeue()}}));return h.queue()};b.effects.effect.move=function(c){var h=b(this),l=["position","top","bottom","left","right"],m=c.to;b.effects.save(h,l);var u=h.position();h.parent().css("height");"absolute"!=h.css("position")&&"relative"!=h.css("position")&&h.css({position:"absolute",
top:u.top+"px",left:u.left+"px"});u=void 0!=c.duration?c.duration:800;"undefined"!=typeof c.allowShow&&1!=c.allowShow||h.show();h.animate(m,{duration:u,queue:!1,easing:"linear",complete:function(){c.restore&&b.effects.restore(h,l);c.callback&&c.callback.apply(this,arguments);h.dequeue()}});return h.queue()};b.effects.effect.resize=function(c){var h=b(this),l=c.to,m=void 0!=c.duration?c.duration:800;b.effects.save(h,["width","height"]);var u={};void 0!=l.height&&(u.height=l.height+"%");void 0!=l.width&&
(u.width=l.width+"%");h.velocity(u,{duration:m,complete:function(){c.callback&&c.callback.apply(this,arguments);h.dequeue()}});h.dequeue();return h.queue()};b.effects.effect.fadeTo=function(c){var h=b(this);h.animate(c.to,{duration:void 0!=c.duration?c.duration:800,queue:!1,easing:"linear",complete:function(){c.callback&&c.callback.apply(this,arguments);h.dequeue()}});return h.queue()};b.effects.effect.fadeTo=b.effects.effect.fadeTo;b.effects.effect.moveBy=b.effects.effect.move;b.effects.effect.moveTo=
b.effects.effect.move;b.effects.effect.resizeTo=b.effects.effect.resize;b.effects.effect.resizeBy=b.effects.effect.resize})(jQuery);
!function(b){var c=function(c,l){this.options=l;this.element=b(c);b(c).addClass("dki-stayInView").css("transition","top 100ms ease-in-out");this.initSubscribers();return this};c.DEFAULTS={scrollParent:b("body")};c.prototype={initSubscribers:function(){var c=this;this.options.scrollParent.hasClass("siv-wp")||this.options.scrollParent.addClass("siv-wp").data("siv-wp",new Waypoint.Inview({element:this.options.scrollParent[0],enter:function(){b(window).on("scroll."+c.element.data("id"),b.proxy(c.move,
c))},exited:function(){b(window).off("scroll."+b(c.el).data("id"))}}))},getVisibleRange:function(c){var l=b(window).scrollTop(),m=b(window).scrollTop()+b(window).height(),u=this.options.scrollParent.offset().top,q=this.options.scrollParent.offset().top+this.options.scrollParent.outerHeight();return Math.max(0,Math.min((m-u+Math.max(0,l-u))/2,q-(20+b(c).outerHeight())-u))},move:function(){var c=this;this.options.scrollParent.find(".dki-stayInView").each(function(){b(this).css("top",c.getVisibleRange(this))})},
destroy:function(){this.siv.element.removeClass(".dki-stayInView");0==this.siv.options.scrollParent.find(".dki-staInView").length&&(this.siv.options.scrollParent.data("siv-wp").destroy(),this.siv.options.scrollParent.data("siv-wp",""));b(window).off("scroll."+this.siv.element.data("id"))}};b.fn.StayInView=function(h){var l=h,m=Array.prototype.slice.call(arguments,1);return this.each(function(){var u=b(this),q=b(this).data("dki.StayInView");options=b.extend({},c.DEFAULTS,"object"===typeof l&&l);q?
"string"===typeof h&&(u=b(this).data("dki.StayInView"))&&u[h]&&u[h].apply({$:b(this),siv:b(this).data("dki.StayInView")},m):u.data("dki.StayInView",new c(this,options))})};b.fn.StayInView.Constructor=c}(window.jQuery);var DKI;DKI||(DKI={});var idSeed=0;DKI.apply=function(b,c){b="undefined"!=typeof b?b:{};c="undefined"!=typeof c?c:{};for(var h in c)b[h]=c[h];return b};
DKI.applyIf=function(b,c,h){b="undefined"!=typeof b?b:{};c="undefined"!=typeof c?c:{};if(b)if(void 0===h?0:h)DKI.applyIfDeep(b,c);else for(var l in c)"undefined"==typeof b[l]&&(b[l]=c[l]);return b};DKI.applyIfDeep=function(b,c){if(b)for(var h in c)"undefined"===typeof b[h]?DKI.isObject(c[h])?(b[h]={},arguments.callee(b[h],c[h])):b[h]=c[h]:DKI.isObject(c[h])&&arguments.callee(b[h],c[h]);return b};DKI.id=function(){for(;0<$(idSeed).length;)idSeed++;return idSeed};
DKI.determineRoot=function(){var b=window.location.href;return/\/$/.test(b)?b:b.replace(/\?.*$/,"").replace(/\w*\.[a-zA-Z]+$/,"")};DKI.isDefined=function(b){return"undefined"!==typeof b};DKI.getVideoEmbedURL=function(b){var c=dataStorage.getElement(b);return"videoembed"==c.elementtype?(c.meta2="dynamic",settings.inPreview?DKI.determineRoot().replace("/preview/","")+"ajax/element.cfm/"+b+"/videoEmbedTemp.html":"assets/elements/"+b+"/tempVideoEmbed.html"):""};
DKI.stripHTML=function(b){b=b.toString();b=b.replace(/<(?:.|\s)*?>/g,"");b=b.replace(/\&nbsp\;/g," ");b=b.replace(/\s+/g," ");return b=$("\x3cdiv\x3e"+b+"\x3c/div\x3e").text()};DKI.stripHTMLComments=function(b){return b=b.replace(/\x3c!--[\s\S]+?--\x3e/g,"")};DKI.getObjectKeys=function(b){var c=[],h;for(h in b)c.push(h);return c};DKI.isObject=function(b){return"[object Object]"==Object.prototype.toString.call(b)};
DKI.isEmptyObject=function(b){var c=0,h;for(h in b)b.hasOwnProperty(h)&&c++;return 0==c};DKI.isFunction=function(b){return"[object Function]"==Object.prototype.toString.call(b)};DKI.isArray=function(b){return"[object Array]"==Object.prototype.toString.call(b)};DKI.clone=function(b,c){var h="undefined"==typeof c?!0:c;if(DKI.isArray(b)){c=[];for(var l=0;l<b.length;l++)h?c.push(DKI.clone(b[l])):c.push(b[l])}else if(DKI.isObject(b))for(l in c={},b){var m=b[l];c[l]=h?DKI.clone(m):m}else c=b;return c};
DKI.scrollTop=function(){var b;if(1==settings.courseType&&settings.scrolling)b=$("#contentFrame div.current.slide").scrollTop();else if(dkiUA.ie&&8>=dkiUA.ieVersion){b=document.body;var c=document.documentElement,c=c.clientHeight?c:b;b=c.scrollTop}else b=window.pageYOffset;return b};
DKI.centerInPlayer=function(b,c){var h="left";c||(h="margin-"+h);c=b.outerWidth(!0);var l=b.outerHeight(!0),m=$("#contentFrame").width(),u=((DKI.courseStore&&DKI.courseStore.course.get()?DKI.courseStore.course.get().height:$(u).height())-l)/2+DKI.scrollTop();c=(m-c)/2;b.css("top",u+"px").css(h,c+"px")};
DKI.calculateCoords=function(b,c,h){var l=$(window).height()>$("#contentFrame").height()?$("#contentFrame").height():$(window).height(),m=$("#contentFrame").width(),u=$("#headerContainer").height(),q=$(c).outerHeight()*settings.scale;c=$(c).outerWidth()*settings.scale;var x=($("html").width()/settings.scale-$("body").width())/2,x={x:($(b).offset().left-x-$("#contentFrame").offset().left)/settings.scale,y:($(b).offset().top+b.offsetHeight*settings.scale+h-$("#contentFrame").offset().top)/settings.scale},
k=DKI.scrollTop();x.x+c>m&&(x.x=m-(c+20));m=l+k-u;1==settings.courseType&&(m=settings.courseHeight);x.y+q>m&&(x.y=x.y-q-$(b).outerHeight()-h,0>x.y&&(x.y=l-u-q));x.y=0>x.y?0:x.y;return x};DKI.setNS=function(b,c,h){"string"===typeof b&&(b=b.split("."));if(1<b.length){var l=b.shift();DKI.setNS(b,c[l]="[object Object]"===Object.prototype.toString.call(c[l])?c[l]:{},h)}else c[b[0]]=h};
DKI.capitalizeString=function(b){return b.toLowerCase().replace(/^[\u00C0-\u1FFF\u2C00-\uD7FF\w]|\s[\u00C0-\u1FFF\u2C00-\uD7FF\w]/g,function(b){return b.toUpperCase()})};DKI.waypointsDefaults={};DKI.EVENT_CANCEL_BUBBLE=function(b){b.stopPropagation?b.stopPropagation():b.cancelBubble=!0};
DKI.hexToRGB=function(b,c){b=b.replace("#","");var h=parseInt(b.substring(0,2),16),l=parseInt(b.substring(2,4),16);b=parseInt(b.substring(4,6),16);return"undefined"!==typeof c?"rgba("+h+","+l+","+b+","+c/100+")":"rgb("+h+","+l+","+b+")"};DKI.shuffle=function(b){for(var c=b.length,h,l;0!==c;)l=Math.floor(Math.random()*c),--c,h=b[c],b[c]=b[l],b[l]=h;return b};
DKI.formatDate=function(b,c,h,l){"string"===typeof b&&(b=b.replace(" ","T"));b=b instanceof Date?b:new Date(b);var m="";l||(m+=b.getFullYear()+"-"+("0"+(b.getMonth()+1)).slice(-2)+"-"+("0"+b.getDate()).slice(-2));c||(c=b.getHours(),l="",h||(l=11<c?"pm":"am",c%=12,0==c&&(c=12)),m+=" "+("0"+c).slice(-2)+":"+("0"+b.getMinutes()).slice(-2)+l);return m.trim()};
DKI.getURLParameterValue=function(b,c,h){var l=location;b=DKI.getURLParameters(l)[b];!b&&c&&(b=decodeURIComponent(l.href.split("?")[1]).replace(/\+/g," "),h&&isNaN(b)&&(b=null));return b};DKI.getURLParameters=function(b){"undefined"==typeof b&&(b=location);var c={};b.search.replace(/([^?&]+)=([^&]*)?/gm,function(b,l,m){c[l]=decodeURIComponent(m).replace(/\+/g," ")});return c};
DKI.enforceFocus=function(b){$(document).off("focusin.enforce");$(".dki-focus-enforced, .dki-focus-enforced [tabindex\x3d'1']:first").off("keydown",DKI.focusEnforcer.onFirstItemKeyDown);$(".dki-focus-enforced, .dki-focus-enforced [tabindex\x3d'1']:last").off("keydown",DKI.focusEnforcer.onLastItemKeyDown);$(".dki-focus-enforced").removeClass("dki-focus-enforced").removeAttr("aria-modal");if(b){$(document).on("focusin.enforce",$.proxy(function(c){document===c.target||b[0]===c.target||b.has(c.target).length||
(c=b.find("*[tabindex\x3d'1']").first(),c[0]?c[0].focus():b[0].focus())},this));var c=$("[tabindex\x3d'1']:first",b);if(0<c.length)c.on("keydown",DKI.focusEnforcer.onFirstItemKeyDown);else b.on("keydown",DKI.focusEnforcer.onFirstItemKeyDown);c=$("[tabindex\x3d'1']:last",b);if(0<c.length)c.on("keydown",DKI.focusEnforcer.onLastItemKeyDown);else b.on("keydown",DKI.focusEnforcer.onLastItemKeyDown);b.addClass("dki-focus-enforced").attr("aria-modal",!0)}};
DKI.focusEnforcer={onFirstItemKeyDown:function(b){if(9==b.keyCode&&b.shiftKey){var c=$(".dki-focus-enforced [tabindex\x3d'1']").last();c[0]?c[0].focus():$(".dki-focus-enforced")[0].focus();b.preventDefault()}},onLastItemKeyDown:function(b){if(9==b.keyCode&&!b.shiftKey){var c=$(".dki-focus-enforced [tabindex\x3d'1']").first();c[0]?c[0].focus():$(".dki-focus-enforced")[0].focus();b.preventDefault()}}};
DKI.makeFocusable=function(b,c){var h="boolean"==typeof c?!!c:0<c;h?b.attr({tabindex:"boolean"==typeof c?1:c}):b.removeAttr("tabindex");return b};DKI.canAccessIframe=function(b){try{return!!b.document}catch(c){return!1}};DKI.getViewPortHeight=function(b){return b*Math.max(document.documentElement.clientHeight,window.innerHeight||0)/100};
DKI.utility={dateDiff:function(b,c){b=b instanceof Date?b:new Date(b);c=(c-b)/1E3;var h="";0<c&&(h=1>c?"About a second ago":60>c?Math.floor(c)+" seconds ago":120>c?"About a minute ago":3600>c?Math.floor(c/60)+" minutes ago":7200>c?"About an hour ago":86400>=c?Math.floor(c/3600)+" hours ago":DKI.utility.formatDate(b,!0));return h},timeFunctions:{convertMsToTime:function(b){var c={d:0,h:0,m:0,s:0,ms:0};864E5<=b&&(c.d=Math.floor(b/864E5),b-=864E5*c.d);36E5<=b&&(c.h=Math.floor(b/36E5),b-=36E5*c.h);6E4<=
b&&(c.m=Math.floor(b/6E4),b-=6E4*c.m);1E3<=b&&(c.s=Math.floor(b/1E3),b-=1E3*c.s);c.ms=b;return c}},isValidEmail:function(b){return(new RegExp(/^(("[\w-\s]+")|([\w-]+(?:\.[\w-]+)*)|("[\w-\s]+")([\w-]+(?:\.[\w-]+)*))(@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][0-9]\.|1[0-9]{2}\.|[0-9]{1,2}\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\]?$)/i)).test(b)},getScale:function(){var b=settings.scale;!settings.responsive&&
$(".fancybox-container").length&&(b*=settings.claroLightboxScaling);return b},getDragContainment:function(b,c,h){var l=DKI.utility.getScale();return[b.offset().left,b.offset().top,b.offset().left+b.width()*l-c*l,b.offset().top+b.height()*l-h*l]},dragFix:function(b,c){var h=0;c=c||DKI.utility.getScale();settings.responsive||(h=b.helper.data("initialPageYOffset")?b.helper.data("initialPageYOffset"):document.documentElement.scrollTop);b.position.top+=h;h=(b.originalPosition.top+(b.position.top-b.originalPosition.top))/
c;b.position.left=(b.originalPosition.left+(b.position.left-b.originalPosition.left))/c;b.position.top=h;return b},transitionEnd:function(){var b={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in b)if(void 0!==document.getElementsByTagName("html")[0].style[t])return b[t]}(),animationEnd:function(){var b={animation:"animationend",IEAnimation:"MSAnimationEnd",WebkitAnimation:"webkitAnimationEnd"};for(a in b)if(void 0!==
document.getElementsByTagName("html")[0].style[a])return b[a]}(),onAnimation:function(b,c,h){b=b instanceof jQuery?b:$(b);DKI.utility.onGeneric(b,"animationEnd",c,h)},onTransition:function(b,c,h){b=b instanceof jQuery?b:$(b);DKI.utility.onGeneric(b,"transitionEnd",c,h)},onGeneric:function(b,c,h,l){var m=b.get(0),u=DKI.utility[c];l=l||350;if((!dkiUA||!dkiUA.ie||10<dkiUA.ieVersion)&&u){if(u)return b.one(u+".dkiAnimation",h),!1}else{if($("html").hasClass("csstransforms"))return b.data("dkiAnimation-"+
c,setTimeout(function(){h.call(m)},l)),!1;setTimeout(h,l)}},genericOff:function(b,c){var h=DKI.utility[c+"Event"];h?b.off(h+".dkiAnimation"):$("html").hasClass("csstransforms")&&b.data("dkiAnimation-"+c)&&(clearTimeout(b.data("dkiAnimation-"+c)),b.data("dkiAnimation-"+c,""))},animationOff:function(b){DKI.utility.genericOff(b,"animationEnd")},transitionOff:function(b){DKI.utility.genericOff(b,"transitionEnd")},changeContentLocation:function(b){DKI.preventSCORMUnload=!0;window.location.href=b.toString()},
stripHTMLComments:DKI.stripHTMLComments};this.JSON||(JSON={});
(function(){function b(b){return 10>b?"0"+b:b}function c(b){m.lastIndex=0;return m.test(b)?'"'+b.replace(m,function(b){var c=x[b];return"string"===typeof c?c:"\\u"+("0000"+b.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+b+'"'}function h(b,l){var m,v,z=u,n,E=l[b];E&&"object"===typeof E&&"function"===typeof E.toJSON&&(E=E.toJSON(b));"function"===typeof k&&(E=k.call(l,b,E));switch(typeof E){case "string":return c(E);case "number":return isFinite(E)?String(E):"null";case "boolean":case "null":return String(E);
case "object":if(!E)return"null";u+=q;n=[];if("number"===typeof E.length&&!E.propertyIsEnumerable("length")){v=E.length;for(b=0;b<v;b+=1)n[b]=h(b,E)||"null";l=0===n.length?"[]":u?"[\n"+u+n.join(",\n"+u)+"\n"+z+"]":"["+n.join(",")+"]";u=z;return l}if(k&&"object"===typeof k)for(v=k.length,b=0;b<v;b+=1)m=k[b],"string"===typeof m&&(l=h(m,E))&&n.push(c(m)+(u?": ":":")+l);else for(m in E)Object.hasOwnProperty.call(E,m)&&(l=h(m,E))&&n.push(c(m)+(u?": ":":")+l);l=0===n.length?"{}":u?"{\n"+u+n.join(",\n"+
u)+"\n"+z+"}":"{"+n.join(",")+"}";u=z;return l}}"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(c){return this.getUTCFullYear()+"-"+b(this.getUTCMonth()+1)+"-"+b(this.getUTCDate())+"T"+b(this.getUTCHours())+":"+b(this.getUTCMinutes())+":"+b(this.getUTCSeconds())+"Z"},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(b){return this.valueOf()});var l=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
m=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,u,q,x={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},k;"function"!==typeof JSON.stringify&&(JSON.stringify=function(b,c,l){var m;q=u="";if("number"===typeof l)for(m=0;m<l;m+=1)q+=" ";else"string"===typeof l&&(q=l);if((k=c)&&"function"!==typeof c&&("object"!==typeof c||"number"!==typeof c.length))throw Error("JSON.stringify");return h("",{"":b})});
"function"!==typeof JSON.parse&&(JSON.parse=function(b,c){function k(b,h){var l,p,m=b[h];if(m&&"object"===typeof m)for(l in m)Object.hasOwnProperty.call(m,l)&&(p=k(m,l),void 0!==p?m[l]=p:delete m[l]);return c.call(b,h,m)}l.lastIndex=0;l.test(b)&&(b=b.replace(l,function(b){return"\\u"+("0000"+b.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(b.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,
"")))return b=eval("("+b+")"),"function"===typeof c?k({"":b},""):b;throw new SyntaxError("JSON.parse");})})();
var swfobject=function(){function b(){if(!W){try{var b=F.getElementsByTagName("body")[0].appendChild(F.createElement("span"));b.parentNode.removeChild(b)}catch(c){return}W=!0;for(var b=J.length,k=0;k<b;k++)J[k]()}}function c(b){W?b():J[J.length]=b}function h(b){if("undefined"!=typeof B.addEventListener)B.addEventListener("load",b,!1);else if("undefined"!=typeof F.addEventListener)F.addEventListener("load",b,!1);else if("undefined"!=typeof B.attachEvent)z(B,"onload",b);else if("function"==typeof B.onload){var c=
B.onload;B.onload=function(){c();b()}}else B.onload=b}function l(){var b=F.getElementsByTagName("body")[0],c=F.createElement("object");c.setAttribute("type","application/x-shockwave-flash");var k=b.appendChild(c);if(k){var h=0;(function(){if("undefined"!=typeof k.GetVariable){var l=k.GetVariable("$version");l&&(l=l.split(" ")[1].split(","),N.pv=[parseInt(l[0],10),parseInt(l[1],10),parseInt(l[2],10)])}else if(10>h){h++;setTimeout(arguments.callee,10);return}b.removeChild(c);k=null;m()})()}else m()}
function m(){var b=G.length;if(0<b)for(var c=0;c<b;c++){var h=G[c].id,l=G[c].callbackFn,p={success:!1,id:h};if(0<N.pv[0]){var r=v(h);if(r)if(!n(G[c].swfVersion)||N.wk&&312>N.wk)if(G[c].expressInstall&&q()){p={};p.data=G[c].expressInstall;p.width=r.getAttribute("width")||"0";p.height=r.getAttribute("height")||"0";r.getAttribute("class")&&(p.styleclass=r.getAttribute("class"));r.getAttribute("align")&&(p.align=r.getAttribute("align"));for(var m={},r=r.getElementsByTagName("param"),w=r.length,y=0;y<
w;y++)"movie"!=r[y].getAttribute("name").toLowerCase()&&(m[r[y].getAttribute("name")]=r[y].getAttribute("value"));x(p,m,h,l)}else k(r),l&&l(p);else D(h,!0),l&&(p.success=!0,p.ref=u(h),l(p))}else D(h,!0),l&&((h=u(h))&&"undefined"!=typeof h.SetVariable&&(p.success=!0,p.ref=h),l(p))}}function u(b){var c=null;(b=v(b))&&"OBJECT"==b.nodeName&&("undefined"!=typeof b.SetVariable?c=b:(b=b.getElementsByTagName("object")[0])&&(c=b));return c}function q(){return!V&&n("6.0.65")&&(N.win||N.mac)&&!(N.wk&&312>N.wk)}
function x(b,c,k,h){V=!0;R=h||null;fa={success:!1,id:k};var l=v(k);if(l){"OBJECT"==l.nodeName?(P=p(l),M=null):(P=l,M=k);b.id="SWFObjectExprInst";if("undefined"==typeof b.width||!/%$/.test(b.width)&&310>parseInt(b.width,10))b.width="310";if("undefined"==typeof b.height||!/%$/.test(b.height)&&137>parseInt(b.height,10))b.height="137";F.title=F.title.slice(0,47)+" - Flash Player Installation";h=N.ie&&N.win?"ActiveX":"PlugIn";h="MMredirectURL\x3d"+B.location.toString().replace(/&/g,"%26")+"\x26MMplayerType\x3d"+
h+"\x26MMdoctitle\x3d"+F.title;c.flashvars="undefined"!=typeof c.flashvars?c.flashvars+("\x26"+h):h;N.ie&&N.win&&4!=l.readyState&&(h=F.createElement("div"),k+="SWFObjectNew",h.setAttribute("id",k),l.parentNode.insertBefore(h,l),l.style.display="none",function(){4==l.readyState?l.parentNode.removeChild(l):setTimeout(arguments.callee,10)}());r(b,c,k)}}function k(b){if(N.ie&&N.win&&4!=b.readyState){var c=F.createElement("div");b.parentNode.insertBefore(c,b);c.parentNode.replaceChild(p(b),c);b.style.display=
"none";(function(){4==b.readyState?b.parentNode.removeChild(b):setTimeout(arguments.callee,10)})()}else b.parentNode.replaceChild(p(b),b)}function p(b){var c=F.createElement("div");if(N.win&&N.ie)c.innerHTML=b.innerHTML;else if(b=b.getElementsByTagName("object")[0])if(b=b.childNodes)for(var k=b.length,h=0;h<k;h++)1==b[h].nodeType&&"PARAM"==b[h].nodeName||8==b[h].nodeType||c.appendChild(b[h].cloneNode(!0));return c}function r(b,c,k){var h,l=v(k);if(N.wk&&312>N.wk)return h;if(l)if("undefined"==typeof b.id&&
(b.id=k),N.ie&&N.win){var n="",p;for(p in b)b[p]!=Object.prototype[p]&&("data"==p.toLowerCase()?c.movie=b[p]:"styleclass"==p.toLowerCase()?n+=' class\x3d"'+b[p]+'"':"classid"!=p.toLowerCase()&&(n+=" "+p+'\x3d"'+b[p]+'"'));p="";for(var r in c)c[r]!=Object.prototype[r]&&(p+='\x3cparam name\x3d"'+r+'" value\x3d"'+c[r]+'" /\x3e');l.outerHTML='\x3cobject classid\x3d"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+n+"\x3e"+p+"\x3c/object\x3e";K[K.length]=b.id;h=v(b.id)}else{r=F.createElement("object");r.setAttribute("type",
"application/x-shockwave-flash");for(var m in b)b[m]!=Object.prototype[m]&&("styleclass"==m.toLowerCase()?r.setAttribute("class",b[m]):"classid"!=m.toLowerCase()&&r.setAttribute(m,b[m]));for(n in c)c[n]!=Object.prototype[n]&&"movie"!=n.toLowerCase()&&(b=r,p=n,m=c[n],k=F.createElement("param"),k.setAttribute("name",p),k.setAttribute("value",m),b.appendChild(k));l.parentNode.replaceChild(r,l);h=r}return h}function w(b){var c=v(b);c&&"OBJECT"==c.nodeName&&(N.ie&&N.win?(c.style.display="none",function(){if(4==
c.readyState){var k=v(b);if(k){for(var h in k)"function"==typeof k[h]&&(k[h]=null);k.parentNode.removeChild(k)}}else setTimeout(arguments.callee,10)}()):c.parentNode.removeChild(c))}function v(b){var c=null;try{c=F.getElementById(b)}catch(k){}return c}function z(b,c,k){b.attachEvent(c,k);L[L.length]=[b,c,k]}function n(b){var c=N.pv;b=b.split(".");b[0]=parseInt(b[0],10);b[1]=parseInt(b[1],10)||0;b[2]=parseInt(b[2],10)||0;return c[0]>b[0]||c[0]==b[0]&&c[1]>b[1]||c[0]==b[0]&&c[1]==b[1]&&c[2]>=b[2]?!0:
!1}function E(b,c,k,h){if(!N.ie||!N.mac){var l=F.getElementsByTagName("head")[0];l&&(k=k&&"string"==typeof k?k:"screen",h&&(S=ba=null),ba&&S==k||(h=F.createElement("style"),h.setAttribute("type","text/css"),h.setAttribute("media",k),ba=l.appendChild(h),N.ie&&N.win&&"undefined"!=typeof F.styleSheets&&0<F.styleSheets.length&&(ba=F.styleSheets[F.styleSheets.length-1]),S=k),N.ie&&N.win?ba&&"object"==typeof ba.addRule&&ba.addRule(b,c):ba&&"undefined"!=typeof F.createTextNode&&ba.appendChild(F.createTextNode(b+
" {"+c+"}")))}}function D(b,c){Q&&(c=c?"visible":"hidden",W&&v(b)?v(b).style.visibility=c:E("#"+b,"visibility:"+c))}function y(b){return null!=/[\\\"<>\.;]/.exec(b)&&"undefined"!=typeof encodeURIComponent?encodeURIComponent(b):b}var B=window,F=document,C=navigator,I=!1,J=[function(){I?l():m()}],G=[],K=[],L=[],P,M,R,fa,W=!1,V=!1,ba,S,Q=!0,N=function(){var b="undefined"!=typeof F.getElementById&&"undefined"!=typeof F.getElementsByTagName&&"undefined"!=typeof F.createElement,c=C.userAgent.toLowerCase(),
k=C.platform.toLowerCase(),h=k?/win/.test(k):/win/.test(c),k=k?/mac/.test(k):/mac/.test(c),c=/webkit/.test(c)?parseFloat(c.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,l=!+"\v1",n=[0,0,0],p=null;if("undefined"!=typeof C.plugins&&"object"==typeof C.plugins["Shockwave Flash"])!(p=C.plugins["Shockwave Flash"].description)||"undefined"!=typeof C.mimeTypes&&C.mimeTypes["application/x-shockwave-flash"]&&!C.mimeTypes["application/x-shockwave-flash"].enabledPlugin||(I=!0,l=!1,p=p.replace(/^.*\s+(\S+\s+\S+$)/,
"$1"),n[0]=parseInt(p.replace(/^(.*)\..*$/,"$1"),10),n[1]=parseInt(p.replace(/^.*\.(.*)\s.*$/,"$1"),10),n[2]=/[a-zA-Z]/.test(p)?parseInt(p.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if("undefined"!=typeof B.ActiveXObject)try{if(p=(new ActiveXObject("ShockwaveFlash.ShockwaveFlash")).GetVariable("$version"))l=!0,p=p.split(" ")[1].split(","),n=[parseInt(p[0],10),parseInt(p[1],10),parseInt(p[2],10)]}catch(r){}return{w3:b,pv:n,wk:c,ie:l,win:h,mac:k}}();(function(){N.w3&&(("undefined"!=typeof F.readyState&&
"complete"==F.readyState||"undefined"==typeof F.readyState&&(F.getElementsByTagName("body")[0]||F.body))&&b(),W||("undefined"!=typeof F.addEventListener&&F.addEventListener("DOMContentLoaded",b,!1),N.ie&&N.win&&(F.attachEvent("onreadystatechange",function(){"complete"==F.readyState&&(F.detachEvent("onreadystatechange",arguments.callee),b())}),B==top&&function(){if(!W){try{F.documentElement.doScroll("left")}catch(c){setTimeout(arguments.callee,0);return}b()}}()),N.wk&&function(){W||(/loaded|complete/.test(F.readyState)?
b():setTimeout(arguments.callee,0))}(),h(b)))})();(function(){N.ie&&N.win&&window.attachEvent("onunload",function(){for(var b=L.length,c=0;c<b;c++)L[c][0].detachEvent(L[c][1],L[c][2]);b=K.length;for(c=0;c<b;c++)w(K[c]);for(var k in N)N[k]=null;N=null;for(var h in swfobject)swfobject[h]=null;swfobject=null})})();return{registerObject:function(b,c,k,h){if(N.w3&&b&&c){var l={};l.id=b;l.swfVersion=c;l.expressInstall=k;l.callbackFn=h;G[G.length]=l;D(b,!1)}else h&&h({success:!1,id:b})},getObjectById:function(b){if(N.w3)return u(b)},
embedSWF:function(b,k,h,l,p,m,v,w,y,z){var u={success:!1,id:k};N.w3&&!(N.wk&&312>N.wk)&&b&&k&&h&&l&&p?(D(k,!1),c(function(){h+="";l+="";var c={};if(y&&"object"===typeof y)for(var E in y)c[E]=y[E];c.data=b;c.width=h;c.height=l;E={};if(w&&"object"===typeof w)for(var B in w)E[B]=w[B];if(v&&"object"===typeof v)for(var C in v)E.flashvars="undefined"!=typeof E.flashvars?E.flashvars+("\x26"+C+"\x3d"+v[C]):C+"\x3d"+v[C];if(n(p))B=r(c,E,k),c.id==k&&D(k,!0),u.success=!0,u.ref=B;else{if(m&&q()){c.data=m;x(c,
E,k,z);return}D(k,!0)}z&&z(u)})):z&&z(u)},switchOffAutoHideShow:function(){Q=!1},ua:N,getFlashPlayerVersion:function(){return{major:N.pv[0],minor:N.pv[1],release:N.pv[2]}},hasFlashPlayerVersion:n,createSWF:function(b,c,k){if(N.w3)return r(b,c,k)},showExpressInstall:function(b,c,k,h){N.w3&&q()&&x(b,c,k,h)},removeSWF:function(b){N.w3&&w(b)},createCSS:function(b,c,k,h){N.w3&&E(b,c,k,h)},addDomLoadEvent:c,addLoadEvent:h,getQueryParamValue:function(b){var c=F.location.search||F.location.hash;if(c){/\?/.test(c)&&
(c=c.split("?")[1]);if(null==b)return y(c);for(var c=c.split("\x26"),k=0;k<c.length;k++)if(c[k].substring(0,c[k].indexOf("\x3d"))==b)return y(c[k].substring(c[k].indexOf("\x3d")+1))}return""},expressInstallCallback:function(){if(V){var b=v("SWFObjectExprInst");b&&P&&(b.parentNode.replaceChild(P,b),M&&(D(M,!0),N.ie&&N.win&&(P.style.display="block")),R&&R(fa));V=!1}}}}(),isMobile=$("body").hasClass("mobile"),isTablet=$("body").hasClass("tablet"),isOnline=$("body").hasClass("online");DKI||(DKI={});
DKI.templates={};DKI.templates.header="";DKI.templates.footer="";if(isMobile||isTablet||isOnline)DKI.templates.header+='\x3cdiv id\x3d"logo"\x3e\x3c/div\x3e';
isMobile?isTablet?(DKI.templates.header+='\x3cdiv id\x3d"skipToContentWrapper"\x3e\x3ca id\x3d"skipToContent" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title \x3d "{{strings.index.skipToContent}}" \x3e{{strings.index.skipToContent}}\x3c/a\x3e \x3c/div\x3e','\x3ca id\x3d"listButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title\x3d"{{strings.index.listButtonLabel}}" \x3e \x3cspan\x3e{{strings.index.listButtonLabel}}\x3c/span\x3e \x3c/a\x3e \x3cdiv id\x3d"moreButtons"\x3e \x3ca id\x3d"exitButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title\x3d"{{strings.index.exitButtonLabel}}" \x3e \x3cspan class\x3d"button-label"\x3e{{strings.index.exitButtonLabel}}\x3c/span\x3e \x3c/a\x3e \x3ca id\x3d"menuButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title\x3d"{{strings.index.menuButtonLabel}}" \x3e \x3cspan class\x3d"button-label"\x3e{{strings.index.menuButtonLabel}}\x3c/span\x3e \x3c/a\x3e \x3ca id\x3d"audioButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title\x3d"{{strings.index.audioButtonLabel}}" \x3e \x3cspan class\x3d"button-label"\x3e{{strings.index.audioButtonLabel}}\x3c/span\x3e \x3c/a\x3e \x3ca id\x3d"resourceButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title \x3d "{{strings.index.resourcesButtonLabel}}" \x3e \x3cspan class\x3d"button-label"\x3e{{strings.index.resourcesButtonLabel}}\x3c/span\x3e \x3c/a\x3e \x3ca id\x3d"glossaryButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title \x3d "{{strings.index.glossaryButtonLabel}}" \x3e \x3cspan class\x3d"button-label"\x3e{{strings.index.glossaryButtonLabel}}\x3c/span\x3e \x3c/a\x3e \x3ca id\x3d"transcriptButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title\x3d"{{strings.index.transcriptButtonLabel}}" \x3e \x3cspan class\x3d"button-label"\x3e{{strings.index.transcriptButtonLabel}}\x3c/span\x3e \x3c/a\x3e \x3ca id\x3d"replayButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title\x3d"{{strings.index.replayButtonLabel}}" \x3e \x3cspan class\x3d"button-label"\x3e{{strings.index.replayButtonLabel}}\x3c/span\x3e \x3c/a\x3e \x3c/div\x3e \x3cspan id\x3d"moduleName" tabindex\x3d"1"\x3e\x3c/span\x3e \x3cspan id\x3d"objectName" tabindex\x3d"1"\x3e\x3c/span\x3e \x3cspan id\x3d"screenCount" tabindex\x3d"1"\x3e\x3cspan id\x3d"currentScreen"\x3e0\x3c/span\x3e / \x3cspan id\x3d"totalScreens"\x3e0\x3c/span\x3e\x3c/span\x3e \x3cdiv id\x3d"navigationButtons"\x3e \x3ca id\x3d"backButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title\x3d"{{strings.index.previousButtonLabel}}" \x3e \x3cspan class\x3d"button-left"\x3e\x3c/span\x3e \x3cspan class\x3d"button-middle"\x3e\x3cspan class\x3d"button-label"\x3e{{strings.index.previousButtonLabel}}\x3c/span\x3e\x3c/span\x3e \x3cspan class\x3d"button-right"\x3e\x3c/span\x3e \x3c/a\x3e \x3ca id\x3d"forwardButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title\x3d"{{strings.index.nextButtonLabel}}" \x3e \x3cspan class\x3d"button-left"\x3e\x3c/span\x3e \x3cspan class\x3d"button-middle"\x3e\x3cspan class\x3d"button-label"\x3e{{strings.index.nextButtonLabel}}\x3c/span\x3e\x3c/span\x3e \x3cspan class\x3d"button-right"\x3e\x3c/span\x3e \x3c/a\x3e \x3c/div\x3e'):(DKI.templates.header+=
'\x3cdiv id\x3d"skipToContentWrapper"\x3e\x3ca id\x3d"skipToContent" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title \x3d "{{strings.index.skipToContent}}" \x3e{{strings.index.skipToContent}}\x3c/a\x3e \x3c/div\x3e','\x3ca id\x3d"listButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" aria-label\x3d"{{strings.index.listButtonLabel}}" aria-haspopup\x3d"true" aria-owns\x3d"moreButtons" title\x3d"{{strings.index.listButtonLabel}}" \x3e \x3cspan class\x3d"button-label"\x3e{{strings.index.listButtonLabel}}\x3c/span\x3e \x3c/a\x3e \x3cdiv id\x3d"moreButtons"\x3e \x3ca id\x3d"exitButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title\x3d"{{strings.index.exitButtonLabel}}" \x3e \x3cspan class\x3d"button-label"\x3e{{strings.index.exitButtonLabel}}\x3c/span\x3e \x3c/a\x3e \x3ca id\x3d"menuButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title\x3d"{{strings.index.menuButtonLabel}}" \x3e \x3cspan class\x3d"button-label"\x3e{{strings.index.menuButtonLabel}}\x3c/span\x3e \x3c/a\x3e \x3ca id\x3d"resourceButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title \x3d "{{strings.index.resourcesButtonLabel}}" \x3e \x3cspan class\x3d"button-label"\x3e{{strings.index.resourcesButtonLabel}}\x3c/span\x3e \x3ca id\x3d"glossaryButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title \x3d "{{strings.index.glossaryButtonLabel}}" \x3e \x3cspan class\x3d"button-label"\x3e{{strings.index.glossaryButtonLabel}}\x3c/span\x3e \x3c/a\x3e \x3ca id\x3d"transcriptButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title\x3d"{{strings.index.transcriptButtonLabel}}" \x3e \x3cspan class\x3d"button-label"\x3e{{strings.index.transcriptButtonLabel}}\x3c/span\x3e \x3c/a\x3e \x3ca id\x3d"audioButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title\x3d"{{strings.index.audioButtonLabel}}" \x3e \x3cspan class\x3d"button-label"\x3e{{strings.index.audioButtonLabel}}\x3c/span\x3e \x3c/a\x3e \x3ca id\x3d"replayButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title\x3d"{{strings.index.replayButtonLabel}}" \x3e \x3cspan class\x3d"button-label"\x3e{{strings.index.replayButtonLabel}}\x3c/span\x3e \x3c/a\x3e \x3c/div\x3e \x3cspan id\x3d"moduleName" tabindex\x3d"1"\x3e\x3c/span\x3e \x3cspan id\x3d"objectName" tabindex\x3d"1"\x3e\x3c/span\x3e \x3cspan id\x3d"screenCount" tabindex\x3d"1" role\x3d"region"\x3e\x3cspan id\x3d"currentScreen"\x3e0\x3c/span\x3e / \x3cspan id\x3d"totalScreens"\x3e0\x3c/span\x3e\x3c/span\x3e \x3cdiv id\x3d"navigationButtons"\x3e \x3ca id\x3d"backButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" aria-label\x3d"{{strings.index.previousButtonLabel}}" title\x3d"{{strings.index.previousButtonLabel}}" \x3e \x3cspan class\x3d"button-left"\x3e\x3c/span\x3e \x3cspan class\x3d"button-middle"\x3e\x3cspan class\x3d"button-label"\x3e{{strings.index.previousButtonLabel}}\x3c/span\x3e\x3c/span\x3e \x3cspan class\x3d"button-right"\x3e\x3c/span\x3e \x3c/a\x3e \x3ca id\x3d"forwardButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" aria-label\x3d"{{strings.index.nextButtonLabel}}" title\x3d"{{strings.index.nextButtonLabel}}" \x3e \x3cspan class\x3d"button-left"\x3e\x3c/span\x3e \x3cspan class\x3d"button-middle"\x3e\x3cspan class\x3d"button-label"\x3e{{strings.index.nextButtonLabel}}\x3c/span\x3e\x3c/span\x3e \x3cspan class\x3d"button-right"\x3e\x3c/span\x3e \x3c/a\x3e \x3c/div\x3e'):
(DKI.templates.footer+='\x3cdiv id\x3d"info"\x3e \x3cspan id\x3d"moduleName" tabindex\x3d"0"\x3e\x3c/span\x3e \x3cspan id\x3d"objectName" tabindex\x3d"0"\x3e\x3c/span\x3e \x3c/div\x3e \x3cdiv class\x3d"navButtonContainer"\x3e \x3ca id\x3d"audioButton" class\x3d"navButton" tabindex\x3d"0" role\x3d"button" title\x3d"{{strings.index.audioButtonLabel}}" \x3e \x3cspan class\x3d"button-left"\x3e\x3c/span\x3e \x3cspan class\x3d"button-middle"\x3e\x3cspan class\x3d"button-label"\x3e{{strings.index.audioButtonLabel}}\x3c/span\x3e\x3c/span\x3e \x3cspan class\x3d"button-right"\x3e\x3c/span\x3e \x3c/a\x3e \x3ca id\x3d"replayButton" class\x3d"navButton" tabindex\x3d"0" role\x3d"button" title\x3d"{{strings.index.replayButtonLabel}}" \x3e \x3cspan class\x3d"button-left"\x3e\x3c/span\x3e \x3cspan class\x3d"button-middle"\x3e\x3cspan class\x3d"button-label"\x3e{{strings.index.replayButtonLabel}}\x3c/span\x3e\x3c/span\x3e \x3cspan class\x3d"button-right"\x3e\x3c/span\x3e \x3c/a\x3e \x3cdiv id\x3d"navButtons"\x3e \x3cspan id\x3d"screenCount" tabindex\x3d"0"\x3e\x3cspan id\x3d"currentScreen"\x3e0\x3c/span\x3e / \x3cspan id\x3d"totalScreens"\x3e0\x3c/span\x3e\x3c/span\x3e \x3ca id\x3d"backButton" class\x3d"navButton" tabindex\x3d"0" role\x3d"button" title\x3d"{{strings.index.previousButtonLabel}}" \x3e \x3cspan class\x3d"button-left"\x3e\x3c/span\x3e \x3cspan class\x3d"button-middle"\x3e\x3cspan class\x3d"button-label"\x3e{{strings.index.previousButtonLabel}}\x3c/span\x3e\x3c/span\x3e \x3cspan class\x3d"button-right"\x3e\x3c/span\x3e \x3c/a\x3e \x3ca id\x3d"forwardButton" class\x3d"navButton" tabindex\x3d"0" role\x3d"button" title\x3d"{{strings.index.nextButtonLabel}}" \x3e \x3cspan class\x3d"button-left"\x3e\x3c/span\x3e \x3cspan class\x3d"button-middle"\x3e\x3cspan class\x3d"button-label"\x3e{{strings.index.nextButtonLabel}}\x3c/span\x3e\x3c/span\x3e \x3cspan class\x3d"button-right"\x3e\x3c/span\x3e \x3c/a\x3e \x3c/div\x3e \x3c/div\x3e\t',
DKI.templates.header+='\x3cdiv class\x3d"navButtonContainer"\x3e\x3cdiv id\x3d"skipToContentWrapper"\x3e\x3ca id\x3d"skipToContent" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title \x3d "{{strings.index.skipToContent}}" \x3e{{strings.index.skipToContent}}\x3c/a\x3e \x3c/div\x3e','\x3ca id\x3d"resourceButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title \x3d "{{strings.index.resourcesButtonLabel}}" \x3e \x3cspan class\x3d"button-left"\x3e\x3c/span\x3e \x3cspan class\x3d"button-middle"\x3e\x3cspan class\x3d"button-label"\x3e{{strings.index.resourcesButtonLabel}}\x3c/span\x3e\x3c/span\x3e \x3cspan class\x3d"button-right"\x3e\x3c/span\x3e \x3c/a\x3e \x3ca id\x3d"glossaryButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title \x3d "{{strings.index.glossaryButtonLabel}}" \x3e \x3cspan class\x3d"button-left"\x3e\x3c/span\x3e \x3cspan class\x3d"button-middle"\x3e\x3cspan class\x3d"button-label"\x3e{{strings.index.glossaryButtonLabel}}\x3c/span\x3e\x3c/span\x3e \x3cspan class\x3d"button-right"\x3e\x3c/span\x3e \x3c/a\x3e \x3ca id\x3d"transcriptButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title\x3d"{{strings.index.transcriptButtonLabel}}" \x3e \x3cspan class\x3d"button-left"\x3e\x3c/span\x3e \x3cspan class\x3d"button-middle"\x3e\x3cspan class\x3d"button-label"\x3e{{strings.index.transcriptButtonLabel}}\x3c/span\x3e\x3c/span\x3e \x3cspan class\x3d"button-right"\x3e\x3c/span\x3e \x3c/a\x3e \x3ca id\x3d"menuButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title\x3d"{{strings.index.menuButtonLabel}}" \x3e \x3cspan class\x3d"button-left"\x3e\x3c/span\x3e \x3cspan class\x3d"button-middle"\x3e\x3cspan class\x3d"button-label"\x3e{{strings.index.menuButtonLabel}}\x3c/span\x3e\x3c/span\x3e \x3cspan class\x3d"button-right"\x3e\x3c/span\x3e \x3c/a\x3e \x3ca id\x3d"exitButton" class\x3d"navButton" tabindex\x3d"1" role\x3d"button" title\x3d"{{strings.index.exitButtonLabel}}" \x3e \x3cspan class\x3d"button-left"\x3e\x3c/span\x3e \x3cspan class\x3d"button-middle"\x3e\x3cspan class\x3d"button-label"\x3e{{strings.index.exitButtonLabel}}\x3c/span\x3e\x3c/span\x3e \x3cspan class\x3d"button-right"\x3e\x3c/span\x3e \x3c/a\x3e \x3c/div\x3e');
Handlebars.registerHelper("forExport",function(b){return DKI.renderService.state.renderEnvironment.export?b.fn(this):b.inverse(this)});DKI.templates.endModule='\x3cdiv class\x3d"endScreenWrapper" style\x3d"display : -ms-flexbox;-ms-flex-direction : column;"\x3e \x3cdiv class\x3d"endScreen flex {{#if responsive}}dki-section-height" data-section-height\x3d"100"{{else}}"{{/if}}\x3e \x3cdiv id\x3d"endMod_header" class\x3d"section header" style\x3d""\x3e \x3cdiv tabindex\x3d"1"\x3e\x3ch4\x3e{{strings.endMod.headerText}}\x3c/h4\x3e \x3ch3 id\x3d"endMod_moduleName" class\x3d"modname" style\x3d"margin-top:0px"\x3e{{{module.name}}}\x3c/h3\x3e \x3c/div\x3e\x3cdiv style\x3d"text-align:center;"\x3e\x3cdiv class\x3d"passCont"  tabindex\x3d"1"\x3e\x3cspan class\x3d"endMod_testScore testScore"\x3e\x3c/span\x3e\x3cspan class\x3d"endMod_passStatus passStatus"\x3e\x3c/span\x3e\x3cspan class\x3d"endMod_passingScore passingScore"\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e \x3cdiv id\x3d"endMod_content" class\x3d"flexfill flex"\x3e\x3cdiv id\x3d"endMod_status" class\x3d"status flexfill flex"\x3e \x3cdiv id\x3d"endMod_testScoreDetails" class\x3d"dki-lineitem dki-lineitem-last"\x3e \x3c/div\x3e \x3c/div\x3e \x3cdiv id\x3d"endMod_actions" class\x3d"section actions" style\x3d"display: inline-block;"\x3e \x3cspan class\x3d"col-xs-clear-right col-lg-3 col-md-3 col-sm-3 col-xs-{{#if responsive}}12{{else}}3{{/if}} endMod_testingLink centerBlock"\x3e\x3ca class\x3d" disabled btn btn-success" id\x3d"" tabindex\x3d"1" role\x3d"button"\x3e{{strings.endMod.testingLinkLabel}}\x3c/a\x3e \x3c/span\x3e\x3cspan class\x3d"col-xs-clear-right col-lg-3 col-md-3 col-sm-3 col-xs-{{#if responsive}}6{{else}}3{{/if}} endMod_reviewLink centerBlock"\x3e\x3ca class\x3d" btn btn-success" tabindex\x3d"1" role\x3d"button"\x3e{{strings.endMod.reviewTestButton}}\x3c/a\x3e \x3c/span\x3e\x3cspan class\x3d"col-xs-clear-right col-lg-3 col-md-3 col-sm-3 col-xs-{{#if responsive}}12{{else}}3{{/if}} endMod_revisitLink centerBlock"\x3e\x3ca class\x3d" btn btn-default" tabindex\x3d"1" role\x3d"button"\x3e{{strings.endMod.revisitContentButton}}\x3c/a\x3e \x3c/span\x3e\x3cspan class\x3d"col-xs-clear-right col-lg-3 col-md-3 col-sm-3 col-xs-{{#if responsive}}12{{else}}3{{/if}} endMod_learningLink centerBlock"\x3e\x3ca class\x3d" btn btn-primary" tabindex\x3d"1" role\x3d"button"\x3e{{strings.endMod.learningLinkLabel}}\x3c/a\x3e \x3c/span\x3e\x3c/div\x3e \x3c/div\x3e \x3c/div\x3e\x3c/div\x3e';
DKI.templates.endScreenTestItem='\x3cdiv class\x3d"col-xs-clear-right{{#if responsive}} col-lg-4 col-md-4 col-sm-6 col-xs-12{{/if}} objectTestItem centerBlock"\x3e \x3cdiv class\x3d"testItemContentContainer flex"\x3e\x3cdiv class\x3d"dki-modTitle" tabindex\x3d"1" aria-label\x3d"{{{object.name}}}"\x3e{{{object.name}}}\x3c/div\x3e\x3cdiv class\x3d\'flex flexrow flexfill gaugecont\' style\x3d\'margin-bottom:10px;\'\x3e\x3cdiv class\x3d\'flexfill gaugesubcont\'\x3e\x3cdiv {{#if gaugeLabel}} tabindex\x3d\'1\' aria-label\x3d\'{{gaugeLabel}}\'{{/if}} class\x3d"{{style}} dki-radialgauge radial fill-primary noJelly {{#unless forTesting}}overlay_transparent{{/unless}}"\x3e\x3cdiv class\x3d"overlay"\x3e\x3cdiv tabindex\x3d"1" class\x3d"text dki-element-text {{#unless forTesting}}hidden{{/unless}}"\x3e\x3c/div\x3e{{#if isComplete}}\x3ci class\x3d\'fa fa-check justicon\' style\x3d\'font-size:80px; margin-top:12px;\'\x3e\x3c/i\x3e{{/if}}\x3c/div\x3e\x3cdiv class\x3d"mask full"\x3e\x3cdiv class\x3d"fill"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"mask half"\x3e\x3cdiv class\x3d"fill"\x3e\x3c/div\x3e\x3cdiv class\x3d"fill fix"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e{{#if forTesting}}\x3cdiv class\x3d\'scoreDisp\' tabindex\x3d\'1\' style\x3d\'white-space:nowrap;\'\x3e({{object.points}}/{{object.totalWeight}} {{strings.txtPoints}})\x3c/div\x3e{{else}}\x3cdiv class\x3d\'scoreDisp\' tabindex\x3d\'-1\' aria-hidden style\x3d\'white-space:nowrap;\'\x3e\x26nbsp;\x3c/div\x3e{{/if}}\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e';
DKI.templates.CourseEndScreenTestItem="\x3cdiv class\x3d\"col-xs-clear-right{{#if responsive}} col-lg-4 col-md-4 col-sm-6 col-xs-12{{/if}} objectTestItem centerBlock{{#if requiresPass}} requiresPass{{/if}}\"\x3e \x3cdiv class\x3d\"testItemContentContainer flex\"\x3e\x3cdiv class\x3d\"dki-modTitle\" tabindex\x3d\"1\" \"\x3e{{{module.loname}}}\x3c/div\x3e\x3cdiv class\x3d'flex flexrow flexfill gaugecont'\x3e\x3cdiv\x3e\x3cdiv class\x3d'flex flexfill gaugesubcont'\x3e\x3cdiv {{#if gaugeLabel}} tabindex\x3d'1' aria-label\x3d'{{gaugeLabel}}'{{/if}} class\x3d\"{{style}} dki-radialgauge radial noJelly {{#unless showScore}}overlay_transparent{{/unless}}\"\x3e\x3cdiv class\x3d\"overlay\"\x3e\x3cdiv tabindex\x3d\"1\" class\x3d\"text dki-element-text {{#unless showScore}}hidden{{/unless}}\"\x3e\x3c/div\x3e{{#if isComplete}}\x3ci class\x3d'fa fa-check justicon' style\x3d'font-size:80px; margin-top:12px;'\x3e\x3c/i\x3e{{/if}}\x3c/div\x3e\x3cdiv class\x3d\"mask full\"\x3e\x3cdiv class\x3d\"fill\"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d\"mask half\"\x3e\x3cdiv class\x3d\"fill\"\x3e\x3c/div\x3e\x3cdiv class\x3d\"fill fix\"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e{{#if showWeight}}\x3cdiv class\x3d'scoreDisp' style\x3d'margin-top:10px;' tabindex\x3d'1'\x3e\x3cdiv\x3e({{points}}/{{weight}} {{strings.runtime.txtPoints}})\x3c/div\x3e\x3c/div\x3e{{/if}}\x3c/div\x3e\x3cdiv class\x3d'scoreDisp' style\x3d'white-space:nowrap;' \x3e{{#if showRetake}}\x3cdiv class\x3d'btn btn-success retake {{retakeButtonClassExtra}}' style\x3d'margin-bottom:10px;' data-moduleid\x3d'{{module.loid}}' tabindex\x3d'1'\x3e{{retakeText}}\x3c/div\x3e{{/if}}{{#if showScore}}\x3cdiv class\x3d'endCourse_remainingAttempts' style\x3d'font-size: 0.75em' tabindex\x3d'1'\x3e{{strings.runtime.txtRemainingAttempts}} {{attempts}}\x3c/div\x3e{{/if}}{{#if showPass}}\x3cdiv style\x3d'font-size: 0.75em; margin-top:10px;' tabindex\x3d'1'\x3e{{passMark}}\x3c/div\x3e{{/if}}\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'btn btn-default view' data-moduleid\x3d'{{module.loid}}' style\x3d'width: calc(100% - 30px); margin: 15px 0; padding: 5px 0;'tabindex\x3d'1'\x3e{{strings.endMod.revisitContentButton}}\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e";
DKI.templates.endCourse='\x3cdiv class\x3d"endScreenWrapper"\x3e \x3cdiv class\x3d"endScreen flex{{#if responsive}} dki-section-height" data-section-height\x3d"100"{{else}}"{{/if}}\x3e \x3cdiv id\x3d"endCourse_header" class\x3d"section header bg-primary" style\x3d""\x3e \x3cdiv tabindex\x3d"1"\x3e\x3ch4\x3e{{strings.endCourse.headerLabel}}\x3c/h4\x3e \x3ch3 id\x3d"endCourse_courseName" style\x3d"margin-top:0px"\x3e{{contentApi "getCourseName"}}\x3c/h3\x3e \x3c/div\x3e\x3cdiv style\x3d"text-align:center;"\x3e\x3cdiv class\x3d"passCont" tabindex\x3d"1"\x3e\x3cspan class\x3d"endCourse_testScore testScore"\x3e\x3c/span\x3e\x3cspan class\x3d"endCourse_passStatus passStatus"\x3e\x3c/span\x3e\x3cspan class\x3d"endCourse_passingScore passingScore"\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e \x3cdiv id\x3d"endCourse_status" class\x3d"status flex flexfill"\x3e \x3cdiv id\x3d"endCourse_testScoreDetails" class\x3d"dki-lineitem dki-lineitem-last"\x3e \x3c/div\x3e\x3c/div\x3e \x3cdiv id\x3d"endCourse_actions" class\x3d"section actions"\x3e \x3cspan class\x3d"col-xs-clear-right col-lg-4 col-md-4 col-sm-4 col-xs-12 centerBlock" id\x3d"endCourse_bibliographyLink"\x3e\x3ca class\x3d"btn btn-default" tabindex\x3d"1" role\x3d"button"\x3e{{strings.endCourse.viewBibliography}}\x3c/a\x3e\x3c/span\x3e\x3cspan class\x3d"col-xs-clear-right col-lg-4 col-md-4 col-sm-4 col-xs-12 centerBlock" id\x3d"endCourse_certificateLink"\x3e\x3ca class\x3d"disabled btn btn-warning" tabindex\x3d"1" role\x3d"button"\x3e{{strings.endCourse.viewCertificate}}\x3c/a\x3e\x3c/span\x3e\x3cspan class\x3d"col-xs-clear-right col-lg-4 col-md-4 col-sm-4 col-xs-12 centerBlock" id\x3d"endCourse_exitLink"\x3e\x3ca class\x3d"btn btn-primary" tabindex\x3d"1" role\x3d"button"\x3e{{strings.index.exitButtonLabel}}\x3c/a\x3e\x3c/span\x3e\x3c/div\x3e \x3c/div\x3e \x3c/div\x3e';
DKI.templates.window="\x3cdiv id\x3d'{{id}}' class\x3d'loading windowContainer'\x3e\x3cdiv class\x3d'browserHeader'\x3e\x3cspan class\x3d'headerTitle' tabindex\x3d'0'\x3e{{windowTitle}}\x3c/span\x3e\x3cbutton class\x3d'windowContainer-close fa fa-close' aria-label\x3d'{{strings.runtime.buttonLabelClose}}' role\x3d'button' tabindex\x3d'0'\x3e\x3c/button\x3e\x3c/div\x3e{{{afterHeader}}}\x3cdiv id\x3d'{{contentId}}' class\x3d'browserContentContainer'\x3e{{{windowContent}}}\x3c/div\x3e\x3c/div\x3e";
DKI.templates.mobileBackSearch="{{#if mobile}}\x3cdiv class\x3d'backButton' tabindex\x3d'0'\x3e Back \x3c/div\x3e{{#unless disableSearch}}\x3cdiv class\x3d'searchContainer'\x3e\x3cdiv class\x3d'searchIcon'/\x3e\x3cinput class\x3d'searchInput' type\x3d'text'\x3e\x3c/input\x3e\x3c/div\x3e{{/unless}}{{/if}}";DKI.templates.search="\x3cdiv id\x3d'resultList' class\x3d'panel browserList'\x3e\x3cdiv class\x3d'searchContainer'\x3e\x3cspan class\x3d'searchtitlelabel'\x3e{{strings.courseSearch.title}}\x3c/span\x3e\x3cinput id\x3d'courseSearchInput'class\x3d'searchInput' type\x3d'text' tabindex\x3d'0' placeholder\x3d'{{strings.courseSearch.inputPlaceholder}}'\x3e\x3c/input\x3e\x3ci class\x3d'fa fa-search'/\x3e\x3c/div\x3e\x3cul id\x3d'results' class\x3d'resultList clearfix'\x3e\x3cli class\x3d'searchItem' data-filter\x3d'top' tabindex\x3d'0' title\x3d'{{strings.courseSearch.filterTop}}'\x3e\x3cspan class\x3d'icon top'\x3e\x3c/span\x3e\x3cspan class\x3d'filterTitle'\x3e{{strings.courseSearch.filterTop}}\x3c/span\x3e\x3c/li\x3e\x3cli class\x3d'searchItem' data-filter\x3d'page'  data-istextitem\x3d'true' tabindex\x3d'0'title\x3d'{{strings.courseSearch.filterTranscripts}}'\x3e\x3cspan class\x3d'icon page'\x3e\x3c/span\x3e\x3cspan class\x3d'filterTitle'\x3e{{strings.courseSearch.filterTranscripts}}\x3c/span\x3e\x3cspan class\x3d'resCount'\x3e\x3c/span\x3e\x3c/li\x3e\x3cli class\x3d'searchItem' data-filter\x3d'image' tabindex\x3d'0'title\x3d'{{strings.courseSearch.filterImages}}'\x3e\x3cspan class\x3d'icon image'\x3e\x3c/span\x3e\x3cspan class\x3d'filterTitle'\x3e{{strings.courseSearch.filterImages}}\x3c/span\x3e\x3cspan class\x3d'resCount'\x3e\x3c/span\x3e\x3c/li\x3e\x3cli class\x3d'searchItem' data-filter\x3d'video' tabindex\x3d'0'title\x3d'{{strings.courseSearch.filterVideos}}'\x3e\x3cspan class\x3d'icon video'\x3e\x3c/span\x3e\x3cspan class\x3d'filterTitle'\x3e{{strings.courseSearch.filterVideos}}\x3c/span\x3e\x3cspan class\x3d'resCount'\x3e\x3c/span\x3e\x3c/li\x3e\x3cli class\x3d'searchItem' data-filter\x3d'audio' tabindex\x3d'0'title\x3d'{{strings.courseSearch.filterAudio}}'\x3e\x3cspan class\x3d'icon audio'\x3e\x3c/span\x3e\x3cspan class\x3d'filterTitle'\x3e{{strings.courseSearch.filterAudio}}\x3c/span\x3e\x3cspan class\x3d'resCount'\x3e\x3c/span\x3e\x3c/li\x3e\x3cli class\x3d'searchItem' data-filter\x3d'richMedia' tabindex\x3d'0'title\x3d'{{strings.courseSearch.filterRichMedia}}'\x3e\x3cspan class\x3d'icon richMedia'\x3e\x3c/span\x3e\x3cspan class\x3d'filterTitle'\x3e{{strings.courseSearch.filterRichMedia}}\x3c/span\x3e\x3cspan class\x3d'resCount'\x3e\x3c/span\x3e\x3c/li\x3e\x3cli class\x3d'division'\x3e\x3c/li\x3e\x3cli class\x3d'searchItem' data-filter\x3d'text' data-istextitem\x3d'true' tabindex\x3d'0'title\x3d'{{strings.courseSearch.filterText}}'\x3e\x3cspan class\x3d'icon text'\x3e\x3c/span\x3e\x3cspan class\x3d'filterTitle'\x3e{{strings.courseSearch.filterText}}\x3c/span\x3e\x3cspan class\x3d'resCount'\x3e\x3c/span\x3e\x3c/li\x3e\x3cli class\x3d'searchItem' data-filter\x3d'reference'  data-istextitem\x3d'true' tabindex\x3d'0'title\x3d'{{strings.courseSearch.filterReferences}}'\x3e\x3cspan class\x3d'icon reference'\x3e\x3c/span\x3e\x3cspan class\x3d'filterTitle'\x3e{{strings.courseSearch.filterReferences}}\x3c/span\x3e\x3cspan class\x3d'resCount'\x3e\x3c/span\x3e\x3c/li\x3e\x3cli class\x3d'searchItem' data-filter\x3d'glossary'  data-istextitem\x3d'true' tabindex\x3d'0'title\x3d'{{strings.courseSearch.filterGlossaries}}'\x3e\x3cspan class\x3d'icon glossary'\x3e\x3c/span\x3e\x3cspan class\x3d'filterTitle'\x3e{{strings.courseSearch.filterGlossaries}}\x3c/span\x3e\x3cspan class\x3d'resCount'\x3e\x3c/span\x3e\x3c/li\x3e\x3c/ul\x3e\x3cdiv class\x3d'sequential' title\x3d''\x3e\x3cspan class\x3d'icon alert'\x3e\x3c/span\x3e\x3ch3\x3e{{strings.courseSearch.sequentialWarningTitle}}\x3c/h3\x3e\x3cp\x3e{{strings.courseSearch.sequentialWarningText}}\x3c/p\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'panel details list'\x3e\x3cdiv class\x3d'switchContainer'\x3e\x3cdiv class\x3d'listPanel'\x3e\x3c/div\x3e\x3cdiv class\x3d'propertiesPanel'\x3e\x3cdiv tabindex\x3d'0' class\x3d'backNav'\x3e\x3cspan class\x3d'icon backChevron'\x3e\x3c/span\x3e\x3cspan\x3e{{strings.courseSearch.back}}\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d'overflowContainer'\x3e\x3cdiv class\x3d'propertiesContent'\x3e\x3c/div\x3e\x3cdiv class\x3d'linksContainer'\x3e\x3ch3 class\x3d'linksTitle'\x3e\x3c/h3\x3e\x3cdiv class\x3d'links'\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e";
DKI.templates.glossaryPopup='\x3cdiv id\x3d"glossaryPopup" class\x3d"popupWindow loading"\x3e\x3cdiv class\x3d"glossaryPopupHeader"\x3e\x3cp id\x3d"glossaryPopupTerm" tabindex\x3d"-1" \x3e\x3c/p\x3e\x3c/div\x3e\x3cdiv class\x3d"sectionBreak"\x3e\x3c/div\x3e\x3cdiv class\x3d"glossaryPopupBody"\x3e\x3cdiv id\x3d"glossaryPopupDefinitionContainer"\x3e\x3cdiv id\x3d"glossaryPopupDefinition" class\x3d"popupContent" tabindex\x3d"-1"\x3e\x3c/div\x3e\x3cdiv id\x3d"glossaryPopupSource" class\x3d"popupContent" tabindex\x3d"-1"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"glossaryHoverDefinition" class\x3d"popupWindow"\x3e\x3c/div\x3e';
DKI.templates.glossaryBrowser="\x3cdiv id\x3d'termList' class\x3d'panel browserList'\x3e\x3cul id\x3d'termUl' class\x3d'terms'\x3e\x3c/ul\x3e\x3c/div\x3e\x3cdiv id\x3d'termDetails' class\x3d'panel details'\x3e\x3cdiv class\x3d'detailsContent'\x3e\x3cdiv\x3e\x3cdiv id\x3d'term' tabindex\x3d'0'\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d\"sectionBreak\"\x3e\x3c/div\x3e\x3cdiv id\x3d'definition' tabindex\x3d'0'\x3e\x3c/div\x3e\x3cdiv class\x3d'sectionBreak'\x3e\x3c/div\x3e\x3cdiv id\x3d'attribution' tabindex\x3d'0'\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e";
DKI.templates.glossary={list:'\x3cul class\x3d"list-group dki-glossary-list {{config.className}}"\x3e{{#each terms}}{{\x3e DKI.templates.glossary.list_term}}{{/each}}\x3c/ul\x3e',list_term:'\x3cli class\x3d"list-group-item dki-glossary-list-term" data-id\x3d"{{glossaryid}}" tabindex\x3d"1"\x3e{{term}}\x3c/li\x3e',term_content:'\x3cdiv class\x3d"dki-glossary-term-content-container"\x3e\x3cdiv class\x3d"dki-glossary-term-content-header-container tooltip-header"\x3e\x3ch4 class\x3d"dki-glossary-term-content-header"\x3e\x3cdiv class\x3d"dki-glossary-term-tooltip-close" tabindex\x3d"1" aria-label\x3d"{{strings.runtime.buttonLabelClose}}"\x3e\x3ci class\x3d"fa fa-close"\x3e\x3c/i\x3e\x3c/div\x3e\x3cspan id\x3d"dki-glossary-term-title" tabindex\x3d"1"\x3e{{term.term}}\x3c/span\x3e\x3c/h4\x3e\x3c/div\x3e\x3cdiv id\x3d"glosscon" class\x3d"dki-glossary-term-content"\x3e\x3cdiv class\x3d"dki-glossary-term-content-definition" tabindex\x3d"1" aria-label\x3d"{{term.definition}}"\x3e{{{term.definition}}}\x3c/div\x3e{{#glossaryHasAttribution term}}\x3cdiv class\x3d"sectionBreak fillWidth"\x3e\x3c/div\x3e\x3csmall class\x3d"dki-glossary-term-content-source" tabindex\x3d"1" aria-label\x3d"{{{glossaryAttribution term}}}"\x3e{{{glossaryAttribution term}}}\x3c/small\x3e{{/glossaryHasAttribution}}\x3cdiv class\x3d"dki-glossary-term-tooltip-close" tabindex\x3d"1" aria-label\x3d"{{strings.runtime.buttonLabelClose}}"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e',
term_tooltip:'\x3cdiv role\x3d"dialog" aria-live\x3d"off" aria-labelledby\x3d"dki-glossary-term-emptyLabel" aria-label\x3d" " class\x3d"dki-glossary-term-tooltip"\x3e\x3cdiv id\x3d"dki-glossary-term-emptyLabel" aria-label\x3d" "\x3e\x3c/div\x3e{{\x3e DKI.templates.glossary.term_content term\x3dterm strings\x3dstrings}}\x3c/div\x3e'};Handlebars.registerPartial("DKI.templates.glossary.list_term",DKI.templates.glossary.list_term);Handlebars.registerPartial("DKI.templates.glossary.term_content",DKI.templates.glossary.term_content);
DKI.templates.citationPopup="\x3cdiv id\x3d'referencePopup' class\x3d'popupWindow loading'\x3e\x3cdiv class\x3d'referencePopupHeader'\x3e\x3cdiv id\x3d'referencePopupClose' class\x3d'referenceCloseButton' tabindex\x3d'1' title\x3d'{{strings.runtime.buttonLabelClose}}' role\x3d'button'\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'sectionBreak'\x3e\x3c/div\x3e\x3cdiv class\x3d'referencePopupBody'\x3e\x3cdiv id\x3d'referencePopupText' class\x3d'popupContent' tabindex\x3d'1'\x3e\x3cdiv id\x3d'referenceTextContainer'\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'sectionBreak'\x3e\x3c/div\x3e\x3cdiv id\x3d'linkContainer'\x3e\x3cspan id\x3d'viewBibliographyLink' title \x3d '{{strings.references.viewBibliography}}'tabindex\x3d'1'\x3e\x3c/span\x3e\x3cdiv class\x3d'nav'\x3e\x3cspan class\x3d'previous citationNav' tabindex\x3d'1'\x3e\x3c/span\x3e\x3cspan class\x3d'counter' tabindex\x3d'1'\x3e\x3c/span\x3e\x3cspan class\x3d'next citationNav' tabindex\x3d'0'\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e";
DKI.templates.resource={list:'\x3cul class\x3d"list-group dki-resource-list {{config.className}}"\x3e{{#each categories}}{{\x3e DKI.templates.resource.asset_category}}{{/each}}{{\x3e DKI.templates.resource.links_category}}{{\x3e DKI.templates.resource.pages_category}}\x3c/ul\x3e',asset_category:'\x3cli class\x3d"list-group-item dki-resource-list-category" data-id\x3d"{{id}}" tabindex\x3d"1"\x3e\x3ch5 class\x3d"list-group-item-heading"\x3e{{title}}\x3c/h5\x3e\x3cul class\x3d"list-group dki-resource-list-items"\x3e{{#each resources}}{{\x3e DKI.templates.resource.asset_list_item}}{{/each}}\x3c/ul\x3e\x3c/li\x3e',
asset_list_item:'\x3cli class\x3d"list-group-item dki-resource-list-item {{#if fancybox.href}}fancy-box-item{{/if}}" data-id\x3d"{{id}}" title\x3d"{{title}}" {{#if fancybox.href}}data-fancybox-href\x3d"{{fancybox.href}}" data-fancybox-group\x3d"{{fancybox.group}}" data-fancybox-title\x3d"{{fancybox.title}}" data-fancybox-type\x3d"{{fancybox.type}}" {{/if}}\x3e\x3cp class\x3d"list-group-item-text"\x3e{{#if allowResourceDownload}}\x3ca download\x3d"{{title}}.{{extension}}" href\x3d"{{filePath}}" target\x3d"_blank" class\x3d"dki-resource-asset-list-item-download" tabindex\x3d"1" aria-label\x3d"{{title}}" data-id\x3d"{{id}}"\x3e\x3ci class\x3d"fa fa-download"\x3e\x3c/i\x3e\x3c/a\x3e{{/if}}{{title}}\x3c/p\x3e{{{fancybox.inline_content}}}\x3c/li\x3e',
links_category:'{{#if links}}\x3cli class\x3d"list-group-item dki-resource-list-category" data-id\x3d"{{id}}" tabindex\x3d"1"\x3e\x3ch5 class\x3d"list-group-item-heading"\x3e{{links.title}}\x3c/h5\x3e\x3cul class\x3d"list-group dki-resource-list-items"\x3e{{#each links.resources}}{{\x3e DKI.templates.resource.link_list_item}}{{/each}}\x3c/ul\x3e\x3c/li\x3e{{/if}}',link_list_item:'\x3cli class\x3d"list-group-item dki-resource-list-item" data-id\x3d"{{id}}"\x3e\x3ca class\x3d"link" href\x3d"{{parameters.url}}" target\x3d"_blank" tabindex\x3d"1" aria-describedby\x3d"{{id}}_description"\x3e{{parameters.title}}\x3c/a\x3e\x3cp id\x3d"{{id}}_description" class\x3d"list-group-item-text"\x3e{{parameters.description}}\x3c/p\x3e\x3c/li\x3e',
video_content:'\x3cdiv id\x3d"{{id}}" data-resource-id\x3d"{{resource_id}}" class\x3d"dki-resource-list-inline-media"\x3e{{\x3e jPlayerVideo videoAncestorId\x3dancestor_id videoPlayerId\x3dplayer_id}}\x3c/div\x3e',audio_content:'\x3cdiv id\x3d"{{id}}" data-resource-id\x3d"{{resource_id}}" class\x3d"dki-resource-list-inline-media"\x3e{{\x3e jPlayerAudio audioAncestorId\x3dancestor_id audioPlayerId\x3dplayer_id}}\x3c/div\x3e',pages_category:'{{#if pages}}\x3cli class\x3d"list-group-item dki-resource-pages" data-id\x3d"{{id}}" tabindex\x3d"1"\x3e\x3ch5 class\x3d"list-group-item-heading"\x3e{{pages.title}}\x3c/h5\x3e\x3cul class\x3d"list-group dki-resource-list-items"\x3e{{#each pages.resources}}{{\x3e DKI.templates.resource.link_page_item}}{{/each}}\x3c/ul\x3e\x3c/li\x3e{{/if}}',
link_page_item:'\x3cli class\x3d"list-group-item dki-resource-list-item" data-id\x3d"{{id}}" tabindex\x3d"1"\x3e\x3cdiv class\x3d"link pageLink" data-id\x3d"{{id}}"\x3e{{title}}\x3c/div\x3e\x3c/li\x3e'};Handlebars.registerPartial("DKI.templates.resource.asset_category",DKI.templates.resource.asset_category);Handlebars.registerPartial("DKI.templates.resource.asset_list_item",DKI.templates.resource.asset_list_item);Handlebars.registerPartial("DKI.templates.resource.links_category",DKI.templates.resource.links_category);
Handlebars.registerPartial("DKI.templates.resource.link_list_item",DKI.templates.resource.link_list_item);Handlebars.registerPartial("DKI.templates.resource.pages_category",DKI.templates.resource.pages_category);Handlebars.registerPartial("DKI.templates.resource.link_page_item",DKI.templates.resource.link_page_item);DKI.templates.resourceBrowser="\x3cdiv id\x3d'resourceList' class\x3d'panel browserList'\x3e{{#unless mobile}}\x3cdiv class\x3d'searchContainer'\x3e\x3cdiv class\x3d'searchIcon'/\x3e\x3cinput id\x3d'resourceSearchBox'class\x3d'searchInput' type\x3d'text' tabindex\x3d'1'\x3e\x3c/input\x3e\x3c/div\x3e{{/unless}}\x3cul id\x3d'list' class\x3d'resultList'\x3e\x3c/ul\x3e\x3c/div\x3e\x3cdiv id\x3d'resourceView' class\x3d'panel'\x3e\x3cdiv class\x3d'detailsContent border'\x3e\x3cdiv id\x3d'resourceDetails'\x3e\x3cdiv id\x3d'resourceContent' tabindex\x3d'1'\x3e\x3c/div\x3e\x3cdiv class\x3d'assetProperties'\x3e\x3cdiv id\x3d'resourceTitle' tabindex\x3d'1'\x3e\x3c/div\x3e\x3cdiv id\x3d'resourceDescription' tabindex\x3d'1'\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e";
DKI.templates.feedbackPanel={tooltipContent:'\x3cdiv class\x3d"feedback-wrapper"\x3e{{\x3e note.submit}}\x3cdiv class\x3d"feedback-notes"\x3e{{#each o.notes}}{{\x3e note}}{{/each}}\x3c/div\x3e\x3c/div\x3e',toolbar:'\x3cdiv id\x3d"reviewerTabContainer"\x3e\x3cspan class\x3d"reviewerButtonLabel reviewerTabDraggableIcon"\x3e\x3ci class\x3d"fa fa-arrows"\x3e\x3c/i\x3e\x3c/span\x3e\x3cspan class\x3d"reviewerButtonLabel" tabindex\x3d"0"\x3eReview Tools\x3c/span\x3e\x3cdiv class\x3d"reviewerTabButton feedback-tooltip-icon" id\x3d"feedbackTab" title\x3d"View page feedback" tabindex\x3d"0"\x3e\x3c/div\x3e\x3cdiv class\x3d"reviewerTabButton" id\x3d"pinFeedback" title\x3d"Select element for feedback" tabindex\x3d"0"\x3e\x3c/div\x3e\x3cdiv class\x3d"reviewerTabButton" id\x3d"answerKey" title\x3d"See the test answer key" tabindex\x3d"0"\x3e\x3c/div\x3e\x3cdiv class\x3d"reviewerTabButton" id\x3d"endReviewTab" title\x3d"End the review" tabindex\x3d"0"\x3e\x3c/div\x3e\x3c/div\x3e'};
DKI.templates.popupPanel={wrap:'\x3cdiv class\x3d"fancybox-wrap"\x3e\x3cdiv class\x3d"fancybox-skin"\x3e\x3cdiv class\x3d"fancybox-outer"\x3e\x3cdiv class\x3d"fancybox-inner"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e',closeBtn:'\x3ca title\x3d"'+DKI.strings.runtime.buttonLabelClose+'" class\x3d"fancybox-item fancybox-close" href\x3d"javascript:;"\x3e\x3c/a\x3e'};DKI.templates.feedbackPopup=Handlebars.compile('\x3cdiv class\x3d"feedbackWrapper feedbackContainer"\x3e\x3cdiv class\x3d"feedbackContent"\x3e\x3cdiv class\x3d"feedbackHeader"\x3e\x3cspan class\x3d"feedbackClose" tabindex\x3d"0"\x3e\x3c/span\x3e\x3c/div\x3e{{{content}}}\x3c/div\x3e\x3c/div\x3e');
DKI.templates.browserWarning='\x3cdiv class\x3d"modal fade" tabindex\x3d"-1" role\x3d"dialog" data-backdrop\x3d"static"\x3e\x3cdiv class\x3d"modal-dialog"\x3e\x3cdiv class\x3d"modal-content"\x3e\x3cdiv class\x3d"modal-header"\x3e\x3cbutton type\x3d"button" class\x3d"close" data-dismiss\x3d"modal" aria-label\x3d"{{{strings.browserWarning.close}}}"\x3e\x3cspan aria-hidden\x3d"true"\x3e\x26times;\x3c/span\x3e\x3c/button\x3e\x3ch4 class\x3d"modal-title"\x3e{{{strings.browserWarning.title}}}\x3c/h4\x3e\x3c/div\x3e\x3cdiv class\x3d"modal-body"\x3e\x3cdiv id\x3d"browserWarning_content"\x3e\x3cp\x3e{{{strings.browserWarning.message}}}\x3c/p\x3e\x3cdiv id\x3d"browserWarning_downloads"\x3e\x3ca href\x3d"http://www.google.com/chrome/" target\x3d"_blank" id\x3d"browserWarning_chromeDownload" title\x3d"{{{strings.browserWarning.downloadChrome}}}"\x3e\x3cspan\x3e{{{strings.browserWarning.downloadChrome}}}\x3c/span\x3e\x3c/a\x3e\x3ca href\x3d"http://www.getfirefox.com/" target\x3d"_blank" id\x3d"browserWarning_firefoxDownload" title\x3d"{{{strings.browserWarning.downloadFirefox}}}"\x3e\x3cspan\x3e{{{strings.browserWarning.downloadFirefox}}}\x3c/span\x3e\x3c/a\x3e\x3ca href\x3d"http://www.apple.com/safari/download/" target\x3d"_blank" id\x3d"browserWarning_safariDownload" title\x3d"{{{strings.browserWarning.downloadSafari}}}"\x3e\x3cspan\x3e{{{strings.browserWarning.downloadSafari}}}\x3c/span\x3e\x3c/a\x3e\x3ca href\x3d"http://windows.microsoft.com/en-US/internet-explorer/downloads/ie" target\x3d"_blank" id\x3d"browserWarning_ieDownload" title\x3d"{{{strings.browserWarning.downloadIe}}}"\x3e\x3cspan\x3e{{{strings.browserWarning.downloadIe}}}\x3c/span\x3e\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"modal-footer"\x3e\x3cbutton type\x3d"button" tabindex\x3d\'1\' data-dismiss\x3d"modal" class\x3d"btn btn-default"\x3e{{{strings.runtime.buttonLabelClose}}}\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e';
DKI.templates.alertPanel=Handlebars.compile('\x3cdiv id\x3d"action_popup_{{id}}" data-actionID\x3d"{{id}}" tabindex\x3d"1" role\x3d\'dialog\' {{#if ariaLabel}}aria-label\x3d\'{{ariaLabel}}\'{{else}} aria-labelledby\x3d\'title_{{id}}\'{{/if}} class\x3d"popup modal {{style}} {{effect}} {{popupType.mod}} {{popupType.type}}"\x3e\x3cdiv class\x3d"vertAlign"\x3e\x3cdiv class\x3d"modal-dialog" role\x3d"document"\x3e\x3cdiv class\x3d"modal-content"\x3e\x3cdiv class\x3d"modal-header"\x3e{{#if exit}}\x3cbutton type\x3d"button" class\x3d"close" tabindex\x3d"1" aria-label\x3d"close"\x3e\x26times;\x3c/button\x3e{{/if}}\x3ch1 id\x3d\'title_{{id}}\' class\x3d"modal-title" {{#ifNEq title \'\'}}tabindex\x3d"1" aria-label\x3d"{{{title}}}" {{else}}tabindex\x3d"-1" {{/ifNEq}}\x3e{{{title}}}\x3c/h1\x3e\x3c/div\x3e\x3cdiv{{#if tabContent}} tabindex\x3d\'1\'{{/if}} class\x3d"modal-body"id\x3d\'content_{{id}}\'\x3e{{{html}}}\x3c/div\x3e\x3cdiv class\x3d"modal-footer"\x3e{{#if showInput}}\x3cdiv class\x3d\'doNotShow\'\x3e\x3cinput id\x3d\'popupDoNotShow\' type\x3d\'checkbox\' name\x3d\'popupDoNotShow\'/\x3e\x3clabel for\x3d\'popupDoNotShow\'\x3eDo not show this again\x3c/label\x3e\x3c/div\x3e{{/if}}\x3cbutton type\x3d"button" tabindex\x3d\'1\' aria-label\x3d"{{{strings.close}}}" class\x3d"btn {{#if popupType.btnCls}}{{popupType.btnCls}} {{else}}btn-default {{/if}}dismiss"\x3e{{{strings.close}}}\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e');
DKI.templates.notificationPanel=Handlebars.compile('\x3cdiv id\x3d"action_popup_{{id}}" data-actionID\x3d"{{id}}" {{#if role}}role\x3d"{{role}}"{{/if}} {{#if ariaLabel}}aria-label\x3d\'{{ariaLabel}}\'{{else}} aria-labelledby\x3d\'title_{{id}}\'{{/if}} class\x3d"popup alert {{style}} alert-dismissable {{effect}} {{popupType.mod}} {{popupType.type}}"  data-id\x3d{{id}}\x3e\x3ch4\x3e\x3cdiv class\x3d"titleCont"\x3e\x3cbutton type\x3d"button"  tabindex\x3d\'1\' class\x3d"close dismiss" aria-label\x3d"close"\x3e\x3cspan aria-hidden\x3d"true"\x3e\x26times;\x3c/span\x3e\x3c/button\x3e\x3cspan id\x3d\'title_{{id}}\' class\x3d"modal-title" {{#ifNEq title \'\'}}tabindex\x3d"1" aria-label\x3d"{{{title}}}" {{else}}tabindex\x3d"-1" {{/ifNEq}} \x3e{{{title}}}\x3c/span\x3e\x3c/div\x3e\x3c/h4\x3e\x3cdiv id\x3d\'content_{{id}}\' class\x3d"alert-content" {{#if tabContent}} tabindex\x3d\'1\'{{/if}}\x3e{{{html}}}\x3c/div\x3e\x3c/div\x3e');
DKI.templates.certificate={body:'\x3cdiv class\x3d"certificate"\x3e\x3cdiv class\x3d"content"\x3e\x3ch1\x3e{{{strings.certificate.title}}}\x3c/h1\x3e\x3cdiv\x3e{{{strings.certificate.body}}}\x3c/div\x3e\x3cdiv\x3e\x3cspan id\x3d"certificate_date"\x3e\x3c/span\x3e\x3c/div\x3e\x3ca id\x3d"certificate_print" tabindex\x3d"0" title\x3d"{{{strings.certificate.printTooltip}}}"\x3e\x3cspan\x3e{{{strings.certificate.print}}}\x3c/span\x3e\x3c/a\x3e\x3cdiv id\x3d"certificate_logo"\x3e\x3c/div\x3e\x3cdiv id\x3d"certificate_signature"\x3e{{{strings.certificate.sign}}}\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e'};
DKI.templates.prompt='\x3cdiv class\x3d"modal fade" tabindex\x3d"-1" role\x3d"dialog" data-backdrop\x3d"static"\x3e\x3cdiv class\x3d"modal-dialog"\x3e\x3cdiv class\x3d"modal-content"\x3e\x3cdiv class\x3d"modal-body"\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel for\x3d"DKI_prompt_input"\x3e{{{strings.message}}}\x3c/label\x3e\x3cinput id\x3d"DKI_prompt_input" class\x3d"form-control"/\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"modal-footer"\x3e\x3cbutton type\x3d"button" class\x3d"prompt_ok btn btn-primary"\x3e{{{strings.ok}}}\x3c/button\x3e\x3cbutton type\x3d"button" class\x3d"btn btn-default"\x3e{{{strings.cancel}}}\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e';
Handlebars.registerPartial("note.body",'\x3cdiv class\x3d"feedback-note-body-wrapper" data-id\x3d"{{id}}"\x3e\x3cdiv class\x3d"feedback-note-avatar" style\x3d"background-image: url({{enteredBy.avatarURL}});"\x3e\x3c/div\x3e\x3cdiv class\x3d"feedback-note-details"\x3e\x3cdiv class\x3d"feedback-note-header"\x3e\x3cspan class\x3d"feedback-name"\x3e{{enteredBy.first}} {{enteredBy.last}}\x3c/span\x3e\x3cspan class\x3d"feedback-date"\x3e{{simpleDate dateFiled}}\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"feedback-note-body"\x3e{{{description}}}\x3c/div\x3e{{\x3e note.edit}}\x3ca class\x3d"feedback-note-action upvote"\x3e+1\x3c/a\x3e\x3cdiv class\x3d"feedback-note-rating"\x3e{{{rating}}}\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e');
Handlebars.registerPartial("note.submit",'\x3cdiv class\x3d"feedback-submit-wrapper"\x3e\x3cdiv class\x3d"feedback-closeFeedbackTab" title\x3d"Close" tabindex\x3d"0"\x3e\x3ci class\x3d"fa fa-close"\x3e\x3c/i\x3e\x3c/div\x3e\x3ctextarea class\x3d"txtArea-feedback" maxlength\x3d"1000"\x3e\x3c/textarea\x3e\x3cspan\x3e1000 characters\x3c/span\x3e\x3cbutton class\x3d"feedback-btnSubmit"\x3e{{strings.buttonLabelSubmit}}\x3c/button\x3e\x3c/div\x3e');Handlebars.registerPartial("note.reply",'\x3cdiv class\x3d"feedback-reply-wrapper" data-parent_note_id\x3d"{{id}}"\x3e\x3ctextarea class\x3d"txtArea-feedback" maxlength\x3d"1000"\x3e\x3c/textarea\x3e\x3cspan\x3e1000 characters\x3c/span\x3e\x3cbutton class\x3d"feedback-btnSubmit"\x3eReply\x3c/button\x3e\x3c/div\x3e');
Handlebars.registerPartial("note.edit",'\x3cdiv class\x3d"feedback-edit-wrapper" data-id\x3d"{{id}}"\x3e\x3ctextarea class\x3d"txtArea-feedback" maxlength\x3d"1000"\x3e{{description}}\x3c/textarea\x3e\x3cspan\x3e1000 characters\x3c/span\x3e\x3cbutton class\x3d"feedback-btnSubmit"\x3eDone\x3c/button\x3e\x3c/div\x3e\x3ca class\x3d"feedback-note-action edit"\x3eedit\x3c/a\x3e');Handlebars.registerPartial("note",'\x3cdiv class\x3d"feedback-note-wrapper" data-id\x3d"{{id}}" data-enteredby\x3d"{{enteredBy.id}}"\x3e{{\x3e note.body}}\x3cdiv class\x3d"feedback-note-comments-wrapper"\x3e{{#each notes}}{{\x3e note.body}}{{/each}}{{\x3e note.reply}}\x3c/div\x3e\x3cdiv class\x3d"feedback-note-actions"\x3e\x3ca class\x3d"feedback-note-action reply"\x3ereply\x3c/a\x3e\x3ca class\x3d"feedback-note-action delete"\x3edelete\x3c/a\x3e\x3ca class\x3d"feedback-note-action resolve"\x3eresolve\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e');
Handlebars.registerPartial("jPlayerVideo",'\x3cdiv id\x3d\'{{videoAncestorId}}\' class\x3d"jp-video"\x3e\x3cdiv class\x3d"jp-type-single"\x3e\x3cdiv id \x3d\'{{videoPlayerId}}\' class\x3d"vidPlayer" class\x3d"jp-video-player"\x3e\x3c/div\x3e\x3cdiv class\x3d"jp-video-play"\x3e\x3ca class\x3d"jp-video-play-icon"\x3eplay\x3c/a\x3e\x3c/div\x3e\x3cdiv class\x3d"jp-gui"\x3e\x3cdiv class\x3d"jp-interface"\x3e\x3cdiv class\x3d"jp-progress"\x3e\x3cdiv class\x3d"jp-seek-bar"\x3e\x3cdiv class\x3d"jp-play-bar"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"jp-controls-holder"\x3e\x3cul class\x3d"jp-controls"\x3e\x3cli\x3e\x3ca class\x3d"jp-play" role\x3d"button"\x3eplay\x3c/a\x3e\x3c/li\x3e\x3cli\x3e\x3ca class\x3d"jp-pause" role\x3d"button"\x3epause\x3c/a\x3e\x3c/li\x3e\x3cli\x3e\x3ca class\x3d"jp-mute" role\x3d"button"\x3emute\x3c/a\x3e\x3c/li\x3e\x3cli\x3e\x3ca class\x3d"jp-unmute" role\x3d"button"\x3eunmute\x3c/a\x3e\x3c/li\x3e\x3cli\x3e\x3ca class\x3d"jp-transcript" role\x3d"button"\x3etranscript\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"jp-time"\x3e\x3cdiv class\x3d"jp-current-time"\x3e\x3c/div\x3e/\x3cdiv class\x3d"jp-duration"\x3e\x3c/div\x3e\x3c/li\x3e\x3cli class\x3d"jp-fs"\x3e\x3ca class\x3d"jp-full-screen" role\x3d"button"\x3efull\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"jp-fs"\x3e\x3ca class\x3d"jp-restore-screen" role\x3d"button"\x3erestore\x3c/a\x3e\x3c/li\x3e\x3c/ul\x3e\x3cdiv class\x3d"jp-volume-bar"\x3e\x3cdiv class\x3d"jp-volume-bar-value"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e');
Handlebars.registerPartial("jPlayerAudio",'\x3cdiv id \x3d \'{{audioAncestorId}}\' class\x3d\'audioContainer mediaContainer jp-audio\'\x3e\x3cdiv id \x3d\'{{audioPlayerId}}\' class\x3d\'audioPlayer jp-jplayer\'\x3e\x3c/div\x3e\x3cdiv class\x3d"jp-type-single"\x3e\x3cdiv class\x3d"jp-gui jp-interface"\x3e\x3cdiv class\x3d"jp-progress"\x3e\x3cdiv class\x3d"jp-seek-bar"\x3e\x3cdiv class\x3d"jp-play-bar"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"jp-controls-holder"\x3e\x3cul class\x3d"jp-controls"\x3e\x3cli\x3e\x3ca class\x3d"jp-play" tabindex\x3d"0" role\x3d"button"\x3eplay\x3c/a\x3e\x3c/li\x3e\x3cli\x3e\x3ca class\x3d"jp-pause" tabindex\x3d"0" role\x3d"button"\x3epause\x3c/a\x3e\x3c/li\x3e\x3cli\x3e\x3ca class\x3d"jp-mute" tabindex\x3d"0" role\x3d"button"\x3emute\x3c/a\x3e\x3c/li\x3e\x3cli\x3e\x3ca class\x3d"jp-unmute"  style\x3d"display:none" tabindex\x3d"0" role\x3d"button"\x3eunmute\x3c/a\x3e\x3c/li\x3e\x3cli\x3e\x3ca class\x3d"jp-transcript" tabindex\x3d"0" role\x3d"button"\x3etranscript\x3c/a\x3e\x3c/li\x3e\x3cli\x3e\x3ca class\x3d"jp-cc" tabindex\x3d"0" role\x3d"button"\x3e\x3ci class\x3d"fa fa-cc"\x3e\x3c/i\x3eclosed caption\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"jp-time jp-fs" tabindex\x3d"0"\x3e\x3cdiv class\x3d"jp-current-time"\x3e\x3c/div\x3e\x3cdiv class\x3d"jp-time-slash"\x3e/\x3c/div\x3e\x3cdiv class\x3d"jp-duration"\x3e\x3c/div\x3e\x3c/li\x3e\x3c/ul\x3e\x3c/div\x3e\x3cdiv class\x3d"jp-no-solution"\x3e\x3cspan\x3eThe media element failed to load.\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e');
Handlebars.registerPartial("jPlayerAudioSimple",'\x3cdiv id\x3d"{{audioSimpleAncestorId}}" class\x3d"jp-basic jPlayerAudioSimple"\x3e\x3cdiv class\x3d"jp-type-single"\x3e\x3cdiv id\x3d\'{{audioSimplePlayerId}}\' class\x3d"jp-audio"\x3e\x3c/div\x3e\x3cdiv class\x3d"jp-gui jp-basic jp-interface"\x3e\x3cdiv class\x3d"jp-controls-holder"\x3e{{#unless skipControls}}\x3cul class\x3d"jp-controls"\x3e\x3cli\x3e\x3ca class\x3d"jp-play" tabindex\x3d"0" role\x3d"button"\x3eplay\x3c/a\x3e\x3c/li\x3e\x3cli\x3e\x3ca class\x3d"jp-pause" tabindex\x3d"0" role\x3d"button"\x3epause\x3c/a\x3e\x3c/li\x3e\x3c/ul\x3e{{/unless}}\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e');
Handlebars.registerHelper("contentApi",function(b){return contentApi&&contentApi[b]?"function"===typeof contentApi[b]?contentApi[b]():contentApi[b]:""});Handlebars.registerHelper("exists",function(b,c){b=b.split(".");for(var h=!0,l=0;l<b.length;l++)if("undefined"===typeof this[b[l]]){h=!1;break}return h?c.fn(this):c.inverse(this)});Handlebars.registerHelper("runTemplate",function(b,c,h){"function"!==typeof b&&(b=b.template);return new Handlebars.SafeString(b(c.hash||c))});
Handlebars.registerHelper("simpleDate",function(b,c){b=new Date(b);return b.getDate()+"/"+(b.getMonth()+1)+"/"+b.getFullYear()});Handlebars.registerHelper("assessmentScore",function(b,c){return b.getScore()});Handlebars.registerHelper("assessmentPassmark",function(b,c){c=contentApi.getPassMark();b.module.passmark&&(c=b.module.passmark);return c});Handlebars.registerHelper("totalDelivered",function(b,c){return dataStorage.loadTest(b.module,!1).questions.length});
Handlebars.registerHelper("questionPartialScoring",function(b,c){c="On";if(0==b&&!playerBehaviour.partialScoring||2==b)c="Off";return c});
Handlebars.registerHelper("questionChoices",function(b,c){c="";if(1==b.type)c=c+'\x3cdiv class\x3d"status-detail-wrapper answer"\x3e\x3cdiv class\x3d"status-detail-label"\x3eAnswer : \x3c/div\x3e'+('\x3cdiv class\x3d"status-detail-value"\x3e'+b.options[0].parameters.correct+"\x3c/div\x3e"),c+="\x3c/div\x3e";else if(2==b.type){c+="\x3ctable\x3e\x3ctr\x3e\x3cth\x3eLetter\x3c/th\x3e\x3cth\x3eCorrect?\x3c/th\x3e\x3cth\x3eRandom?\x3c/th\x3e\x3cth\x3eFeedback\x3c/th\x3e\x3c/tr\x3e";for(var h=0;h<b.options.length;h++){var l=
b.options[h],m=$("#"+l.element_id+"_wrapper");c+='\x3ctr class\x3d"question-option-element-link" data-id\x3d"'+l.element_id+'"\x3e';c+="\x3ctd\x3e"+m.find(".optionNumber").text()+"\x3c/td\x3e";c+="\x3ctd\x3e"+l.parameters.correct+"\x3c/td\x3e";c+="\x3ctd\x3e"+l.parameters.randomized+"\x3c/td\x3e";c+='\x3ctd\x3e\x3cdiv class\x3d"option-feedback" title\x3d"'+l.parameters.feedback+'"\x3e'+l.parameters.feedback+"\x3c/div\x3e\x3c/td\x3e";c+="\x3c/tr\x3e"}c+="\x3c/table\x3e"}else if(4==b.type){c+="\x3ctable\x3e\x3ctr\x3e\x3cth\x3eLetter\x3c/th\x3e\x3cth\x3eCorrect Values\x3c/th\x3e\x3cth\x3eFeedback\x3c/th\x3e\x3c/tr\x3e";
for(h=0;h<b.options.length;h++)l=b.options[h],m=$("#"+l.element_id+"_wrapper"),c+='\x3ctr class\x3d"question-option-element-link" data-id\x3d"'+l.element_id+'"\x3e',c+="\x3ctd\x3e"+m.find(".optionNumber").text()+"\x3c/td\x3e",c+="\x3ctd\x3e"+l.parameters.correctValues+"\x3c/td\x3e",c+='\x3ctd\x3e\x3cdiv class\x3d"option-feedback" title\x3d"'+l.parameters.feedback+'"\x3e'+l.parameters.feedback+"\x3c/div\x3e\x3c/td\x3e",c+="\x3c/tr\x3e";c+="\x3c/table\x3e"}else if(5==b.type){c+="\x3ctable\x3e\x3ctr\x3e\x3cth\x3eLetter\x3c/th\x3e\x3cth\x3eCorrect Value\x3c/th\x3e\x3cth\x3eFeedback\x3c/th\x3e\x3c/tr\x3e";
for(h=0;h<b.options.length;h++)l=b.options[h],m=$("#"+l.element_id+"_wrapper"),c+='\x3ctr class\x3d"question-option-element-link" data-id\x3d"'+l.element_id+'"\x3e',c+="\x3ctd\x3e"+m.find(".optionNumber").text()+"\x3c/td\x3e",c+="\x3ctd\x3e"+l.parameters.correctValue+"\x3c/td\x3e",c+='\x3ctd\x3e\x3cdiv class\x3d"option-feedback" title\x3d"'+l.parameters.feedback+'"\x3e'+l.parameters.feedback+"\x3c/div\x3e\x3c/td\x3e",c+="\x3c/tr\x3e";c+="\x3c/table\x3e"}else if(6==b.type){c+="\x3ctable\x3e\x3ctr\x3e\x3cth\x3eDraggable\x3c/th\x3e\x3cth\x3eCorrect Target\x3c/th\x3e\x3c/tr\x3e";
for(h=0;h<b.options.length;h++){var l=b.options[h],m=$("#"+l.element_id+"_wrapper"),u=m.data("title");""==u&&(u=m.data("meta"));c+="\x3ctr\x3e";c+='\x3ctd class\x3d"question-option-element-link" data-id\x3d"'+l.element_id+'"\x3e'+u+"\x3c/td\x3e";c+="\x3ctd\x3e";for(m=0;m<l.parameters.correctTargets.length;m++){var u=$(".dki-authoring-element[data-dragdropid\x3d'"+l.parameters.correctTargets[m].toLowerCase()+"'], .dki-authoring-element[data-dragdropid\x3d'"+l.parameters.correctTargets[m].toUpperCase()+
"']"),q=u.data("title");""==q&&(q=u.data("meta"));c+='\x3cdiv class\x3d"question-option-element-link" data-id\x3d"'+u.data("id")+'"\x3e'+q+"\x3cdiv/\x3e"}c+="\x3c/td\x3e";c+="\x3c/tr\x3e"}c+="\x3c/table\x3e"}return c});Handlebars.registerHelper("questionFeedback",function(b,c){c=b.text;"true"==b.useDefault.toString()?c="\x3ci\x3eUsing course default\x3c/i\x3e":""==b.text&&(c="\x3ci\x3eNone supplied by author\x3c/i\x3e");return c});
Handlebars.registerHelper("math",function(b,c,h,l){b=parseFloat(b);h=parseFloat(h);return{"+":b+h,"-":b-h,"*":b*h,"/":b/h,"%":b%h}[c]});Handlebars.registerHelper("reverse",function(b){b.reverse()});Handlebars.registerHelper("glossaryAttribution",function(b){return b.attribution?DKI.strings.doc["Source label"]+b.attribution:b.citation_id?DKI.strings.doc["Source label"]+DKI.reference.getFullCitationText(b.citation_id):""});
Handlebars.registerHelper("glossaryHasAttribution",function(b,c){return b.attribution||b.citation_id?c.fn(this):c.inverse(this)});
DKI.RenderService=function(b){var c=this,h=this;this.state=$.extend(!0,{renderEnvironment:{authoring:!1,player:!1,full:!1,single:!1,export:!1,document:!1,template:!1,responsive:!1,legacyCourse:0},typeConfig:{},baseUrl:DKI.bu?DKI.bu():"",utility:DKI.utility?DKI.utility:{},design:{},strings:null,publish_filters:[]},b);this.registerPartials();this.registerHelpers();this.defaultArgs={renderEnv:this.state.renderEnvironment,strings:this.state.strings,typeConfig:this.state.typeConfig};var l=function(b){return{outline:b}},
m={format:function(b){return{outline:b,audioAncestorId:"content_"+b.id+"_container",audioPlayerId:"content_"+b.id+"_player"}},template:Handlebars.compile('{{#if renderEnv.document}}{{element_forDocument outline}}{{else}}{{#element_ifAudioForEdit renderEnv}}\x3cdiv class\x3d"dki-media-overlay htm-overlay"\x3e\x3c/div\x3e\x3cdiv class\x3d"dki-element-content{{#element_multimedia_hasPlayerControl this \'playerskin\'}} dki-audio-basic-placeholder{{else}} dki-media-placeholder{{/element_multimedia_hasPlayerControl}}"id\x3d"content_{{outline.id}}"title\x3d"{{#forPreview renderEnv}}Audio Asset{{/forPreview}}"data-src\x3d"{{getAssetUrl id\x3doutline.upload_id folderId\x3doutline.asset_uploadfolderid extension\x3doutline.asset_extension}}"{{#element_multimedia_hasPlayerControl this \'autohidecontrols\'}}{{else}} data-controls\x3d"true"{{/element_multimedia_hasPlayerControl}}{{#element_multimedia_hasPlayerControl this \'autoplay\'}} data-autoplay\x3d"true"{{/element_multimedia_hasPlayerControl}}{{#element_multimedia_hasPlayerControl this \'loop\'}} data-loop\x3d"true"{{/element_multimedia_hasPlayerControl}} data-extension\x3d"{{outline.asset_extension}}"  data-narration\x3d"{{outline.narration}}"  data-duration\x3d"{{outline.asset_duration}}" {{#element_multimedia_hasPlayerControl this \'playerskin\'}} data-playerskin\x3d"true"\x3e{{\x3e jPlayerAudioSimple audioSimpleAncestorId\x3daudioAncestorId audioSimplePlayerId\x3daudioPlayerId}}{{else}}\x3e{{\x3e jPlayerAudio audioAncestorId\x3daudioAncestorId audioPlayerId\x3daudioPlayerId}}{{/element_multimedia_hasPlayerControl}}\x3c/div\x3e{{else}}\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}" style\x3d"width:{{outline.width}}px;" data-src\x3d"{{getAssetUrl id\x3doutline.upload_id folderId\x3doutline.asset_uploadfolderid extension\x3doutline.asset_extension}}" data-extension\x3d"{{outline.asset_extension}}" data-duration\x3d"{{outline.asset_duration}}" data-width\x3d"{{outline.width}}" data-height\x3d"{{outline.height}}" data-id\x3d"{{outline.id}}" data-narration\x3d"{{outline.narration}}" data-elementType\x3d"audio"{{#element_multimedia_hasPlayerControl this \'loop\'}} data-loop\x3d"true"{{/element_multimedia_hasPlayerControl}}{{#element_multimedia_hasPlayerControl this \'autoplay\'}} data-autoplay\x3d"true"{{/element_multimedia_hasPlayerControl}}{{#element_multimedia_hasPlayerControl this \'playerskin\'}} data-playerskin\x3d"true"{{/element_multimedia_hasPlayerControl}}{{#element_multimedia_hasPlayerControl this \'autohide\'}}{{else}} data-controls\x3d"true"{{/element_multimedia_hasPlayerControl}}\x3e\x3ca class\x3d"dki-media-link" href\x3d"{{getAssetUrl id\x3doutline.upload_id folderId\x3doutline.asset_uploadfolderid extension\x3doutline.asset_extension}}" target\x3d"_blank"\x3e\x3c/a\x3e\x3c/div\x3e{{/element_ifAudioForEdit}}{{/if}}')},
u={format:l,template:Handlebars.compile('{{#unless renderEnv.export}}{{#unless renderEnv.full}}{{#unless renderEnv.single}}\x3cdiv class\x3d"dki-media-overlay htm-overlay"\x3e\x3c/div\x3e{{/unless}}{{/unless}}{{/unless}}\x3ca style\x3d"height:100%;width:100%;{{#isResponsiveContext scope}}min-height:inherit;{{/isResponsiveContext}}{{outline.cssstyle}}"id\x3d"content_{{outline.id}}"class\x3d"dki-authoring-button {{element_contentClass this}}"{{#if outline.txt}}title\x3d"{{outline.txt}}"{{/if}}\x3e\x3ctable width\x3d"100%" height\x3d"100%" style\x3d"{{#if renderEnv.responsive}}min-height:inherit;{{/if}}"\x3e\x3ctbody style\x3d"vertical-align:middle;"\x3e\x3ctr\x3e\x3ctd\x3e{{{outline.meta}}}\x3c/td\x3e\x3c/tr\x3e\x3c/tbody\x3e\x3c/table\x3e\x3c/a\x3e')},
q={format:l,template:Handlebars.compile('\x3ca role\x3d"button" href\x3d"javascript:;" style\x3d"{{#isResponsiveContext scope}}min-height:inherit;{{/isResponsiveContext}}{{#ifEq outline.parameters.config.class_name \'advanced\'}}{{outline.parameters.config.backgroundCSS}} {{/ifEq}}{{#ifEq outline.parameters.config.class_name \'custom\'}}color: {{outline.parameters.config.colors.default.foreground}};border-color: {{outline.parameters.config.colors.default.border}};background-color: {{outline.parameters.config.colors.default.background}};{{/ifEq}}" id\x3d"content_{{outline.id}}"class\x3d"{{element_contentClass this}}"{{#if outline.txt}}title\x3d"{{outline.txt}}"{{/if}}\x3e\x3ci class\x3d"fa {{outline.parameters.config.icon.class_name}} left"\x3e\x3c/i\x3e\x3cdiv class\x3d"dki-element-text  {{courseStyles outline}}"\x3e{{{outline.meta}}}\x3c/div\x3e\x3ci class\x3d"fa {{outline.parameters.config.righticon.class_name}} right"\x3e\x3c/i\x3e\x3c/a\x3e')},
x={format:function(b){var c=DKI.clone(b.parameters.config);b.elements.sort(function(b,c){return b.elementno-c.elementno});c.content=b.elements;c.style+=c.showBorders?"":" callout-no-borders";return c},template:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}"\x3e\x3cdiv class\x3d"clearfix bs-callout {{style}} {{courseStyles outline}} {{BgClassName outline.parameters.background}}" style\x3d"{{\x3eelement_backgroundCSSString outline}}"\x3e{{#if icon.enabled}}\x3ci class\x3d"fa {{icon.class_name}}"\x3e\x3c/i\x3e{{/if}}{{#each content}}{{\x3eelement outline\x3dthis scope\x3d../scope}}{{/each}}\x3c/div\x3e\x3c/div\x3e')},
k=$.proxy(function(b){var k="string"==typeof b.asset_parameters?JSON.parse(b.asset_parameters).config:b.asset_parameters.config,h=this.getAssetUrl({id:b.upload_id,folderId:b.asset_uploadfolderid,extension:""})+"/",l="?bust\x3d"+Date.now(),n=function(b){b.match(/\./)||(b+=".png");return h+b+l},p=function(b){var c=$("\x3cdiv/\x3e");c.html(b);c.find("img").each(function(){var b=$(this).attr("src");0>b.indexOf(h)&&$(this).attr("src",h+b)});return c.html()};DKI.apply(k,{sectionCount:0,totalDuration:0});
DKI.applyIf(k,{panAndZoom:!0,showNarrationText:!0,showJobAidDownload:!0,showDocumentDownload:!1,jobAidFile:"",name:""});k.jobAidFile&&(k.jobAidURL=n(k.jobAidFile));k.documentFile&&(k.documentURL=n(k.documentFile));k.showDocumentDropdown=k.showJobAidDownload&&k.showDocumentDownload;var r="undefined"!==typeof k.stepDuration&&0<=k.stepDuration,m=function(b,c){return 0<="MOUSE_CLICKED BUTTON_PRESSED CHECK_BOX_SELECTED FINISH_MOUSE_DRAGGED MENU_BUTTON_PRESSED RADIO_BUTTON_SELECTED START_MOUSE_DRAGGED".split(" ").indexOf(b.eventType)?
b[c]:0},v=1;$.each(k.sections,function(c){this.introduction=p(this.introduction);this.testMeIntroduction=p(this.testMeIntroduction);this.sectionName=p(this.sectionName);this.summary=p(this.summary);this.testMeSummary||(this.testMeSummary="");this.testMeSummary=p(this.testMeSummary);k.sectionCount+=0<this.steps.length?1:0;this.show=0<this.steps.length;this.sectionDuration=0;this.introText="testMe"==b.parameters.config.type?this.testMeIntroduction||this.introduction:this.introduction;this.overallStepCount=
v;this.sectionCount=c;"undefined"==typeof this.sectionType&&(this.sectionType="SECTION");var h=this,l=0;$.each(this.steps,function(){v++;this.instructionalText=p(this.instructionalText);this.hintText=p(this.hintText);this.testMeFeedbackText=p(this.testMeFeedbackText);this.testInstructionText||(this.testInstructionText="");this.testInstructionText=p(this.testInstructionText);this.narrationText=p(this.narrationText);this.imageURL=n(this.image);this.hotSpotImageURL=n(this.hotSpotImage);this.fullImageURL=
n(this.fullImage);"guide"==b.parameters.config.type&&this.guideMeImage&&(this.fullImageURL=n(this.guideMeImage));$.each(this.markers,function(){this.imageURL=n(this.imageName);this.text=p(this.text)});this.secondaryHotSpots||(this.secondaryHotSpots=[]);this.clickCount="undefined"!==typeof this.clickCount?this.clickCount:m(this,"clickCount");this.mouseButton="undefined"!==typeof this.mouseButton?this.mouseButton:m(this,"mouseButton");this.startTime=l;this.duration=!r||this.audioFile?this.durationForStepInMillis:
1E3*k.stepDuration;this.timeStr=("0"+Math.floor(this.startTime/1E3/60)).slice(-2)+":"+("0"+Math.round(this.startTime/1E3)%60).slice(-2);k.totalDuration+=this.duration;l+=this.duration;h.sectionDuration+=this.duration;this.hide="STOP_CAPTURE"==this.eventType;this.hintText=this.hintText})});k.moreThanOneSectionWithSteps=1<k.sectionCount;var w=DKI.apply({next:"Next",previous:"Previous",fullscreen:"Full Screen",play:"Play",hideSteps:"Menu",toggleZoom:"Zoom",mute:"Mute",start:"Start",reviewTest:"Review Test",
retakeTest:"Retake Test",continue:"Continue",showAnswers:"Show Answers",start:"Start",downloadJobAid:"Download Job Aid",tryMeSimEnd:"Steps Completed",restart:"Restart",hint:"Hint",stepList:"Step List",downloadDocument:"Download Document",downloadDocuments:"Download Documents"},DKI.strings?{next:DKI.strings.index.nextButtonLabel,previous:DKI.strings.index.previousButtonLabel,fullscreen:DKI.strings.runtime.media_fullscreen,play:DKI.strings.runtime.media_play,hideSteps:DKI.strings.index.menuButtonLabel,
toggleZoom:DKI.strings.runtime.zoom,mute:DKI.strings.index.audioButtonLabel,reviewTest:DKI.strings.endTest.reviewLinkLabel,retakeTest:DKI.strings.endTest.retakeTestButton,continue:DKI.strings.endMod.learningLinkLabel,showAnswers:DKI.strings.doc["Test answer header"],start:DKI.strings.runtime["theme start"],downloadJobAid:DKI.strings.capture.downloadJobAid,tryMeSimEnd:DKI.strings.capture.tryMeSimEnd,restart:DKI.strings.capture.restart,hint:DKI.strings.capture.hint,stepList:DKI.strings.capture.stepList,
downloadDocument:DKI.strings.capture.downloadDocument,downloadDocuments:DKI.strings.capture.downloadDocuments}:{});return{project:k,elConfig:b.parameters.config,elAccessibility:b.parameters.accessibility,embed:!0,viewContainerCls:b.parameters.config.showSteps?" col-md-9 col-sm-8":" col-xs-12",imgPath:c.state.renderEnvironment.export?"./css":c.state.baseUrl+"player/css/capture",controlLabels:w,el:b}},this),p;Handlebars.registerPartial("capture_showMe",'{{#if elConfig.showModes}}{{\x3ecapture_mode_select elConfig}}{{/if}}\x3cdiv id\x3d"capture_{{outline.id}}" role\x3d"application" class\x3d"capture capture-project-container bg-light showMe" data-variable-id\x3d"{{elConfig.variable_id}}" data-duration\x3d"{{project.totalDuration}}"\x3e\x3cdiv id\x3d"sectionInfo" data-number-of-sections\x3d"{{project.sectionCount}}"\x3e{{#each project.sections}}{{#if this.show}}\x3cdiv id\x3d"section-{{arith @index "+" 1}}"data-section-size\x3d"{{this.steps.length}}"data-section-duration\x3d"{{this.sectionDuration}}"data-section-introduction\x3d"{{this.introText}}"data-section-summary\x3d"{{this.summary}}"\x3e\x3c/div\x3e{{/if}}{{/each}}\x3c/div\x3e\x3cdiv id\x3d"showMeContainer" class\x3d"container-fluid {{viewContainerCls}} capture-display bg-light capture-display-border-right"\x3e\x3cdiv id\x3d"generalPanelOverlay" class\x3d"overlay general-overlay-showme hide-general-panel"\x3e\x3cdiv id\x3d"generalPanelContentContainer" class\x3d"general-container panel"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"container full-width"\x3e\x3cdiv class\x3d"video-overlay"\x3e\x3cbutton class\x3d"btn btn-link play-head-button" aria-label\x3d"{{controlLabels.play}}" title\x3d"{{controlLabels.play}}"\x3e\x3ci class\x3d"fa fa-play-circle play-head-child" aria-hidden\x3d"true"\x3e\x3c/i\x3e\x3c/button\x3e\x3c/div\x3e\x3cdiv class\x3d"no-background bottom-buffer top-buffer"\x3e\x3cdiv id\x3d"softwareSimCarousel" class\x3d"carousel img-overlay" data-wrap\x3d"true" data-interval\x3d"1000000"\x3e\x3cdiv class\x3d"carousel-inner"\x3e{{#each project.sections}}{{#each this.steps}}\x3cdiv class\x3d"item"data-interval\x3d"{{duration}}"data-start-time\x3d"{{startTime}}"data-hotspot-minX\x3d"{{hotSpot.minX}}"data-hotspot-minY\x3d"{{hotSpot.minY}}"data-hotspot-width\x3d"{{hotSpot.width}}"data-hotspot-height\x3d"{{hotSpot.height}}"data-click-count\x3d"{{clickCount}}"data-step-count\x3d"{{arith @index "+" 1}}"data-section-count\x3d"{{arith @../index "+" 1}}"data-event-type\x3d"{{eventType}}"\x3e\x3cimg aria-labeledby\x3d"{{../../el.elementid}}_{{@index}}" class\x3d"capture-image {{#ifNEq @index 0}}unloaded{{/ifNEq}}" border\x3d"1" src\x3d"{{element_capture_showMeImage this ../../project}}" id\x3d"image" alt\x3d"{{altText}}"\x3e\x3c/div\x3e{{/each}}{{/each}}\x3cdiv id\x3d"showMeDragOverlay" class\x3d"drag-overlay bg-primary" aria-hidden\x3d"true"\x3e\x3ci class\x3d"fa fa-bars centered-element"\x3e\x3c/i\x3e\x3c/div\x3e \x3cdiv class\x3d"img overlay" id\x3d"mouse" aria-hidden\x3d"true"\x3e\x3cimg class\x3d"mouse-pointer" src\x3d"{{imgPath}}/images/pointer-25.png"/\x3e\x3cimg style\x3d"display:none" class\x3d"mouse-pointer-click" src\x3d"{{imgPath}}/images/pointer-25-click.png"/\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"row controls"\x3e\x3cdiv class\x3d"bar bg-primary"\x3e\x3c/div\x3e\x3cdiv class\x3d"col col-xs-7"\x3e\x3cbutton id\x3d"playButton" class\x3d"btn btn-link btn-primary" type\x3d"button" tabindex\x3d"1" aria-label\x3d"{{controlLabels.play}}" title\x3d"{{controlLabels.play}}"\x3e\x3ci class\x3d"fa fa-2x fa-fw fa-cog fa-spin"\x3e\x3c/i\x3e\x3c/button\x3e\x3cbutton id\x3d"prevStep" class\x3d"btn btn-link btn-primary" type\x3d"button" tabindex\x3d"1" aria-label\x3d"{{controlLabels.previous}}" title\x3d"{{controlLabels.previous}}"\x3e\x3ci class\x3d"fa fa-2x fa-fw fa-step-backward"\x3e\x3c/i\x3e\x3c/button\x3e\x3cbutton id\x3d"nextStep" class\x3d"btn btn-link btn-primary" type\x3d"button" tabindex\x3d"1" aria-label\x3d"{{controlLabels.next}}" title\x3d"{{controlLabels.next}}"\x3e\x3ci class\x3d"fa fa-2x fa-fw fa-step-forward"\x3e\x3c/i\x3e\x3c/button\x3e\x3cbutton id\x3d"mute" class\x3d"btn btn-link btn-primary" type\x3d"button" tabindex\x3d"1" aria-label\x3d"{{controlLabels.mute}}" title\x3d"{{controlLabels.mute}}"\x3e\x3ci class\x3d"fa fa-2x fa-fw fa-volume-up"\x3e\x3c/i\x3e\x3c/button\x3e\x3cspan class\x3d"player-time text-muted" tabindex\x3d"1" \x3e00:00 / 00:00\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"col col-xs-5" style\x3d"direction:rtl;"\x3e\x3cdiv class\x3d"right-end"\x3e{{#if project.showDocumentDropdown}}\x3cdiv class\x3d"dropup"\x3e\x3ca class\x3d"btn btn-primary btn-link pull-right dropdown-toggle" aria-label\x3d"{{@root.controlLabels.downloadDocuments}}" title\x3d"{{@root.controlLabels.downloadDocuments}}" data-toggle\x3d"dropdown"\x3e\x3ci class\x3d"fa fa-fw fa-2x fa-download"\x3e\x3c/i\x3e\x3c/a\x3e\x3cul class\x3d"dropdown-menu dropdown-menu-right"\x3e{{#if project.jobAidURL}}\x3cli role\x3d"presentation"\x3e\x3ca href\x3d"{{project.jobAidURL}}"aria-label\x3d"{{@root.controlLabels.downloadJobAid}}" title\x3d"{{@root.controlLabels.downloadJobAid}}" download\x3d"{{element_capture_getJobAidName project}}" tabindex\x3d"1"\x3e{{@root.controlLabels.downloadJobAid}}\x3c/a\x3e\x3c/li\x3e{{/if}}{{#if project.documentURL}}\x3cli role\x3d"presentation"\x3e\x3ca href\x3d"{{project.documentURL}}"aria-label\x3d"{{@root.controlLabels.downloadDocument}}" title\x3d"{{@root.controlLabels.downloadDocument}}" download\x3d"{{element_capture_getDocumentName project}}"\x3e{{@root.controlLabels.downloadDocument}}\x3c/a\x3e\x3c/li\x3e{{/if}}\x3c/ul\x3e\x3c/div\x3e{{else}}{{#if project.showJobAidDownload}}{{#if project.jobAidURL}}\x3ca class\x3d"btn btn-primary btn-link pull-right" href\x3d"{{project.jobAidURL}}" type\x3d"button" aria-label\x3d"{{@root.controlLabels.downloadJobAid}}" title\x3d"{{@root.controlLabels.downloadJobAid}}" download\x3d"{{element_capture_getJobAidName project}}" tabindex\x3d"1"\x3e\x3ci class\x3d"fa fa-fw fa-2x fa-download"\x3e\x3c/i\x3e\x3c/a\x3e{{/if}}{{/if}}{{#if project.showDocumentDownload}}{{#if project.documentURL}}\x3ca class\x3d"btn btn-primary btn-link pull-right" href\x3d"{{project.documentURL}}" type\x3d"button" aria-label\x3d"{{@root.controlLabels.downloadDocument}}" title\x3d"{{@root.controlLabels.downloadDocument}}" download\x3d"{{element_capture_getDocumentName project}}" tabindex\x3d"1"\x3e\x3ci class\x3d"fa fa-fw fa-2x fa-download"\x3e\x3c/i\x3e\x3c/a\x3e{{/if}}{{/if}}{{/if}}\x3cbutton id\x3d"toggleZoom" class\x3d"btn btn-link btn-primary pull-right" type\x3d"button" tabindex\x3d"1" aria-label\x3d"{{controlLabels.toggleZoom}}" title\x3d"{{controlLabels.toggleZoom}}"\x3e\x3ci class\x3d"fa fa-2x fa-fw{{#if project.panAndZoom}} fa-search-minus{{else}} fa-search-plus{{/if}}"\x3e\x3c/i\x3e\x3c/button\x3e\x3cbutton id\x3d"hideSteps" class\x3d"btn btn-link btn-primary pull-right" type\x3d"button" tabindex\x3d"1"\x3e\x3ci class\x3d"fa fa-2x fa-fw fa-list-ol" aria-label\x3d"{{controlLabels.hideSteps}}" title\x3d"{{controlLabels.hideSteps}}"\x3e\x3c/i\x3e\x3c/button\x3e\x3cbutton id\x3d"fullScreen" class\x3d"btn btn-link btn-primary pull-right" type\x3d"button" tabindex\x3d"1"\x3e\x3ci class\x3d"fa fa-2x fa-fw fa-arrows-alt" aria-label\x3d"{{controlLabels.fullscreen}}" title\x3d"{{controlLabels.fullscreen}}"\x3e\x3c/i\x3e\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"stepsSideContainer" class\x3d"container-fluid col col-md-3 col-sm-4 side-container"{{#unless elConfig.showSteps}} style\x3d"display:none;"{{/unless}}\x3e\x3cdiv class\x3d"panel panel-default"\x3e\x3cdiv class\x3d"list-group" aria-label\x3d"{{controlLabels.stepList}}" title\x3d"{{controlLabels.stepList}}"\x3e{{#each project.sections}}\x3cdiv class\x3d"side-container-section {{#ifNEq sectionType \'SECTION\'}}alternative-section{{/ifNEq}}"\x3e{{#if ../project.moreThanOneSectionWithSteps}}\x3cdiv class\x3d"section-header"\x3e{{#if this.show}}\x3cspan\x3e{{this.sectionName}}\x3c/span\x3e{{/if}}\x3c/div\x3e{{/if}}{{#each this.steps}}\x3cdiv class\x3d"step-item-container"\x3e\x3cdiv\x3e\x3cdiv id\x3d"{{../../el.elementid}}_{{@index}}" class\x3d"list-group-item step-item" data-step-count\x3d"{{arith @index "+" 1}}" data-section-count\x3d"{{arith @../index "+" 1}}" tabindex\x3d"1" aria-label\x3d"{{stripHTML this.instructionalText}}"\x3e\x3cspan class\x3d"label label-default" data-time-start\x3d"{{startTime}}" data-duration\x3d"{{duration}}"\x3e{{timeStr}}\x3c/span\x3e\x26nbsp;\x26nbsp; {{{this.instructionalText}}}{{#if narrationText}}{{#if ../../project.showNarrationText}}\x3cspan class\x3d"mt-10 narration-border-top narration-text{{#if @../index}}{{#if @../../index}} hidden{{/if}}{{/if}}"\x3e\x3cspan\x3e{{{narrationText}}}\x3c/span\x3e\x3c/span\x3e{{/if}}{{/if}}{{#element_capture_show_markerList this ../../project}}\x3cul class\x3d\'markerList mt-10 narration-border-top{{#if @../index}}{{#if @../../index}} hidden{{/if}}{{/if}}\'\x3e{{#each markers}}\x3cli class\x3d"markerListItem" style\x3d"background-image:url(\'{{this.imageURL}}\')"\x3e\x3cspan class\x3d"markerText" tabindex\x3d"1"\x3e{{{text}}}\x3c/span\x3e\x3c/li\x3e{{/each}}\x3c/ul\x3e{{/element_capture_show_markerList}}\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e{{/each}}\x3c/div\x3e{{/each}}\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"jplayer" class\x3d"jp-jplayer"\x3e\x3c/div\x3e\x3cdiv id\x3d"jplayer_inspector"\x3e\x3c/div\x3e\x3c/div\x3e');
Handlebars.registerPartial("capture_tryMe",'{{#if elConfig.showModes}}{{\x3ecapture_mode_select elConfig}}{{/if}}\x3cdiv id\x3d"capture_{{outline.id}}" class\x3d"capture capture-project-container tryMe bg-light" data-variable-id\x3d"{{elConfig.variable_id}}"\x3e\x3cdiv id\x3d"sectionInfo" data-number-of-sections\x3d"{{project.sectionCount}}"\x3e{{#each project.sections}}{{#if this.show}}\x3cdiv id\x3d"section-{{arith @index "+" 1}}" data-section-size\x3d"{{this.steps.length}}"\x3e\x3c/div\x3e{{/if}}{{/each}}\x3c/div\x3e\x3cdiv id\x3d"tryMeSideContainer" class\x3d"container-fluid col-md-3 col-sm-4 side-container"{{#unless elConfig.showSteps}} style\x3d"display:none;"{{/unless}}\x3e\x3cdiv class\x3d"panel panel-default custom-scrollbar"\x3e\x3cdiv class\x3d"list-group"\x3e{{#each project.sections}}{{#if ../project.moreThanOneSectionWithSteps}}\x3cdiv class\x3d"sectionHeader {{#ifEq sectionType \'SECTION\'}}showByDefault{{/ifEq}}"\x3e{{#if this.show}}\x3cspan\x3e{{{this.sectionName}}}\x3c/span\x3e{{/if}}\x3c/div\x3e{{/if}}{{#each this.steps}}\x3cdiv class\x3d"row no-padding list-group-item disabled {{#ifEq ../sectionType \'SECTION\'}}showByDefault{{/ifEq}}" data-step-count\x3d"{{arith @index "+" 1}}" data-section-count\x3d"{{arith @../index "+" 1}}" style\x3d"cursor:default"\x3e\x3cdiv class\x3d"col-step"\x3e\x3cspan class\x3d"label label-default label-circle step-number centered-element"\x3e{{arith @index "+" 1}}\x3c/span\x3e\x3cspan class\x3d"label label-default label-circle step-checkmark centered-element" style\x3d"display: none;"\x3e\x3ci class\x3d"fa fa-check centered-element"\x3e\x3c/i\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"col-instructions no-padding"\x3e{{{this.instructionalText}}}\x3c/div\x3e\x3cdiv class\x3d"col-instructions no-padding continue-container hidden"\x3e\x3cdiv class\x3d"continue"\x3e\x3cdiv class\x3d"info-continue"\x3e\x3cp class\x3d"m-0"\x3e{{@root.controlLabels.continue}}\x3c/p\x3e\x3cbutton class\x3d"btn btn-step-continue" type\x3d"button" aria-label\x3d"{{@root.controlLabels.continue}}" title\x3d"{{@root.controlLabels.continue}}"\x3e\x3ci class\x3d"fa fa-step-forward"\x3e\x3c/i\x3e\x3c/button\x3e\x3cspan class\x3d"arrow-hint"\x3e\x3ci class\x3d"fa fa-arrow-left" aria-hidden\x3d"true"\x3e\x3c/i\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"panel panel-default cover-parent try-me-done-overlay"\x3e\x3c/div\x3e\x3c/div\x3e{{/each}}{{/each}}\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"tryMeContainer" class\x3d"container-fluid {{viewContainerCls}} capture-display bg-light capture-display-border-left"\x3e\x3cdiv class\x3d"container full-width"\x3e\x3cdiv class\x3d"no-background bottom-buffer top-buffer"\x3e\x3cdiv id\x3d"softwareSimCarousel" class\x3d"carousel img-overlay" data-wrap\x3d"true" data-interval\x3d"false"\x3e\x3cdiv id\x3d"generalPanelOverlay" class\x3d"overlay general-overlay-showme hide-general-panel"\x3e\x3cdiv id\x3d"generalPanelContentContainer" class\x3d"general-container panel"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"carousel-inner"\x3e{{#each project.sections}}{{#each this.steps}}\x3cdiv class\x3d"item" data-interval\x3d"{{duration}}"data-start-time\x3d"{{startTime}}"data-hotspot-minX\x3d"{{hotSpot.minX}}"data-hotspot-minY\x3d"{{hotSpot.minY}}"data-hotspot-width\x3d"{{hotSpot.width}}"data-hotspot-height\x3d"{{hotSpot.height}}"data-step-count\x3d"{{arith @index "+" 1}}"data-section-count\x3d"{{arith @../index "+" 1}}"data-event-type\x3d"{{eventType}}"data-click-count\x3d"{{clickCount}}"data-mouse-button\x3d"{{mouseButton}}"data-hint-text\x3d"{{hintText}}"\x3e{{#ifEq @index 0}}\x3cimg class\x3d"capture-image" border\x3d"1" src\x3d"{{this.imageURL}}" id\x3d"image" alt\x3d"{{altText}}"\x3e{{/ifEq}}{{#ifNEq @index 0}}\x3cimg class\x3d"capture-image unloaded" border\x3d"1" data-src\x3d"{{this.imageURL}}" id\x3d"image" alt\x3d"{{altText}}"\x3e{{/ifNEq}}\x3c/div\x3e{{/each}}{{/each}}\x3cdiv class\x3d"targetHotspot"\x3e\x3c/div\x3e\x3cdiv id\x3d"tryMeDragOverlay" class\x3d"drag-overlay bg-primary"\x3e\x3ci class\x3d"fa fa-bars centered-element"\x3e\x3c/i\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"row controls"\x3e\x3cdiv class\x3d"bar bg-primary"\x3e\x3c/div\x3e\x3cdiv class\x3d"col col-xs-4"\x3e\x3cbutton id\x3d"hintButton" class\x3d"btn btn-link hint-button" type\x3d"button" aria-label\x3d"{{controlLabels.hint}}" title\x3d"{{controlLabels.hint}}" tabindex\x3d"1"\x3e\x3ci class\x3d"fa fa-question-circle fa-2x"\x3e\x3c/i\x3e\x3c/button\x3e\x3c/div\x3e\x3cdiv class\x3d"col col-xs-4 try-me-restart-col"\x3e\x3cbutton class\x3d"btn btn-link try-me-restart-btn disabled" type\x3d"button" data-toggle\x3d"tooltip" aria-label\x3d"{{controlLabels.restart}}" title\x3d"{{controlLabels.restart}}" tabindex\x3d"1"\x3e\x3ci class\x3d"fa fa-repeat fa-2x"\x3e\x3c/i\x3e\x3c/button\x3e\x3c/div\x3e\x3cdiv class\x3d"col col-xs-4"\x3e\x3cbutton id \x3d"fullScreen" class\x3d"btn btn-link btn-primary" type \x3d"button" aria-label\x3d"{{controlLabels.fullscreen}}" title\x3d"{{controlLabels.fullscreen}}" tabindex\x3d"1"\x3e\x3ci class\x3d"fa fa-fw fa-2x fa-arrows-alt"\x3e\x3c/i\x3e\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"startScreen"\x3e\x3cdiv class\x3d"centered-element"\x3e\x3cbutton class\x3d"btn btn-primary" type\x3d"button" aria-label\x3d"{{controlLabels.start}}" title\x3d"{{controlLabels.start}}"\x3e\x3ci class\x3d"fa fa-play" style\x3d"margin-right:5px"\x3e\x3c/i\x3e{{controlLabels.start}}\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"tryMeInfoScreen" style\x3d"display:none"\x3e\x3cdiv class\x3d\'centered-element\'\x3e\x3cp class\x3d\'info-text\'\x3e\x3c/p\x3e\x3cdiv class\x3d\'info-restart\'\x3e\x3cp\x3e\x3cstrong\x3e{{controlLabels.tryMeSimEnd}}\x3c/strong\x3e\x3c/p\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"tooltipTemplate" class\x3d"hidden"\x3e\x3cbutton class\x3d"btn btn-primary btn-sm btn-continue mt-10"\x3e\x3ci class\x3d"fa fa-check"\x3e\x3c/i\x3e\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e');
Handlebars.registerPartial("capture_testMe",'{{#if elConfig.showModes}}{{\x3ecapture_mode_select elConfig}}{{/if}}\x3cdiv id\x3d"capture_{{outline.id}}" class\x3d"capture capture-project-container testMe" data-variable-id\x3d"{{elConfig.variable_id}}"\x3e\x3cdiv id\x3d"sectionInfo" data-number-of-sections\x3d"{{project.sectionCount}}"\x3e{{#each project.sections}}{{#if this.show}}\x3cdiv id\x3d"section-{{arith @index "+" 1}}" data-section-size\x3d"{{this.steps.length}}" data-section-introduction\x3d"{{this.introText}}" data-section-summary\x3d"{{this.summary}}" data-section-testme-summary\x3d"{{this.testMeSummary}}"\x3e\x3c/div\x3e{{/if}}{{/each}}\x3c/div\x3e\x3cdiv id\x3d"testMeSideContainer" class\x3d"container-fluid side-container"{{#unless elConfig.showSteps}} style\x3d"display:none;"{{/unless}}\x3e\x3cdiv class\x3d"panel panel-default custom-scrollbar"\x3e\x3cdiv class\x3d"row score"\x3e\x3cdiv class\x3d"dki-radialgauge radial fill-primary"\x3e\x3cdiv class\x3d"overlay"\x3e\x3cdiv tabindex\x3d"1" class\x3d"text dki-element-text"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"mask full"\x3e\x3cdiv class\x3d"fill"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"mask half"\x3e\x3cdiv class\x3d"fill"\x3e\x3c/div\x3e\x3cdiv class\x3d"fill fix"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cul class\x3d"list-group"\x3e{{#each project.sections}}{{#if ../project.moreThanOneSectionWithSteps}}\x3cdiv class\x3d"section row {{#ifEq sectionType \'SECTION\'}}showByDefault{{/ifEq}}" data-id\x3d"{{arith @index \'+\' 1}}"\x3e{{#if this.show}}\x3cspan title\x3d"{{this.sectionName}}"\x3e{{arith @index "+" 1}}\x3c/span\x3e{{/if}}\x3c/div\x3e{{/if}}{{#each this.steps}}\x3cli class\x3d"row no-padding list-group-item disabled {{#ifEq ../sectionType \'SECTION\'}}showByDefault{{/ifEq}}" data-step-count\x3d"{{arith @index "+" 1}}" data-section-count\x3d"{{arith @../index "+" 1}}" style\x3d"cursor:default;{{#if hide}}display:none;{{/if}}"\x3e\x3cdiv class\x3d"col-step"\x3e\x3cspan class\x3d"label label-default label-circle step-number"\x3e{{arith @index "+" 1}}\x3c/span\x3e\x3cspan class\x3d"label label-default label-circle step-checkmark" style\x3d"display: none;"\x3e\x3ci class\x3d"fa"\x3e\x3c/i\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"col-testMe-instructions no-padding hidden" style\x3d"white-space: pre-wrap;"\x3e{{{this.testInstructionText}}}\x3c/div\x3e\x3cdiv class\x3d"col-instructions no-padding continue-container hidden"\x3e\x3cdiv class\x3d"continue"\x3e\x3cdiv class\x3d"info-continue"\x3e\x3cp class\x3d"m-0"\x3e{{@root.controlLabels.continue}}\x3c/p\x3e\x3cbutton class\x3d"btn btn-step-continue" type\x3d"button" aria-label\x3d"{{@root.controlLabels.continue}}" title\x3d"{{@root.controlLabels.continue}}"\x3e\x3ci class\x3d"fa fa-step-forward"\x3e\x3c/i\x3e\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"panel panel-default cover-parent try-me-done-overlay"\x3e\x3c/div\x3e\x3cdiv class\x3d"progression"\x3e\x3cspan\x3e\x3c/span\x3e\x3cspan\x3e\x3c/span\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e\x3c/li\x3e{{/each}}{{/each}}\x3c/ul\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"testMeContainer" class\x3d"container-fluid {{viewContainerCls}} capture-display bg-light"\x3e\x3cdiv id\x3d"generalPanelOverlay" class\x3d"overlay general-overlay-showme hide-general-panel"\x3e\x3cdiv id\x3d"generalPanelContentContainer" class\x3d"general-container panel"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"container full-width"\x3e\x3cdiv class\x3d"no-background bottom-buffer top-buffer"\x3e\x3cdiv id\x3d"softwareSimCarousel" class\x3d"carousel img-overlay" data-wrap\x3d"true" data-interval\x3d"false"\x3e\x3cdiv class\x3d"carousel-inner"\x3e{{#each project.sections}}{{#each this.steps}}\x3cdiv class\x3d"item" data-interval\x3d"{{duration}}"data-start-time\x3d"{{startTime}}"data-hotspot-minX\x3d"{{hotSpot.minX}}"data-hotspot-minY\x3d"{{hotSpot.minY}}"data-hotspot-width\x3d"{{hotSpot.width}}"data-hotspot-height\x3d"{{hotSpot.height}}"data-step-count\x3d"{{arith @index "+" 1}}"data-section-count\x3d"{{arith @../index "+" 1}}"data-event-type\x3d"{{eventType}}"data-click-count\x3d"{{clickCount}}"data-mouse-button\x3d"{{mouseButton}}"data-hint-text\x3d"{{hintText}}"\x3e\x3cimg class\x3d"capture-image {{#ifNEq @index 0}}unloaded{{/ifNEq}}" border\x3d"1" src\x3d"{{this.imageURL}}" id\x3d"image" alt\x3d"{{altText}}"\x3e\x3c/div\x3e{{/each}}{{/each}}\x3cdiv class\x3d"targetHotspot"\x3e\x3c/div\x3e\x3cdiv id\x3d"testMeDragOverlay" class\x3d"drag-overlay bg-primary"\x3e\x3ci class\x3d"fa fa-bars centered-element"\x3e\x3c/i\x3e\x3c/div\x3e\x3cdiv id\x3d"testMeReviewOverlay"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"row controls"\x3e\x3cdiv class\x3d\'fill\'\x3e\x3cbutton id \x3d"sceneInfo" class\x3d"btn btn-link btn-primary" type \x3d"button" tabindex\x3d"1"\x3e\x3ci class\x3d"fa fa-fw fa-2x fa-info"\x3e\x3c/i\x3e\x3c/button\x3e\x3cbutton id \x3d"showReviewToggle" class\x3d"btn" type \x3d"button" aria-label\x3d"{{controlLabels.showAnswers}}" title\x3d"{{controlLabels.showAnswers}}" tabindex\x3d"1"\x3e\x3ci class\x3d"fa fa-fw fa-2x"\x3e\x3c/i\x3e\x3cspan\x3e{{controlLabels.showAnswers}}\x3c/span\x3e\x3c/button\x3e\x3c/div\x3e\x3cbutton id \x3d"fullScreen" class\x3d"btn btn-link btn-primary" type \x3d"button" tabindex\x3d"1"\x3e\x3ci class\x3d"fa fa-fw fa-2x fa-arrows-alt"\x3e\x3c/i\x3e\x3c/button\x3e\x3c/div\x3e\x3cdiv id\x3d"startScreen"\x3e\x3cdiv class\x3d"centered-element"\x3e\x3cbutton class\x3d"btn btn-primary" type\x3d"button"\x3e\x3ci class\x3d"fa fa-play" style\x3d"margin-right:5px"\x3e\x3c/i\x3e{{controlLabels.start}}\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"testMeInfoScreen" style\x3d"display:none"\x3e\x3cdiv class\x3d\'centered-element\'\x3e\x3cdiv class\x3d\'display-center\'\x3e{{#ifNEq project.name \'\'}}\x3cdiv class\x3d"project-name"\x3e\x3ch1\x3e{{{project.name}}}\x3c/h1\x3e\x3c/div\x3e{{/ifNEq}}\x3cdiv class\x3d\'radialContainer\'\x3e\x3cdiv class\x3d"{{style}} dki-radialgauge radial fill-primary"\x3e\x3cdiv class\x3d"overlay"\x3e\x3cdiv tabindex\x3d"1" class\x3d"text dki-element-text"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"mask full"\x3e\x3cdiv class\x3d"fill"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"mask half"\x3e\x3cdiv class\x3d"fill"\x3e\x3c/div\x3e\x3cdiv class\x3d"fill fix"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d\'infoButtons\'\x3e\x3cbutton class\x3d\'btn btn-primary review\' aria-label\x3d"{{controlLabels.reviewTest}}" title\x3d"{{controlLabels.reviewTest}}"\x3e{{controlLabels.reviewTest}}\x3c/button\x3e\x3cbutton class\x3d\'btn btn-primary retake\' aria-label\x3d"{{controlLabels.retakeTest}}" title\x3d"{{controlLabels.retakeTest}}"\x3e{{controlLabels.retakeTest}}\x3c/button\x3e\x3cbutton class\x3d\'btn btn-primary next\' aria-label\x3d"{{controlLabels.next}}" title\x3d"{{controlLabels.next}}"\x3e{{controlLabels.next}}\x3c/button\x3e\x3c/div\x3e\x3cdiv class\x3d\'datetime\'\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"tooltipTemplate" class\x3d"hidden"\x3e\x3cbutton class\x3d"btn btn-primary btn-sm btn-continue mt-10"\x3e\x3ci class\x3d"fa fa-check"\x3e\x3c/i\x3e\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e');
Handlebars.registerPartial("capture_guide",'{{#if elConfig.showModes}}{{\x3ecapture_mode_select elConfig}}{{/if}}\x3cdiv id\x3d"showMeParent" class\x3d"capture guide" data-variable-id\x3d"{{elConfig.variable_id}}" aria-role\x3d"document" aria-label\x3d"{{project.name}}"\x3e{{#if (arith project.sections.length "\x3e" 1)}}\x3cdiv class\x3d"panel pane-default"\x3e\x3cdiv class\x3d"panel-heading"\x3e\x3ch3 class\x3d"panel-title"\x3eSections\x3c/h3\x3e\x3c/div\x3e\x3cdiv class\x3d"panel-body"\x3e\x3cul class\x3d"list-inline"\x3e{{#each project.sections}}\x3cli\x3e\x3ca href\x3d"#Scene_{{arith @index "+" 1}}" class\x3d"toc-link" data-overallstep\x3d{{overallStepCount}}\x3e{{{sectionName}}}\x3c/a\x3e\x26nbsp;\x3cspan class\x3d"badge"\x3e{{steps.length}} {{#if (arith steps.length "\x3e" 1)}}Steps{{else}}Step{{/if}}\x3c/span\x3e\x3c/li\x3e{{/each}}\x3c/ul\x3e\x3cdiv\x3e\x3cdiv\x3e{{#if project.showJobAidDownload}}{{#if project.jobAidURL}}\x3ca  href\x3d"{{project.jobAidURL}}" type\x3d"button" aria-label\x3d"{{@root.controlLabels.downloadJobAid}}" title\x3d"{{@root.controlLabels.downloadJobAid}}" download\x3d"{{element_capture_getJobAidName project}}" {{#if elAccessibility.tabable }} tabindex\x3d"1" {{/if}}\x3e\x3ci class\x3d"fa fa-fw fa-2x fa-download"\x3e\x3c/i\x3e {{@root.controlLabels.downloadJobAid}}\x3c/a\x3e{{/if}}{{/if}}{{#if project.showDocumentDownload}}{{#if project.documentURL}}\x3ca  href\x3d"{{project.documentURL}}" type\x3d"button" aria-label\x3d"{{@root.controlLabels.downloadDocument}}" title\x3d"{{@root.controlLabels.downloadDocument}}" download\x3d"{{element_capture_getDocumentName project}}" {{#if elAccessibility.tabable }} tabindex\x3d"1" {{/if}}\x3e\x3ci class\x3d"fa fa-fw fa-2x fa-download"\x3e\x3c/i\x3e {{@root.controlLabels.downloadDocument}}\x3c/a\x3e{{/if}}{{/if}}\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e{{/if}}{{#each project.sections}}\x3cdiv class\x3d"panel panel-default"\x3e{{#if ../project.moreThanOneSectionWithSteps}}\x3cdiv class\x3d"panel-heading"\x3e\x3ca id\x3d"Scene_{{arith @index "+" 1}}"\x3e\x3c/a\x3e\x3ch3 class\x3d"panel-title"\x3e\x3cspan\x3e{{{this.sectionName}}}\x3c/span\x3e\x3c/h3\x3e\x3c/div\x3e{{/if}}\x3cdiv class\x3d"panel-body"\x3e\x3cdiv class\x3d"row"\x3e\x3cdiv class\x3d"col-sm-12"\x3e{{#if @root.project.moreThanOneSectionWithSteps}}{{else}}\x3cdiv class\x3d"jobAidPane"\x3e{{#if @root.project.showJobAidDownload}}{{#if @root.project.jobAidURL}}\x3ca  href\x3d"{{@root.project.jobAidURL}}" type\x3d"button" aria-label\x3d"{{@root.controlLabels.downloadJobAid}}" title\x3d"{{@root.controlLabels.downloadJobAid}}" download\x3d"{{element_capture_getJobAidName @root.project}}" {{#if ../elAccessibility.tabable }} tabindex\x3d"1" {{/if}}\x3e\x3ci class\x3d"fa fa-fw fa-2x fa-download"\x3e\x3c/i\x3e {{@root.controlLabels.downloadJobAid}}\x3c/a\x3e{{/if}}{{/if}}{{#if @root.project.showDocumentDownload}}{{#if @root.project.documentURL}}\x3ca  href\x3d"{{@root.project.documentURL}}" type\x3d"button" aria-label\x3d"{{@root.controlLabels.downloadDocument}}" title\x3d"{{@root.controlLabels.downloadDocument}}" download\x3d"{{element_capture_getDocumentName @root.project}}" {{#if ../elAccessibility.tabable }} tabindex\x3d"1" {{/if}}\x3e\x3ci class\x3d"fa fa-fw fa-2x fa-download"\x3e\x3c/i\x3e {{@root.controlLabels.downloadDocument}}\x3c/a\x3e{{/if}}{{/if}}\x3c/div\x3e{{/if}}\x3cdiv\x3e{{#if this.introduction}}\x3cp class\x3d"introduction-text" {{#if ../elAccessibility.tabable }} tabindex\x3d"1" {{/if}}\x3e{{{this.introduction}}}\x3c/p\x3e{{/if}}\x3c/div\x3e{{#each steps}}\x3cdiv\x3e\x3ca id\x3d"{{../sectionName}}-{{arith @index "+" 1}}"\x3e\x3c/a\x3e\x3cdiv class\x3d"step" {{#if ../../elAccessibility.tabable }} tabindex\x3d"1" {{/if}}\x3e\x3cdiv class\x3d"row"\x3e\x3cdiv class\x3d"col-sm-9"\x3e\x3cdiv class\x3d"stepMedia"\x3e\x3cimg id\x3d"stepCount_step_image_{{../this.uuid}}_{{@../index}}_{{arith @index "+" 1}}" id\x3d"" class\x3d"img-responsive capture-image" alt\x3d"{{altText}}" src\x3d"{{this.fullImageURL}}"\x3e\x3c/img\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"col-sm-3 stepCount"\x3e\x3ch4 id\x3d"stepCount_step_{{../this.uuid}}_{{@../index}}_{{arith @index "+" 1}}"\x3eStep \x3cspan\x3e{{arith @index "+" 1}}\x3c/span\x3e\x3c/h4\x3e\x3cdiv class\x3d"stepText" id\x3d"stepCount_stepText_{{../this.uuid}}_{{@../index}}_{{arith @index "+" 1}}"\x3e\x3cdiv\x3e{{{this.instructionalText}}}\x3c/div\x3e{{#ifEq this.eventType \'DECISION\'}}\x3cul class\x3d"decision-options"\x3e{{#each branchItems}}\x3cli\x3e\x3ca href\x3d"#Scene_{{arith sectionToJumpTo "+" 1}}"\x3e{{{this.name}}}\x3c/a\x3e\x3c/li\x3e{{/each}}\x3c/ul\x3e{{/ifEq}}\x3c/div\x3e{{#if ../../project.showNarrationText}}{{#if this.narrationText}}\x3cdiv class\x3d"stepNarration" id\x3d"stepCount_stepNarration_{{../this.uuid}}_{{@../index}}_{{arith @index "+" 1}}"\x3e\x3cp class\x3d"narrationSection mt-20"\x3e{{{this.narrationText}}}\x3c/p\x3e\x3c/div\x3e{{/if}}{{/if}}{{#if markers.length}}\x3cul class\x3d"markerList mt-20 narrationSection" id\x3d"stepCount_stepNarrationList_{{../this.uuid}}_{{@../index}}_{{arith @index "+" 1}}"\x3e{{#each ../markers}}\x3cli class\x3d"markerListItem" style\x3d"background-image:url(\'{{this.imageURL}}\')"\x3e\x3cspan class\x3d"markerText" {{#if ../../elAccessibility.tabable }} tabindex\x3d"1" {{/if}}\x3e{{{text}}}\x3c/span\x3e\x3c/li\x3e{{/each}}\x3c/ul\x3e{{/if}}\x3cdiv class\x3d"clearer"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"clearer"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"row"\x3e{{#unless @last}}\x3cdiv class\x3d"col-sm-12"\x3e\x3chr\x3e\x3c/hr\x3e\x3c/div\x3e{{/unless}}{{#if @last}}\x3cdiv class\x3d"col-sm-12 bottom-buffer"\x3e\x3c/div\x3e{{/if}}\x3c/div\x3e{{/each}}\x3cdiv\x3e{{#if this.summary}}\x3cp {{#if ../elAccessibility.tabable }} tabindex\x3d"1" {{/if}} class\x3d"introduction-text"\x3e{{{this.summary}}}\x3c/p\x3e{{/if}}\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e{{/each}}\x3c/div\x3e');
p=Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}"\x3e{{#if renderEnv.authoring}}\x3cdiv class\x3d"dki-media-overlay htm-overlay" style\x3d\'z-index:2000;\'\x3e\x3c/div\x3e{{/if}}{{\x3e(element_capture_getTemplate elConfig.type)}}\x3c/div\x3e');k={format:k,template:p};p={format:function(b){b.elements.sort(function(b,c){return b.elementno-c.elementno});elConfig=b.parameters.config;var c={panels:b.elements,cls:""};$.each(c.panels,function(){this.isContentContainer=
this.ignoreExamine=!0});$.each(elConfig.responsive.cfg,function(b,k){c.cls+=b+"-"+k.items+" "});"notOverlayLeftRight"==elConfig.navigation.type&&(c.cls+="carsouselLeftRight ");c.cls+=b.parameters.config.dotClass;c.hidenav=elConfig.hidenav;return c},template:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}} {{#if hidenav}} hidenav {{/if}}" aria-busy\x3d"true"\x3e\x3cdiv data-vertical-alignment\x3d"{{outline.parameters.config.vertical_alignment}}" class\x3d"flickity clearfix {{cls}}" style\x3d"{{\x3eelement_backgroundCSSString outline}}" tabindex\x3d"1"\x3e{{#each panels}}{{\x3eelement outline\x3dthis scope\x3d../scope}}{{/each}}\x3c/div\x3e\x3c/div\x3e')};
var r={format:l,template:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}"style\x3d"width:0px;height:0px"\x3e\x3c/div\x3e')},w={format:l,template:Handlebars.compile('{{#if renderEnv.document}}{{element_forDocument outline}}{{else}}{{#unless renderEnv.export}}{{#unless renderEnv.full}}\x3cdiv class\x3d"dki-media-overlay flash-overlay"\x3e\x3c/div\x3e{{/unless}}{{/unless}}{{#if renderEnv.authoring}}\x3cdiv style\x3d"width:100%;height:100%;{{#if renderEnv.responsive}}min-width:{{outline.parameters.responsive.minWidth}}px;min-height:{{outline.parameters.responsive.minHeight}}px;{{/if}}" data-elementtype\x3d"{{outline.elementtype}}" class\x3d"dki-video-content-element {{element_contentClass this}}" id\x3d"content_{{outline.id}}" data-src\x3d"{{getAssetUrl id\x3doutline.upload_id folderId\x3doutline.asset_uploadfolderid extension\x3doutline.asset_extension outline\x3doutline}}" data-width\x3d"{{outline.width}}" data-height\x3d"{{outline.height}}" data-assetWidth\x3d"{{outline.asset_width}}" data-assetHeight\x3d"{{outline.asset_height}}" data-extension\x3d"{{outline.asset_extension}}"{{#if outline.parameters.config.allowUpscale}}data-allowupscale\x3d"true"{{/if}}\x3e\x3cdiv class\x3d"dki-media-placeholder" style\x3d"height:{{outline.height}}px;"\x3e\x3cdiv class\x3d"flash-play-head" data-id\x3d"{{outline.id}}"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e{{else}}\x3cobject class-id\x3d"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"style\x3d"width:{{outline.width}}px;height:{{outline.height}}px;"id\x3d"content_{{outline.id}}"class\x3d"{{element_contentClass this}}"\x3e\x3cparam name\x3d"movie" + value\x3d"{{getAssetUrl id\x3doutline.upload_id folderId\x3doutline.asset_uploadfolderid extension\x3doutline.asset_extension}}"/\x3e{{\x3e multimedia_flashParams}}\x3c!--[if !IE]\x3e --\x3e\x3cobject type\x3d"application/x-shockwave-flash" data\x3d"{{getAssetUrl id\x3doutline.upload_id folderId\x3doutline.asset_uploadfolderid extension\x3doutline.asset_extension}}"style\x3d"width:inherit;height:inherit;"\x3e\x3c!-- \x3c![endif]--\x3e{{\x3e multimedia_flashParams}}\x3cp\x3eThis content requires Adobe Flash Player version 10.2.0.0\x3c/p\x3e\x3ca href\x3d\'http://get.adobe.com/flashplayer/\' target\x3d\'downloadFlash\'\x3eUpdate Flash\x3c/a\x3e\x3c!--[if !IE]\x3e --\x3e\x3c/object\x3e\x3c!-- \x3c![endif]--\x3e\x3c/object\x3e{{/if}}{{#multimedia_ifRegisterSwfObject renderEnv}}\x3cscript type\x3d\'text/javascript\'\x3eswfobject.registerObject(\'content_10.2.0.0\');\x3c/script\x3e{{/multimedia_ifRegisterSwfObject}}{{/if}}')},
v={format:function(b){b.elements.sort(function(b,c){return b.elementno-c.elementno});elConfig=b.parameters.config;var c={panels:{front:b.elements[0],back:b.elements[1]}};$.each(c.panels,function(){this.parameters.config.border=b.parameters.config.borders;this.isContentContainer=this.ignoreExamine=!0});return c},template:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}"\x3e\x3cdiv data-vertical-alignment\x3d"{{outline.parameters.config.vertical_alignment}}" class\x3d"flip clearfix size_full" style\x3d"{{\x3eelement_backgroundCSSString outline}}"\x3e\x3cdiv class\x3d"front face flipCardPanel active clearfix" role\x3d"button" tabindex\x3d"1"\x3e{{\x3eelement outline\x3dpanels.front scope\x3dscope}}\x3c/div\x3e\x3cdiv class\x3d"back face flipCardPanel clearfix" role\x3d"button" tabindex\x3d"-1" aria-hidden\x3d"true"\x3e{{\x3eelement outline\x3dpanels.back scope\x3dscope}}\x3c/div\x3e\x3c/div\x3e\x3ci class\x3d\'fa fa-reply-all flipIcon {{BgClassName outline.parameters.background}}\' aria-hidden\x3d"true"\x3e\x3c/i\x3e{{#if renderEnv.authoring}}\x3cdiv class\x3d"flipBtn" title\x3d"Flip the card to the other side"\x3e\x3c/div\x3e{{/if}}\x3c/div\x3e')},
z={format:$.proxy(function(k){k.parameters.config.shuffle?this.state.utility.shuffle(k.elements):k.elements.sort(function(b,c){return b.elementno-c.elementno});elConfig=k.parameters.config;b={cards:k.elements.map(function(b){b.faceCls=k.parameters.background.class_name;return b}),cls:""};c.state.renderEnvironment.player&&(b.inputPlaceholder=DKI.strings.questionInstructions["3"]);b.submit=c.state.renderEnvironment.player?DKI.strings.runtime.buttonLabelSubmit:"Submit";return b},this),template:Handlebars.compile("\x3cdiv id\x3d\"content_{{outline.id}}\" class\x3d\"{{element_contentClass this}} {{cls}}\"\x3e\x3cdiv class\x3d'flickity-carousel' role\x3d\"application\"\x3e{{#each cards}}\x3cdiv class\x3d'flashCardCont' style\x3d'width:100%; text-align:center;' {{#if this.upload_id}}aria-label\x3d'{{this.asset_title}}'{{/if}}\x3e\x3cdiv data-id\x3d'{{this.id}}' class\x3d\"card clearfix {{../faceCls}}\" style\x3d\"{{\x3eelement_backgroundCSSString ../outline}}\"\x3e\x3cdiv  class\x3d'setImage' {{#if this.upload_id}}style\x3d\"background-image: url('{{getAssetUrl id\x3dthis.upload_id folderId\x3dthis.asset_uploadfolderid extension\x3dthis.asset_extension}}')\"{{/if}}\x3e\x3cdiv class\x3d'imgOverlay'\x3e\x3cdiv style\x3d'margin-top:15px'\x3e\x3ci class\x3d'fa fa-check'\x3e\x3c/i\x3e\x3cdiv class\x3d'resultText'\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'cardContent'\x3e\x3cdiv id\x3d\"{{this.id}}_question\" class\x3d'question'\x3e{{{this.meta}}}\x3c/div\x3e\x3cdiv class\x3d'response' role\x3d\"application\"\x3e\x3clabel style\x3d\"display:none\" for\x3d\"{{this.id}}_input\"\x3e{{../inputPlaceholder}}'\x3c/label\x3e\x3cinput tabindex\x3d\"1\" aria-labelledby\x3d\"{{this.id}}_question\" name\x3d\"{{this.id}}_input\" type\x3d'text' placeholder\x3d'{{../inputPlaceholder}}'/\x3e\x3cbutton type\x3d\"button\" class\x3d'btn {{../outline.parameters.config.btn_class}}'\x3e{{../submit}}\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e{{/each}}\x3c/div\x3e\x3c/div\x3e")},
n={format:function(c){c.elements.sort(function(b,c){return b.elementno-c.elementno});var k=["size-"+c.parameters.config.size,"orientation-"+c.parameters.config.orientation,"icon-"+(c.parameters.config.showIcon?"show":"hide"),"border-"+(c.parameters.config.border?"show":"hide")];elConfig=c.parameters.config;return b={cards:c.elements.map(function(b){b.faceCls=c.parameters.background.class_name;b.elements.map(function(b){""!=b.upload_id&&""==b.txt&&(b.txt=b.asset_title);return b});return b}),cls:k.join(" ")}},
template:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}} {{cls}} flipSet"\x3e{{#each cards}}\x3cdiv class\x3d\'flip clearfix\'\x3e{{#each this.elements}}\x3cdiv role\x3d"button" class\x3d"{{#unless @index}}front seen active{{else}}back{{/unless}} face clearfix {{../faceCls}} {{#if this.upload_id}}hasImage{{/if}} {{#if this.meta}}hasMeta{{/if}}" {{#unless @index}}tabindex\x3d"1"{{else}}tabindex\x3d"-1"{{/unless}} style\x3d"{{\x3eelement_backgroundCSSString ../../outline}}"\x3e{{#if this.upload_id}}\x3cdiv class\x3d\'setImage\' role\x3d"img" aria-label\x3d\'{{this.txt}}\' style\x3d"background-image: url(\'{{getAssetUrl id\x3dthis.upload_id folderId\x3dthis.asset_uploadfolderid extension\x3dthis.asset_extension}}\')"\x3e\x3c/div\x3e{{/if}}{{#if this.meta}}\x3cspan\x3e{{{this.meta}}}\x3c/span\x3e{{/if}}\x3c/div\x3e{{/each}}\x3ci class\x3d\'fa fa-reply-all flipIcon\'\x3e\x3c/i\x3e\x3c/div\x3e{{/each}}\x3c/div\x3e')},
E={format:function(b){var c=DKI.clone(b.parameters.config);c.outline=b;c.title={enabled:c.showText};c.subtitle={enabled:b.parameters.config.includeSubtitle&&c.showText};c.icon={enabled:c.showIcon};$.each(b.elements,function(){"tileCardTitle"==this.elementtype?c.title.element=this:"tileCardSubtitle"==this.elementtype?c.subtitle.element=this:"icon"==this.elementtype&&(c.icon.element=this)});c.class_name+=" size_"+c.size+" align_"+c.vertical_alignment;c.background_class_name=b.parameters.background.class_name;
c.class_name+=" "+c.background_class_name;c.visitedIcon=b.parameters.config.visitedIcon;c.iconSizeClass=c.icon.element?c.icon.element.parameters.config.size:"";c.showIcon||(c.iconSizeClass="no-icon");return c},template:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}"\x3e\x3cdiv class\x3d"tileCard {{class_name}}" data-vertical-alignment\x3d"{{vertical_alignment}}" style\x3d\'\' data-variable-id\x3d{{variable_id}} data-visitedIcon\x3d{{visitedIcon}}\x3e\x3cdiv class\x3d"tileCardBackground {{background_class_name}}" style\x3d"{{\x3eelement_backgroundCSSString outline}}"\x3e\x3c/div\x3e\x3cdiv class\x3d"tileCard-body {{iconSizeClass}}" \x3e\x3cdiv class\x3d"tileCard-subtitle clearfix {{#unless subtitle.enabled}}hidden{{/unless}}"\x3e{{\x3e element outline\x3dsubtitle.element scope\x3dscope}}\x3c/div\x3e\x3cdiv class\x3d"tileCard-title clearfix {{#unless title.enabled}}hidden{{/unless}}"\x3e{{\x3e element outline\x3dtitle.element scope\x3dscope}}\x3c/div\x3e\x3cspan class\x3d"variableIcon {{#unless icon.enabled}}hidden{{/unless}} "\x3e{{#if icon.element}}{{\x3e element outline\x3dicon.element scope\x3dscope}}{{/if}}\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e')},
D={format:l,template:Handlebars.compile('{{#unless renderEnv.player}}{{\x3eelementOverlay}}{{/unless}}\x3cdiv class\x3d"{{element_contentClass this}}"style\x3d"{{outline.cssStyle}};display:inline-block;width:100%;height:100%;" id\x3d"content_{{outline.id}}"{{#if outine.txt}}title\x3d"{{outline.txt}}"{{/if}}\x3e\x26nbsp;\x3c/div\x3e')},y={format:$.proxy(function(c){c.elements.sort(function(b,c){return b.elementno-c.elementno});var k=["size-"+c.parameters.config.size,"icon-"+(c.parameters.config.showIcon?
"show":"hide")];c.parameters.config.border&&k.push("border-show");c.parameters.config.fadeMatched?k.push("fadeMatched"):!1;elConfig=c.parameters.config;b={cards:DKI.utility.shuffle(c.elements.slice(0).concat(c.elements)),cls:k.join(" ")};c.parameters.config.icon?b.frontMarkup="\x3cspan class\x3d'"+c.parameters.config.icon+"'\x3e\x3c/span\x3e":c.upload_id&&(c=this.getAssetUrl({id:c.upload_id,folderId:c.asset_uploadfolderid,extension:c.asset_extension})+"?bust\x3d"+Date.now(),b.frontMarkup='\x3cdiv class\x3d"face-image" style\x3d"background-image:url(\''+
c+"')\"\x3e\x3c/div\x3e");return b},this),template:Handlebars.compile("\x3cdiv id\x3d\"content_{{outline.id}}\" class\x3d\"{{element_contentClass this}} {{cls}} flipSet {{#unless renderEnv.authoring}}match_hidden{{/unless}}\" role\x3d'application'\x3e\x3cdiv class\x3d'match_manual_start' role\x3d'dialog'\x3e\x3cdiv class\x3d'match_manual_start_container flex flexCol'\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'cardsContainer'\x3e{{#each cards}}\x3cdiv class\x3d'flip accessibilitySelfManage clearfix{{#if this.elements.0.upload_id}} hasAsset{{/if}}' data-id\x3d'{{this.id}}'\x3e\x3cdiv tabindex\x3d'1' aria-label\x3d'{{arith @index '+' 1}}' role\x3d\"button\" class\x3d\"front active face clearfix {{../faceCls}} {{../outline.parameters.config.frontBg}}\" tabindex\x3d\"1\" style\x3d\"{{\x3eelement_backgroundCSSString ../outline}}\"\x3e{{{../frontMarkup}}}\x3c/div\x3e\x3cdiv aria-hidden\x3d'true' class\x3d\"back face clearfix {{../faceCls}} {{../outline.parameters.config.backBg}}\" style\x3d\"{{\x3eelement_backgroundCSSString ../outline}}\" {{#if this.elements.0.upload_id}}alt\x3d'{{this.elements.0.asset_title}}'{{/if}}\x3e{{#if this.elements.0.upload_id}}\x3cdiv class\x3d'setImage' style\x3d\"background-image: url('{{getAssetUrl id\x3dthis.elements.0.upload_id folderId\x3dthis.elements.0.asset_uploadfolderid extension\x3dthis.elements.0.asset_extension}}')\"\x3e\x3c/div\x3e\x3cspan class\x3d'noShow'\x3e{{else}}\x3cspan\x3e{{/if}}{{#if this.elements.0.upload_id}}{{this.elements.0.asset_title}}{{else}}{{{this.elements.0.meta}}}{{/if}}\x3c/span\x3e\x3c/div\x3e\x3ci class\x3d'fa fa-reply-all flipIcon'\x3e\x3c/i\x3e\x3c/div\x3e{{/each}}\x3c/div\x3e\x3c/div\x3e")},
B={format:$.proxy(function(b){return{outline:b}},this),template:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" data-variable-id\x3d"{{outline.parameters.config.variable_id}}" class\x3d"{{element_contentClass this}} {{cls}}" \x3e\x3c/div\x3e')},F={format:$.proxy(function(b){var c=[],k=[],h="";$.each(b.elements,function(){"categoryCardsCategory"==this.elementtype?k.push(this):c.push(this)});2<k.length?(h="cat"+k.length,k=[k.splice(0,2),k]):k=[k];this.state.utility.shuffle(c);var l=b.parameters.config.cardClass.replace("bg-",
""),l=""===l?"default":l;return{cards:c,categories:k,outline:b,cardColour:l,numCls:h,answerColour:b.parameters.config.cardStyle.match("solid")?b.parameters.config.cardClass:l,restartLabel:this.state.strings?this.state.strings.runtime.testTryAgain:"Try Again"}},this),template:Handlebars.compile("\x3cdiv id\x3d\"content_{{outline.id}}\" data-variable-id\x3d\"{{outline.parameters.config.variable_id}}\" class\x3d\"categoryCards {{element_contentClass this}} {{cls}} {{numCls}} question-element {{#if outline.parameters.config.spaceTextLikeElements}}spaced-like-elements{{/if}}\" \x3e\x3cdiv\x3e{{#if outline.meta}}\x3c{{outline.parameters.config.titleTag}} class\x3d\"question-title\"\x3e{{{outline.meta}}}\x3c/{{outline.parameters.config.titleTag}}\x3e{{/if}}{{#if outline.txt}}\x3cdiv role\x3d\"label\" class\x3d'description question-description' role\x3d\"presentation\"\x3e{{{outline.txt}}}\x3c/div\x3e{{/if}}\x3cdiv class\x3d'cards flex'\x3e\x3cdiv class\x3d'deck flex' role\x3d\"listbox\"\x3e{{#each cards}}{{#with ../this}}\x3cdiv role\x3d\"option\" tabindex\x3d\"-1\" class\x3d'card{{#ifEq ../elementtype 'categoryCardsAnswer'}} disabled{{/ifEq}} {{../elementtype}} flex flexCol flexAuto{{#ifEq ../elementtype 'categoryCardsAnswer'}} {{answerColour}}{{else}} {{cardColour}}{{/ifEq}} {{outline.parameters.config.cardStyle}}' data-id\x3d'{{../id}}'\x3e\x3cdiv class\x3d'card-content flex'\x3e\x3cspan\x3e{{{../meta}}}\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e{{/with}}{{/each}}\x3cdiv class\x3d'flex' style\x3d'align-items:center;-ms-flex-align:center;'\x3e\x3cdiv class\x3d'feedback flex flexCol no-select'\x3e\x3cdiv class\x3d'gauge'\x3e\x3cspan class\x3d'score fill-primary'\x3e\x3cdiv class\x3d\"overlay\"\x3e\x3cdiv class\x3d\"text dki-element-text\"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d\"mask full\"\x3e\x3cdiv class\x3d\"fill\"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d\"mask half\"\x3e\x3cdiv class\x3d\"fill\"\x3e\x3c/div\x3e\x3cdiv class\x3d\"fill fix\"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/span\x3e\x3c/div\x3e\x3cspan class\x3d'f-text'\x3e\x3c/span\x3e\x3cbutton tabindex\x3d\"1\" class\x3d'btn-default btn retake'\x3e{{restartLabel}}\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d\"category-wrapper\" role\x3d\"listbox\"\x3e{{#each categories}}\x3cdiv class\x3d'categories flex'\x3e{{#each this}}\x3cdiv\x3e\x3cdiv style\x3d'margin: 0 1rem'\x3e{{#with ../../this}}\x3cdiv role\x3d\"option\" tabindex\x3d\"-1\" class\x3d'card{{#ifEq ../elementtype 'categoryCardsAnswer'}} disabled{{/ifEq}} {{../elementtype}} flex flexCol flexAuto{{#ifEq ../elementtype 'categoryCardsAnswer'}} {{answerColour}}{{else}} {{cardColour}}{{/ifEq}} {{outline.parameters.config.cardStyle}}' data-id\x3d'{{../id}}'\x3e\x3cdiv class\x3d'card-content flex'\x3e\x3cspan\x3e{{{../meta}}}\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e{{/with}}\x3c/div\x3e\x3c/div\x3e{{/each}}\x3c/div\x3e{{/each}}\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e")},
C={format:l,template:Handlebars.compile('\x3cdiv style\x3d"{{#if renderEnv.responsive}}min-height:inherit;{{/if}}{{outline.cssstyle}}"id\x3d"content_{{outline.id}}"class\x3d"{{element_contentClass this}}"{{#if outline.txt}}title\x3d"{{outline.txt}}"{{/if}}{{#if outline.parameters.config.height}}data-height\x3d"{{outline.parameters.config.height}}"{{/if}}{{#if outline.parameters.config.alignment}}data-align\x3d"{{outline.parameters.config.alignment}}"{{/if}}\x3e\x3cdiv class\x3d"dropTargetTextWrapper"\x3e\x3ci class\x3d"fa {{outline.parameters.config.icon.class_name}} left"\x3e\x3c/i\x3e\x3cdiv class\x3d"dki-element-text"\x3e{{{outline.meta}}}\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e')},
I={format:l,template:Handlebars.compile('{{#unless renderEnv.export}}{{#unless renderEnv.full}}{{#unless renderEnv.single}}\x3cdiv class\x3d"dki-media-overlay htm-overlay"\x3e\x3c/div\x3e{{/unless}}{{/unless}}{{/unless}}\x3c{{scope.tagName}} style\x3d"width:100%;{{element_htmHeight outline}}{{#if outline.parameters.textStyles.lineHeight}}line-height:{{outline.parameters.textStyles.lineHeight}};{{/if}}{{#if outline.parameters.textStyles.fontSize}}font-size:{{outline.parameters.textStyles.fontSize}};{{/if}}" id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}} {{outline.parameters.config.root_class}} {{outline.parameters.config.text_effect}}"{{#if outline.txt}} title\x3d"{{outline.txt}}"{{/if}}\x3e\x3cdiv class\x3d"dki-element-text"\x3e{{{element_htmMeta this}}}\x3c/div\x3e\x3c/{{scope.tagName}}\x3e')},
J={format:l,template:Handlebars.compile('{{#if forTemplate}}{{\x3eelement_forTemplate}}{{else if renderEnv.document}}{{element_forDocument outline}}{{else}}{{#unless renderEnv.export}}{{#unless renderEnv.full}}{{#unless renderEnv.single}}\x3cdiv class\x3d"dki-media-overlay htm-overlay"\x3e\x3c/div\x3e{{/unless}}{{/unless}}{{/unless}}\x3ciframe tabindex\x3d"1"style \x3d"{{element_htmlWidgetStyle this}}" src\x3d"{{#if renderEnv.authoring}}{{getAssetUrl id\x3doutline.upload_id folderId\x3doutline.asset_uploadfolderid extension\x3doutline.asset_extension}}{{element_htmlWidgetPath outline}}{{else}}about:blank;{{/if}}" data-src\x3d"{{getAssetUrl id\x3doutline.upload_id folderId\x3doutline.asset_uploadfolderid extension\x3doutline.asset_extension}}{{element_htmlWidgetPath outline}}"scrolling\x3d"{{element_htmlWidgetScrolling this}}"id\x3d"content_{{outline.id}}"class\x3d"{{element_contentClass this}} {{outline.parameters.config.embedType}}"frameborder\x3d"0"seamless\x3e\x3c/iframe\x3e{{/if}}')},
G={format:l,template:Handlebars.compile('{{#if forTemplate}}{{\x3eelement_forTemplate}}{{else if renderEnv.document}}{{element_forDocument outline}}{{else}}{{#unless renderEnv.export}}{{#unless renderEnv.full}}{{#unless renderEnv.single}}\x3cdiv class\x3d"dki-media-overlay htm-overlay"\x3e\x3c/div\x3e{{/unless}}{{/unless}}{{/unless}}\x3ciframe  style\x3d"height:{{outline.height}}px;width:{{outline.width}}px;"{{element_iframe_getProperties outline}} id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}"{{#if outline.src}} data-src\x3d"{{outline.src}}"{{/if}} src\x3d"{{#if renderEnv.authoring}}{{outline.src}}{{else}}about:blank;{{/if}}"\x3e\x3c/iframe\x3e{{/if}}')},
K={format:l,template:Handlebars.compile('{{#if forTemplate}}{{else}}{{#if renderEnv.authoring}}\x3cdiv class\x3d\'edit-fan-btn\' title\x3d\'Swap this image out with another one.\'\x3e\x3cdiv class\x3d\'icon16 swap\'\x3e\x3c/div\x3e\x3c/div\x3e{{/if}}\x3cimg {{#image_showMaps renderEnv}}{{#if outline.imageMaps}}usemap \x3d "#{{outline.id}}_imagemap"{{/if}}{{/image_showMaps}} data-src\x3d"{{getAssetUrl id\x3doutline.upload_id folderId\x3doutline.asset_uploadfolderid extension\x3doutline.asset_extension}}" data-thumbUrl\x3d"{{getAssetThumb el\x3doutline id\x3doutline.upload_id extension\x3doutline.asset_extension}}" data-assetWidth\x3d"{{outline.asset_width}}" data-assetHeight\x3d"{{outline.asset_height}}" src\x3d"{{getAssetUrl id\x3doutline.upload_id folderId\x3doutline.asset_uploadfolderid extension\x3doutline.asset_extension}}" style\x3d"top:0px;left:0px;z-index:1;{{#element_ifCanHaveDims}}width:100%;height:100%;{{else}}max-width:100%;height:auto;{{/element_ifCanHaveDims}}"alt\x3d"{{#ifNEq outline.txt \'\'}}{{outline.txt}}{{else}}{{#ifNEq outline.parameters.accessibility.text \'\'}}{{outline.parameters.accessibility.text}}{{/ifNEq}}{{/ifNEq}}" role\x3d"img" align\x3d"top" id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this }}{{#ifNEq outline.rollover_asset_id \'\'}} hasRollover {{/ifNEq}}"/\x3e{{#ifNEq outline.rollover_asset_id \'\'}}\x3cdiv style\x3d"position: absolute; width: 100%; top: 0; left: 0;"\x3e\x3cimg data-id\x3d\'{{outline.id}}\' data-src\x3d\'{{getAssetUrl id\x3doutline.rollover_asset_id folderId\x3doutline.rollover_asset_folderid extension\x3doutline.rollover_asset_extension}}\' {{#if outline.imageMaps}}usemap \x3d "#{{outline.id}}_imagemap"{{/if}}src\x3d\'{{getAssetUrl id\x3doutline.rollover_asset_id folderId\x3doutline.rollover_asset_uploadfolderid extension\x3doutline.rollover_asset_extension}}\' alt\x3d"{{outline.txt}}" align\x3d\'top\' id\x3d"content_{{outline.id}}_rollover" class\x3d"{{element_contentClass this}} dki-image-rollover" /\x3e\x3c/div\x3e{{/ifNEq}}{{#image_showMaps renderEnv}}{{#if outline.imageMaps}}{{reverse outline.imageMaps}}\x3cmap id\x3d"{{outline.id}}_imagemap" name\x3d"{{outline.id}}_imagemap"\t{{#if renderEnv.responsive}} style\x3d"width:{{outline.parameters.responsive.minWidth}}px;height:{{outline.parameters.responsive.minHeight}}px;" data-asset-width\x3d"{{outline.asset_width}}" data-asset-height\x3d"{{outline.asset_height}}"{{/if}}\x3e{{#each outline.imageMaps}}\x3carea shape\x3d"{{this.shape}}" coords\x3d"{{this.coords}}" alt\x3d"{{this.alt}}" role\x3d"button" data-href\x3d"{{this.href}}" data-hreftype\x3d"{{this.hreftype}}" data-hreftarget\x3d"{{this.hreftarget}}"{{#ifEq this.hreftype \'HTTP\'}} onclick\x3d"processHttpEvent(this);"{{/ifEq}}{{#ifEq this.hreftype \'file\'}} onclick\x3d"processHttpEvent(this);"{{/ifEq}}{{#ifEq this.hreftype \'event\'}}{{element_imageMapEventFunction this}}{{/ifEq}} onmouseover\x3d"$(\'body\').css(\'cursor\',\'pointer\');" onmouseout\x3d"$(\'body\').css(\'cursor\',\'\');" style\x3d"display:block;cursor:pointer;"/\x3e{{/each}}\x3c/map\x3e{{/if}}{{/image_showMaps}}{{/if}}')},
L={format:l,template:Handlebars.compile('{{#if forTemplate}}{{\x3eelement_forTemplate}}{{else}}\x3cdiv style\x3d"height:100%;width:100%" id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}"\x3e{{each outline.parameters.config.elements_assets}}\x3cimg src\x3d"{{#getAssetUrl id\x3dthis.uploadid folderId\x3dthis.uploadfolderid extension\x3dthis.extention}}"/\x3e{{/each}}\x3c/div\x3e{{/if}}')},P={format:$.proxy(function(b){return{outline:b,startString:this.state.strings?this.state.strings.runtime["theme start"]:
"Start",submit:this.state.strings?this.state.strings.runtime.buttonLabelSubmit:"Submit",tryAgain:this.state.strings?this.state.strings.runtime.testTryAgain:"Try Again"}},this),template:Handlebars.compile('{{#if renderEnv.authoring}}\x3cdiv class\x3d"dki-media-overlay htm-overlay" style\x3d\'z-index:2000;\'\x3e\x3c/div\x3e{{/if}}\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this }}" style\x3d"{{#unless renderEnv.responsive}}width:{{outline.width}}px; height:{{outline.height}}px; {{/unless}}"\x3e{{#unless renderEnv.authoring}}{{#ifNEq outline.meta \'\'}}\x3cdiv class\x3d\'preamble\'\x3e\x3cdiv tabindex\x3d\'1\' class\x3d\'preamble_content\'\x3e{{{outline.meta}}}\x3c/div\x3e\x3cbutton tabindex\x3d\'1\' role\x3d\'button\' class\x3d\'btn btn-primary\' style\x3d\'display:inline-block;\'\x3e{{{startString}}}\x3c/button\x3e\x3c/div\x3e{{/ifNEq}}{{/unless}}\x3cdiv class\x3d"imagemap-wrapper flex"\x3e\x3cdiv class\x3d"imagemap-image-wrapper flex inline"\x3e\x3cimg  data-src\x3d"{{getAssetUrl id\x3doutline.upload_id folderId\x3doutline.asset_uploadfolderid extension\x3doutline.asset_extension}}" data-thumbUrl\x3d"{{getAssetThumb el\x3doutline id\x3doutline.upload_id extension\x3doutline.asset_extension}}" data-assetWidth\x3d"{{outline.asset_width}}" data-assetHeight\x3d"{{outline.asset_height}}" src\x3d"{{getAssetUrl id\x3doutline.upload_id folderId\x3doutline.asset_uploadfolderid extension\x3doutline.asset_extension}}" style\x3d"top:0px;left:0px;z-index:1;{{#unless renderEnv.responsive}}width:100%;height:100%;{{/unless}}"alt\x3d"{{#ifNEq outline.txt \'\'}}{{outline.txt}}{{else}}{{#ifNEq outline.parameters.accessibility.text \'\'}}{{outline.parameters.accessibility.text}}{{/ifNEq}}{{/ifNEq}}" role\x3d"img" align\x3d"top" class\x3d"imagemap-image"/\x3e\x3c/div\x3e\x3cdiv class\x3d"imagemap-label-wrapper flex flexCol align-items-center"\x3e{{#each outline.elements}}\x3cdiv class\x3d"imagemap-label flex justify-start align-items-center inverted" data-id\x3d"{{id}}"\x3e\x3cdiv class\x3d"imagemap-label-dot flex justify-center align-items-center" data-id\x3d"{{id}}"\x3e{{arith @index \'+\' 1}}\x3c/div\x3e{{#element_renderMapLabelAsImage ../outline upload_id}}\x3cimg  data-src\x3d"{{getAssetUrl id\x3dupload_id folderId\x3dasset_uploadfolderid extension\x3dasset_extension}}" src\x3d"{{getAssetUrl id\x3dupload_id folderId\x3dasset_uploadfolderid extension\x3dasset_extension}}" style\x3d"top:0px;left:0px;z-index:1;{{#unless renderEnv.responsive}}width:100%;height:100%;{{/unless}}"alt\x3d"{{title}}" role\x3d"img" align\x3d"top" class\x3d"imagemap-labelImage"/\x3e{{else}}\x3cdiv class\x3d"imagemap-label-title"\x3e{{{title}}}\x3c/div\x3e{{/element_renderMapLabelAsImage}}\x3c/div\x3e{{/each}}\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d\'feedback reverse\' id\x3d\'feedback_{{outline.id}}\'\x3e\x3c/div\x3e\x3cdiv class\x3d"question-submit-wrapper clearfix" style\x3d"text-align:center; padding:20px 0 10px 0;"\x3e\x3cdiv class\x3d"btn-primary btn submit pull-{{#if is_LTR}}right{{else}}left{{/if}}" title\x3d"{{submit}}"\x3e{{submit}}\x3c/div\x3e\x3cdiv class\x3d"btn-default btn retake pull-{{#if is_LTR}}right{{else}}left{{/if}}" title\x3d"{{tryAgain}}"\x3e{{tryAgain}}\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e')},
M={format:$.proxy(function(b){var c={outline:b,submit:this.state.strings?this.state.strings.runtime.buttonLabelSubmit:"Submit",tryAgain:this.state.strings?this.state.strings.runtime.testTryAgain:"Try Again"},k=[],h=function(b,c){switch(c.toString()){case "A":case "a":return String.fromCharCode(c.charCodeAt()+b)+") ";case "1":return parseInt(c,10)+b+") ";case "i":b+=1;if(+b){b=String(+b).split("");c=" C CC CCC CD D DC DCC DCCC CM  X XX XXX XL L LX LXX LXXX XC  I II III IV V VI VII VIII IX".split(" ");
for(var k="",h=3;h--;)k=(c[+b.pop()+10*h]||"")+k;b=Array(+b.join("")+1).join("M")+k}else b=!1;return b+") ";default:return""}},l=1<parseInt(b.parameters.config.maxSelections,10)?"checkbox":"radio",n=0;c.inputType=l;$.each(b.elements,function(b,c){this.idx=b;k.push(this)});b.parameters.config.shuffle&&(k=this.state.utility.shuffle(k));$.each(k,function(b){this.inputType=l;this.num=h(n,c.outline.parameters.config.numbering);"slider"==this.elementtype&&(c.slider=this,n--);n++});c.items=k;return c},this),
template:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}} clearfix content-type-{{outline.parameters.config.contentType}} {{#if outline.parameters.config.fullSize}}fullSize{{/if}} {{#if outline.parameters.config.spaceTextLikeElements}}spaced-like-elements{{/if}}" {{#ifEq inputType \'radio\'}}role\x3d"radiogroup" aria-labelledby\x3d"{{outline.id}}_description"{{/ifEq}}\x3e{{#if renderEnv.authoring}}\x3cdiv class\x3d\'disabler\' style\x3d\'background-color:transparent;\'\x3e\x3c/div\x3e{{/if}}{{#if outline.meta}}\x3c{{outline.parameters.config.titleTag}} class\x3d"question-title"\x3e{{{element_htmMeta this}}}\x3c/{{outline.parameters.config.titleTag}}\x3e{{/if}}{{#if outline.txt}}\x3cdiv id\x3d"{{outline.id}}_description" class\x3d\'question-description\'\x3e{{{element_richText_txt this}}}\x3c/div\x3e{{/if}}\x3cdiv class\x3d"options clearfix "\x3e{{#each items}}{{#ifNEq elementtype \'slider\'}}{{\x3eelement outline\x3dthis scope\x3d../scope elementFromQuestion\x3dtrue}}{{/ifNEq}}{{/each}}\x3c/div\x3e\x3cdiv class\x3d"clearfix" style\x3d"padding-right:15px;"\x3e{{#if slider}}{{\x3eelement outline\x3dslider scope\x3dscope elementFromQuestion\x3dtrue}}{{/if}}\x3c/div\x3e\x3cdiv class\x3d\'feedback reverse\' id\x3d\'feedback_{{outline.id}}\'\x3e\x3c/div\x3e\x3cdiv class\x3d"question-submit-wrapper clearfix" style\x3d"text-align:center; padding:20px 0 10px 0;"\x3e\x3cdiv class\x3d"btn-primary btn submit pull-{{#if is_LTR}}right{{else}}left{{/if}}" title\x3d"{{submit}}"\x3e{{submit}}\x3c/div\x3e\x3cdiv class\x3d"btn-default btn retake pull-{{#if is_LTR}}right{{else}}left{{/if}}" title\x3d"{{tryAgain}}"\x3e{{tryAgain}}\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e')},
R={format:$.proxy(function(b){var c={outline:b,trueLabel:this.state.strings?this.state.strings.runtime.trueOptionLabel:"True",falseLabel:this.state.strings?this.state.strings.runtime.falseOptionLabel:"False",submit:this.state.strings?this.state.strings.runtime.buttonLabelSubmit:"Submit",tryAgain:this.state.strings?this.state.strings.runtime.testTryAgain:"Try Again"},k=[],h=0;$.each(b.elements,function(b,c){this.elementtype="questionOption";k.push(this)});b.parameters.config.shuffle&&(k=this.state.utility.shuffle(k));
$.each(k,function(b){this.inputType="radio";this.num=getNumbers(h,c.outline.parameters.config.numbering);"slider"==this.elementtype&&(c.slider=this,h--);h++});c.items=k;return c},this),template:Handlebars.compile("\x3cdiv id\x3d\"content_{{outline.id}}\" class\x3d\"{{element_contentClass this}} clearfix {{#if outline.parameters.config.fullSize}}fullSize{{/if}} {{#if outline.parameters.config.spaceTextLikeElements}}spaced-like-elements{{/if}}\" role\x3d\"radiogroup\" aria-labelledby\x3d\"{{outline.id}}_description\"\x3e{{#if renderEnv.authoring}}\x3cdiv class\x3d'disabler' style\x3d'background-color:transparent;'\x3e\x3c/div\x3e{{/if}}{{#if outline.meta}}\x3c{{outline.parameters.config.titleTag}} class\x3d\"question-title\"\x3e{{{outline.meta}}}\x3c/{{outline.parameters.config.titleTag}}\x3e{{/if}}{{#if outline.txt}}\x3cdiv id\x3d\"{{outline.id}}_description\" class\x3d'question-description'\x3e{{{outline.txt}}}\x3c/div\x3e{{/if}}\x3cdiv class\x3d\"options clearfix\"\x3e\x3cdiv class\x3d'dki-question-option dki-questionOption-element dki-element-content'\x3e\x3cdiv class\x3d'input-group' role\x3d\"presentation\"\x3e\x3cspan class\x3d'input-group-addon'\x3e\x3cinput id\x3d'{{outline.id}}_true' type\x3d'radio' name\x3d'{{outline.id}}_tf' value\x3d'true'/\x3e\x3c/span\x3e\x3clabel class\x3d'form-control' for\x3d'{{outline.id}}_true'\x3e{{trueLabel}}\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'dki-question-option dki-questionOption-element dki-element-content'\x3e\x3cdiv class\x3d'input-group' role\x3d\"presentation\"\x3e\x3cspan class\x3d'input-group-addon'\x3e\x3cinput id\x3d'{{outline.id}}_false' type\x3d'radio' name\x3d'{{outline.id}}_tf' value\x3d'false'/\x3e\x3c/span\x3e\x3clabel class\x3d'form-control' for\x3d'{{outline.id}}_false'\x3e{{falseLabel}}\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d\"clearfix\" style\x3d\"padding-right:15px;\"\x3e{{#if slider}}{{\x3eelement outline\x3dslider scope\x3dscope}}{{/if}}\x3c/div\x3e\x3cdiv class\x3d'feedback reverse' id\x3d'feedback_{{outline.id}}'\x3e\x3c/div\x3e\x3cdiv class\x3d\"clearfix\" style\x3d\"text-align:center; padding:20px 0 10px 0;\"\x3e\x3cdiv class\x3d\"btn-primary btn submit pull-{{#if is_LTR}}right{{else}}left{{/if}}\" title\x3d\"{{submit}}\"\x3e{{submit}}\x3c/div\x3e\x3cdiv class\x3d\"btn-default btn retake pull-{{#if is_LTR}}right{{else}}left{{/if}}\" title\x3d\"{{tryAgain}}\"\x3e{{tryAgain}}\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e")},
fa={format:$.proxy(function(b){var c={outline:b,meta:"",submit:this.state.strings?this.state.strings.runtime.buttonLabelSubmit:"Submit",tryAgain:this.state.strings?this.state.strings.runtime.testTryAgain:"Try Again"};b=$("\x3cdiv\x3e").html(c.outline.meta);b.find(".pulldown-link").each(function(b,k){$(this).replaceWith("\x3cspan class\x3d'dki-question-option flex inline dki-element-content'\x3e\x3cspan class\x3d'btn-group flexAuto border-only'\x3e\x3cbutton tabindex\x3d\"1\" aria-haspopup\x3d'menu' id\x3d'question-dropdown-"+
$(this).data("dragdrop-id")+"' aria-label\x3d'"+(b+1)+"' aria-describedby\x3d'mpq_"+c.outline.id+"' class\x3d'pulldown_option question-option-color-"+c.outline.parameters.config.style.color+" question-option-style-"+c.outline.parameters.config.style.type+" btn dropdown-toggle' data-dragdrop-id\x3d'"+$(this).data("dragdrop-id")+"' aria-haspopup\x3d'true' aria-expanded\x3d'false' data-toggle\x3d'dropdown'\x3e\x3cspan class\x3d'selectedCont'\x3e\x3c/span\x3e\x3cspan class\x3d'caret'\x3e\x3c/span\x3e\x3c/button\x3e\x3cul class\x3d'dropdown-menu' role\x3d'menu' aria-labelledby\x3d'question-dropdown-"+
$(this).data("dragdrop-id")+"'\x3e\x3c/ul\x3e\x3c/span\x3e\x3c/span\x3e")});c.meta=b.html();c.ariaInstruction='\x3cdiv id\x3d"aria_instruction_mpq_'+c.outline.id+"\" class\x3d'sr-only'\x3e"+DKI.strings.questionInstructions[5]+". \x3c/div\x3e";return c},this),template:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}} clearfix {{#if outline.parameters.config.spaceTextLikeElements}}spaced-like-elements{{/if}}"\x3e{{#if renderEnv.authoring}}\x3cdiv class\x3d\'disabler\' style\x3d\'background-color:transparent;\'\x3e\x3c/div\x3e{{/if}}{{#if outline.txt}}\x3c{{outline.parameters.config.titleTag}} class\x3d"question-title"\x3e{{{outline.txt}}}\x3c/{{outline.parameters.config.titleTag}}\x3e{{/if}}{{#if ariaInstruction}}{{{ariaInstruction}}}{{/if}}\x3cdiv class\x3d\'options\' aria-labelledby\x3d\'aria_instruction_mpq_{{outline.id}}\'\x3e\x3cdiv id\x3d\'mpq_{{outline.id}}\'\x3e{{{meta}}}\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d\'feedback reverse\' id\x3d\'feedback_{{outline.id}}\'\x3e\x3c/div\x3e\x3cdiv class\x3d"clearfix" style\x3d"text-align:center; padding:20px 0 10px 0;"\x3e\x3cdiv class\x3d"btn-primary btn submit pull-{{#if is_LTR}}right{{else}}left{{/if}}" title\x3d"{{submit}}"\x3e{{submit}}\x3c/div\x3e\x3cdiv class\x3d"btn-default btn retake pull-{{#if is_LTR}}right{{else}}left{{/if}}" title\x3d"{{tryAgain}}"\x3e{{tryAgain}}\x3c/div\x3e\x3cdiv class\x3d"btn-primary btn showResult pull-{{#if is_LTR}}right{{else}}left{{/if}}" role\x3d"button"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e')},
W={format:$.proxy(function(b){var c={outline:b,meta:"",submit:this.state.strings?this.state.strings.runtime.buttonLabelSubmit:"Submit",tryAgain:this.state.strings?this.state.strings.runtime.testTryAgain:"Try Again"};b=$("\x3cdiv\x3e").html(c.outline.meta);b.find(".fitb-link").each(function(b,k){$(this).replaceWith("\x3cspan class\x3d'dki-question-option flex inline dki-element-content'\x3e\x3cspan class\x3d'input-group flexAuto' role\x3d\"presentation\"\x3e\x3cspan class\x3d'flex align-items-center'\x3e\x3clabel class\x3d'sr-only' for\x3d\"fill-option-"+
b+"-"+c.outline.id+'"\x3e'+(b+1)+"\x3c/label\x3e\x3cinput type\x3d'text' autocomplete\x3d'off' id\x3d'fill-option-"+b+"-"+c.outline.id+"' data-empty-label\x3d'"+(b+1)+"' data-aria-describedby\x3d'fitb_"+c.outline.id+"' class\x3d'fillInTheBlanks_option input-group-addon' data-dragdrop-id\x3d'"+$(this).data("dragdrop-id")+"'\x3e\x3c/input\x3e\x3c/span\x3e\x3c/span\x3e\x3c/span\x3e")});c.meta=b.html();c.ariaInstruction='\x3cdiv id\x3d"aria_instruction_fitb_'+c.outline.id+'" style\x3d"display:none"\x3e'+
DKI.strings.questionInstructions[4]+"\x3c/div\x3e";return c},this),template:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}} clearfix {{#if outline.parameters.config.spaceTextLikeElements}}spaced-like-elements{{/if}}"\x3e{{#if renderEnv.authoring}}\x3cdiv class\x3d\'disabler\' style\x3d\'background-color:transparent;\'\x3e\x3c/div\x3e{{/if}}{{#if outline.txt}}\x3c{{outline.parameters.config.titleTag}} class\x3d"question-title"\x3e{{{outline.txt}}}\x3c/{{outline.parameters.config.titleTag}}\x3e{{/if}}{{#if ariaInstruction}}{{{ariaInstruction}}}{{/if}}\x3cfieldset id\x3d\'fitb_{{outline.id}}\' aria-labelledby\x3d\'aria_instruction_fitb_{{outline.id}}\'\x3e{{{meta}}}\x3c/fieldset\x3e\x3cdiv class\x3d\'feedback reverse\' id\x3d\'feedback_{{outline.id}}\'\x3e\x3c/div\x3e\x3cdiv class\x3d"clearfix question-submit-wrapper" style\x3d"text-align:center; padding:20px 0 10px 0;"\x3e\x3cdiv class\x3d"btn-primary btn submit pull-{{#if is_LTR}}right{{else}}left{{/if}}" role\x3d"button" title\x3d"{{submit}}"\x3e{{submit}}\x3c/div\x3e\x3cdiv class\x3d"btn-default btn retake pull-{{#if is_LTR}}right{{else}}left{{/if}}" role\x3d"button" title\x3d"{{tryAgain}}"\x3e{{tryAgain}}\x3c/div\x3e\x3cdiv class\x3d"btn-primary btn showResult pull-{{#if is_LTR}}right{{else}}left{{/if}}" role\x3d"button"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e')},
V={format:$.proxy(function(b){var c={outline:b,submit:this.state.strings?this.state.strings.runtime.buttonLabelSubmit:"Submit",tryAgain:this.state.strings?this.state.strings.runtime.testTryAgain:"Try Again"};b=$("\x3cdiv\x3e").html(b.meta);var k=this;b.find(".answer").each(function(b,c){$(this).attr({role:"option","aria-selected":!1});k.state.renderEnvironment.authoring&&$(this).addClass("selected")});b=b.contents();for(var h=new RegExp(/[^\s]$/),l=new RegExp(/^[^\s]/),n=0;n<b.length;n++){var p=b[n];
if("span"==p.nodeName.toLowerCase()){var r=b[n-1],m=b[n+1];r&&"#text"==r.nodeName.toLowerCase()&&h.test(r.textContent)&&$(p).addClass("leftText");m&&"#text"==m.nodeName.toLowerCase()&&l.test(m.textContent)&&$(p).addClass("rightText")}}c.meta=b.map(function(){return 3==this.nodeType?this.textContent.replace(/[^\s:;,.?!\/]+/g,function(b){return"\x3cspan role\x3d'option' aria-selected\x3d'false'\x3e"+b+"\x3c/span\x3e"}):$("\x3cdiv\x3e").append($(this).clone()).html()}).toArray().join("");c.answers=[];
return c},this),template:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}} clearfix wordInteractionQuestion {{#if outline.parameters.config.spaceTextLikeElements}}spaced-like-elements{{/if}}"\x3e{{#if renderEnv.authoring}}\x3cdiv class\x3d\'disabler\' style\x3d\'background-color:transparent;\'\x3e\x3c/div\x3e{{/if}}\x3cdiv class\x3d\'info\'\x3e{{#if outline.txt}}\x3c{{outline.parameters.config.titleTag}} class\x3d"question-title"\x3e{{{outline.txt}}}\x3c/{{outline.parameters.config.titleTag}}\x3e{{/if}}\x3cdiv class\x3d\'counter\'\x3e0/{{answers.length}}\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d\'options\'\x3e{{{meta}}}\x3c/div\x3e\x3cdiv class\x3d\'feedback reverse\' id\x3d\'feedback_{{outline.id}}\'\x3e\x3c/div\x3e\x3cdiv class\x3d"clearfix" style\x3d"text-align:center; padding:20px 0 10px 0;"\x3e\x3cdiv class\x3d"btn-primary btn submit pull-{{#if is_LTR}}right{{else}}left{{/if}}" title\x3d"{{submit}}"\x3e{{submit}}\x3c/div\x3e\x3cdiv class\x3d"btn-default btn retake pull-{{#if is_LTR}}right{{else}}left{{/if}}" title\x3d"{{tryAgain}}"\x3e{{tryAgain}}\x3c/div\x3e\x3cdiv class\x3d"btn-primary btn showResult pull-{{#if is_LTR}}right{{else}}left{{/if}}" role\x3d"button"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e')},
ba={format:$.proxy(function(b){var c={outline:b,submit:this.state.strings?this.state.strings.runtime.buttonLabelSubmit:"Submit",tryAgain:this.state.strings?this.state.strings.runtime.testTryAgain:"Try Again"},k=$("\x3cdiv\x3e").html(b.meta);b.answers=k.find(".answer").toArray().map(function(b){var c=$(b).html();$(b).html("").addClass("border-only fa fa-bullseye");return c});c.meta=k.html();return c},this),template:Handlebars.compile("\x3cdiv id\x3d\"content_{{outline.id}}\" class\x3d\"{{element_contentClass this}} clearfix wordInteractionQuestion {{#if outline.parameters.config.spaceTextLikeElements}}spaced-like-elements{{/if}}\"\x3e{{#if renderEnv.authoring}}\x3cdiv class\x3d'disabler' style\x3d'background-color:transparent;'\x3e\x3c/div\x3e{{/if}}\x3cdiv class\x3d'info'\x3e{{#if outline.txt}}\x3c{{outline.parameters.config.titleTag}} class\x3d\"question-title\"\x3e{{{outline.txt}}}\x3c/{{outline.parameters.config.titleTag}}\x3e{{/if}}\x3cdiv class\x3d'counter'\x3e0/{{outline.answers.length}}\x3c/div\x3e\x3cdiv class\x3d'answerPool flex'\x3e\x3cdiv class\x3d'answerNav fa fa-chevron-left'\x3e\x3c/div\x3e\x3cdiv class\x3d'answers flex wrap justify-center flexAuto'\x3e{{#if renderEnv.authoring}}{{#each outline.answers}}\x3cspan class\x3d'selected answerDrag'\x3e{{this}}\x3c/span\x3e{{/each}}{{/if}}\x3c/div\x3e\x3cdiv class\x3d'answerNav fa fa-chevron-right'\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'options'\x3e{{{meta}}}\x3c/div\x3e\x3cdiv class\x3d'feedback reverse' id\x3d'feedback_{{outline.id}}'\x3e\x3c/div\x3e\x3cdiv class\x3d\"clearfix\" style\x3d\"text-align:center; padding:20px 0 10px 0;\"\x3e\x3cdiv class\x3d\"btn-primary btn submit pull-{{#if is_LTR}}right{{else}}left{{/if}}\" title\x3d\"{{submit}}\"\x3e{{submit}}\x3c/div\x3e\x3cdiv class\x3d\"btn-default btn retake pull-{{#if is_LTR}}right{{else}}left{{/if}}\" title\x3d\"{{tryAgain}}\"\x3e{{tryAgain}}\x3c/div\x3e\x3cdiv class\x3d\"btn-primary btn showResult pull-{{#if is_LTR}}right{{else}}left{{/if}}\" role\x3d\"button\"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e")},
S={format:function(b){return{outline:b,strings:{zoom:"Click to see a larger version of the image."}}},template:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}} dki-question-option{{#ifEq outline.inputType \'checkbox\'}} multiAnswer{{/ifEq}}"\x3e\x3cdiv class\x3d"input-group" role\x3d"presentation"\x3e\x3cspan class\x3d"input-group-addon"\x3e\x3cinput id\x3d"{{outline.id}}_option" type\x3d"{{outline.inputType}}" name\x3d"{{outline.parent_element_id}}_options" data-id\x3d"{{outline.id}}" {{#ifEq outline.inputType \'checkbox\'}}aria-describedby\x3d"{{outline.parent_element_id}}_description"{{/ifEq}}/\x3e\x3c/span\x3e\x3clabel class\x3d"form-control" for\x3d"{{outline.id}}_option"\x3e{{#ifNEq outline.upload_id \'\'}}\x3cdiv class\x3d"question-option-image-wrapper flex justify-center align-items-center"\x3e\x3cimg class\x3d"flex nogrow" src\x3d"{{getAssetUrl id\x3doutline.upload_id folderId\x3doutline.asset_uploadfolderid extension\x3doutline.asset_extension}}" alt\x3d"{{outline.asset_description}}"/\x3e\x3ca tabindex\x3d"1" class\x3d"question-option-image-magnifier fa fa-search" href\x3d"{{getAssetUrl id\x3doutline.upload_id folderId\x3doutline.asset_uploadfolderid extension\x3doutline.asset_extension}}" title\x3d"{{strings.zoom}}"\x3e\x3c/a\x3e\x3c/div\x3e{{/ifNEq}}{{#if outline.num}}\x3cspan class\x3d"numbering"\x3e{{outline.num}}\x3c/span\x3e{{/if}}\x3cdiv class\x3d"dki-element-text"\x3e{{{element_htmMeta this}}}\x3c/div\x3e\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e')},
Q={format:l,template:Handlebars.compile('\x3cform class\x3d"{{element_contentClass this}}" action\x3d"javascript:void(0)" autocomplete\x3d"off" id\x3d"content_{{outline.id}}"\x3e\x3cfieldset\x3e\x3cdiv class\x3d\'form-group {{outline.parameters.config.labelVPos}} {{#if outline.parameters.config.labelBefore}}before{{else}}after{{/if}}\'\x3e{{#if outline.parameters.config.labelBefore}}\x3clabel for\x3d"{{outline.id}}_input"\x3e\x3cdiv class\x3d"dki-element-text"\x3e{{{outline.meta}}}\x3c/div\x3e\x3c/label\x3e{{/if}}\x3cdiv class\x3d"inputContainer"\x3e{{#unless renderEnv.player}}\x3cdiv class\x3d"dki-media-overlay htm-overlay"\x3e{{#unless outline.txt}}Type here to set your own Placeholder{{/unless}}\x3c/div\x3e{{/unless}}\x3cinput  id\x3d"{{outline.id}}_input" class\x3d"form-control"{{#unless renderEnv.authoring}} maxlength\x3d"{{outline.parameters.config.maxLength}}"{{/unless}} type\x3d"{{#unless renderEnv.authoring}}{{outline.parameters.config.type}}{{else}}text{{/unless}}"{{#if outline.parameters.config.readOnly}} readonly{{else if renderEnv.authoring}}readonly{{/if}}{{#unless renderEnv.authoring}} placeholder\x3d"{{outline.txt}}"{{else}} value\x3d"{{outline.txt}}"{{/unless}}/\x3e\x3c/div\x3e{{#unless outline.parameters.config.labelBefore}}\x3clabel for\x3d"{{outline.id}}_input"\x3e\x3cdiv class\x3d"dki-element-text"\x3e{{{outline.meta}}}\x3c/div\x3e\x3c/label\x3e{{/unless}}\x3c/div\x3e\x3c/fieldset\x3e\x3c/form\x3e')},
N={format:function(b){var c=DKI.clone(b.parameters.config);b.elements.sort(function(b,c){return b.elementno-c.elementno});c.elements=b.elements;c.style+=c.showButton?"":" hideButton";return c},template:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}"\x3e\x3cdiv class\x3d"jumbotron clearfix {{style}}"\x3e{{#each elements}}{{\x3eelement outline\x3dthis scope\x3d../scope}}{{/each}}\x3c/div\x3e\x3c/div\x3e')},Y={format:l,template:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}"class\x3d"{{element_contentClass this}} clearfix"{{#if outline.txt}}title\x3d"{{outline.txt}}"{{/if}}style\x3d"{{#if outline.parameters.textStyles.lineHeight}}line-height:{{outline.parameters.textStyles.lineHeight}};{{/if}}{{#if outline.parameters.textStyles.fontSize}}font-size:{{outline.parameters.textStyles.fontSize}};{{/if}}"\x3e{{#if outline.parameters.config.icon.onLeft}}\x3cspan class\x3d"iconContainer"\x3e\x3ci class\x3d"fa {{outline.parameters.config.icon.class_name}} {{outline.parameters.config.icon.backgroundClass}} labelIcon left"\x3e\x3c/i\x3e\x3c/span\x3e{{/if}}\x3cdiv class\x3d"dki-element-text"\x3e{{#if outline.meta.length}}{{{element_htmMeta this}}}{{else}}\x26nbsp;{{/if}}\x3c/div\x3e{{#unless outline.parameters.config.icon.onLeft}}\x3cspan class\x3d"iconContainer"\x3e\x3ci class\x3d"fa {{outline.parameters.config.icon.class_name}} {{outline.parameters.config.icon.backgroundClass}} labelIcon right"\x3e\x3c/i\x3e\x3c/span\x3e{{/unless}}\x3ci class\x3d"fa fa-info responsiveFallback"\x3e\x3c/i\x3e\x3c/div\x3e')},
ka={format:l,template:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}"\x3e{{#unless renderEnv.player}}{{\x3eelementOverlay}}{{/unless}}\x3ci class\x3d"fa fa-thumbs-up"\x3e\x3c/i\x3e\x3ci class\x3d"fa fa-thumbs-down"\x3e\x3c/i\x3e\x3c/div\x3e')},X={format:function(b){var c=DKI.clone(b.parameters.config);c.items=[];b.elements.sort(function(b,c){return b.elementno-c.elementno});$.each(b.elements,function(b,k){if("iconsEnabled"==c.type)c.items.push("\x3ci class\x3d'fa fa-fw fa-"+
k.parameters.config.icon+'\'\x3e\x3c/i\x3e \x3cspan class\x3d"list-item-text"\x3e'+h.parseElementDataImagesInMeta(k)+"\x3c/span\x3e");else if("numbersEnabled"==c.type||"styledNumbersEnabled"==c.type){var l="itemNumberIcon";"styledNumbersEnabled"==c.type&&(l+=" styled-numbers");c.items.push("\x3cspan class\x3d'"+l+"'\x3e"+(b+1)+'\x3c/span\x3e\x3cspan class\x3d"list-item-text"\x3e'+h.parseElementDataImagesInMeta(k)+"\x3c/span\x3e")}else"bulletsEnabled"==c.type?c.items.push("\x3csvg class\x3d'bulletPoint'\x3e\x3c/svg\x3e\x3cspan class\x3d\"list-item-text\"\x3e"+
h.parseElementDataImagesInMeta(k)+"\x3c/span\x3e"):"checkBoxesEnabled"==c.type?c.items.push("\x3csvg xmlns\x3d'http://www.w3.org/2000/svg' style\x3d'display: none' aria-hidden\x3d'true' focusable\x3d'false'\x3e\x3csymbol id\x3d'checkmark' viewBox\x3d'0 0 24 24'\x3e\x3cpath stroke-linecap\x3d'round' stroke-miterlimit\x3d'10' fill\x3d'none'  d\x3d'M22.9 3.7l-15.2 16.6-6.6-7.1'\x3e\x3c/path\x3e\x3c/symbol\x3e\x3c/svg\x3e\x3cinput id\x3d'checkbox_"+k.id+"_"+(b+1)+"' class\x3d'checkBoxItem' type\x3d'checkbox' value\x3d'val' name\x3d'chkboxItem' aria-role\x3d'checkbox' tabindex\x3d'1' aria-labelledby\x3d'checkLabel_"+
k.id+"_"+(b+1)+"'\x3e\x3clabel aria-hidden\x3d'true' id\x3d'checkLabel_"+k.id+"_"+(b+1)+"' for\x3d'checkbox_"+k.id+"_"+(b+1)+"' class\x3d\"list-item-text\"\x3e\x3cdiv class\x3d'checkBoxBox'\x3e\x3csvg aria-hidden\x3d'true' focusable\x3d'false'\x3e\x3cuse xlink:href\x3d'#checkmark' /\x3e\x3c/svg\x3e\x3c/div\x3e\x3cspan class\x3d'labelText'\x3e"+h.parseElementDataImagesInMeta(k)+"\x3c/span\x3e\x3c/label\x3e"):c.items.push('\x3cspan class\x3d"list-item-text"\x3e'+h.parseElementDataImagesInMeta(k)+"\x3c/span\x3e")});
c.id=b.id;c.def=c.items[0];return c},template:Handlebars.compile('\x3cul class\x3d"clearfix {{element_contentClass this}} list-group {{outline.parameters.config.cls}} {{outline.parameters.config.itemStyle}} list-{{outline.parameters.config.itemClass}} column-count-{{outline.parameters.config.columns}} {{#unless outline.parameters.config.borders}}noBorders{{/unless}} {{#if outline.parameters.config.striped}}striped{{/if}}" id\x3d"content_{{outline.id}}"\x3e{{#each items}}\x3cli class\x3d"list-group-item"\x3e{{{this}}}\x3c/li\x3e{{/each}}\x3c/ul\x3e')},
ia={format:l,template:Handlebars.compile('{{#unless renderEnv.player}}{{\x3eelementOverlay}}{{/unless}}\x3ci style\x3d"{{outline.cssstyle}}{{#element_ifCanHaveDims}}font-size:{{arith outline.height \'-\' 20}}px;height:{{outline.height}}px;width:{{outline.height}}px;{{/element_ifCanHaveDims}}{{#if outline.parameters.config.backgroundColor}} background-color:{{getColour outline.parameters.config.backgroundColor}}; {{/if}} " id\x3d"content_{{outline.id}}"{{#if outline.txt}} title\x3d"{{outline.txt}}" role\x3d"img"{{/if}} data-class\x3d"{{outline.parameters.config.class}}" class\x3d"fa {{element_contentClass this}} {{outline.parameters.config.size}} {{outline.parameters.config.class}} {{outline.parameters.config.shape}} {{outline.parameters.background.class_name}} {{outline.parameters.config.color}}"\x3e\x3c/i\x3e')},
U={format:l,template:Handlebars.compile('{{#if renderEnv.document}}\x3cdiv id\x3d"content_{{outline.id}}"\x3e{{{outline.meta}}}\x3c/div\x3e{{else}}{{#unless renderEnv.player}}{{\x3eelementOverlay}}{{/unless}}\x3ci style\x3d"{{outline.cssstyle}}font-size:{{outline.height}}px;width:{{outline.width}}px;height:{{outline.height}}px;line-height:{{outline.height}}px;{{#if outline.parameters.background.color}} background-color:{{outline.parameters.background.color}}; {{/if}}{{#if outline.parameters.background.foreground}} color:{{outline.parameters.background.foreground}}; {{/if}}" id\x3d"content_{{outline.id}}"{{#if outline.txt}} title"{{outline.txt}}"{{/if}} class\x3d"marker fa {{element_contentClass this}} {{outline.parameters.config.shape}} {{outline.parameters.background.class_name}} {{outline.parameters.config.color}}  "\x3e\x3c/i\x3e\x3cdiv class\x3d"markerPulsar {{outline.parameters.config.shape}}"\x3e\x3c/div\x3e{{/if}}')},
na=$.proxy(function(b,c){var k=c.renderEnv,h=c.page,l={renderControl:k.single||k.full||k.export||c.forTemplate,optionNo:-1};$.each(h.question.options,function(c,k){if(this.element_id==b.elementid)return l.optionNo=c+1,l.option=this,!1});"trueFalseOption"==b.elementtype&&(c="Option1"==b.txt?"true":"false",l.radioId=c+"Option"+b.id,l.labelClass=c+"Option_label",l.val=c);"multiPulldownOption"==b.elementtype&&(c=l.option.content,"string"===typeof c&&(l.option.content=this.state.utility.shuffle(c.replace(/"/g,
"\x26quot;").split(","))));"multiChoiceOption"==b.elementtype&&(l.inputType=1<h.question.max_selections?"checkbox":"radio");return l},this),la;Handlebars.registerPartial("option_fillBlanksOption",'{{#unless renderControl}}\x3cdiv class\x3d"dki-media-overlay htm-overlay" style\x3d"height:100%;width:100%"\x3e\x3c/div\x3e{{/unless}}{{#if (designLegacy)}}\x3ctable width\x3d"100%"\x3e\x3ctr\x3e\x3ctd class\x3d"input-group" role\x3d"presentation"\x3e\x3clabel class\x3d"content control-label input-group-addon" for\x3d"{{outline.txt}}"\x3e{{element_option_renderNumbering this}}\x3c/label\x3e\x3c/td\x3e\x3ctd style\x3d"width:100%"\x3e\x3cinput class\x3d"content form-control" type\x3d"text" id\x3d"{{outline.txt}}" data-order\x3d"{{optionNo}}" {{element_option_getCorrect this}} style\x3d"width:100%" {{#if outline.questionBodyId}}aria-describedby\x3d"content_{{outline.questionBodyId}}"{{/if}} aria-labelledby\x3d"option_number_{{outline.id}}"/\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e{{else}}\x3cdiv class\x3d"input-group" role\x3d"presentation"\x3e\x3cspan class\x3d"input-group-addon" id\x3d"{{outline.txt}}_addon"\x3e{{element_option_renderNumbering this}}\x3c/span\x3e\x3cinput type\x3d"text" class\x3d"content form-control" id\x3d"{{outline.txt}}" {{#if outline.questionBodyId}}aria-describedby\x3d"content_{{outline.questionBodyId}}"{{else}}aria-describedby\x3d"{{outline.txt}}_addon"{{/if}} aria-labelledby\x3d"option_number_{{outline.id}}" data-order\x3d"{{optionNo}}"/\x3e\x3c/div\x3e{{/if}}');
Handlebars.registerPartial("option_trueFalseOption",'{{#unless renderControl}}\x3cdiv class\x3d"dki-media-overlay htm-overlay" style\x3d"height:100%;width:100%"\x3e\x3c/div\x3e{{/unless}}\x3cdiv class\x3d"dki-trueFalse-selector"\x3e\x3c/div\x3e{{#if (designLegacy)}}\x3cdiv class\x3d"radio"\x3e\x3clabel for\x3d"{{radioId}}" class\x3d"radio"\x3e\x3cinput type\x3d"radio" id\x3d"{{radioId}}" value\x3d"{{val}}" name\x3d"questionOption{{scope.page.pageid}}" data-order\x3d"{{optionNo}}" {{element_option_getCorrect this}}{{#if outline.questionBodyId}}aria-describedby\x3d"content_{{outline.questionBodyId}}"{{/if}}/\x3e\x3cspan class\x3d"{{labelClass}}"\x3e{{{outline.meta}}}\x3c/span\x3e\x3c/label\x3e{{else}}\x3cdiv class\x3d"input-group" role\x3d"presentation"\x3e\x3cspan class\x3d"input-group-addon"\x3e\x3cinput aria-labelledby\x3d"{{outline.txt}}{{outline.id}}_label" type\x3d"radio" id\x3d"{{radioId}}" data-order\x3d"{{optionNo}}" value\x3d"{{val}}" name\x3d"questionOption{{scope.page.pageid}}" {{element_option_getCorrect this}}{{#if outline.questionBodyId}}aria-describedby\x3d"content_{{outline.questionBodyId}}"{{/if}}/\x3e\x3c/span\x3e\x3clabel id\x3d"{{outline.txt}}{{outline.id}}_label" for\x3d"{{radioId}}" class\x3d"form-control"\x3e\x3cspan class\x3d"{{labelClass}}"\x3e{{{outline.meta}}}\x3c/span\x3e\x3c/label\x3e\x3c/div\x3e{{/if}}');
Handlebars.registerPartial("option_multiPulldownOption",'{{#if renderEnv.document}}\x3ctable\x3e\x3ctr\x3e\x3ctd\x3e{{element_option_renderNumbering this}}\x3c/td\x3e\x3c/tr\x3e\x3ctr\x3e\x3ctd\x3e\x3cul\x3e{{#each option.content}}\x3cli\x3ethis\x3c/li\x3e{{/each}}\x3c/ul\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e{{else}}{{#unless renderControl}}\x3cdiv class\x3d"dki-media-overlay htm-overlay" style\x3d"height:100%;width:100%"\x3e\x3c/div\x3e{{/unless}}{{#if (designLegacy)}}\x3clabel for\x3d"{{outline.txt}}"\x3e{{element_option_renderNumbering this}}\x3c/label\x3e\x3cdiv class\x3d"contentWrapper"\x3e{{else}}\x3cdiv class\x3d"input-group" role\x3d"presentation"\x3e\x3clabel for\x3d"{{outline.txt}}" class\x3d"input-group-addon"\x3e{{element_option_renderNumbering this}}\x3c/label\x3e{{/if}}\x3cselect {{#if outline.questionBodyId}}aria-describedby\x3d"content_{{outline.questionBodyId}}"{{/if}} aria-labelledby\x3d"option_number_{{outline.id}}" class\x3d"content form-control" id\x3d"{{outline.txt}}"data-order\x3d"{{optionNo}}" {{element_option_getCorrect this}}\x3e\x3coption value\x3d""\x3e\x3c/option\x3e{{#each option.content}}\x3coption class\x3d"content" label\x3d"{{trim this}}"\x3e{{trim this}}\x3c/option\x3e{{/each}}\x3c/select\x3e\x3c/div\x3e{{/if}}');
Handlebars.registerPartial("option_multiChoiceOption",'{{#unless renderControl}}\x3cdiv class\x3d"dki-media-overlay htm-overlay" style\x3d"height:100%;width:100%"\x3e\x3c/div\x3e{{/unless}}\x3cdiv class\x3d"dki-multiChoice-selector"\x3e\x3c/div\x3e{{#if (designLegacy)}}\x3cspan class\x3d"multiChoiceContentWrapper" style\x3d"visibility:hidden;"\x3e\x3cinput type\x3d"{{inputType}}"  name\x3d"questionOption{{scope.page.pageid}}" id\x3d"{{outline.txt}}{{outline.id}}" value\x3d"{{outline.txt}}" data-order\x3d"{{optionNo}}" {{element_option_getCorrect this}}{{#if outline.questionBodyId}}aria-describedby\x3d"content_{{outline.questionBodyId}}"{{/if}}/\x3e\x3clabel for\x3d"{{outline.txt}}{{outline.id}}" class\x3d"questionChoiceText"\x3e{{element_option_renderNumbering this}}{{{option.content}}}\x3c/label\x3e\x3c/span\x3e{{else}}\x3cdiv class\x3d"input-group" role\x3d"presentation"\x3e\x3cspan class\x3d"input-group-addon"\x3e\x3cinput aria-labelledby\x3d"{{outline.txt}}{{outline.id}}_label" type\x3d"{{inputType}}" name\x3d"questionOption{{scope.page.pageid}}" id\x3d"{{outline.txt}}{{outline.id}}" value\x3d"{{outline.txt}}" data-order\x3d"{{optionNo}}" {{element_option_getCorrect this}}{{#if outline.questionBodyId}}aria-describedby\x3d"content_{{outline.questionBodyId}}"{{/if}}/\x3e\x3c/span\x3e\x3clabel for\x3d"{{outline.txt}}{{outline.id}}" id\x3d"{{outline.txt}}{{outline.id}}_label" class\x3d"form-control"\x3e\x3cspan class\x3d"questionChoiceText"\x3e{{element_option_renderNumbering this}}{{{option.content}}}\x3c/span\x3e\x3c/label\x3e\x3c/div\x3e{{/if}}');
Handlebars.registerPartial("option_freeFormOption",'{{#unless renderControl}}\x3cdiv class\x3d"dki-media-overlay htm-overlay" style\x3d"height:100%;width:100%"\x3e\x3c/div\x3e{{/unless}}\x3ctextarea class\x3d"content form-control" style\x3d""data-order\x3d"{{optionNo}}"\x3e\x3c/textarea\x3e');la=Handlebars.compile('\x3cdiv {{#unless renderEnv.export}}{{#unless renderEnv.full}}{{#unless renderEnv.single}}{{#unless forTemplate}}data-option-index\x3d"{{optionNo}}" {{/unless}}{{/unless}}{{/unless}}{{/unless}}style\x3d"height:100%;width:100%" id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}} dki-question-option {{#ifEq inputType \'checkbox\'}} multiAnswer{{/ifEq}}"\x3e{{\x3e(element_option_getPartial outline.elementtype)}}\x3c/div\x3e');
na={format:na,template:la};la={format:function(b){var c={outline:b,header:{enabled:b.parameters.config.header.enabled,iconLeft:b.parameters.config.header.iconLeft,iconRight:b.parameters.config.header.iconRight},footer:{enabled:b.parameters.config.footer.enabled},class_name:b.parameters.config.class_name,elements:[],startCollapsed:b.parameters.config.startCollapsed};c.class_name+=b.parameters.config.border?"":" no-border";$.each(b.elements,function(){"panelHeader"==this.elementtype?c.header.element=
this:"panelFooter"==this.elementtype?c.footer.element=this:c.elements.push(this)});b.parameters.config.collapseable&&b.parameters.config.show_accordion_controls&&(c.class_name+=" show_accordion_controls");c.startCollapsed||(c.class_name+=" expanded");b.parameters.config.padded||(c.class_name+=" no-padding");b.parameters.config.square&&(c.class_name+=" square");b.isContentContainer&&(c.class_name+=" content-container-panel");return c},template:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}"\x3e\x3cdiv class\x3d"panel {{class_name}} {{outline.parameters.config.size}}"\x3e\x3cdiv class\x3d"panel-heading clearfix {{#unless header.enabled}}hidden{{/unless}}" id\x3d"{{outline.elementid}}_panel_header"\x3e\x3ch3 class\x3d"panel-title"\x3e\x3ca tabindex\x3d"1"{{#if outline.parameters.config.collapseable}}role\x3d"button" data-toggle\x3d"collapse" data-parent\x3d"#{{outline.elementid}}_wrapper" href\x3d"#{{outline.elementid}}_panel_collapse" aria-expanded\x3d"{{#if startCollapsed}}false{{else}}true{{/if}}" aria-controls\x3d"{{outline.elementid}}_panel_collapse"{{/if}}\x3e\x3ci class\x3d"fa left {{header.iconLeft}}"\x3e\x3c/i\x3e{{\x3e element outline\x3dheader.element scope\x3dscope}}\x3ci class\x3d"fa right {{header.iconRight}}"\x3e\x3c/i\x3e\x3c/a\x3e\x3c/h3\x3e\x3c/div\x3e{{#if outline.parameters.config.collapseable}}\x3cdiv id\x3d"{{outline.elementid}}_panel_collapse" class\x3d"panel-collapse collapse {{#unless startCollapsed}}in{{/unless}}"\x3e{{/if}}{{#unless renderEnv.responsive}}\x3cdiv style\x3d"width:100%;height:100%;overflow-y:auto;backface-visibility:hidden; position:relative;"\x3e{{/unless}}\x3cdiv class\x3d"panel-body clearfix {{BgClassName outline.parameters.background}} {{#if outline.isContentContainer}}content-container-panel-body{{/if}}" style\x3d"{{\x3eelement_backgroundCSSString outline}}"\x3e{{#each this.elements}}{{\x3e element outline\x3dthis scope\x3d../scope}}{{/each}}\x3c/div\x3e{{#unless renderEnv.responsive}}\x3c/div\x3e{{/unless}}{{#if outline.parameters.config.collapseable}}\x3c/div\x3e{{/if}}\x3cdiv class\x3d"panel-footer clearfix {{#unless footer.enabled}}hidden{{/unless}}"\x3e{{\x3e element outline\x3dfooter.element scope\x3dscope}}\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e')};
var ea={format:l,template:Handlebars.compile('\x3c{{outline.parameters.config.tag_name}} class\x3d"{{element_contentClass this}} clearfix placeholder-type-{{outline.parameters.placeholder.type}} {{outline.parameters.config.root_class}}"id\x3d"content_{{outline.id}}"\x3e\x3c/{{outline.parameters.config.tag_name}}\x3e')},ca={format:function(b,c){b=DKI.clone(b.parameters.config);b.style=c.renderEnv.authoring?b.dim+":50%":b.dim+":0%";return b},template:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}"\x3e\x3cdiv class\x3d"progress {{progClass}} {{barClass}}" data-max\x3d{{max}} data-current\x3d{{current}} data-variable-id\x3d{{variable_id}}\x3e\x3cdiv class\x3d"progress-bar {{barClass}}{{#if striped}} progress-bar-striped{{/if}} {{#if animated}} active{{/if}}" role\x3d"progressbar" aria-valuenow\x3d"0" aria-valuemax\x3d"100" style\x3d"{{style}}"\x3e\x3cspan class\x3d"progress-bar-display {{#unless show_percent}}hidden{{/unless}}"\x3e{{#if renderEnv.authoring}}50%{{/if}}\x3c/span\x3e\x3cspan class\x3d"sr-only"\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e')},
ra={format:function(b){b=DKI.clone(b.parameters.config);b.textClass=b.showText?b.textClass:"hidden";b.iconClass=b.showIcon?b.iconClass:"hidden";b.image=b.showBgImage&&b.elements_assets[0]?b.elements_assets[0]:"";"hidden"==b.textClass&&b.showIcon?b.iconClass+=" full":""==b.iconClass&&b.showIcon&&(b.icon="%");return b},template:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}"\x3e\x3cdiv class\x3d"{{style}} dki-radialgauge radial {{gaugeColor}} {{gaugeThickness}}" data-variable-id\x3d"{{variable_id}}" data-max\x3d"{{max}}" data-current\x3d"{{current}}"\x3e\x3cdiv class\x3d"overlay" style\x3d"{{#if showBgImage}}background-image:url(\'{{getAssetUrl id\x3dimage.uploadid folderId\x3dimage.uploadfolderid extension\x3dimage.extention}}\'){{/if}}"\x3e\x3cspan tabindex\x3d"1" class\x3d"dki-element-progressBar"\x3e\x3cdiv class\x3d"text dki-element-text {{textClass}}" {{#ifEq textClass \'hidden\'}}aria-hidden\x3d"true"{{/ifEq}}\x3e\x3c/div\x3e\x3ci class\x3d"{{iconClass}}" aria-hidden\x3d"true"\x3e{{icon}}\x3c/i\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"mask full"\x3e\x3cdiv class\x3d"fill"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"mask half"\x3e\x3cdiv class\x3d"fill"\x3e\x3c/div\x3e\x3cdiv class\x3d"fill fix"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e')},
ja={templates:{bs:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}"\x3e\x3cdiv class\x3d"{{fullCls}}" data-toggle\x3d"buttons"\x3e{{#each items}}\x3clabel for\x3d"{{this.id}}_radio" class\x3d"{{../lablCls}}" data-index\x3d"{{arith @index \'+\' 1}}"\x3e\x3cinput class\x3d"{{../iCls}}" id\x3d"{{this.id}}_radio" type\x3d"radio" value \x3d"{{arith @index \'+\' 1}}" name\x3d"{{../id}}_radio" autocomplete\x3d"off"\x3e{{\x3eelement outline\x3dthis scope\x3d../scope}}\x3c/label\x3e{{/each}}\x3c/div\x3e\x3c/div\x3e'),
standard:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}"\x3e\x3cdiv class\x3d"{{fullCls}}"\x3e{{#each items}}\x3cinput id\x3d"{{this.id}}_radio" type\x3d"radio" value \x3d"{{arith @index \'+\' 1}}" name\x3d"{{../id}}_radio" autocomplete\x3d"off"\x3e\x3clabel for\x3d"{{this.id}}_radio" class\x3d"{{../lablCls}}" data-index\x3d"{{arith @index \'+\' 1}}"\x3e{{\x3eelement outline\x3dthis scope\x3d../scope}}\x3ca\x3e\x3c/a\x3e\x3c/label\x3e{{/each}}\x3c/div\x3e\x3c/div\x3e')},
format:function(b){var k=DKI.clone(b.parameters.config);k.items=b.elements;k.items.sort(function(b,c){return b.elementno-c.elementno});k.id=b.id;k.def=k.items[0];DKI.applyIf(k,{inpCls:"",lablCls:"",contCls:"",template:c.renderConfig.radioGroup.templates[k.type]});var h=k.contCls;k.response&&(h+=" "+k.response);k.fullCls=h+" "+k.cls;"bs"==k.type&&(k.lablCls="btn "+k.cls.replace("radio-","btn-"));b.parameters.config.vertical&&(k.lablCls+=" clearfix");k.fullCls=k.justified?k.vertical?k.fullCls+" fullWidth":
k.fullCls+("bs"==k.type?" btn-group-justified":" justified"):k.fullCls+" clearfix";return k},template:function(b){return b.template(b)}},va={template:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}"\x3e\x3cdiv class\x3d"btn-group"\x3e{{#each items}}{{#if @first}}\x3cbutton class\x3d"btn {{../cls}}{{#unless ../split.enabled}}  dropdown-toggle" type\x3d"button" id\x3d"{{../id}}" data-toggle\x3d"dropdown" aria-haspopup\x3d"menu"\x3e{{else}}" data-toggle\x3d"dropdown"\x3e{{/unless}}\x3cspan class\x3d"selectedCont"\x3e{{{this}}}\x3c/span\x3e{{#unless ../split.enabled}}\x3cspan class\x3d"caret"\x3e\x3c/span\x3e\x3c/button\x3e{{else}}\x3c/button\x3e\x3cbutton type\x3d"button"class\x3d"btn {{../split.cls}} dropdown-toggle selectionSplit" data-toggle\x3d"dropdown" aria-haspopup\x3d"true" aria-expanded-"false"\x3e\x26nbsp;\x3cspan class\x3d"caret"\x3e\x3c/span\x3e\x3c/button\x3e{{/unless}}\x3cul class\x3d"dropdown-menu" aria-labelledby\x3d"{{../id}}"\x3e{{/if}}\x3cli\x3e\x3ca data-val\x3d"{{arith @index \'+\' 1}}"href\x3d"javascript:void(0)"\x3e{{{this}}}\x3c/a\x3e\x3c/li\x3e{{/each}}\x3c/ul\x3e\x3c/div\x3e\x3c/div\x3e'),
format:function(b){var c=DKI.clone(b.parameters.config);c.items=[];$.each(b.elements,function(b,k){c.iconsEnabled?c.items.push("\x3ci class\x3d'fa fa-"+k.parameters.config.icon+'\'\x3e\x3c/i\x3e \x3cspan class\x3d"list-item-text"\x3e'+h.parseElementDataImagesInMeta(k)+"\x3c/span\x3e"):c.items.push('\x3cspan class\x3d"list-item-text"\x3e'+h.parseElementDataImagesInMeta(k)+"\x3c/span\x3e")});c.id=b.id;c.def=c.items[0];c.transparent&&(c.cls+=" btn_transparent",c.split.cls+=" btn_transparent");c.split.enabled&&
(c.cls+=" btn_transparent");return c}},Fa={format:l,template:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}} {{outline.parameters.background.stroke_class_name}} {{#if outline.parameters.config.roundedCorners}}rounded{{/if}} {{outline.parameters.config.class_name}}"\x3e\x3cdiv class\x3d\'shape-wrapper shape-type-{{outline.parameters.config.type}}\'\x3e\x3cdiv class\x3d"custom-shape-fill" style\x3d"{{#ifEq outline.parameters.config.class_name \'advanced\'}}{{outline.parameters.config.backgroundCSS}} {{/ifEq}}"\x3e\x3c/div\x3e\x3cdiv class\x3d"shape"\x3e{{{outline.meta}}}\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e')},
Aa={format:l,template:Handlebars.compile("\x3cdiv id\x3d\"content_{{outline.id}}\" class\x3d\"{{element_contentClass this}} {{outline.parameters.background.stroke_class_name}}\"\x3e\x3cdiv class\x3d'dki-element-text  {{courseStyles outline}}' data-prop\x3d'txt'\x3e{{{outline.txt}}}\x3c/div\x3e\x3cdiv class\x3d'shape'\x3e{{{outline.meta}}}\x3c/div\x3e\x3c/div\x3e")},H={format:function(b){return DKI.clone(b.parameters.config)},template:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}"\x3e\x3cdiv class\x3d"{{noUISlider.orientation}} {{track}}-track {{handle}}-handle  {{cls}}"\x3e\x3cdiv class\x3d"slider {{#if pipValues}}values{{/if}}" data-variable-id\x3d"{{variable_id}}"\x3e\x3c/div\x3e\x3cdiv class\x3d"hidden sliderLabel"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e')},
ma={format:l,template:Handlebars.compile('\x3cdiv class\x3d"{{element_contentClass this}}"style\x3d"height:{{outline.height}}px;width:100%;"id\x3d"content_{{outline.id}}"\x3e\x3c/div\x3e')},ga={format:l,template:Handlebars.compile('\x3cdiv class\x3d"{{element_contentClass this}} divider_{{outline.parameters.config.type}} {{#ifEq outline.parameters.config.type \'continue\'}}stateLocked{{/ifEq}} dividerStyle_{{outline.parameters.config.style}} progressStyle_{{outline.parameters.config.progressStyle}} lineType_{{outline.parameters.config.lineType}} {{#if outline.parameters.config.continueOptions.hideOnClick}}hideOnClicked{{/if}} dividerPadding_{{outline.parameters.config.paddingSize}}"id\x3d"content_{{outline.id}}" data-continueContext\x3d"{{outline.parameters.config.continueOptions.context}}"style\x3d"{{#ifEq outline.parameters.config.paddingSize \'custom\'}} margin-top:{{outline.parameters.config.paddingTop}}px; margin-bottom:{{outline.parameters.config.paddingBottom}}px;{{/ifEq}}"\x3e{{drawDivider element\x3doutline meta\x3doutline.meta txt\x3doutline.txt config\x3doutline.parameters.config}}\x3c/div\x3e')},
sa={format:l,template:Handlebars.compile('\x3cdiv class\x3d"{{element_contentClass this}} speech-bubble {{#if outline.parameters.config.bordered}}bordered{{/if}} {{#if outline.parameters.config.rounded}}round{{/if}} {{outline.parameters.config.shape}} {{outline.parameters.config.direction}} {{BgClassName outline.parameters.background}}"  style\x3d"{{\x3eelement_backgroundCSSString outline}}"id\x3d"content_{{outline.id}}"\x3e\x3cdiv class\x3d"dki-element-text"\x3e{{{element_htmMeta this}}}\x3c/div\x3e\x3c/div\x3e')},
ua={format:l,template:Handlebars.compile('{{\x3eelementOverlay}}\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}"\x3e{{element_svg_setMeta outline}}\x3c/div\x3e')},Ma={format:l,template:Handlebars.compile('{{#unless renderEnv.export}}{{#unless renderEnv.full}}{{#unless renderEnv.single}}\x3cdiv class\x3d"dki-media-overlay htm-overlay"\x3e\x3c/div\x3e{{/unless}}{{/unless}}{{/unless}}\x3cdiv style\x3d"{{#if renderEnv.responsive}}min-height:inherit;{{/if}}{{outline.cssstyle}}"id\x3d"content_{{outline.id}}"class\x3d"{{element_contentClass this}}"{{#if outline.txt}}title\x3d"{{outline.txt}}{{/if}}\x3e\x3cdiv class\x3d"dki-element-text"\x3e{{{element_htmMeta this}}}\x3c/div\x3e\x3c/div\x3e')},
xa;Handlebars.registerPartial("tabset-tabs",'\x3cul aria-orientation\x3d"{{outline.parameters.config.orientation}}" class\x3d"nav responsive {{tabsetClasses.list}}" id\x3d"{{elid}}" role\x3d"tablist"\x3e{{#each elements.tabs}}{{\x3e renderTabsetTab element\x3dthis index\x3d@index startUnopened\x3d../cfg.startUnopened scope\x3d../scope parentOutline\x3d../outline}}{{/each}}{{#if renderEnv.authoring}}\x3cli class\x3d"tabset-add"\x3e\x3ca class\x3d\'clearfix\' tabindex\x3d"1" data-id\x3d"tabset-add" data-toggle\x3d"tab" href\x3d"_blank"\x3e\x3cspan\x3e+\x3c/span\x3e\x3c/a\x3e\x3c/li\x3e{{/if}}\x3c/ul\x3e');
Handlebars.registerPartial("tabset-content",'\x3cdiv class\x3d"tab-content responsive {{tabsetClasses.content}}" data-for\x3d"{{elid}}"\x3e{{#each elements.content}}{{\x3e renderTabsetTabContent element\x3dthis index\x3d@index startUnopened\x3d../cfg.startUnopened  scope\x3d../scope parentOutline\x3d../outline}}{{/each}}\x3c/div\x3e');xa=Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}"\x3e\x3cdiv class\x3d"tabbable {{tabsetClasses.core}} {{outline.parameters.config.colour}} {{outline.parameters.config.opacity}} clearfix"\x3e{{#if contentFirst}}{{\x3e tabset-content}}{{\x3e tabset-tabs}}{{else}}{{\x3e tabset-tabs}}{{\x3e tabset-content}}{{/if}}\x3c/div\x3e\x3c/div\x3e');
this.renderConfig={audio:m,authoringButton:u,btn:q,callout:x,capture:k,contentCarousel:p,control:r,flash:w,flipCard:v,flashCardSet:z,flipCardSet:n,tileCard:E,hotspot:D,matchCardSet:y,scenario:B,categoryCards:F,dropTarget:C,htm:I,html:J,iframe:G,image:K,imageGallery:L,imageMap:P,multipleChoiceQuestion:M,trueFalseQuestion:R,multiplePulldownQuestion:fa,fillInTheBlanksQuestion:W,clickTheWordQuestion:V,dragTheWordQuestion:ba,questionOption:S,input:Q,jumbotron:N,label:Y,likedislike:ka,list:X,icon:ia,marker:U,
option:na,panel:la,placeholder:ea,progress:ca,radialGauge:ra,radioGroup:ja,selection:va,shape:Fa,svg:Aa,slider:H,spacer:ma,divider:ga,speechBubble:sa,SVG:ua,tab:Ma,tabset:{format:function(b){var c={elements:{tabs:[],content:[]},cfg:b.parameters.config,elid:b.id},k=!("rectangle"==b.parameters.config.custom_style||"square"==b.parameters.config.custom_style||"folder"==b.parameters.config.custom_style);b.elements.sort(function(b,c){return b.elementno-c.elementno});for(var h=0;h<b.elements.length;h++)"tab"==
b.elements[h].elementtype&&(c.elements.tabs.push(b.elements[h]),c.elements.content.push({parentId:b.id,elements:b.elements[h].elements}));c.tabsetClasses={list:b.parameters.config.style,content:"",tabset:"",core:b.parameters.config.custom_style};switch(c.cfg.orientation){case "vertical":k=12-c.cfg.verticalTabWidth;c.tabsetClasses.list+=" dki-vpMaxHeight-"+c.cfg.verticalMaxHeight+" nav-stacked col-xs-"+c.cfg.verticalTabWidth;c.tabsetClasses.content+=" col-xs-"+k;c.tabsetClasses.core+=" tabs-left";
k=!1;break;case "vertical-right":k=c.cfg.verticalTabWidth;c.tabsetClasses.list+=" dki-vpMaxHeight-100 nav-stacked col-xs-"+(12-c.cfg.verticalTabWidth);c.tabsetClasses.content+=" col-xs-"+k;c.tabsetClasses.core+=" tabs-right";k=!1;break;case "horizontal-bottom":c.tabsetClasses.core+=" tabs-below",c.contentFirst=!0}k&&b.parameters.config.justified&&(c.tabsetClasses.list+=" nav-justified");c.cfg.show_accordion_controls&&(c.tabsetClasses.core+=" show_accordion_controls");return c},template:xa},textbox:{format:l,
template:Handlebars.compile('{{#unless renderEnv.export}}{{#unless renderEnv.full}}{{#unless renderEnv.single}}\x3cdiv class\x3d"dki-media-overlay htm-overlay"\x3e\x3c/div\x3e{{/unless}}{{/unless}}{{/unless}}\x3ctextarea style\x3d"display:block;height:100%;width:100%;" class\x3d"{{element_contentClass this}} form-control size_{{outline.parameters.config.size}}" id\x3d"content_{{outline.id}}"{{#unless renderEnv.authoring}} placeholder\x3d"{{outline.txt}}"{{/unless}}\x3e{{#unless renderEnv.export}}{{#unless renderEnv.full}}{{#unless renderEnv.single}}{{outline.txt}}{{/unless}}{{/unless}}{{/unless}}\x3c/textarea\x3e')},
timeline:{format:function(b){var c=DKI.clone(b.parameters.config);b.elements.sort(function(b,c){return b.elementno-c.elementno});c.nodes=b.elements;c.timeline=b;return c},template:function(){Handlebars.registerHelper("timelineNode_hasImage",function(b,c){return b.parameters.config.elements_assets&&0<b.parameters.config.elements_assets.length?c.fn(this):c.inverse(this)});return Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}"\x3e\x3csection id\x3d"{{timeline.id}}_timeline" class\x3d"{{response}}"\x3e{{#each nodes}}\x3cdiv class\x3d"cd-timeline-block"\x3e\x3cdiv class\x3d"cd-timeline-img {{#if ../this.outline.parameters.config.enableEntrance}}is-hidden {{/if}}{{this.parameters.config.nodeCls}}"\x3e{{\x3eelement outline\x3dthis scope\x3d../scope}}\x3c/div\x3e\x3cdiv class\x3d"cd-timeline-content {{#if ../useBS}}panel panel-default {{/if}}{{#if ../this.outline.parameters.config.enableEntrance}}is-hidden{{/if}}"\x3e\x3cdiv class\x3d"elementContainer"\x3e{{#each this.elements}}{{\x3eelement outline\x3dthis scope\x3d../../scope}}{{/each}}\x3c/div\x3e\x3cspan class\x3d"cd-date"\x3e{{{this.meta}}}\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e{{/each}}\x3cdiv class\x3d"cd-timeline-block add"\x3e\x3cdiv class\x3d"cd-timeline-img"\x3e\x3cdiv\x3e\x3ci class\x3d"fa fa-plus"\x3e\x3c/i\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"cd-timeline-content"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/section\x3e\x3c/div\x3e')}()},
timelineNode:{format:l,template:Handlebars.compile('{{#timelineNode_hasImage outline}}\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}} img"style\x3d"{{#getArrayPos outline.parameters.config.elements_assets 0}} background-image:url(\'{{getAssetUrl id\x3dthis.uploadid folderId\x3dthis.uploadfolderid extension\x3dthis.extention}}\');{{/getArrayPos}}"\x3e\x3c/div\x3e{{else}}\x3ci id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}} {{outline.parameters.config.icon}}"\x3e\x3c/i\x3e{{/timelineNode_hasImage}}')},
timer:{format:function(b){return DKI.clone(b.parameters.config)},template:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}" data-variable-id\x3d\'{{variable_id}}\'\x3e\x3c/div\x3e')},toggle:{templates:{basic:Handlebars.compile('{{#unless renderEnv.export}}{{#unless renderEnv.full}}{{#unless renderEnv.single}}\x3cdiv class\x3d"dki-media-overlay htm-overlay"\x3e\x3c/div\x3e{{/unless}}{{/unless}}{{/unless}}\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}"\x3e\x3cinput class\x3d"{{inputCls}}" id\x3d"cb_{{id}}" type\x3d"checkbox"\x3e\x3clabel class\x3d"{{labelCls}}" for\x3d"cb_{{id}}" aria-label\x3d"{{{accessibilityText}}}" {{\x3e dataToggle}}\x3e\x3cdiv class\x3d"dki-element-text"\x3e{{{meta}}}\x3c/div\x3e\x3c/label\x3e\x3c/div\x3e'),
swtch:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}"\x3e\x3cspan class\x3d"tgl-container"\x3e\x3cinput type\x3d"checkbox"\x3e\x3clabel {{\x3e dataToggle}}\x3e\x3c/label\x3e\x3cdiv class\x3d"dki-element-text"\x3e{{{meta}}}\x3c/div\x3e\x3c/span\x3e\x3c/div\x3e')},format:function(b){var k={light:{inputCls:"tgl tgl-light",labelCls:"tgl-btn",template:c.renderConfig.toggle.templates.basic},iOS7:{inputCls:"tgl tgl-ios",labelCls:"tgl-btn",template:c.renderConfig.toggle.templates.basic},
skewed:{inputCls:"tgl tgl-skewed",labelCls:"tgl-btn",template:c.renderConfig.toggle.templates.basic},flat:{inputCls:"tgl tgl-flat",labelCls:"tgl-btn",template:c.renderConfig.toggle.templates.basic},flip:{inputCls:"tgl tgl-flip",labelCls:"tgl-btn",template:c.renderConfig.toggle.templates.basic},checkBox:{template:c.renderConfig.toggle.templates.basic,inputCls:"check"},checkBoxDark:{template:c.renderConfig.toggle.templates.basic,inputCls:"check dark"},checkBoxRound:{template:c.renderConfig.toggle.templates.basic,
inputCls:"check round"},checkBoxRoundDark:{template:c.renderConfig.toggle.templates.basic,inputCls:"check roundDark"},checkBoxRadio:{template:c.renderConfig.toggle.templates.basic,inputCls:"check radio"},"switch":{template:c.renderConfig.toggle.templates.swtch}}[b.parameters.config.type];k.id=b.id;k.meta=b.meta;k.accessibilityText=k.meta||b.parameters.accessibility.text;k.accessibilityText=k.accessibilityText.replace(/"/g,"\x26quot;");DKI.applyIf(k,b.parameters.config);return k},template:function(b){return b.template(b)}},
video:{format:l,template:Handlebars.compile('{{#if forTemplate}}{{\x3emultimedia_forEdit}}{{else if renderEnv.document}}{{element_forDocument outline}}{{else}}{{#if renderEnv.authoring}}\x3cdiv class\x3d\'edit-fan-btn\' style\x3d\'z-index:2000\' title\x3d\'Swap this video out with another from the media library.\'\x3e\x3cdiv class\x3d\'icon16 swap\'\x3e\x3c/div\x3e\x3c/div\x3e{{/if}}\x3cdiv style\x3d"width:100%;height:100%;{{#isResponsiveContext scope}}min-width:{{outline.parameters.responsive.minWidth}}px;min-height:{{outline.parameters.responsive.minHeight}}px;{{/isResponsiveContext}}" data-elementtype\x3d"{{outline.elementtype}}" class\x3d"dki-video-content-element {{element_contentClass this}}" id\x3d"content_{{outline.id}}" data-src\x3d"{{getAssetUrl id\x3doutline.upload_id folderId\x3doutline.asset_uploadfolderid extension\x3doutline.asset_extension outline\x3doutline}}" data-width\x3d"{{outline.width}}" data-height\x3d"{{outline.height}}" data-assetWidth\x3d"{{outline.asset_width}}" data-assetHeight\x3d"{{outline.asset_height}}" data-extension\x3d"{{outline.asset_extension}}" data-vimeo-id\x3d"{{outline.asset_parameters.vimeo.id}}" data-vimeo-src\x3d"{{outline.asset_parameters.vimeo.src}}"{{#element_multimedia_hasPlayerControl this \'autohidecontrols\'}}{{else}} data-controls\x3d"true"{{/element_multimedia_hasPlayerControl}}{{#element_multimedia_hasPlayerControl this \'autoplay\'}} data-autoplay\x3d"true"{{/element_multimedia_hasPlayerControl}}{{#element_multimedia_hasPlayerControl this \'loop\'}} data-loop\x3d"true"{{/element_multimedia_hasPlayerControl}}{{#element_multimedia_hasPlayerControl this \'allowfullscreen\'}} data-allowFullScreen\x3d"true"{{else}} data-allowFullScreen\x3d"false"{{/element_multimedia_hasPlayerControl}}{{#if outline.asset_has_poster}}data-poster\x3d"{{getAssetUrl id\x3doutline.upload_id folderId\x3doutline.asset_uploadfolderid extension\x3doutline.asset_extension poster\x3dtrue}}"{{/if}}{{#if outline.parameters.config.allowUpscale}}data-allowupscale\x3d"true"{{/if}}\x3e\x3ca class\x3d"dki-media-link" style\x3d"width:100%;height:100%;" href\x3d"{{#if renderEnv.authoring}}{{else}}{{getAssetUrl id\x3doutline.upload_id folderId\x3doutline.asset_uploadfolderid extension\x3doutline.asset_extension outline\x3doutline}}{{/if}}" target\x3d"_blank"\x3e\x3cdiv class\x3d"dki-media-placeholder{{#if outline.asset_has_poster}} hasPoster{{/if}}" style\x3d"width:100%;height:100%;{{#if outline.asset_has_poster}}background-image: url(\'{{getAssetUrl id\x3doutline.upload_id folderId\x3doutline.asset_uploadfolderid extension\x3doutline.asset_extension poster\x3dtrue }}{{/if}}\');"\x3e\x3c/div\x3e\x3c/a\x3e{{#if renderEnv.authoring}}\x3cdiv class\x3d"video-play-head" data-id\x3d"{{outline.id}}"\x3e\x3c/div\x3e{{#unless outline.asset_has_poster}}\x3cdiv class\x3d"video-poster-message"\x3e{{#ifEq outline.elementtype \'mediastream\'}}{{getAssetUrl id\x3doutline.upload_id folderId\x3doutline.asset_uploadfolderid extension\x3doutline.asset_extension outline\x3doutline}}{{/ifEq}}{{#ifEq outline.elementtype \'video\'}}This video does not have a poster image.\x3cbr/\x3eAdd a poster to it by editing the video properties.{{/ifEq}}\x3c/div\x3e{{/unless}}{{/if}}\x3c/div\x3e{{/if}}')},
videoembed:{format:l,template:Handlebars.compile('{{#if renderEnv.template}}{{\x3eelement_forTemplate}}{{else if renderEnv.document}}{{element_forDocument outline}}{{else}}{{#unless renderEnv.export}}{{#unless renderEnv.full}}{{#unless renderEnv.single}}\x3cdiv class\x3d"dki-media-overlay htm-overlay"\x3e\x3c/div\x3e{{/unless}}{{/unless}}{{/unless}}\x3cdiv style\x3d"{{#if outline.parameters.overflow}}height:100%;{{/if}}{{#if outline.parameters.textStyles.lineHeight}}line-height:{{outline.parameters.textStyles.lineHeight}};{{/if}}{{#if outline.parameters.textStyles.fontSize}}font-size:{{outline.parameters.textStyles.fontSize}};{{/if}}{{element_videoEmbedStyle this}}" id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}"{{#if outline.txt}}title\x3d"{{outline.txt}}{{/if}}\x3e{{#ifEq outline.meta2 \'dynamic\'}}\x3ciframe src\x3d"about:blank;" data-src\x3d"{{element_videoEmbedURL this}}" style\x3d"border:none;height:{{outline.height}}px;width:{{#if renderEnv.responsive}}100%;{{else}}{{outline.width}}px;"{{/if}}" frameborder\x3d"0"\x3e\x3c/iframe\x3e{{else}}{{{outline.meta}}}{{/ifEq}}\x3c/div\x3e{{/if}}')},
videoPlaylist:{format:$.proxy(function(b){var c=DKI.clone(b.parameters.config);c.strings={autoPlay:"auto play",skipToContent:this.state.strings?this.state.strings.index.skipToContent:"Skip to Content",skipToNavigation:this.state.strings?this.state.strings.index.skipToNavigation:"Skip to Navigation"};$.each(b.elements,function(){this.thumb="";var c=this.parameters.config.duration||0,k=DKI.utility.timeFunctions?DKI.utility.timeFunctions.convertMsToTime(c):DKI.utility.millisecondsToTime(c);this.duration=
c?k.h?k.h+"h":k.m?k.m+"m":k.s+"s":"";switch(b.parameters.config.type){case "youtubeEmbed":case "vimeoEmbed":this.thumb=this.parameters.config.thumbnail_url;this.vidId=this.parameters.config.id;break;default:this.vidId=this.id}});return c},this),template:Handlebars.compile("\x3cdiv id\x3d\"content_{{outline.id}}\" class\x3d\"{{element_contentClass this}} flex{{#unless outline.parameters.config.showDescription}} noDesc{{/unless}}{{#unless outline.parameters.config.showTime}} noTime{{/unless}}{{#unless outline.parameters.config.showThumbnail}} noThumb{{/unless}} {{outline.parameters.config.response}}\" data-variable-id\x3d'{{variable_id}}'\x3e\x3cdiv class\x3d'dragD'\x3e\x3c/div\x3e\x3cdiv class\x3d'videoContainer flexAuto'\x3e\x3ch3 class\x3d'flex'\x3e\x3cspan class\x3d'vidTitle flexAuto'\x3e\x3c/span\x3e \x3ci class\x3d'fa vp-collapse h fa-chevron-right'\x3e\x3c/i\x3e\x3c/h3\x3e\x3cdiv class\x3d'vidWrapper'\x3e\x3c/div\x3e\x3ci class\x3d'fa vp-collapse v fa-chevron-up'\x3e\x3c/i\x3e\x3c/div\x3e\x3cdiv class\x3d'menu flex flexCol'\x3e\x3cdiv class\x3d'controls'\x3e\x3ci class\x3d'close-menu'\x3e\x3c/i\x3e\x3cdiv class\x3d'autoPlay'\x3e\x3cspan\x3e{{strings.autoPlay}}\x3c/span\x3e\x3cspan style\x3d'margin-left : 10px;'\x3e\x3cinput class\x3d'tgl tgl-light' type\x3d'checkbox' id\x3d'autoplay_{{outline.id}}' {{#if outline.parameters.config.autoPlay}}checked{{/if}}/\x3e\x3clabel tabindex\x3d\"1\" class\x3d'tgl-btn' for\x3d'autoplay_{{outline.id}}'\x3e\x3cspan class\x3d\"sr-only\"\x3e{{strings.autoPlay}}\x3c/span\x3e\x3c/label\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3cul class\x3d'flexAuto'\x3e{{#each outline.elements}}\x3cli role\x3d'button' tabindex\x3d'1' data-id\x3d'{{this.id}}' aria-labeledby\x3d'title_{{this.id}}'\x3e\x3cdiv class\x3d'videoInfo flex'\x3e\x3cdiv class\x3d'videoThumb' style\x3d\"background-image:url('{{thumb}}')\"\x3e\x3cspan class\x3d'completion' style\x3d'position: relative; width: 20px height:20px;'\x3e\x3cdiv class\x3d'gauge notSeen'\x3e\x3cdiv class\x3d\"overlay\" style\x3d\"\"\x3e\x3ci class\x3d\"fa fa-play\"\x3e\x3c/i\x3e\x3c/div\x3e\x3cdiv class\x3d\"mask full\"\x3e\x3cdiv class\x3d\"fill\"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d\"mask half\"\x3e\x3cdiv class\x3d\"fill\"\x3e\x3c/div\x3e\x3cdiv class\x3d\"fill fix\"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/span\x3e\x3cspan class\x3d'videoTime'\x3e{{duration}}\x3c/span\x3e\x3cdiv class\x3d'progress completion-bar'\x3e\x3cdiv class\x3d'progress-bar'\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'videoInfo flexAuto'\x3e\x3cdiv id\x3d'title_{{this.id}}' class\x3d'videoTitle'\x3e{{this.title}}\x3c/div\x3e\x3cdiv class\x3d'videoDesc flexAuto'\x3e{{{this.description}}}\x3c/div\x3e\x3c/div\x3e\x3c/li\x3e{{/each}}\x3c/ul\x3e\x3c/div\x3e\x3c/div\x3e")},
zoomRegion:{format:l,template:Handlebars.compile('{{\x3eelementOverlay}}\x3cdiv style\x3d"{{outline.cssstyle}}display:inline-block;width:100%;height:100%;" id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}}"{{#if outline.txt}}title\x3d"{{outline.txt}}"{{/if}}\x3e\x3c/div\x3e')},matchingQuestion:{format:$.proxy(function(b){for(var c={items:[],categories:[],cardContentTemplate:this.renderConfig[b.elementtype].cardContentTemplate,outline:b,strings:{itemsLabel:this.state.strings?this.state.strings.doc["Drag table items header"]:
"Items"},submit:this.state.strings?this.state.strings.runtime.buttonLabelSubmit:"Submit",tryAgain:this.state.strings?this.state.strings.runtime.testTryAgain:"Try Again"},k=0;k<b.elements.length;k++)c["matchingQuestionCategory"===b.elements[k].elementtype?"categories":"items"].push(b.elements[k]);return c},this),cardContentTemplate:Handlebars.compile('{{#if cardEl.upload_id}}\x3cdiv class\x3d"content_wrapper img aspect-ratio {{ratio}}"\x3e\x3cdiv class\x3d"content flex justify-center align-items-center"\x3e\x3cimg class\x3d"flex nogrow" src\x3d"{{getAssetUrl id\x3dcardEl.upload_id folderId\x3dcardEl.asset_uploadfolderid extension\x3dcardEl.asset_extension}}" alt\x3d"{{cardEl.asset_description}}"/\x3e\x3c/div\x3e{{else}}\x3cdiv class\x3d"content_wrapper aspect-ratio {{ratio}}"\x3e\x3cdiv class\x3d"content"\x3e{{{cardEl.meta}}}\x3c/div\x3e{{/if}}\x3c/div\x3e'),
template:Handlebars.compile('{{#if renderEnv.authoring}}\x3cdiv class\x3d"dki-media-overlay htm-overlay" style\x3d\'z-index:2000;\'\x3e\x3c/div\x3e{{/if}}\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}} {{#if outline.parameters.config.spaceTextLikeElements}}spaced-like-elements{{/if}}"\x3e{{#if outline.meta}}\x3c{{outline.parameters.config.titleTag}} class\x3d"question-title" tabindex\x3d"1" \x3e{{{outline.meta}}}\x3c/{{outline.parameters.config.titleTag}}\x3e{{/if}}{{#if outline.txt}}\x3cdiv tabindex\x3d"1" class\x3d\'question-description\'\x3e{{{outline.txt}}}\x3c/div\x3e{{/if}}\x3cdiv class\x3d"items"\x3e\x3cdiv class\x3d"items_carousel" role\x3d"region"\x3e{{#each items}}\x3cdiv class\x3d"card_container flex justify-center"\x3e\x3cdiv class\x3d"card flex align-items-center" data-id\x3d"{{this.id}}" data-dragdropid\x3d"{{this.dragdrop_id}}" \x3e\x3cspan class\x3d"item_num flex align-items-center justify-center" id\x3d"{{this.id}}_label" \x3e{{arith @index \'+\' 1}}\x3c/span\x3e{{{runTemplate ../cardContentTemplate cardEl\x3dthis ratio\x3d../outline.parameters.config.cardShape}}}\x3c/div\x3e\x3c/div\x3e{{/each}}\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"categories flex wrap align-items-center justify-around"\x3e{{#each categories}}\x3cdiv class\x3d"category" data-id\x3d"{{this.id}}" tabindex\x3d"1"\x3e{{{runTemplate ../cardContentTemplate cardEl\x3dthis ratio\x3d../outline.parameters.config.cardShape}}}\x3cdiv class\x3d"category_items flex wrap"\x3e\x3cdiv class\x3d"sr-only"\x3e{{../strings.itemsLabel}}\x3c/div\x3e{{#each ../items}}\x3cdiv aria-hidden\x3d"true" class\x3d"category_item flex align-items-center justify-center" data-id\x3d"{{this.dragdrop_id}}"\x3e{{arith @index \'+\' 1}}\x3c/div\x3e{{/each}}\x3c/div\x3e\x3c/div\x3e{{/each}}\x3c/div\x3e\x3cdiv class\x3d\'feedback reverse\' id\x3d\'feedback_{{outline.id}}\'\x3e\x3c/div\x3e\x3cdiv class\x3d"question-submit-wrapper clearfix" style\x3d"text-align:center; padding:20px 0 10px 0;"\x3e\x3cdiv class\x3d"btn-primary btn submit pull-{{#if is_LTR}}right{{else}}left{{/if}}" title\x3d"{{submit}}"\x3e{{submit}}\x3c/div\x3e\x3cdiv class\x3d"btn-default btn retake pull-{{#if is_LTR}}right{{else}}left{{/if}}" title\x3d"{{tryAgain}}"\x3e{{tryAgain}}\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e')},
sequencingQuestion:{format:$.proxy(function(b){var c={outline:b,items:this.state.renderEnvironment.authoring?b.elements:this.state.utility.shuffle(b.elements.concat([])),cardContentTemplate:this.renderConfig[b.elementtype].cardContentTemplate,submit:this.state.strings?this.state.strings.runtime.buttonLabelSubmit:"Submit",tryAgain:this.state.strings?this.state.strings.runtime.testTryAgain:"Try Again"};"vertical"==b.parameters.config.layout&&(c.cardContentTemplate=this.renderConfig[b.elementtype].verticalContentTemplate);
return c},this),cardContentTemplate:Handlebars.compile('{{#if cardEl.upload_id}}\x3cdiv class\x3d"content_wrapper img aspect-ratio {{ratio}}"\x3e\x3cdiv class\x3d"content flex wrap align-items-center justify-center"\x3e\x3cimg class\x3d"flex nogrow" src\x3d"{{getAssetUrl id\x3dcardEl.upload_id folderId\x3dcardEl.asset_uploadfolderid extension\x3dcardEl.asset_extension}}" alt\x3d"{{cardEl.asset_description}}"/\x3e\x3c/div\x3e\x3c/div\x3e{{#if cardEl.meta}}\x3cdiv class\x3d"caption"\x3e{{{cardEl.meta}}}\x3c/div\x3e{{/if}}{{else}}\x3cdiv class\x3d"content_wrapper aspect-ratio {{ratio}}"\x3e\x3cdiv class\x3d"content"\x3e{{{cardEl.meta}}}\x3c/div\x3e\x3c/div\x3e{{/if}}'),
verticalContentTemplate:Handlebars.compile('\x3cdiv class\x3d"content_wrapper flex align-items-start"\x3e{{#if cardEl.upload_id}}\x3cdiv class\x3d"img_container content"\x3e\x3cimg class\x3d"flex nogrow" src\x3d"{{getAssetUrl id\x3dcardEl.upload_id folderId\x3dcardEl.asset_uploadfolderid extension\x3dcardEl.asset_extension}}" alt\x3d"{{cardEl.asset_description}}"/\x3e\x3c/div\x3e{{/if}}\x3cdiv class\x3d"content grow"\x3e{{{cardEl.meta}}}\x3c/div\x3e\x3c/div\x3e'),template:Handlebars.compile('\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"{{element_contentClass this}} {{#if outline.parameters.config.spaceTextLikeElements}}spaced-like-elements{{/if}}"\x3e{{#if outline.meta}}\x3c{{outline.parameters.config.titleTag}} class\x3d"question-title" tabindex\x3d"1" \x3e{{{outline.meta}}}\x3c/{{outline.parameters.config.titleTag}}\x3e{{/if}}{{#if outline.txt}}\x3cdiv tabindex\x3d"1" class\x3d\'question-description\'\x3e{{{outline.txt}}}\x3c/div\x3e{{/if}}\x3cdiv class\x3d"items clearfix layout-{{outline.parameters.config.layout}} {{outline.parameters.config.cardSize}} "\x3e{{#each items}}\x3cdiv class\x3d"card_container {{#ifEq outline.parameters.config.layout \'card\'}}flex justify-center{{/ifEq}} {{#if this.upload_id}}img{{/if}}" data-id\x3d"{{this.id}}" tabindex\x3d"1"\x3e\x3cspan class\x3d"review_order flex align-items-center justify-center"\x3e\x3c/span\x3e\x3cdiv class\x3d"card"\x3e{{{runTemplate ../cardContentTemplate cardEl\x3dthis ratio\x3d../outline.parameters.config.cardShape}}}\x3c/div\x3e\x3c/div\x3e{{/each}}\x3c/div\x3e\x3cdiv class\x3d\'feedback reverse\' id\x3d\'feedback_{{outline.id}}\'\x3e\x3c/div\x3e\x3cdiv class\x3d"question-submit-wrapper clearfix" style\x3d"text-align:center; padding:20px 0 10px 0;"\x3e\x3cdiv class\x3d"btn-primary btn submit pull-{{#if is_LTR}}right{{else}}left{{/if}}" title\x3d"{{submit}}"\x3e{{submit}}\x3c/div\x3e\x3cdiv class\x3d"btn-default btn retake pull-{{#if is_LTR}}right{{else}}left{{/if}}" title\x3d"{{tryAgain}}"\x3e{{tryAgain}}\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e')}};
this.renderConfig.header=this.renderConfig.htm;this.renderConfig.panelHeader=this.renderConfig.htm;this.renderConfig.panelFooter=this.renderConfig.htm;this.renderConfig.richText=this.renderConfig.htm;this.renderConfig.plainText=this.renderConfig.htm;this.renderConfig.radioButton=this.renderConfig.htm;this.renderConfig.tileCardTitle=this.renderConfig.htm;this.renderConfig.tileCardSubtitle=this.renderConfig.htm;this.renderConfig.questionOpening=this.renderConfig.richText;this.renderConfig.questionBody=
this.renderConfig.richText;this.renderConfig.table=this.renderConfig.richText;this.renderConfig.mediastream=this.renderConfig.video};DKI.RenderService.prototype.setEnvironment=function(b){DKI.apply(this.state.renderEnvironment,b)};
DKI.RenderService.prototype.renderContent=function(b,c){var h="";c=c?c:{};c.typeConfig=c.typeConfig?c.typeConfig:this.state.typeConfig[b.elementtype];if(rCfg=c.typeConfig.isQuestion?this.renderConfig.option:this.renderConfig[b.elementtype]){h=DKI.applyIf(rCfg.format(b,c),this.defaultArgs);h.scope=c;h.scope.renderRules||(h.scope=this.generateElementArguments(b,h.scope));h.outline=h.outline?h.outline:b;h.fromContentRender=!0;if(c.page&&c.page.groups)for(b=0;b<c.page.groups.length;b++){var l=c.page.groups[b];
if(l.elements)for(var m=0;m<l.elements.length;m++){var u=l.elements[m];"questionBody"==u.elementtype&&u.elementid&&(h.outline.questionBodyId=u.elementid)}}h=rCfg.template(h)}return h};DKI.RenderService.prototype.renderElement=function(b,c){c=DKI.applyIf(c,this.defaultArgs);return Handlebars.compile("{{\x3e element}}")(DKI.applyIf({outline:b,scope:c},this.defaultArgs))};
DKI.RenderService.prototype.renderGroups=function(b,c){c.content=this.sortGroupRowSections(b);c=DKI.applyIf(c,this.defaultArgs);return Handlebars.compile("{{\x3e groups}}")(DKI.applyIf(c,this.defaultArgs))};DKI.RenderService.prototype.renderPage=function(b,c,h,l){b=DKI.applyIf({page:b,course:c,content:this.sortGroupRowSections(b.groups),standalone:h,class_name:l?l:"page"},this.defaultArgs);return Handlebars.compile("{{\x3e page}}")(b)};
DKI.RenderService.prototype.generateGroupArguments=function(b,c){return DKI.applyIf({group:b,page:c.page},this.defaultArgs)};
DKI.RenderService.prototype.generateElementArguments=function(b,c,h,l){b=DKI.applyIf({element:b,typeConfig:this.state.typeConfig[b.elementtype],skipId:!1,forceVisibleInDocument:!0,page:c.page,elementFromQuestion:l,state:this.state},this.defaultArgs);b.forTemplate="undefined"===typeof h?b.renderEnv.template:h;b.element.asset_parameters&&"string"===typeof b.element.asset_parameters&&(b.element.asset_parameters=JSON.parse(b.element.asset_parameters));""!==b.element.csseffect&&"string"===typeof b.element.csseffect&&
(b.element.cssEffect=JSON.parse(b.element.csseffect));b.renderRules=b.typeConfig.renderRules.claro;if(b.renderEnv.responsive||b.element.parent_element_id)b.renderRules=b.typeConfig.renderRules.flow;b.renderEnv.document&&(b.renderRules=b.typeConfig.renderRules.document);if(b.typeConfig.isRichText||"plainText"==b.element.elementtype)b.tagName=b.element.parameters.config.tag_name&&""!=b.element.parameters.config.tag_name?b.element.parameters.config.tag_name:"div";b.renderEnv.single||"undefined"==typeof playerBehaviour||
!playerBehaviour.autoLinkGlossaries||b.element.autoLinkGlossaryTextParsed||(b.typeConfig.isRichText&&(b.element.meta=this.processElementTextForGlossaries(b.element.meta,b.element.pageid,"el_"+b.element.id),b.element.autoLinkGlossaryTextParsed=!0),"capture"==b.element.elementtype&&(b.element.asset_parameters=this.processCaptureTextForGlossaries(b.element.asset_parameters,b.element.pageid,b.element.id),b.element.autoLinkGlossaryTextParsed=!0));b.typeConfig.hasStackableElementElements&&$.each(b.element.elements,
function(){this.isStacked=this.forcePosition=this.forceDimensions=!0});return b};
DKI.RenderService.prototype.registerPartials=function(){Handlebars.registerPartial("dataToggle",'data-off\x3d"{{offLabel}}" data-on\x3d"{{onLabel}}"');Handlebars.registerPartial("background","background-position:{{parameters.background.position.vertical}} {{parameters.background.position.horizontal}};background-repeat:{{parameters.background.repeat}};background-size:{{parameters.background.size}};background-attachment:{{parameters.background.attachment}};{{#if background_asset_id}}background-image:{{#if parameters.background.darken}}linear-gradient( rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5) ),{{/if}} url('{{getAssetUrl id\x3dbackground_asset_id folderId\x3dbackground_asset_uploadfolderid extension\x3dbackground_asset_extension}}');{{/if}}");Handlebars.registerHelper("checkScope",
function(b){});Handlebars.registerPartial("element_getWrapperClass","{{#if element.parent_element_id}}dki-authoring-element-element {{else}}dki-authoring-element{{/if}} dki-{{element.elementtype}}-element{{#element_ifCanHaveDims}}{{else}} col-lg-{{element.parameters.responsive.layout.large.width}} col-md-{{element.parameters.responsive.layout.medium.width}} col-sm-{{element.parameters.responsive.layout.small.width}} col-xs-{{element.parameters.responsive.layout.xsmall.width}} col-lg-offset-{{element.parameters.responsive.layout.large.offset}} col-md-offset-{{element.parameters.responsive.layout.medium.offset}} col-sm-offset-{{element.parameters.responsive.layout.small.offset}} col-xs-offset-{{element.parameters.responsive.layout.xsmall.offset}}{{/element_ifCanHaveDims}}{{#if element.parameters.responsive.layout.large.hidden}} hidden-lg{{/if}}{{#if element.parameters.responsive.layout.medium.hidden}} hidden-md{{/if}}{{#if element.parameters.responsive.layout.small.hidden}} hidden-sm{{/if}}{{#if element.parameters.responsive.layout.xsmall.hidden}} hidden-xs{{/if}}{{#unless renderEnv.authoring}}{{#unless renderEnv.document}}{{#if element.renderhidden}} hiddenOnLoad{{/if}}{{/unless}}{{/unless}}{{#if renderEnv.document}}{{#if element.ignored_from_document_publish}}{{#unless forceVisibleInDocument}} hiddenOnLoad {{/unless}}{{/if}}{{/if}}{{#if element.parameters.hiddenUntilInView}} hiddenUntilInView {{/if}}{{#if renderEnv.authoring}}{{#if element.authoring_hidden}} authoring_hidden {{/if}}{{/if}}{{#ifEq element.elementtype 'audio'}}{{#if element.parameters.config.hideNarration}} hiddenNarration {{/if}}{{/ifEq}}{{#if element.parameters.config.hoverAnimation}} hoverAnimation_{{element.parameters.config.hoverAnimation}} {{/if}}{{#if element.parameters.config.disablePadding}} disablePadding {{/if}}{{#if element.parameters.config.disableClaroPadding}} disableClaroPadding {{/if}}{{#element_isQuestionElement element}} question-element question-option-style-{{element.parameters.config.style.type}} {{#if element.parameters.config.style.attached}} question-option-attached {{/if}} question-option-color-{{element.parameters.config.style.color}} {{/element_isQuestionElement}}{{#if element.locked}} locked {{/if}}{{#if element.parameters.config.upgraded}} upgraded {{/if}}{{#if element.parameters.config.content_spacing}} dk-spaced-content {{/if}}{{#if renderEnv.responsive}} clear-{{element.parameters.responsive.clear}} {{/if}}");
Handlebars.registerPartial("element_getDataAttributes",'data-id\x3d"{{element.id}}" data-type\x3d"{{element.elementtype}}" data-elementtype\x3d"{{element.elementtype}}" data-opacity\x3d"{{element.opacity}}" data-cssclass\x3d"" data-title\x3d"{{element.title}}" data-description\x3d"{{element.description}}" data-placeholderid\x3d"{{element.placeholderid}}" data-templateLayout\x3d"{{element.templatelayout}}" data-narration\x3d"{{element.narration}}" data-elementno\x3d"{{element.elementno}}" data-templatebuttonid\x3d"{{templatebutton_id}}" data-assetid\x3d"{{element.upload_id}}" data-multimedia\x3d"{{typeConfig.isMultimedia}}" data-groupid\x3d"{{element.group_id}}" data-ignoredfromdocumentpublish\x3d"{{element.ignored_from_document_publish}}" data-rotation\x3d"{{element.rotation}}" data-text\x3d"{{element.txt}}"{{#if typeConfig.isRichText}} data-isrichtext\x3d"true"{{else}}data-isrichtext\x3d"false"{{/if}}{{#if typeConfig.examinable}} data-examinable\x3d"true"{{else}}data-examinable\x3d"false"{{/if}}{{#if element.parent_element_id}} data-parent_element_id\x3d"{{element.parent_element_id}}"{{/if}}{{#if element.draggable}}data-is-draggable \x3d"true"{{#ifEq page.pagetype \'question\'}}{{else}} data-isquestionelement\x3d\'false\'{{/ifEq}}{{else}} data-is-draggable\x3d"false"{{/if}} data-dragdropid\x3d"{{element.dragdrop_id}}" data-draggable-revert\x3d"{{element.parameters.draggable.revert}}" data-draggable-constrain-x\x3d"{{element.parameters.draggable.constrainX}}" data-draggable-constrain-y\x3d"{{element.parameters.draggable.constrainY}}" data-draggable-bring-to-front\x3d"{{element.parameters.draggable.bringToFront}}"{{#if element.droppable}} data-is-droppable\x3d"true" data-droppable-snap-to-center\x3d"{{element.parameters.droppable.snapToCenter}}"{{#ifEq page.pagetype \'question\'}} data-isquestionelement\x3d"true"{{else}} data-isquestionelement\x3d"false"{{/ifEq}}{{else}} data-is-droppable\x3d"false"{{/if}}{{#ifNEq element.elementtype \'htm\'}} data-meta\x3d"{{element.meta}}"{{/ifNEq}} data-renderHidden\x3d"{{element.renderhidden}}" data-dontPause\x3d"{{element.dontpause}}" data-dontHide\x3d"{{element.donthide}}" data-locked\x3d"{{#if element.locked}}true{{else}}false{{/if}}"{{#ifEq element.elementtype \'shape\'}} data-shapeType\x3d"{{element.parameters.config.type}}"{{/ifEq}} data-shapeType\x3d"{{element.shapetype}}" data-csseffect\x3d"{{element.csseffect}}" data-height\x3d"{{element.height}}" data-width\x3d"{{element.width}}" data-x\x3d"{{element.x}}" data-y\x3d"{{element.y}}" data-backgroundassetid\x3d"{{element.background_asset_id}}" data-documentorder\x3d"{{element.document_order}}" data-disableAudio\x3d"{{element.parameters.config.disableAudio}}" data-textstyles-fontsize\x3d"{{element.parameters.textStyles.fontSize}}" data-textstyles-lineheight\x3d"{{element.parameters.textStyles.lineHeight}}" data-textstyles-classname\x3d"{{element.parameters.textStyles.className}}" data-responsive-alignment-vertical\x3d"{{element.parameters.responsive.vertical}}" data-responsive-alignment-horizontal\x3d"{{element.parameters.responsive.horizontal}}" data-margin-left\x3d"{{element.parameters.margin.left}}" data-margin-right\x3d"{{element.parameters.margin.right}}" data-margin-bottom\x3d"{{element.parameters.margin.bottom}}" data-margin-top\x3d"{{element.parameters.margin.top}}" data-padding-left\x3d"{{element.parameters.padding.left}}" data-padding-right\x3d"{{element.parameters.padding.right}}" data-padding-bottom\x3d"{{element.parameters.padding.bottom}}" data-padding-top\x3d"{{element.parameters.padding.top}}" data-background-color\x3d"{{element.parameters.background.color}}" data-background-position-horizontal\x3d"{{element.parameters.background.position.horizontal}}" data-background-position-vertical\x3d"{{element.parameters.background.position.vertical}}" data-background-repeat\x3d"{{element.parameters.background.repeat}}" data-background-size\x3d"{{element.parameters.background.size}}" data-border-top\x3d"{{element.parameters.border.top}}" data-border-left\x3d"{{element.parameters.border.left}}" data-border-bottom\x3d"{{element.parameters.border.bottom}}" data-border-right\x3d"{{element.parameters.border.right}}" data-border-radius\x3d"{{element.parameters.border.radius}}" data-accessibility-text\x3d"{{element.parameters.accessibility.text}}" data-accessibility-tabable\x3d"{{element.parameters.accessibility.tabable}}"{{#ifEq page.pagetype \'question\'}}{{element_getQuestionAtts this}}{{/ifEq}}');
Handlebars.registerPartial("element_getWrapperStyle","{{#element_ifCanHaveDims}}{{#if (elementHasHeight element)}}height:{{element.height}}px;{{/if}}width:{{element.width}}px;{{/element_ifCanHaveDims}}{{#element_ifCanHavePos}}left:{{element.x}}px;top:{{element.y}}px;position:absolute;{{/element_ifCanHavePos}}{{#unless renderEnv.responsive}}z-index:{{element.elementno}};{{/unless}}margin-top : {{element.parameters.margin.top}}%;{{#ifEq element.parameters.responsive.layout.large.offset 0}}{{#ifEq element.parameters.responsive.layout.medium.offset 0}}{{#ifEq element.parameters.responsive.layout.small.offset 0}}{{#ifEq element.parameters.responsive.layout.xsmall.offset 0}}{{#if element.parameters.margin.left}} margin-left:{{element.parameters.margin.left}}%;{{/if}}{{#if element.parameters.margin.right}} margin-right:{{element.parameters.margin.right}}%;{{/if}}{{/ifEq}}{{/ifEq}}{{/ifEq}}{{/ifEq}} margin-bottom: {{element.parameters.margin.bottom}}%;");
Handlebars.registerPartial("element_getContentWrapperStyle","{{element_opacity element}}{{#ifNEq element.elementtype 'btn'}}{{element.cssstyle}}{{/ifNEq}}width:100%;height:100%;transform:rotate({{element.rotation}}deg);{{#isResponsiveContext this}}min-height:{{element.parameters.responsive.minHeight}}px;min-width:{{element.parameters.responsive.minWidth}}px;{{#ifNEq element.parameters.padding.top 0}}padding-top:{{element.parameters.padding.top}}%;{{/ifNEq}}{{#ifNEq element.parameters.padding.bottom 0}}padding-bottom:{{element.parameters.padding.bottom}}%;{{/ifNEq}}{{#ifNEq element.parameters.padding.left 0}}padding-left:{{element.parameters.padding.left}}%;{{/ifNEq}}{{#ifNEq element.parameters.padding.right 0}}padding-right:{{element.parameters.padding.right}}%;{{/ifNEq}}{{/isResponsiveContext}}{{\x3eborderStyle element.parameters.border}}{{#element_usesDefaultBackground typeConfig}}{{\x3eelement_backgroundCSSString element}}{{/element_usesDefaultBackground}}{{#if element.parameters.background.foreground}}{{#ifNEq element.parameters.background.foreground 'transparent'}}color:{{element.parameters.background.foreground}};{{/ifNEq}}{{/if}}{{#ifEq element.elementtype 'html'}}{{#ifEq element.parameters.config.embedType 'responsive'}}padding-bottom: {{element_htmlWidgetPadding this}}%;{{/ifEq}}{{#ifEq element.parameters.config.embedType 'fixed'}}overflow: auto !important;{{/ifEq}}{{/ifEq}}overflow:{{element.parameters.overflow}};");
Handlebars.registerPartial("element_backgroundCSSString","{{element_wrapperBgColour this}}{{#if this.background_asset_id}}background-image: {{#if this.parameters.background.darken}}linear-gradient( rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5) ),{{/if}} url('{{getAssetUrl id\x3dthis.background_asset_id folderId\x3dthis.background_asset_uploadfolderid extension\x3dthis.background_asset_extension}}');{{/if}}background-position: {{this.parameters.background.position.vertical}} {{this.parameters.background.position.horizontal}};background-repeat:{{this.parameters.background.repeat}};background-size:{{this.parameters.background.size}};background-attachment:{{this.parameters.background.attachment}};");
Handlebars.registerPartial("borderStyle","{{#ifNEq this.right 'none'}}border-right:{{this.right}};{{/ifNEq}}{{#ifNEq this.left 'none'}}border-left:{{this.left}};{{/ifNEq}}{{#ifNEq this.bottom 'none'}}border-bottom:{{this.bottom}};{{/ifNEq}}{{#ifNEq this.top 'none'}}border-top:{{this.top}};{{/ifNEq}}{{#ifNEq this.radius 'none'}}border-radius:{{this.radius}};{{/ifNEq}}");Handlebars.registerPartial("element_getContentWrapperClass","dki-authoring-content-wrapper {{#element_usesDefaultBackground typeConfig}}{{BgClassName element.parameters.background}} {{/element_usesDefaultBackground}}{{#if typeConfig.applyDefaultBackground}}{{BgClassName element.parameters.background}} {{/if}} align-{{element.parameters.responsive.alignment.horizontal}}{{#element_isQuestionPageOption element}} dki-question-option_wrapper {{/element_isQuestionPageOption}}");
Handlebars.registerPartial("element_getContentClass","dki-element-content{{#if outline.parameters.textStyles.fontFamilyClass}} {{outline.parameters.textStyles.fontFamilyClass}}{{/if}}{{#if outline.parameters.textStyles.className}} {{outline.parameters.textStyles.className}}{{/if}}{{#ifEq elementTypeConfig.courseStyleSelector '\x3e .dki-authoring-content-wrapper \x3e .dki-element-content'}}{{courseStyles outline}}{{/ifEq}}{{#each outline.parameters.responsive.course_styles.large}} {{this}}-lg{{/each}}{{#each outline.parameters.responsive.course_styles.medium}} {{this}}-md{{/each}}{{#each outline.parameters.responsive.course_styles.small}} {{this}}-sm{{/each}}{{#each outline.parameters.responsive.course_styles.xsmall}} {{this}}-xs{{/each}}{{#if outline.cssclass}} {{outline.cssclass}}{{/if}}{{#ifEq elementTypeConfig.backgroundSelector '.dki-element-content'}} {{BgClassName outline.parameters.background}}{{/ifEq}}");
Handlebars.registerPartial("element",'{{#element_generateArguments scope\x3dthis.scope outline\x3dthis.outline forTemplate\x3dthis.forTemplate elementFromQuestion\x3dthis.elementFromQuestion}}\x3cdiv id\x3d"{{element.id}}_wrapper" class\x3d"{{element_wrapperClass this}} {{element_cssFXClass element}}" {{element_dataAttributes this}} style\x3d"{{element_wrapperStyle this}}" {{#if renderEnv.authoring}} tabIndex\x3d"-1" {{/if}}\x3e\x3cdiv id\x3d"anchor_{{element.id}}" class\x3d"dki-element-anchor"{{#element_tabable element}}data-tabindex\x3d"1" tabIndex\x3d"1" {{/element_tabable}}\x3e{{#element_tabable element}}{{#element_has_accessibility_text element}}\x3cdiv class\x3d"sr-only"\x3e{{element.parameters.accessibility.text}}\x3c/div\x3e{{/element_has_accessibility_text}}{{/element_tabable}}\x3c/div\x3e{{#if renderEnv.authoring}}{{#element_isExamineable element}}\x3cdiv class\x3d"element-examine-mode-instructions"\x3e{{#if this.typeConfig.hasStackableElementElements}}Double click to add...{{else}}Double click to edit{{/if}}\x3c/div\x3e{{/element_isExamineable}}{{/if}}{{#ifEq element.elementtype \'placeholder\'}}{{#if renderEnv.authoring}}\x3cdiv class\x3d"htmlUploader"\x3e\x3cdiv class\x3d"inpCont"\x3e\x3c/div\x3e\x3cdiv class\x3d"uploadLabel"\x3e\x3cspan\x3eDrop File Here\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e{{/if}}{{/ifEq}}{{#ifEq element.elementtype \'capture\'}}{{#if renderEnv.authoring}}\x3cdiv class\x3d"htmlUploader"\x3e\x3cdiv class\x3d"inpCont"\x3e\x3c/div\x3e\x3cdiv class\x3d"uploadLabel"\x3e\x3cspan\x3eDrop File Here\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e{{/if}}{{/ifEq}}{{#unless this.elementFromQuestion}}\x3cdiv class\x3d"publish-filter-element-display-container"\x3e{{#each this.element.publish_filters}}\x3cspan class\x3d"publish-filter-element-display"\x3e\x3ci class\x3d"fa fa-user" style\x3d"color:{{this.parameters.color}}"\x3e\x3c/i\x3e\x26nbsp;{{this.title}}\x3c/span\x3e{{/each}}\x3c/div\x3e{{/unless}}\x3cdiv {{#unless cfg.skipId}}id\x3d"{{element.id}}_content_wrapper"{{/unless}} class\x3d"{{element_contentWrapperClass this}}" style\x3d"{{element_contentWrapperStyle this}}"\x3e{{#element_ifCSSFX element}}\x3cdiv class\x3d"cssFX-level1" style\x3d"{{element.cssEffect.lvl1.style}}"\x3e\x3cdiv class\x3d"cssFX-level2" style\x3d"{{element.cssEffect.lvl2.style}}"\x3e\x3cdiv class\x3d"cssFX-level3" style\x3d"{{element.cssEffect.lvl3.style}}"\x3e{{/element_ifCSSFX}}{{{element_renderContent this}}}{{#if this.typeConfig.hasStackableElementElements}}{{#with this}}{{\x3eelement_elementElementsWrapper}}{{/with}}{{/if}}{{#element_ifCSSFX element}}\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e{{/element_ifCSSFX}}\x3cdiv class\x3d\'element-feedback\'\x3e\x3cdiv class\x3d"icon comment" title\x3d"View existing comments for this element."\x3e\x3c/div\x3e\x3cdiv class\x3d"icon accessibility" title\x3d"View accessibility details for this comment and leave an accessibility-specific comment."\x3e\x3c/div\x3e\x3cdiv class\x3d"new" title\x3d"Leave a new comment for this element."\x3eNew Comment\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e{{/element_generateArguments}}');
Handlebars.registerPartial("element_elementElementsWrapper",'\x3cdiv id\x3d"{{element.id}}_elements_wrapper" class\x3d"dki-authoring-element-elements-wrapper"\x3e{{#each element.elements}}{{\x3eelement outline\x3dthis scope\x3d../this forTemplate\x3d../this.forTemplate}}{{/each}}\x3c/div\x3e\x3cdiv class\x3d"element-feedback-icon feedback-tooltip-icon"\x3e\x3c/div\x3e');Handlebars.registerPartial("elementOverlay",'\x3cdiv class\x3d"dki-element-overlay" style\x3d"width:100%;height:100%"\x3e\x3c/div\x3e');
Handlebars.registerPartial("element_forTemplate",'{{#ifEq outline.templatelayout \'1\'}}\x3cdiv class\x3d"dki-template-placeholder" id\x3d"content_{{outline.id}}"style\x3d"height:{{outline.height}}px;width:{{outline.width}}px;"\x3e\x3c/div\x3e{{else}}{{\x3e element outline\x3doutline scope\x3dthis forTemplate\x3dfalse}}{{/ifEq}}');Handlebars.registerPartial("multimedia_forEdit",'\x3cdiv class\x3d"dki-media-placeholder dki-element-content{{#if outline.asset_has_poster}} hasPoster{{/if}}" id\x3d"content_{{outline.id}}" style\x3d"height:100%;width:100%;"\x3e{{#if outline.asset_has_poster}}\x3cimg style \x3d"height:100%;width:100%; src\x3d"{{getAssetUrl id\x3doutline.upload_id folderId\x3doutline.asset_uploadfolderid extension\x3doutline.asset_extension poster\x3dtrue }}"/\x3e{{/if}}\x3c/div\x3e');
Handlebars.registerPartial("multimedia_forDocument_simple",'\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"document_table_wrapper {{outline.elementtype}}"\x3e\x3ctable\x3e\x3ctr\x3e\x3ctd colspan\x3d\'2\' class\x3d\'header\'\x3e{{title}}\x3c/td\x3e\x3c/tr\x3e{{#each properties}}\x3ctr\x3e\x3ctd class\x3d"property"\x3e{{this.prop}}\x3c/td\x3e\x3ctd class\x3d"value"\x3e{{this.value}}\x3c/td\x3e\x3c/tr\x3e{{/each}}\x3c/table\x3e\x3c/div\x3e');Handlebars.registerPartial("multimedia_forDocument",'\x3cdiv id\x3d"content_{{outline.id}}" class\x3d"document_table_wrapper multimedia"\x3e\x3ctable class\x3d"{{#if outline.asset_has_poster}}poster{{/if}}"\x3e\x3ctr\x3e\x3ctd colspan\x3d\'2\' class\x3d\'header\'\x3e{{outline.elementtype}} Element\x3c/td\x3e\x3c/tr\x3e{{#if outline.asset_has_poster}}\x3ctr\x3e\x3ctd colspan\x3d"2" class\x3d"poster"\x3e\x3cimg height\x3d"{{outline.height}}px" width\x3d"{{outline.width}}px" src\x3d"{{getAssetUrl id\x3doutline.upload_id folderId\x3doutline.asset_uploadfolderid extension\x3doutline.asset_extension poster\x3dtrue}}"/\x3e\x3c/td\x3e\x3c/tr\x3e{{/if}}\x3ctr\x3e\x3ctd class\x3d"property"\x3eTitle\x3c/td\x3e\x3ctd class\x3d"value"\x3e{{outline.title}}\x3c/td\x3e\x3c/tr\x3e\x3ctr\x3e\x3ctd class\x3d"property"\x3eDescription\x3c/td\x3e\x3ctd class\x3d"value"\x3e{{outline.description}}\x3c/td\x3e\x3c/tr\x3e\x3ctr\x3e\x3ctd class\x3d"property"\x3eTranscript\x3c/td\x3e\x3ctd class\x3d"value"\x3e{{{outline.transcript}}}\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e\x3c/div\x3e');
Handlebars.registerPartial("multimedia_flashParams",'\x3cparam name\x3d"wmode" value\x3d"transparent"/\x3e\x3cparam name\x3d"quality" value\x3d"high"/\x3e\x3cparam name\x3d"play" value\x3d"{{#element_multimedia_hasPlayerControl this \'autoplay\'}}true{{else}}false{{/element_multimedia_hasPlayerControl}}"/\x3e\x3cparam name\x3d"loop" value\x3d"{{#element_multimedia_hasPlayerControl this \'loop\'}}true{{else}}false{{/element_multimedia_hasPlayerControl}}"/\x3e\x3cparam name\x3d"allowfullscreen" value\x3d"{{#element_multimedia_hasPlayerControl this \'allowfullscreen\'}}true{{else}}false{{/element_multimedia_hasPlayerControl}}"/\x3e\x3cparam name\x3d"allowScriptAccess" value\x3d"{{#if playerEnv.player}}sameDomain{{else}}never{{/if}}"/\x3e{{#if outline.meta2}}\x3cparam name\x3d"allowScriptAccess" value\x3d"{{outline.meta2}}"/\x3e{{/if}}');
Handlebars.registerPartial("capture_mode_select",'\x3cdiv class\x3d"picksbarContainer"\x3e\x3cul class\x3d"nav nav-pills"\x3e\x3cli class\x3d"nav-item {{#ifEq this.type "showMe"}}active"{{else}}"{{/ifEq}}data-captureType\x3d"showMe"\x3e\x3ca\x3eShow Me\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"nav-item {{#ifEq this.type "tryMe"}}active"{{else}}"{{/ifEq}}data-captureType\x3d"tryMe"\x3e\x3ca\x3eTry Me\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"nav-item {{#ifEq this.type "testMe"}}active"{{else}}"{{/ifEq}}data-captureType\x3d"testMe"\x3e\x3ca\x3ePractice Me\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"nav-item {{#ifEq this.type "guide"}}active"{{else}}"{{/ifEq}}data-captureType\x3d"guide"\x3e\x3ca\x3eGuide\x3c/a\x3e\x3c/li\x3e\x3c/ul\x3e\x3c/div\x3e');
Handlebars.registerPartial("capture_glossary_overlay",'\x3cdiv id\x3d"glossaryOverlay" class\x3d"introduction-overlay overlay hidden justify-content-center"\x3e\x3cdiv id\x3d"glossaryContainer" class\x3d"introduction-container text-center panel"\x3e\x3cdiv id\x3d"glossaryTitleContainer" class\x3d"glossary-title-container"\x3e\x3ch1 class\x3d"glossary-title-text" id\x3d"glossaryTitleText" \x3e\x3c/h1\x3e\x3c/div\x3e\x3cdiv id\x3d"glossaryDefinitionContainer" class\x3d"glossary-definition-container"\x3e\x3cspan class\x3d"glossary-definition-text" id\x3d"glossaryDefinitionText" \x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv id\x3d"glossaryPopupSource" class\x3d"glossary-source-container"\x3e\x3cspan class\x3d"glossary-source-text" id\x3d"glossarySourceText" \x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv\x3e\x3cbutton id\x3d"glossaryOkButton" class\x3d"btn btn-primary" aria-label\x3d"{{controlLabels.continue}}" title\x3d"{{controlLabels.continue}}"\x3e{{controlLabels.continue}}\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e');
Handlebars.registerPartial("group_getClass","dki-authoring-group {{group.parameters.cssClass}}{{#each group.parameters.layout.classes}}{{#group_classNotNumeric this}} {{this}}{{/group_classNotNumeric}}{{/each}} col-lg-{{group.parameters.dimensions.flow.large.width}} col-md-{{group.parameters.dimensions.flow.medium.width}} col-sm-{{group.parameters.dimensions.flow.small.width}} col-xs-{{group.parameters.dimensions.flow.xsmall.width}} col-lg-offset-{{group.parameters.dimensions.flow.large.offset}} col-md-offset-{{group.parameters.dimensions.flow.medium.offset}} col-sm-offset-{{group.parameters.dimensions.flow.small.offset}} col-xs-offset-{{group.parameters.dimensions.flow.xsmall.offset}}{{#if group.parameters.dimensions.flow.large.hidden}} hidden-lg{{/if}}{{#if group.parameters.dimensions.flow.medium.hidden}} hidden-md{{/if}}{{#if group.parameters.dimensions.flow.small.hidden}} hidden-sm{{/if}}{{#if group.parameters.dimensions.flow.xsmall.hidden}} hidden-xs{{/if}}{{#each group.parameters.course_styles}} {{this}}{{/each}}{{#each group.parameters.theme_styles}} {{this}}{{/each}}{{#if group.parameters.hiddenOnLoad}} hiddenOnLoad{{/if}}{{#if group.parameters.hiddenUntilinView}} hiddenUntilInView{{/if}}{{#if group.parameters.sticky}} dki-sticky-group{{/if}}{{#if group.parameters.dimensions.flow.gutters}} gutters {{/if}}{{#unless group.parameters.dimensions.flow.xsmall.gutters}} no-gutter-xs {{/unless}}{{#unless group.parameters.dimensions.flow.small.gutters}} no-gutter-sm {{/unless}}{{#unless group.parameters.dimensions.flow.medium.gutters}} no-gutter-md {{/unless}}{{#unless group.parameters.dimensions.flow.large.gutters}} no-gutter-lg {{/unless}}");
Handlebars.registerPartial("group_getStyle","{{#unless renderEnv.responsive}}z-index:{{group.order}}{{/unless}}{{#if renderEnv.responsive}} min-height: {{group.parameters.dimensions.flow.minHeight}}px; min-width: {{group.parameters.dimensions.flow.minWidth}}px;{{#ifNEq group.parameters.clear ''}} clear:{{group.parameters.clear}};{{/ifNEq}}{{/if}}");Handlebars.registerPartial("group_getElementWrapperStyle","{{opacity group.parameters.background}} {{#group_hasBackground group}} {{\x3ebackground group}} {{/group_hasBackground}} {{\x3eborderStyle group.parameters.border}} {{#if group.parameters.background.foreground}}{{#ifNEq group.parameters.background.foreground 'transparent'}}color:{{group.parameters.background.foreground}};{{/ifNEq}}{{/if}}");
Handlebars.registerPartial("group_getDataAttributes",'data-id\x3d"{{group.id}}"data-batch-id\x3d"{{group.parameters.batch.id}}"data-is-question-choice-group\x3d"{{group.parameters.is_question_choice_group}}"data-title\x3d"{{group.title}}"');Handlebars.registerPartial("group",'{{#unless group.skipRendering}}\x3cdiv id\x3d"group_{{group.id}}" class\x3d"{{\x3egroup_getClass this}}" style\x3d"{{\x3egroup_getStyle this}}" {{\x3egroup_getDataAttributes this}}\x3e\x3cdiv class\x3d"dki-authoring-group-elements-wrapper clearfix {{BgClassName group.parameters.background}}" style\x3d"{{\x3egroup_getElementWrapperStyle this}}"\x3e{{#each group.elements}}{{\x3e element outline\x3dthis scope\x3d../this}}{{/each}}\x3c/div\x3e\x3c/div\x3e{{/unless}}');
Handlebars.registerPartial("groups","{{#each content}}{{#ifEq this.type 'group'}}{{#group_generateArguments outline\x3ditems scope\x3d../this}}{{\x3e group this}}{{/group_generateArguments}}{{/ifEq}}{{#ifEq this.type 'section'}}{{\x3e section section\x3dthis scope\x3d../this}}{{/ifEq}}{{#ifEq this.type 'row'}}{{\x3e row row\x3dthis scope\x3d../../this}}{{/ifEq}}{{/each}}");Handlebars.registerPartial("row",'\x3cdiv class\x3d"dki-authoring-row clearfix {{row.classString}}" style\x3d"width:100%;{{row.styleString}}" data-vertical-align\x3d"{{row.firstGroup.parameters.layout.row_config.vertical_align}}" id\x3d"{{row.firstGroup.parameters.batch.row_index}}_{{row.firstGroup.parameters.batch.id}}"\x3e{{#each row.items}}{{#group_generateArguments outline\x3dthis scope\x3d../scope}}{{\x3e group this}}{{/group_generateArguments}}{{/each}}\x3c/div\x3e');
Handlebars.registerPartial("section",'\x3cdiv class\x3d"dki-authoring-section {{section.classString}} {{#ifNEq section.firstGroup.parameters.layout.layout_config.decoration \'\'}}has-top-decoration{{/ifNEq}} {{#ifNEq section.firstGroup.parameters.layout.layout_config.bottom_decoration \'\'}}has-bottom-decoration{{/ifNEq}}  {{#ifNEq section.firstGroup.parameters.layout.layout_config.border.top \'\'}} has-section-border-top {{/ifNEq}} {{#ifNEq section.firstGroup.parameters.layout.layout_config.border.bottom \'\'}} has-section-border-bottom {{/ifNEq}} {{#ifNEq section.firstGroup.parameters.layout.layout_config.border.left \'\'}} has-section-border-left {{/ifNEq}} {{#ifNEq section.firstGroup.parameters.layout.layout_config.border.right \'\'}} has-section-border-right {{/ifNEq}}" style\x3d"width:100%;{{section.styleString}}" data-section-height\x3d"{{section.firstGroup.parameters.layout.layout_config.section_height}}" data-vertical-align\x3d"{{section.firstGroup.parameters.layout.layout_config.vertical_align}}" data-id\x3d"{{section.firstGroup.parameters.layout.layout_id}}_{{section.firstGroup.parameters.batch.id}}" data-batch-id\x3d"{{section.firstGroup.parameters.batch.id}}"\x3e{{#ifEq section.firstGroup.parameters.background.attachment \'fixed\'}}\x3cdiv class\x3d"dki-authoring-section-fixed-background"\x3e\x3cpicture\x3e\x3cimg src\x3d"{{getAssetUrl id\x3dsection.firstGroup.background_asset_id folderId\x3dsection.firstGroup.background_asset_uploadfolderid extension\x3dsection.firstGroup.background_asset_extension}}"/\x3e\x3c/picture\x3e\x3c/div\x3e{{/ifEq}}\x3cdiv class\x3d"section-decoration top"\x3e{{sectionDecoration decoration\x3dsection.firstGroup.parameters.layout.layout_config.decoration background\x3dsection.firstGroup.parameters.layout.layout_config.background rotate\x3dfalse}}\x3c/div\x3e\x3cdiv class\x3d"section-border-top bg-{{section.firstGroup.parameters.layout.layout_config.border.top}}" \x3e\x3c/div\x3e \x3cdiv class\x3d"section-border-left bg-{{section.firstGroup.parameters.layout.layout_config.border.left}}" \x3e\x3c/div\x3e {{#each section.items}}{{\x3e row row\x3dthis scope\x3d../scope}}{{/each}}\x3cdiv class\x3d"section-border-bottom bg-{{section.firstGroup.parameters.layout.layout_config.border.bottom}}" \x3e\x3c/div\x3e \x3cdiv class\x3d"section-border-right bg-{{section.firstGroup.parameters.layout.layout_config.border.right}}" \x3e\x3c/div\x3e \x3cdiv class\x3d"section-decoration bottom"\x3e{{sectionDecoration decoration\x3dsection.firstGroup.parameters.layout.layout_config.bottom_decoration background\x3dsection.firstGroup.parameters.layout.layout_config.background rotate\x3dtrue}}\x3c/div\x3e\x3c/div\x3e');
Handlebars.registerPartial("rowStyle","{{opacity group.parameters.layout.row_config.background}}{{#if hasMaxWidth}}max-width:{{max_width}}px;float:{{align}};{{/if}}");Handlebars.registerPartial("rowClass","{{BgClassName group.parameters.layout.row_config.background}} {{#if group.parameters.layout.row_config.reverse_order}} reverse-order {{/if}}{{#if group.parameters.layout.row_config.synchronizeHeights}} synchronize-heights {{/if}}{{#unless group.parameters.layout.row_config.gutters.xsmall}} no-gutter-xs {{/unless}}{{#unless group.parameters.layout.row_config.gutters.small}} no-gutter-sm {{/unless}}{{#unless group.parameters.layout.row_config.gutters.medium}} no-gutter-md {{/unless}}{{#unless group.parameters.layout.row_config.gutters.large}} no-gutter-lg {{/unless}}{{#each group.parameters.layout.row_config.theme_styles}} {{this}}{{/each}}{{#if group.parameters.layout.row_config.bleed}} bleed {{/if}}");
Handlebars.registerPartial("sectionStyle","{{opacity group.parameters.layout.layout_config.background}}");Handlebars.registerPartial("sectionClass","{{BgClassName group.parameters.layout.layout_config.background}} {{#if group.parameters.layout.layout_config.section_height}}dki-section-height {{/if}}{{#if group.parameters.layout.layout_config.super_section}}super-section {{/if}}{{#each group.parameters.layout.layout_config.theme_styles}} {{this}}{{/each}}");Handlebars.registerPartial("rowOrSectionStyle",
"{{\x3ebackground group}}{{#unless renderEnv.responsive}}z-index:{{group.order}};{{/unless}}");Handlebars.registerPartial("rowOrSectionClass","{{#ifEq group.parameters.background.attachment 'fixed'}} dki-bg-attach-fixed{{/ifEq}}{{#each group.parameters.course_styles}} {{this}}{{/each}} {{group.parameters.background.animation}}");Handlebars.registerPartial("page_getStyle","{{#if renderEnv.authoring}}z-index: 2;{{else}}z-index: 0;{{/if}}{{#if page.parameters.background.foreground}}{{#ifNEq page.parameters.background.foreground 'transparent'}}color:{{page.parameters.background.foreground}};{{/ifNEq}}{{/if}}");
Handlebars.registerPartial("page_getBackgroundStyle","{{opacity page.parameters.background}}{{#page_BGFixed page standalone}}position: fixed;height: 100vh;width: 100vw;{{else}}position: absolute;height: 100%;width: 100%;{{/page_BGFixed}}{{#if page.background_asset_id}}background-position:{{page.parameters.background.position.vertical}} {{page.parameters.background.position.horizontal}};background-repeat:{{page.parameters.background.repeat}};background-size:{{page.parameters.background.size}};background-image:{{#if page.parameters.background.darken}}linear-gradient( rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5) ), {{/if}}url('{{getAssetUrl id\x3dpage.background_asset_id folderId\x3dpage.background_asset_uploadfolderid extension\x3dpage.background_asset_extension}}');{{/if}}{{#if renderEnv.authoring}}z-index: 0;{{/if}}");
Handlebars.registerPartial("page_getDataAttributes",'{{page_forPreview this}} data-pagetype\x3d"{{page.pagetype}}" data-pageid\x3d"{{page.pageid}}" data-locked\x3d"{{#if page.locked}}true{{else}}false{{/if}}"{{#if page.background_asset_id}} data-background-url\x3d"{{getAssetUrl id\x3dpage.background_asset_id folderId\x3dpage.background_asset_uploadfolderid extension\x3dpage.background_asset_extension}}"{{/if}}{{#ifEq page.pagetype \'question\'}} data-questiontype\x3d"{{page.question.type}}"{{#if page.question.max_selections}} data-max-selections\x3d"{{page.question.max_selections}}"{{/if}}{{/ifEq}}');
Handlebars.registerPartial("page_getClass"," {{pageBgClassName page.parameters.background}} ");Handlebars.registerHelper("pageBgClassName",function(b,c){var h=[b.class_name,b.opacity_class_name];"transparent"==b.color&&""==b.color&&""===h&&(h=["bg-transparent"]);b=[13,14];c.data.root.page.question&&-1==$.inArray(c.data.root.page.question.type,b)&&(h.push("question-option-style-"+c.data.root.page.question.parameters.optionStyle.type),h.push("question-option-color-"+c.data.root.page.question.parameters.optionStyle.class_name),
c.data.root.page.question.parameters.optionStyle.attached&&h.push("question-option-attached"),h.push("question-option-choice-spacing-"+c.data.root.page.question.parameters.choiceSpacing));return h.join(" ")});Handlebars.registerPartial("page_getBackgroundClass","pageBackground {{page.parameters.background.animation}} {{pageBgClassName page.parameters.background}} ");Handlebars.registerPartial("page",'\x3cdiv id\x3d"page_background_{{page.pageid}}" data-forPage\x3d"page_{{page.pageid}}" class\x3d"{{\x3e page_getBackgroundClass}}" style\x3d"{{\x3e page_getBackgroundStyle}}"\x3e\x3c/div\x3e{{#if standalone}}\x3cdiv class\x3d"page-standalone"\x3e{{/if}}\x3cdiv id\x3d"page_{{page.pageid}}" class\x3d"pageElementsWrapper {{\x3e page_getClass}} {{class_name}}" {{\x3e page_getDataAttributes}} style\x3d"{{\x3e page_getStyle}}"\x3e{{\x3egroups this}}\x3c/div\x3e\x3cdiv class\x3d"dki-audio-closed-caption-container dki-course-max-width" id\x3d"dki-audio-closed-caption-container-{{page.pageid}}{{#if standalone}}-standalone{{/if}} "\x3e\x3c/div\x3e{{#if standalone}}\x3c/div\x3e{{/if}}');
Handlebars.registerPartial("renderTabsetTab",'\x3cli data-id\x3d"{{element.id}}" {{#unless index}}{{#unless startUnopened}}class\x3d"active"{{/unless}}{{/unless}}\x3e\x3ca draggable\x3d"false" class\x3d"clearfix {{#unless element.parameters.config.icon.enabled}} icon-hidden{{/unless}}{{#unless element.parameters.config.icon.right.enabled}} right-icon-hidden{{/unless}} {{#unless index}}{{#ifEq parentOutline.parameters.config.custom_style \'outline\'}}{{BgClassName parentOutline.parameters.background}}{{/ifEq}}{{/unless}}" style\x3d" {{#unless index}}{{\x3eelement_backgroundCSSString parentOutline}}{{/unless}}" data-backgroundCSS\x3d"{{\x3eelement_backgroundCSSString parentOutline}}" data-idx\x3d"{{index}}" data-id\x3d"{{element.id}}" data-toggle\x3d"tab" href\x3d"#tabContent_{{index}}_{{parentOutline.elementid}}" aria-controls\x3d"tabContent_{{index}}_{{parentOutline.elementid}}" data-for\x3d"{{parentOutline.elementid}}" data-viewed\x3d"false" id\x3d"tab_{{index}}_{{parentOutline.elementid}}"{{#if index}} tabindex\x3d"-1" aria-selected\x3d"false"{{else}} tabindex\x3d"1" aria-selected\x3d"true"{{/if}} role\x3d"tab"\x3e\x3ci class\x3d"fa left {{element.parameters.config.icon.class_name}}"\x3e\x3c/i\x3e{{\x3eelement outline\x3delement scope\x3dscope}}\x3ci class\x3d"fa right {{element.parameters.config.icon.right.class_name}}"\x3e\x3c/i\x3e\x3c/a\x3e\x3c/li\x3e');
Handlebars.registerPartial("renderTabsetTabContent",'\x3cdiv class\x3d"tab-pane clearfix {{#unless index}}{{#unless startUnopened}}active{{/unless}}{{/unless}} {{BgClassName parentOutline.parameters.background}}" id\x3d"tabContent_{{index}}_{{parentOutline.elementid}}" style\x3d"{{\x3eelement_backgroundCSSString parentOutline}}" data-for\x3d"{{parentOutline.elementid}}" role\x3d"tabpanel" aria-labelledby\x3d"tab_{{index}}_{{parentOutline.elementid}}"\x3e{{#each element.elements}}{{\x3eelement outline\x3dthis scope\x3d../scope}}{{/each}}\x3c/div\x3e')};
DKI.RenderService.prototype.registerHelpers=function(){Handlebars.registerHelper("ifEq",function(b,h,l){return b==h?l.fn(this):l.inverse(this)});Handlebars.registerHelper("ifNEq",function(b,h,l){return b!=h?l.fn(this):l.inverse(this)});Handlebars.registerHelper("forPreview",function(b,h){return b.single||b.full?h.fn(this):h.inverse(this)});Handlebars.registerHelper("trim",function(b,h){return new Handlebars.SafeString(b.trim())});Handlebars.registerHelper("getColour",$.proxy(function(b,h){return this.getColour(b)},
this));Handlebars.registerHelper("getArrayPos",function(b,h,l){return l.fn(b[h])});Handlebars.registerHelper("mult",function(){var b=0;if(0<arguments.length&&parseInt(arguments[0],10)==arguments[0])for(var b=arguments[0],h=1;h<arguments.length;h++)parseInt(arguments[h],10)==arguments[h]&&(b*=arguments[h]);return b});Handlebars.registerHelper("arith",function(b,h,l,m){return h.match(/^([\>\<\+\-\*\/\%~(\=){1,3}])*$/)?eval(b+h+l):null});Handlebars.registerHelper("designLegacy",$.proxy(function(b){return this.state.design.legacy},
this));Handlebars.registerHelper("elementHasHeight",$.proxy(function(b,h){return"label"!=b.elementtype&&"speechBubble"!=b.elementtype||2==this.state.renderEnvironment.legacyCourse&&0<b.height},this));Handlebars.registerHelper("getVar",$.proxy(function(b,h){return"{{"+b+"}}"},this));Handlebars.registerHelper("getAssetUrl",$.proxy(function(b,h){return this.getAssetUrl({outline:b.hash.outline,folderId:b.hash.folderId,id:b.hash.id,extension:b.hash.extension,poster:b.hash.poster})},this));Handlebars.registerHelper("getAssetThumb",
$.proxy(function(b,h){h=this.state.baseUrl+"/content/authoringToolDB/";var l=b.hash.el;b.data.root.renderEnv.export&&(h="assets/");if(l.asset_has_poster||"image"==l.elementtype)h="svg"==b.hash.exntension?h+"DOSVG":h+("thumbs/"+b.hash.id+".png");return h},this));Handlebars.registerHelper("opacity",$.proxy(function(b,h){return b.color&&"transparent"!=b.color&&"#transparent"!=b.color?"background-color:"+this.state.utility.hexToRGB(b.color,b.transparency?100-b.transparency:100)+";":""},this));Handlebars.registerHelper("element_ifCanHaveDims",
function(b,h){h=b.data.root.fromContentRender?b.data.root.scope.renderRules:b.data.root.renderRules;return(b.data.root.fromContentRender?b.data.root.outline:b.data.root.element).forceDimensions?b.fn(this):h.useDimensions?b.fn(this):b.inverse(this)});Handlebars.registerHelper("element_ifCanHavePos",function(b,h){h=b.data.root.renderRules;return b.data.root.element.forcePosition?b.fn(this):h.usePosition?b.fn(this):b.inverse(this)});Handlebars.registerHelper("element_isQuestionElement",function(b,h){var l=
!1;switch(b.elementtype){case "multipleChoiceQuestion":case "trueFalseQuestion":case "multiplePulldownQuestion":case "clickTheWordQuestion":case "dragTheWordQuestion":case "fillInTheBlanksQuestion":case "imageMap":case "sequencing":case "sequencingQuestion":case "matching":case "matchingQuestion":l=!0}return l?h.fn(this):h.inverse(this)});Handlebars.registerHelper("element_isQuestionPageOption",function(b,h){var l=!1;switch(b.elementtype){case "trueFalseOption":case "multiChoiceOption":case "multiPulldownOption":case "fillBlanksOption":l=
!0}return l?h.fn(this):h.inverse(this)});Handlebars.registerHelper("element_ifCSSFX",function(b,h){return b.cssEffect?h.fn(this):h.inverse(this)});Handlebars.registerHelper("element_isExamineable",function(b,h){return h.data.root.typeConfig[b.elementtype].examinable?h.fn(this):h.inverse(this)});Handlebars.registerHelper("element_cssFXClass",function(b,h){h="";b.cssEffect&&(h="cssFX cssFX-"+b.cssEffect.base,h+="1"==b.cssEffect.reflect?" cssFX-slctr-Reflect":"");return h});Handlebars.registerHelper("element_tabable",
function(b,h){return"spacer"!=b.elementtype&&"groupSpacer"!=b.elementtype&&"rowSpacer"!=b.elementtype&&"elementSpacer"!=b.elementtype&&"questionOption"!=b.elementtype&&b.parameters.accessibility.tabable?h.fn(this):h.inverse(this)});Handlebars.registerHelper("element_has_accessibility_text",function(b,h){return""!=b.parameters.accessibility.text?h.fn(this):h.inverse(this)});Handlebars.registerHelper("element_richText_txt",$.proxy(function(b,h){b=$("\x3cdiv /\x3e").html(this.parseElementDataImagesInTxt(b.outline));
return new Handlebars.SafeString(b.html())},this));Handlebars.registerHelper("element_htmMeta",$.proxy(function(b,h){h=$("\x3cdiv /\x3e").html(this.parseElementDataImagesInMeta(b.outline));DKI.renderService.state.renderEnvironment.authoring||$(".dki-inline-variable",h).each(function(){var b=$(this);b.html(contentApi.getData(b.data("variable-id")))});if("table"==b.outline.elementtype){var l=h.find("table"),m="table";l.attr("class")&&(m+=" "+l.attr("class"));$.each(b.outline.parameters.config.styles,
function(b,c){c&&(m+=" table-"+b)});l.attr("class",m)}return new Handlebars.SafeString(h.html())},this));Handlebars.registerHelper("element_htmHeight",function(b,h){h="";if("table"==b.elementtype||b.parameters.overflow&&"visible"!=b.parameters.overflow)h="height:100%;";if("flipCardSet"==b.elementtype||"matchCardSet"==b.elementtype)h="height:auto;";return h});Handlebars.registerHelper("element_opacity",function(b,h){h="";100>b.opacity&&(h=b.opacity/100,h="-moz-opacity:"+h+";opacity:"+h+";filter:alpha(opacity\x3d"+
b.opacity+");");return h});Handlebars.registerHelper("element_wrapperBgColour",$.proxy(function(b,h){h="";var l=b.parameters.background;b=b.parameters.background.transparency;"transparent"!=l.color&&"none"!=l.color&&l.color&&""===l.class_name&&(h="background-color:"+this.state.utility.hexToRGB(l.color,"undefined"==typeof b?100:100-b)+";");return h},this));Handlebars.registerHelper("element_getQuestionAtts",function(b,h){h=b.page;for(var l=' data-isquestionelement\x3d"false"',m=0;m<h.question.options.length;m++){var u=
h.question.options[m];u.elementId==b.element.id&&(l="",l+=' data-isquestionelement\x3d"true"',l+=' data-isquestionoption\x3d"true"',u.correctTargets&&(l+='data-correcttargets\x3d"'+u.correctTargets.join()+'"'),u.feedback&&(u=u.feedback.replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;").replace(/\"/g,"\x26quot;"),l+=' data-feedback\x3d"'+u+'"'))}if(""!=b.element.option_parameters)try{var q=JSON.parse(b.element.option_parameters);if(q&&(1==q.randomized||"YES"==q.randomized.toUpperCase())||
"TRUE"==q.randomized.toUpperCase())l+='data-randomized\x3d"true"'}catch(x){}if("questionOpening"==b.element.elementtype||"questionBody"==b.element.elementtype)l=' data-isquestionelement\x3d"true" ';return new Handlebars.SafeString(l)});Handlebars.registerHelper("element_imageMapEventFunction",function(b,h){h="";if(b.href){var l=b.href.split(","),m=l[0],u=l[1],q=l[3],x=l[4],k=l[5],p="";h+="data-hidetargetonload\x3d'"+l[2]+"'";1==q&&(p+="hideAllEventElements();");m==u?(p+="showHideElement('"+b.hreftarget+
"','"+x+"','"+k+"');",h+=" "+m+'\x3d"'+p+'"'):(p+="showElement('"+b.hreftarget+"','"+x+"');",h+=" "+m+'\x3d"'+p+'" ',"none"!=u&&(h+=" "+u+"\x3d\"hideElement('"+b.hreftarget+"','"+k+"');\""))}return new Handlebars.SafeString(h)});Handlebars.registerHelper("element_htmlWidgetPath",function(b,h){return new Handlebars.SafeString("/"+b.asset_parameters.LAUNCHFILE+"?elementid\x3d"+b.id)});Handlebars.registerHelper("element_htmlWidgetScrolling",function(b,h){h=b.outline;var l=h.asset_parameters,m="no";if("on"==
l.scrolling)m="yes";else if("auto"==l.scrolling)m="auto";else if(b.renderEnv.responsive&&"responsive"==h.parameters.config.embedType||"adaptive"==h.parameters.config.embedType)m="no";return m});Handlebars.registerHelper("element_htmlWidgetStyle",function(b,h){h=b.outline;var l="height:"+h.height+"px;";return l=b.renderEnv.responsive&&""==h.parameters.config.embedType?l+("width: 100%;max-width:"+h.width+"px"):l+("width:"+h.width+"px")});Handlebars.registerHelper("element_htmlWidgetPadding",function(b,
h){b=b.element;return b.asset_height/b.asset_width*100});Handlebars.registerHelper("element_capture_getTemplate",function(b,h){return"capture_"+b});Handlebars.registerHelper("element_multimedia_hasPlayerControl",function(b,h,l){var m=0<=b.outline.meta.search(h);"video"==b.outline.elementtype&&"autoplay"==h&&(m=!b.renderEnv.authoring&&m?!0:!1);return m?l.fn(this):l.inverse(this)});Handlebars.registerHelper("element_capture_hasStepDuration",function(b,h){return!b.stepDuration||0>=b.stepDuration?h.fn(this):
h.inverse(this)});Handlebars.registerHelper("element_capture_getTime",function(b,h){h=(6E5>b?"0":"")+Math.floor(b/6E4)+":";return h+=(1E4>b%6E4?"0":"")+Math.floor(b/1E3%60)});Handlebars.registerHelper("element_capture_showMeImage",function(b,h){var l=b.imageURL;switch(h.showMeImageType){case "EMPTY":l=b.imageURL;break;case "HOTSPOT":l=b.hotSpotImageURL;break;case "HOTSPOT_ANNOTATION":l=b.fullImageURL}return l});Handlebars.registerHelper("stripHTML",function(b){return DKI.stripHTML(b)});Handlebars.registerHelper("element_capture_show_markerList",
function(b,h,l){return 0<b.markers.length&&"HOTSPOT_ANNOTATION"==h.showMeImageType?l.fn(this):l.inverse(this)});var b=function(b){return(b=b||"")?b.replace("[^a-zA-Z0-9]","-"):b};Handlebars.registerHelper("element_capture_getJobAidName",function(c){return b(c.name)+"-job-aid.pdf"});Handlebars.registerHelper("element_capture_getDocumentName",function(c){return b(c.name)+"-document.pdf"});Handlebars.registerHelper("element_capture_getDocumentName",function(c){return b(c.name)+"-document.pdf"});Handlebars.registerHelper("element_option_renderNumbering",
function(b,h){var l=function(b){if(isNaN(b))return NaN;b=String(+b).split("");for(var c=" C CC CCC CD D DC DCC DCCC CM  X XX XXX XL L LX LXX LXXX XC  I II III IV V VI VII VIII IX".split(" "),h="",l=3;l--;)h=(c[+b.pop()+10*l]||"")+h;return Array(+b.join("")+1).join("M")+h},m=b.scope.page.question,u=b.option,q="abcdefghijklmnopqrstuvwxyz".split(""),x={letter:[],caps:[],number:[],roman:[]};for(i=0;26>i;i++)x.letter.push(q[i]),x.caps.push(q[i].toUpperCase()),x.number.push(i+1),x.roman.push(l(i+1));if("none"==
m.numbering)return""==u.content?new Handlebars.SafeString("\x26nbsp;"):new Handlebars.SafeString("");b=x[m.numbering][b.optionNo-1]+(5!==b.scope.page.question.type?") ":"");l="";h.data&&h.data.root&&h.data.root.option&&(h.data.root.option.element_id||h.data.root.option.elementId)&&(l="id\x3d'option_number_"+(h.data.root.option.element_id?h.data.root.option.element_id:h.data.root.option.elementId).toString()+"'");return new Handlebars.SafeString("\x3cspan class\x3d'optionNumber' "+l+"\x3e"+b+"\x3c/span\x3e")});
Handlebars.registerHelper("element_option_getCorrect",function(b,h){h=b.renderEnv;var l="";if(h.single||h.full||b.forTemplate)h=b.scope.element.elementtype,l="","fillBlanksOption"==h?l=b.option.parameters.correctValues.join():"multiPulldownOption"==h?l=b.option.parameters.correctValue:"trueFalseOption"==h?l=b.option.parameters.correct:"multiChoiceOption"==h&&(l=b.option.parameters.correct?"true":"false"),l='data-correctresponse\x3d"'+l+'"';return Handlebars.SafeString(l)});Handlebars.registerHelper("element_option_getPartial",
function(b,h){return new Handlebars.SafeString("option_"+b)});Handlebars.registerHelper("element_forDocument",function(b,h){h="multimedia_forDocument";var l={outline:b};if("html"==b.elementtype)h="multimedia_forDocument_simple",l.title="HTML Widget Element",l.properties=[{prop:"title",value:b.title},{prop:"description",value:b.description}];else if("iframe"==b.elementtype)h="multimedia_forDocument_simple",l.title="External Webpage",l.properties=[{prop:"URL",value:b.src}];else if("mediastream"==b.elementtype)h=
"multimedia_forDocument_simple",l.title="Media Stream Element",l.properties=[{prop:"URL",value:b.src}];else if("videoembed"==b.elementtype){h="multimedia_forDocument_simple";var m=/[-a-zA-Z0-9@:%_\+.~#?&//=]{2,256}\.[a-z]{2,4}\b(\/[-a-zA-Z0-9@:%_\+.~#?&//=]*)?/gi,u=b.meta.match(m);l.title="Embedded Video";l.properties=u[0]?[{prop:"URL",value:b.meta.slice(b.meta.search(m),u[0].length)}]:[{prop:"Embed Code",value:b.meta}]}return new Handlebars.SafeString(Handlebars.compile("{{\x3e"+h+"}}")(l))});Handlebars.registerHelper("element_iframe_getProperties",
function(b,h){b=b.meta.split(";");return new Handlebars.SafeString(' scrolling\x3d"'+b[0].split(":").pop()+'" frameborder\x3d"'+b[1].split(":").pop()+'"')});Handlebars.registerHelper("element_videoEmbedURL",$.proxy(function(b,h){return"dynamic"==b.outline.meta2?b.renderEnv.export?"assets/elements/"+b.outline.id+"/tempVideoEmbed.html":this.state.baseUrl+"ajax/element.cfm/"+b.outline.id+"/videoEmbedTemp.html":b.outline.meta},this));Handlebars.registerHelper("element_videoEmbedStyle",$.proxy(function(b,
h){h="";b.renderEnv.responsive&&(h+="padding-bottom:"+b.outline.height/b.outline.width*100+"%;");return h},this));Handlebars.registerHelper("element_svg_setMeta",$.proxy(function(b,h){h=$("\x3cdiv/\x3e").append(b.meta);colour=b.parameters.config.colors.fill;stroke=b.parameters.config.atts.stroke;0<=color.search("designcolor")&&(colour=this.getColour(colour),h.find("path:not(#raphael-marker-block),circle,rect:not([fill\x3dnone])").attr("fill",colour));0<=stroke.search("designcolor")&&(stroke=this.getColour(stroke),
h.find("path:not(#raphael-marker-block)").attr("stroke",stroke),h.find("marker\x3euse").attr("fill",stroke));return Handlebars.SafeString(h.html())},this));Handlebars.registerHelper("element_generateArguments",$.proxy(function(b){return b.fn(this.generateElementArguments(b.hash.outline,b.hash.scope,b.hash.forTemplate,b.hash.elementFromQuestion))},this));Handlebars.registerHelper("element_dataAttributes",function(b,h){h=Handlebars.compile("{{\x3eelement_getDataAttributes}}")(b);b.ignoreExamine&&(h+=
' data-ignoreExamine\x3d"true"');if(b.typeConfig.isMultimedia)if(h+=' data-loop\x3d"'+(0<=b.element.meta.search("loop")?"true":"false")+'"',h+='" data-autoplay\x3d"'+(0<=b.element.meta.search("autoplay")?"true":"false")+'"',h+='" data-transcript\x3d"'+(b.element.asset_transcript?!0:!1)+'"',b.element.asset_parameters&&b.element.asset_parameters.bookmarks&&0<b.element.asset_parameters.bookmarks.length&&(h+='" data-bookmarks\x3d"'+escape(JSON.stringify(b.element.asset_parameters.bookmarks))+'"'),"video"==
b.element.elementtype&&(h+=' data-allowfullscreen\x3d"'+(0<=b.element.meta.search("allowfullscreen")?"true":"false")+'"',h+=' data-hidecontrols\x3d"'+(0<=b.element.meta.search("hidecontrols")?"true":"false")+'"'),"flash"==b.element.elementtype)h+='data-allowFullScreen\x3d"'+(0<=b.element.meta.search("allowFullScreen")?"true":"false")+'"',h+='data-flashvars\x3d"'+b.element.meta2+'"';else if("audio"==b.element.elementtype)h+=' data-playerskin\x3d"'+(0<=b.element.meta.search("playerskin")?"true":"false")+
'"',h+=' data-hidecontrols\x3d"'+(0<=b.element.meta.search("hidecontrols")?"true":"false")+'"';else if("mediastream"==b.elementtype){var l="",m="";b.element.meta&&(m=b.element.meta.split(";"),l=m[0].split(":").pop(),m=m[1].split(":").pop(),l="all"==l?"":l,m="all"==m?"":m);l&&(h+=' data-starttime\x3d"'+l+'"');m&&(h+=' data-endtime\x3d"'+m+'"')}if("body"==b.element.elementtype||"opening"==b.elementtype)h+=' data-isquestionelement\x3d"true"';else if("spacer"==b.element.elementtype)h+=' data-isspacer\x3d"true"';
else if("shape"!=b.element.elementtype)if("image"==b.element.elementtype){if(h+=' data-rolloverassetid\x3d"'+b.element.rollover_asset_id+'"',m=l="",""!=b.element.meta&&(m=b.element.meta.split(";"),l=m.shift(),m=m.pop()),h=h+(" data-rollovereffect\x3d'"+l+"'")+(" data-rollouteffect\x3d'"+m+"'"),b.element.imageMaps&&0<b.element.imageMaps.length){h+=" data-actiontype\x3d'imagemap' data-actiontargets\x3d\"";var u=[];$.each(b.element.imageMaps,function(b,c){u.push(this.hreftarget)});h+=u.join()+'"'}}else"flipCard"==
b.element.elementtype&&(h+="data-fliptrigger\x3d'"+b.element.parameters.config.trigger+"'");if(b.page&&b.page.pageLinks)for(l=0;l<b.page.pageLinks.length;l++)m=b.page.pageLinks[l],m.active&&b.element.id==m.source_element_id&&(h+=' data-actiontype\x3d"pagelink" data-actiontargets\x3d"'+m.target_subeo_id+'"');return new Handlebars.SafeString(h)});Handlebars.registerHelper("element_wrapperClass",function(b,h){h=Handlebars.compile("{{\x3eelement_getWrapperClass}}")(b);b.typeConfig.isQuestion&&"none"===
b.page.question.numbering&&(h+=" noNumbering");if(b.typeConfig.hasStackableElementElements)h+=" stackable_element";else if("label"==b.element.elementtype){var l=" "+b.element.parameters.config.class_name;h+=l}else"capture"==b.element.elementtype?(l=" "+b.element.parameters.config.type,h+=l):"shape"==b.element.elementtype&&b.element.parameters.config.roundedCorners&&(h+=" dki-rounded-shape");b.typeConfig.navigateSubContent&&(h+=" navigatesSubContent");"image"==b.element.elementtype&&(h+=" image-size-"+
b.element.parameters.config.size+" ",h+=" image-shape-"+b.element.parameters.config.shape+" ");h+=b.element.isContentContainer?" contentContainer":"";b.element.isStacked&&(h+=" is-stacked ");h+=b.element.parameters.extraClass?" "+b.element.parameters.extraClass:"";return new Handlebars.SafeString(h)});Handlebars.registerHelper("element_wrapperStyle",function(b,h){h=Handlebars.compile("{{\x3eelement_getWrapperStyle}}")(b);"zoomeRegion"==b.element.elementtype&&(b.renderEnv.single||b.renderEnv.full||
b.renderEnv.export||b.renderEnv.template)&&(h+="pointer-events:none;");"videoembed"==b.element.elementtype&&b.renderEnv.responsive&&("center"==b.element.parameters.responsive.alignment.horizontal?h+="justify-content: center;-ms-pack:center;":"right"==b.element.parameters.responsive.alignment.horizontal&&(h+="justify-content: flex-end;-ms-pack:flex-end;"));return new Handlebars.SafeString(h)});Handlebars.registerHelper("element_contentWrapperStyle",function(b,h){h=Handlebars.compile("{{\x3eelement_getContentWrapperStyle}}")(b);
"videoembed"==b.element.elementtype&&b.renderEnv.responsive&&(h+="max-width:"+b.element.width+"px;");return new Handlebars.SafeString(h)});Handlebars.registerHelper("element_contentWrapperClass",function(b,h){h=Handlebars.compile("{{\x3eelement_getContentWrapperClass}}")(b);if("flipCard"==b.element.elementtype&&b.element.parameters.config.flipIcon){var l;h+=" includeFlipIcon"}"marker"==b.element.elementtype&&(l=" pin-direction-"+b.element.parameters.config.pinDirection,l+=" marker-shape-"+b.element.parameters.config.shape,
h+=l);return new Handlebars.SafeString(h)});Handlebars.registerHelper("element_contentClass",function(b,h){b.elementTypeConfig=b.typeConfig[b.outline.elementtype];h=Handlebars.compile("{{\x3eelement_getContentClass}}")(b);"body"==b.outline.elementtype&&(h+=" questionBody");"image"==b.outline.elementtype&&"png"==b.outline.asset_extension&&(h+=" pngFix");"video"==b.outline.elementtype&&b.outline.parameters.config.hidePlayHead&&(h+=" hidePlayerHead");"table"==b.outline.elementtype&&b.renderEnv.responsive&&
(h+=" table-responsive");"opening"==b.outline.elementtype&&(h+=" questionOpening");if("btn"==b.outline.elementtype){var l=" btn "+b.outline.parameters.config.class_name+" "+b.outline.parameters.config.size+" "+b.outline.parameters.config.shape;b.outline.parameters.config.icon.enabled||(l+=" icon-hidden");b.outline.parameters.config.righticon.enabled||(l+=" righticon-hidden");b.outline.parameters.config.showLabel||(l+=" text-hidden");b.outline.parameters.config.block&&(l+=" btn-block");b.outline.parameters.config.toggleable&&
(l+=" toggleable");b.outline.parameters.config.stay_toggled&&(l+=" stay-toggled");h+=l}"dropTarget"==b.outline.elementtype&&(l=" dropTarget "+b.outline.parameters.config.class_name+" "+b.outline.parameters.config.shape,b.outline.parameters.config.icon.enabled||(l+=" icon-hidden"),b.outline.parameters.config.showLabel||(l+=" text-hidden"),h+=l);"questionOption"==b.outline.elementtype&&b.outline.parameters.config.correct&&b.renderEnv.authoring&&(h+=" correct");"label"==b.outline.elementtype&&(l="",
b.outline.parameters.config.icon.enabled||(l+=" icon-hidden"),h+=l);"capture"==b.outline.elementtype&&(l="",b.outline.parameters.config.showSteps||(l+=" hide-steps"),h+=l);"timer"==b.outline.elementtype&&(l=["clearfix"],b.outline.parameters.config.timerStyle&&l.push(b.outline.parameters.config.timerStyle),b.outline.parameters.config.bgClass&&l.push(b.outline.parameters.config.bgClass),b.outline.parameters.config.timerSize&&l.push(b.outline.parameters.config.timerSize),b.outline.parameters.config.timerVariant&&
l.push(b.outline.parameters.config.timerVariant),h+=0<l.length?" "+l.join(" "):"");"imageMap"==b.outline.elementtype&&(l=["clearfix"],b.outline.parameters.config.showLabels&&l.push("showLabels"),l.push("layout-"+b.outline.parameters.config.layout),h+=0<l.length?" "+l.join(" "):"");"matchingQuestion"==b.outline.elementtype&&(l=["matchingQuestion",b.outline.parameters.config.cardSize,b.outline.parameters.config.colour],h+=" "+l.join(" "));"sequencingQuestion"==b.outline.elementtype&&(l=["sequencingQuestion",
b.outline.parameters.config.cardSize],h+=" "+l.join(" "));return new Handlebars.SafeString(h)});Handlebars.registerHelper("element_renderContent",$.proxy(function(b,h){return new Handlebars.SafeString(this.renderContent(b.element,b))},this));Handlebars.registerHelper("image_showMaps",function(b,h){return b.export||b.single||b.full?h.fn(this):h.inverse(this)});Handlebars.registerHelper("element_renderMapLabelAsImage",function(b,h,l){return"image"==b.parameters.config.contentType&&""!=h?l.fn(this):
l.inverse(this)});Handlebars.registerHelper("element_ifAudioForEdit",function(b,h){return!b.export&&!b.full||b.template?h.fn(this):h.inverse(this)});Handlebars.registerHelper("element_ifFlashForEdit",function(b,h){return!b.export&&!b.full||b.template?h.fn(this):h.inverse(this)});Handlebars.registerHelper("multimedia_ifRegisterSwfObject",function(b,h){return b.export||b.single||b.full?h.fn(this):h.inverse(this)});Handlebars.registerHelper("element_usesDefaultBackground",function(b,h){return"\x3e .dki-authoring-content-wrapper"==
b.backgroundSelector||-1!=b.backgroundSelector.indexOf(", \x3e .dki-authoring-content-wrapper")||-1!=b.backgroundSelector.indexOf("\x3e .dki-authoring-content-wrapper,")?h.fn(this):h.inverse(this)});Handlebars.registerHelper("is_LTR",function(b,h){return"ltr"==$("html").attr("direction")?h.fn(this):h.inverse(this)});Handlebars.registerHelper("group_generateArguments",$.proxy(function(b){return b.fn(this.generateGroupArguments(b.hash.outline,b.hash.scope))},this));Handlebars.registerHelper("group_classNotNumeric",
function(b,h){b=b.split("-").pop();return isNaN(b)?h.fn(this):h.inverse(this)});Handlebars.registerHelper("group_hasBackground",function(b,h){return""===b.parameters.layout.layout_id&&""===b.parameters.layout.row_id?h.fn(this):h.inverse(this)});Handlebars.registerHelper("BgClassName",function(b,h){h=b.class_name+" "+b.opacity_class_name+" "+b.animation;"transparent"==b.color&&""==b.color&&""===h&&(h="bg-transparent");return h.trim()});Handlebars.registerHelper("courseStyles",function(b,h){h="";for(var l=
0;l<b.parameters.course_styles.length;l++)h+=b.parameters.course_styles[l]+" ";for(l=0;l<b.parameters.theme_styles.length;l++)h+=b.parameters.theme_styles[l]+" ";return" "+h+" "});Handlebars.registerHelper("page_forPreview",function(b,h){h='data-preview\x3d"false"';if(b.renderEnv.single||b.renderEnv.full||b.renderEnv.template)h='data-preview\x3d"true"';return new Handlebars.SafeString(h)});Handlebars.registerHelper("page_BGFixed",function(b,h,l){return h||"fixed"!=b.parameters.background.attachment?
l.inverse(this):l.fn(this)});Handlebars.registerHelper("isResponsiveContext",function(b,h){var l=null;if(b.element.parent_element_id){var m=DKI.renderService.findElementInPage(b.element.parent_element_id,b.page);m&&(l=m.elementtype)}return l&&!DKI.renderService.state.typeConfig[l].hasStackableElementElements||b.renderEnv.responsive?h.fn(this):h.inverse(this)});Handlebars.registerHelper("sectionDecoration",$.proxy(function(b){var h=b.hash;"transparent"!=b.hash.background.color&&""!=b.hash.background.color&&
(h.fill=this.state.utility.hexToRGB(b.hash.background.color,100-b.hash.background.transparency));return new Handlebars.SafeString(Handlebars.compile({"":"","angle-left":'\x3csvg class\x3d"section-decor" focusable\x3d"false" aria-hidden\x3d"true" height\x3d"100%" preserveAspectRatio\x3d"none" version\x3d"1.1" viewBox\x3d"0 0 100 100" width\x3d"100%" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath {{#if rotate}}transform\x3d"rotate(180 50 50)"{{/if}} d\x3d"M0 0 L100 100 L0 100" stroke-width\x3d"0" {{#if fill}}fill\x3d"{{fill}}"{{/if}}\x3e\x3c/path\x3e\x3c/svg\x3e',
"angle-right":'\x3csvg class\x3d"section-decor" focusable\x3d"false" aria-hidden\x3d"true" height\x3d"100%" preserveAspectRatio\x3d"none" version\x3d"1.1" viewBox\x3d"0 0 100 100" width\x3d"100%" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath {{#if rotate}}transform\x3d"rotate(180 50 50)"{{/if}} d\x3d"M0 100 L100 0 L100 100" stroke-width\x3d"0" {{#if fill}}fill\x3d"{{fill}}"{{/if}}\x3e\x3c/path\x3e\x3c/svg\x3e',"pointy-left":'\x3csvg class\x3d"decor" focusable\x3d"false" aria-hidden\x3d"true" height\x3d"100%" preserveAspectRatio\x3d"none" style\x3d"left:60px; position: absolute;" version\x3d"1.1" viewBox\x3d"0 0 100 100" width\x3d"120px" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath {{#if rotate}}transform\x3d"rotate(180 50 50)"{{/if}} d\x3d"M0 100 L50 0 L100 100" stroke-width\x3d"0" {{#if fill}}fill\x3d"{{fill}}"{{/if}}\x3e\x3c/path\x3e\x3c/svg\x3e',
"pointy-mid":'\x3csvg class\x3d"decor" focusable\x3d"false" aria-hidden\x3d"true" height\x3d"100%" preserveAspectRatio\x3d"none" style\x3d"left:50%; margin-left: -60px; position: absolute;" version\x3d"1.1" viewBox\x3d"0 0 100 100" width\x3d"120px" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath {{#if rotate}}transform\x3d"rotate(180 50 50)"{{/if}} d\x3d"M0 100 L50 0 L100 100" stroke-width\x3d"0" {{#if fill}}fill\x3d"{{fill}}"{{/if}}\x3e\x3c/path\x3e\x3c/svg\x3e',"pointy-right":'\x3csvg class\x3d"decor" focusable\x3d"false" aria-hidden\x3d"true" height\x3d"100%" preserveAspectRatio\x3d"none" style\x3d"right: 60px; position: absolute;" version\x3d"1.1" viewBox\x3d"0 0 100 100" width\x3d"120px" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath {{#if rotate}}transform\x3d"rotate(180 50 50)"{{/if}} d\x3d"M0 100 L50 0 L100 100" stroke-width\x3d"0" {{#if fill}}fill\x3d"{{fill}}"{{/if}}\x3e\x3c/path\x3e\x3c/svg\x3e',
"circle-left":'\x3csvg class\x3d"decor" focusable\x3d"false" aria-hidden\x3d"true" height\x3d"60px" preserveAspectRatio\x3d"none" style\x3d"left:60px; position: absolute;" version\x3d"1.1" viewBox\x3d"0 0 100 50" width\x3d"120px" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3ccircle cx\x3d"50" cy\x3d"{{#if rotate}}0{{else}}50{{/if}}" r\x3d"35" stroke-width\x3d"0" {{#if fill}}fill\x3d"{{fill}}"{{/if}}\x3e\x3c/circle\x3e\x3c/svg\x3e',"circle-mid":'\x3csvg class\x3d"decor" focusable\x3d"false" aria-hidden\x3d"true" height\x3d"60px" preserveAspectRatio\x3d"none" style\x3d"left:50%; margin-left: -60px; position: absolute;" version\x3d"1.1" viewBox\x3d"0 0 100 50" width\x3d"120px" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3ccircle cx\x3d"50" cy\x3d"{{#if rotate}}0{{else}}50{{/if}}" r\x3d"35" stroke-width\x3d"0" {{#if fill}}fill\x3d"{{fill}}"{{/if}}\x3e\x3c/circle\x3e\x3c/svg\x3e',
"circle-right":'\x3csvg class\x3d"decor" focusable\x3d"false" aria-hidden\x3d"true" height\x3d"60px" preserveAspectRatio\x3d"none" style\x3d"right: 60px; position: absolute;" version\x3d"1.1" viewBox\x3d"0 0 100 50" width\x3d"120px" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3ccircle cx\x3d"50" cy\x3d"{{#if rotate}}0{{else}}50{{/if}}" r\x3d"35" stroke-width\x3d"0" {{#if fill}}fill\x3d"{{fill}}"{{/if}}\x3e\x3c/circle\x3e\x3c/svg\x3e',"round-out":'\x3csvg class\x3d"decor" focusable\x3d"false" aria-hidden\x3d"true" height\x3d"100%" preserveAspectRatio\x3d"none" version\x3d"1.1" viewBox\x3d"0 0 100 100" width\x3d"100%" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath {{#if rotate}}transform\x3d"rotate(180 50 50)"{{/if}} d\x3d"M0 100 C50 0 50 0 100 100 Z" stroke-width\x3d"0" {{#if fill}}fill\x3d"{{fill}}"{{/if}}\x3e\x3c/path\x3e\x3c/svg\x3e',
"round-in":'\x3csvg class\x3d"decor" focusable\x3d"false" aria-hidden\x3d"true" height\x3d"100%" preserveAspectRatio\x3d"none" version\x3d"1.1" viewBox\x3d"0 0 100 100" width\x3d"100%" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath {{#if rotate}}transform\x3d"rotate(180 50 50)"{{/if}} d\x3d"M0 0 C50 100 50 100 100 0  L100 100 0 100" stroke-width\x3d"0" {{#if fill}}fill\x3d"{{fill}}"{{/if}}\x3e\x3c/path\x3e\x3c/svg\x3e',"triangle-out":'\x3csvg class\x3d"decor" focusable\x3d"false" aria-hidden\x3d"true" height\x3d"100%" preserveAspectRatio\x3d"none" version\x3d"1.1" viewBox\x3d"0 0 100 100" width\x3d"100%" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath {{#if rotate}}transform\x3d"rotate(180 50 50)"{{/if}} d\x3d"M0 100 L50 0 L100 100" stroke-width\x3d"0" {{#if fill}}fill\x3d"{{fill}}"{{/if}}\x3e\x3c/path\x3e\x3c/svg\x3e',
"triangle-in":'\x3csvg class\x3d"decor" focusable\x3d"false" aria-hidden\x3d"true" height\x3d"100%" preserveAspectRatio\x3d"none" version\x3d"1.1" viewBox\x3d"0 0 100 100" width\x3d"100%" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath {{#if rotate}}transform\x3d"rotate(180 50 50)"{{/if}} d\x3d"M0 0 L50 100 L100 0 L100 100 L0 100" stroke-width\x3d"0" {{#if fill}}fill\x3d"{{fill}}"{{/if}}\x3e\x3c/path\x3e\x3c/svg\x3e',"zig-zag":'\x3csvg class\x3d"decor hidden-xs hidden-sm" focusable\x3d"false" aria-hidden\x3d"true" height\x3d"100%" preserveAspectRatio\x3d"none" version\x3d"1.1" viewBox\x3d"0 0 100 100" width\x3d"100%" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath {{#if rotate}}transform\x3d"rotate(180 50 50)"{{/if}} d\x3d"M0 100 L2 60 L4 100 L6 60 L8 100 L10 60 L12 100 L14 60 L16 100 L18 60 L20 100 L22 60 L24 100 L26 60 L28 100 L30 60 L32 100 L34 60 L36 100 L38 60 L40 100 L42 60 L44 100 L46 60 L48 100 L50 60 L52 100 L54 60 L56 100 L58 60 L60 100 L62 60 L64 100 L66 60 L68 100 L70 60 L72 100 L74 60 L76 100 L78 60 L80 100 L82 60 L84 100 L86 60 L88 100 L90 60 L92 100 L94 60 L96 100 L98 60 L100 100 Z" stroke-width\x3d"0" {{#if fill}}fill\x3d"{{fill}}"{{/if}}\x3e\x3c/path\x3e\x3c/svg\x3e\x3csvg class\x3d"decor visible-xs visible-sm" focusable\x3d"false" aria-hidden\x3d"true" height\x3d"100%" preserveAspectRatio\x3d"none" version\x3d"1.1" viewBox\x3d"0 0 100 100" width\x3d"100%" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath {{#if rotate}}transform\x3d"rotate(180 50 50)"{{/if}} d\x3d"M0 100 L5 60 L10 100 L5 60 L10 100 L15 60 L20 100 L25 60 L30 100 L35 60 L40 100 L45 60 L50 100 L55 60 L60 100 L65 60 L70 100 L75 60 L80 100 L85 60 L90 100 L95 60 L100 100" stroke-width\x3d"0" {{#if fill}}fill\x3d"{{fill}}"{{/if}}\x3e\x3c/path\x3e\x3c/svg\x3e',
clouds:'\x3csvg class\x3d"decor" focusable\x3d"false" aria-hidden\x3d"true" height\x3d"100%" preserveAspectRatio\x3d"none" version\x3d"1.1" viewBox\x3d"0 0 100 100" width\x3d"100%" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath {{#if rotate}}transform\x3d"rotate(180 50 50)"{{/if}} d\x3d"M-5 100 Q 0 20 5 100 Z M0 100 Q 5 0 10 100 M5 100 Q 10 30 15 100 M10 100 Q 15 10 20 100 M15 100 Q 20 30 25 100 M20 100 Q 25 -10 30 100 M25 100 Q 30 10 35 100 M30 100 Q 35 30 40 100 M35 100 Q 40 10 45 100 M40 100 Q 45 50 50 100 M45 100 Q 50 20 55 100 M50 100 Q 55 40 60 100 M55 100 Q 60 60 65 100 M60 100 Q 65 50 70 100 M65 100 Q 70 20 75 100 M70 100 Q 75 45 80 100 M75 100 Q 80 30 85 100 M80 100 Q 85 20 90 100 M85 100 Q 90 50 95 100 M90 100 Q 95 25 100 100 M95 100 Q 100 15 105 100 Z" stroke-width\x3d"0" {{#if fill}}fill\x3d"{{fill}}"{{/if}}\x3e\x3c/path\x3e\x3c/svg\x3e',
curtains:'\x3csvg class\x3d"decor hidden-xs hidden-sm" focusable\x3d"false" aria-hidden\x3d"true" height\x3d"100%" preserveAspectRatio\x3d"none" version\x3d"1.1" viewBox\x3d"0 0 100 100" width\x3d"100%" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath {{#if rotate}}transform\x3d"rotate(180 50 50)"{{/if}} d\x3d"M0 100 Q 2.5 40 5 100 Q 7.5 40 10 100 Q 12.5 40 15 100 Q 17.5 40 20 100 Q 22.5 40 25 100 Q 27.5 40 30 100 Q 32.5 40 35 100 Q 37.5 40 40 100 Q 42.5 40 45 100 Q 47.5 40 50 100 Q 52.5 40 55 100 Q 57.5 40 60 100 Q 62.5 40 65 100 Q 67.5 40 70 100 Q 72.5 40 75 100 Q 77.5 40 80 100 Q 82.5 40 85 100 Q 87.5 40 90 100 Q 92.5 40 95 100 Q 97.5 40 100 100 " stroke-width\x3d"0" {{#if fill}}fill\x3d"{{fill}}"{{/if}}\x3e\x3c/path\x3e\x3c/svg\x3e\x3csvg class\x3d"decor visible-xs visible-sm" focusable\x3d"false" aria-hidden\x3d"true" height\x3d"100%" preserveAspectRatio\x3d"none" version\x3d"1.1" viewBox\x3d"0 0 100 100" width\x3d"100%" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath {{#if rotate}}transform\x3d"rotate(180 50 50)"{{/if}} d\x3d"M0 100 Q 5 40 10 100  Q 15 40 20 100  Q 25 40 30 100  Q 35 40 40 100  Q 45 40 50 100  Q 55 40 60 100  Q 65 40 70 100  Q 75 40 80 100  Q 85 40 90 100  Q 95 40 100 100 " {{#if fill}}fill\x3d"{{fill}}"{{/if}}\x3e\x3c/path\x3e\x3c/svg\x3e',
"straight-line":'\x3csvg class\x3d"decor" focusable\x3d"false" aria-hidden\x3d"true" height\x3d"100%" preserveAspectRatio\x3d"none" version\x3d"1.1" viewBox\x3d"0 0 100 100" width\x3d"100%" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3crect {{#unless rotate}}transform\x3d"rotate(180 50 50)"{{/unless}} width\x3d"100%" height\x3d"50%" {{#if fill}}fill\x3d"{{fill}}"{{/if}} /\x3e\x3c/svg\x3e'}[b.hash.decoration])(h))},this));Handlebars.registerHelper("drawDivider",$.proxy(function(b){var h=b.hash;h.config.color=
h.config.color.replace("btn-","divider-");var l={line:{styles:{straight:'\x3cdiv role\x3d"separator" class\x3d"straightLineDivider {{config.color}}" style\x3d"height: {{config.lineThickness}}px; width:100%"\x3e \x3c/div\x3e',arrow:'\x3csvg role\x3d"separator" class\x3d"divider {{config.color}}" focusable\x3d"false" aria-hidden\x3d"true" height\x3d"100%" preserveAspectRatio\x3d"none" version\x3d"1.1" viewBox\x3d"0 0 1000 50" width\x3d"100%" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpolyline class\x3d"" points\x3d"0,5 500,40 1000,5" style\x3d"fill:none; stroke-width:{{config.lineThickness}}px; " /\x3e \x3c/svg\x3e',
centerArrow:'\x3cspan class\x3d"dividerContainer" role\x3d"separator"\x3e\x3csvg class\x3d"divider {{config.color}} leftLine" focusable\x3d"false" aria-hidden\x3d"true" height\x3d"100%" preserveAspectRatio\x3d"none" version\x3d"1.1" viewBox\x3d"0 0 500 10" width\x3d"100%" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cline class\x3d"" x1\x3d"0" y1\x3d"0" x2\x3d"500" y2\x3d"0" style\x3d"stroke-width:{{config.lineThickness}}px;"/\x3e\x3c/svg\x3e\x3csvg class\x3d"divider {{config.color}} centerArrowArrow" viewBox\x3d"0 0 50 42" \x3e\x3cpolyline class\x3d"" points\x3d"0,0 25,42 50,0" style\x3d"fill:none; stroke-width:{{config.lineThickness}}px;"\x3e\x3c/svg\x3e\x3csvg class\x3d"divider {{config.color}} rightLine" focusable\x3d"false" aria-hidden\x3d"true" height\x3d"100%" preserveAspectRatio\x3d"none" version\x3d"1.1" viewBox\x3d"0 0 500 10" width\x3d"100%" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cline class\x3d"" x1\x3d"0" y1\x3d"0" x2\x3d"500" y2\x3d"0" style\x3d"stroke-width:{{config.lineThickness}}px;"/\x3e\x3c/svg\x3e\x3c/span\x3e'}},
number:{styles:{filled:'\x3cspan class\x3d"dividerContainer" role\x3d"separator"\x3e\x3csvg class\x3d"divider {{config.color}} leftLine" focusable\x3d"false" aria-hidden\x3d"true" height\x3d"100%" preserveAspectRatio\x3d"none" version\x3d"1.1" viewBox\x3d"0 0 500 10" width\x3d"100%" xmlns\x3d"http://www.w3.org/2000/svg" style\x3d"margin-top: calc((50px - {{config.lineThickness}}px) / 2);"\x3e\x3cline class\x3d"" x1\x3d"0" y1\x3d"0" x2\x3d"500" y2\x3d"0" style\x3d"stroke-width:{{config.lineThickness}}px;" /\x3e\x3c/svg\x3e\x3cdiv class\x3d"divider {{config.color}} dividerNumberBox {{config.color}}" style\x3d"outline-width:{{config.lineThickness}}px;"\x3e\x3cspan class\x3d"numberDividerText"\x3e\x3c/div\x3e\x3csvg class\x3d"divider {{config.color}} rightLine" focusable\x3d"false" aria-hidden\x3d"true" height\x3d"100%" preserveAspectRatio\x3d"none" version\x3d"1.1" viewBox\x3d"0 0 500 10" width\x3d"100%" xmlns\x3d"http://www.w3.org/2000/svg" style\x3d"margin-top: calc((50px - {{config.lineThickness}}px) / 2);"\x3e\x3cline class\x3d"" x1\x3d"0" y1\x3d"0" x2\x3d"500" y2\x3d"0" style\x3d"stroke-width:{{config.lineThickness}}px;" /\x3e\x3c/svg\x3e\x3c/span\x3e',
inverted:'\x3cspan class\x3d"dividerContainer" role\x3d"separator"\x3e\x3csvg class\x3d"divider {{config.color}} leftLine" focusable\x3d"false" aria-hidden\x3d"true" height\x3d"100%" preserveAspectRatio\x3d"none" version\x3d"1.1" viewBox\x3d"0 0 500 10" width\x3d"100%" xmlns\x3d"http://www.w3.org/2000/svg" style\x3d"margin-top: calc((50px - {{config.lineThickness}}px) / 2);"\x3e\x3cline class\x3d"" x1\x3d"0" y1\x3d"0" x2\x3d"500" y2\x3d"0" style\x3d"stroke-width:{{config.lineThickness}}px;" /\x3e\x3c/svg\x3e\x3c/svg\x3e\x3cdiv class\x3d"divider {{config.color}} dividerNumberBox colorsInverted" style\x3d"border-width:{{config.lineThickness}}px;"\x3e\x3cspan class\x3d"numberDividerText"\x3e\x3c/div\x3e\x3csvg class\x3d"divider {{config.color}} rightLine" focusable\x3d"false" aria-hidden\x3d"true" height\x3d"100%" preserveAspectRatio\x3d"none" version\x3d"1.1" viewBox\x3d"0 0 500 10" width\x3d"100%" xmlns\x3d"http://www.w3.org/2000/svg" style\x3d"margin-top: calc((50px - {{config.lineThickness}}px) / 2);"\x3e\x3cline class\x3d"" x1\x3d"0" y1\x3d"0" x2\x3d"500" y2\x3d"0" style\x3d"stroke-width:{{config.lineThickness}}px;" /\x3e\x3c/svg\x3e\x3c/span\x3e',
full:'\x3cdiv class\x3d"divider {{config.color}}" role\x3d"separator"\x3e\x3cspan class\x3d"numberDividerText"\x3e\x3c/div\x3e'}},"continue":{styles:{var1:'\x3cdiv class\x3d"continueDividerDefault {{config.color}}" style\x3d"border-width:{{config.lineThickness}}px;" {{#element_tabable element}} data-tabindex\x3d"1" tabIndex\x3d"1" {{/element_tabable}} \x3e{{{meta}}}\x3c/div\x3e\x3cdiv class\x3d"continueDividerLocked colorsInverted {{config.color}} {{#if config.continueOptions.showProgress}}noOutline{{/if}}" style\x3d"border-width:{{config.lineThickness}}px;" {{#element_tabable element}} data-tabindex\x3d"1" tabIndex\x3d"1" {{/element_tabable}}\x3e\x3ci class\x3d"fa fa-lock"\x3e\x3c/i\x3e{{{txt}}}\x3c/div\x3e{{#if config.continueOptions.showProgress}}\x3cdiv class\x3d"progressContainer continueDividerLocked progressType_{{config.progressStyle}}" role\x3d"separator" style\x3d"width:100%" \x3e{{drawDividerProgress element}}\x3c/div\x3e{{/if}}\x3cdiv class\x3d"continueDividerClicked" style\x3d"width:100%"\x3e\x3cdiv class\x3d"straightLineDivider {{config.color}}" style\x3d"height: {{config.lineThickness}}px;" role\x3d"separator"\x3e \x3c/div\x3e\x3c/div\x3e',
var2:'\x3cdiv class\x3d"continueDividerLocked {{config.color}} textContainer" {{#element_tabable element}} data-tabindex\x3d"1" tabIndex\x3d"1" {{/element_tabable}} \x3e{{{txt}}}\x3c/div\x3e{{#if config.continueOptions.showProgress}}\x3cdiv class\x3d"progressContainer continueDividerLocked progressType_{{config.progressStyle}}" role\x3d"separator" \x3e{{drawDividerProgress element}}\x3c/div\x3e{{else}}\x3csvg class\x3d"divider {{config.color}} leftLine continueDividerLocked" focusable\x3d"false" aria-hidden\x3d"true" height\x3d"100%" preserveAspectRatio\x3d"none" version\x3d"1.1" viewBox\x3d"0 0 500 10" width\x3d"100%" xmlns\x3d"http://www.w3.org/2000/svg" style\x3d"margin-top: calc((50px - {{config.lineThickness}}px) / 2);"\x3e\x3cline class\x3d"" x1\x3d"0" y1\x3d"0" x2\x3d"500" y2\x3d"0" style\x3d"stroke-width:{{config.lineThickness}}px;" /\x3e\x3c/svg\x3e\x3cdiv class\x3d"continueDividerLocked {{config.color}} iconContainer" style\x3d"border-width:{{config.lineThickness}}px;"\x3e\x3ci class\x3d"fa fa-lock"\x3e\x3c/i\x3e\x3c/div\x3e{{/if}}\x3cdiv class\x3d"continueDividerDefault {{config.color}} textContainer" {{#element_tabable element}} data-tabindex\x3d"1" tabIndex\x3d"1" {{/element_tabable}} \x3e{{{meta}}}\x3c/div\x3e\x3csvg class\x3d"divider {{config.color}} leftLine continueDividerDefault" focusable\x3d"false" aria-hidden\x3d"true" height\x3d"100%" preserveAspectRatio\x3d"none" version\x3d"1.1" viewBox\x3d"0 0 500 10" width\x3d"100%" xmlns\x3d"http://www.w3.org/2000/svg" style\x3d"margin-top: calc((50px - {{config.lineThickness}}px) / 2);"\x3e\x3cline class\x3d"" x1\x3d"0" y1\x3d"0" x2\x3d"500" y2\x3d"0" style\x3d"stroke-width:{{config.lineThickness}}px;" /\x3e\x3c/svg\x3e\x3cdiv class\x3d"continueDividerDefault {{config.color}} iconContainer" style\x3d"border-width:{{config.lineThickness}}px;"\x3e\x3ci class\x3d"fa fa-chevron-down"\x3e\x3c/i\x3e\x3c/div\x3e\x3csvg class\x3d"divider {{config.color}} rightLine continueDividerDefault" focusable\x3d"false" aria-hidden\x3d"true" height\x3d"100%" preserveAspectRatio\x3d"none" version\x3d"1.1" viewBox\x3d"0 0 500 10" width\x3d"100%" xmlns\x3d"http://www.w3.org/2000/svg" style\x3d"margin-top: calc((50px - {{config.lineThickness}}px) / 2);"\x3e\x3cline class\x3d"" x1\x3d"0" y1\x3d"0" x2\x3d"500" y2\x3d"0" style\x3d"stroke-width:{{config.lineThickness}}px;" /\x3e\x3c/svg\x3e\x3cdiv class\x3d"continueDividerClicked" style\x3d"border-width:{{config.lineThickness}}px; width:100%;"   \x3e\x3cdiv class\x3d"straightLineDivider {{config.color}}" style\x3d"height: {{config.lineThickness}}px; width:100%" role\x3d"separator"\x3e \x3c/div\x3e\x3c/div\x3e{{#unless config.continueOptions.showProgress}}\x3csvg class\x3d"divider {{config.color}} rightLine continueDividerLocked" focusable\x3d"false" aria-hidden\x3d"true" height\x3d"100%" preserveAspectRatio\x3d"none" version\x3d"1.1" viewBox\x3d"0 0 500 10" width\x3d"100%" xmlns\x3d"http://www.w3.org/2000/svg" style\x3d"margin-top: calc((50px - {{config.lineThickness}}px) / 2);"\x3e\x3cline class\x3d"" x1\x3d"0" y1\x3d"0" x2\x3d"500" y2\x3d"0" style\x3d"stroke-width:{{config.lineThickness}}px;" /\x3e\x3c/svg\x3e{{/unless}}',
var3:'\x3cdiv class\x3d"continueDividerLocked {{config.color}} textContainer" {{#element_tabable element}} data-tabindex\x3d"1" tabIndex\x3d"1" {{/element_tabable}} \x3e{{{txt}}}\x3c/div\x3e\x3cdiv class\x3d"continueDividerDefault {{config.color}} textContainer" {{#element_tabable element}} data-tabindex\x3d"1" tabIndex\x3d"1" {{/element_tabable}} \x3e{{{meta}}}\x3c/div\x3e\x3cdiv class\x3d"continueDividerDefault {{config.color}} iconContainer noProgress" style\x3d"border-width:{{config.lineThickness}}px;"\x3e\x3ci class\x3d"fa fa-chevron-down"\x3e\x3c/i\x3e\x3c/div\x3e\x3cdiv class\x3d"continueDividerClicked" style\x3d"border-width:{{config.lineThickness}}px; width:100%"   \x3e\x3cdiv class\x3d"straightLineDivider {{config.color}}" style\x3d"height: {{config.lineThickness}}px; width:100%" role\x3d"separator"\x3e \x3c/div\x3e\x3c/div\x3e{{#if config.continueOptions.showProgress}}\x3cdiv class\x3d"progressContainer continueDividerLocked progressType_{{config.progressStyle}}" role\x3d"separator" \x3e{{drawDividerProgress element}}\x3c/div\x3e{{else}}\x3cdiv class\x3d"continueDividerLocked {{config.color}} iconContainer noProgress" style\x3d"border-width:{{config.lineThickness}}px;"\x3e\x3ci class\x3d"fa fa-lock"\x3e\x3c/i\x3e\x3c/div\x3e{{/if}}'}}}[b.hash.config.type].styles;
b=b.hash.config.style;DKI.isDefined(l[b])||(b=Object.keys(l)[0]);return new Handlebars.SafeString(Handlebars.compile(l[b])(h))},this));Handlebars.registerHelper("drawDividerProgress",$.proxy(function(b){var h={var1:'\x3cdiv class\x3d"progress" data-max\x3d"100" data-current\x3d"0" \x3e\x3cdiv class\x3d"progress-bar {{config.color}}" role\x3d"progressbar" {{#element_tabable element}} data-tabindex\x3d"1" tabIndex\x3d"1" {{/element_tabable}} aria-valuenow\x3d"0" aria-valuemax\x3d"100" style\x3d"{{style}}"\x3e\x3cspan class\x3d"progress-bar-display hidden"\x3e\x3c/span\x3e\x3cspan class\x3d"sr-only"\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e',
var2:'\x3csvg class\x3d"divider {{config.color}} leftLine continueDividerLocked" focusable\x3d"false" aria-hidden\x3d"true" height\x3d"100%" preserveAspectRatio\x3d"none" version\x3d"1.1" viewBox\x3d"0 0 500 10" width\x3d"100%" xmlns\x3d"http://www.w3.org/2000/svg" style\x3d"margin-top: calc((50px - {{config.lineThickness}}px) / 2);"\x3e\x3cline class\x3d"" x1\x3d"0" y1\x3d"0" x2\x3d"500" y2\x3d"0" style\x3d"stroke-width:{{config.lineThickness}}px;" /\x3e\x3c/svg\x3e\x3cdiv class\x3d"dki-radialgauge radial {{config.color}}"\x3e\x3cdiv class\x3d"overlay"\x3e\x3cdiv {{#element_tabable element}} data-tabindex\x3d"1" tabIndex\x3d"1" {{/element_tabable}} class\x3d"text dki-element-text"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"mask full"\x3e\x3cdiv class\x3d"fill"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"mask half"\x3e\x3cdiv class\x3d"fill"\x3e\x3c/div\x3e\x3cdiv class\x3d"fill fix"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3csvg class\x3d"divider {{config.color}} rightLine {{#if config.continueOptions.showProgress}}continueDividerLocked{{/if}}" focusable\x3d"false" aria-hidden\x3d"true" height\x3d"100%" preserveAspectRatio\x3d"none" version\x3d"1.1" viewBox\x3d"0 0 500 10" width\x3d"100%" xmlns\x3d"http://www.w3.org/2000/svg" style\x3d"margin-top: calc((50px - {{config.lineThickness}}px) / 2);"\x3e\x3cline class\x3d"" x1\x3d"0" y1\x3d"0" x2\x3d"500" y2\x3d"0" style\x3d"stroke-width:{{config.lineThickness}}px;" /\x3e\x3c/svg\x3e',
var3:'\x3csvg class\x3d"divider {{config.color}} leftLine continueDividerLocked" focusable\x3d"false" aria-hidden\x3d"true" height\x3d"100%" preserveAspectRatio\x3d"none" version\x3d"1.1" viewBox\x3d"0 0 500 10" width\x3d"100%" xmlns\x3d"http://www.w3.org/2000/svg" style\x3d"margin-top: calc((50px - {{config.lineThickness}}px) / 2);"\x3e\x3cline class\x3d"" x1\x3d"0" y1\x3d"0" x2\x3d"500" y2\x3d"0" style\x3d"stroke-width:{{config.lineThickness}}px;" /\x3e\x3c/svg\x3e\x3cdiv class\x3d"dki-radialgauge radial {{config.color}}"\x3e\x3cdiv class\x3d"overlay"\x3e\x3cdiv {{#element_tabable element}} data-tabindex\x3d"1" tabIndex\x3d"1" {{/element_tabable}} class\x3d"text dki-element-text"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"mask full"\x3e\x3cdiv class\x3d"fill"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"mask half"\x3e\x3cdiv class\x3d"fill"\x3e\x3c/div\x3e\x3cdiv class\x3d"fill fix"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3csvg class\x3d"divider {{config.color}} rightLine {{#if config.continueOptions.showProgress}}continueDividerLocked{{/if}}" focusable\x3d"false" aria-hidden\x3d"true" height\x3d"100%" preserveAspectRatio\x3d"none" version\x3d"1.1" viewBox\x3d"0 0 500 10" width\x3d"100%" xmlns\x3d"http://www.w3.org/2000/svg" style\x3d"margin-top: calc((50px - {{config.lineThickness}}px) / 2);"\x3e\x3cline class\x3d"" x1\x3d"0" y1\x3d"0" x2\x3d"500" y2\x3d"0" style\x3d"stroke-width:{{config.lineThickness}}px;" /\x3e\x3c/svg\x3e'};
return b.parameters.config.continueOptions.showProgress?new Handlebars.SafeString(Handlebars.compile(h[b.parameters.config.progressStyle])({element:b,config:b.parameters.config})):""},this))};
DKI.RenderService.prototype.sortGroupRowSections=function(b){for(var c=[],h=null,l=null,m=0;m<b.length;m++){var u=b[m],q=0<m?b[m-1]:null;if(""!=u.parameters.batch.id){if(0==m||q&&q.parameters.batch.id!=u.parameters.batch.id){args=DKI.applyIf({group:u},this.defaultArgs);var l=Handlebars.compile("{{\x3e rowOrSectionStyle}}")(args),q=Handlebars.compile("{{\x3e rowOrSectionClass}}")(args),x=Handlebars.compile("{{\x3e sectionStyle}}")(args),k=Handlebars.compile("{{\x3e sectionClass}}")(args);Handlebars.compile("{{\x3e rowClass}}")(args);
Handlebars.compile("{{\x3e rowStyle}}")(args);h={type:"row",items:[],firstGroup:u};(dkiUA||top.dkiUA).isIE()||(k+=" flex");l={type:"section",styleString:l+x,classString:q+" "+k,firstGroup:u,items:[]};args.hasMaxWidth=""!=l.firstGroup.parameters.layout.layout_config.max_width;args.max_width=l.firstGroup.parameters.layout.layout_config.max_width;args.align=l.firstGroup.parameters.layout.layout_config.align;h.styleString=Handlebars.compile("{{\x3e rowStyle}}")(args);h.classString=Handlebars.compile("{{\x3e rowClass}}")(args)}else q&&
q.parameters.batch.id==u.parameters.batch.id&&q.parameters.batch.row_index!=u.parameters.batch.row_index&&(l?l.items.push(h):c.push(h),h={type:"row",items:[],firstGroup:u,styleString:""},args=DKI.applyIf({group:u},this.defaultArgs),l?(args.hasMaxWidth=""!=l.firstGroup.parameters.layout.layout_config.max_width,args.max_width=l.firstGroup.parameters.layout.layout_config.max_width,args.align=l.firstGroup.parameters.layout.layout_config.align):h.styleString+=Handlebars.compile("{{\x3e rowOrSectionStyle}}")(args),
h.styleString+=Handlebars.compile("{{\x3e rowStyle}}")(args),h.classString=Handlebars.compile("{{\x3e rowClass}}")(args));h.items.push(u);m!==b.length-1&&(1!=b[m+1].parameters.batch.row_index&&""!==b[m+1].parameters.batch.row_index||1!=b[m+1].parameters.batch.group_index&&1!=b[m+1].parameters.batch.index)&&""!==b[m+1].parameters.batch.id||(l?(l.items.push(h),c.push(l)):c.push(h),l=h=null)}else c.push({items:u,type:"group"})}return c};
DKI.RenderService.prototype.getColour=function(b){0<=b.toLowerCase().search("designcolor_")&&(idx=parseInt(b.toLowerCase().replace("designcolor_",""),10)-1,b="#"+this.state.design.designColours[idx]);return b};
DKI.RenderService.prototype.getAssetUrl=function(b){var c=this.state.baseUrl+"content/authoringtooldb/";return b.poster?c=this.state.renderEnvironment.export?"assets/posters/"+b.id+".png":c+("posters/"+b.id+".png"):b.outline&&"mediastream"==b.outline.elementtype?b.outline.src:b.id&&b.folderId?(c=this.state.renderEnvironment.export?"assets/"+b.id:c+(b.folderId+"/"+b.id),""!=b.extension&&(c+="."+b.extension),c):b.id&&b.uploadfolderid?(c=this.state.renderEnvironment.export?"assets/"+b.id:c+(b.uploadfolderid+
"/"+b.id),""!=b.extension&&(c+="."+b.extension),c):""};DKI.RenderService.prototype.renderSectionDecoration=function(b){return Handlebars.compile("{{sectionDecoration decoration\x3dthis.decoration rotate\x3dthis.rotate  background\x3dthis.background}}")(b)};
DKI.RenderService.prototype.parseElementDataImagesInTxt=function(b){var c=b.txt.replace(/src=/g,"srctrick\x3d"),c=$("\x3cdiv /\x3e").html(c),h=this;if(DKI.renderService.state.renderEnvironment.export){for(var l={},m=0;m<b.parameters.config.elements_assets.length;m++)l[b.parameters.config.elements_assets[m].uploadid]=b.parameters.config.elements_assets[m].extention;c.find("img:not([srctrick^\x3ddata])").each(function(){if($(this).attr("srctrick")&&""!=$(this).attr("srctrick")){var b=$(this).attr("srctrick").replace(/\//g,
"\\").split("\\").pop();0>b.indexOf(".")&&l[b]&&(b+="."+l[b]);$(this).attr("srctrick","assets/"+b)}})}else c.find("img:not([srctrick^\x3ddata])").each(function(){$(this).attr("srctrick")&&""!=$(this).attr("srctrick")&&$(this).attr("srctrick",h.state.baseUrl+"admin/editor2/AssetManager/asset.cfm/"+$(this).data("id"))});b=c.html();return b=b.replace(/srctrick=/g,"src\x3d")};
DKI.RenderService.prototype.parseElementDataImagesInMeta=function(b){var c=b.meta.replace(/src=/g,"srctrick\x3d"),c=$("\x3cdiv /\x3e").html(c),h=this;if(DKI.renderService.state.renderEnvironment.export){for(var l={},m=0;m<b.parameters.config.elements_assets.length;m++)l[b.parameters.config.elements_assets[m].uploadid]=b.parameters.config.elements_assets[m].extention;c.find("img:not([srctrick^\x3ddata])").each(function(){if($(this).attr("srctrick")&&""!=$(this).attr("srctrick")){var b=$(this).attr("srctrick").replace(/\//g,
"\\").split("\\").pop();0>b.indexOf(".")&&l[b]&&(b+="."+l[b]);$(this).attr("srctrick","assets/"+b)}})}else c.find("img:not([srctrick^\x3ddata])").each(function(){$(this).attr("srctrick")&&""!=$(this).attr("srctrick")&&$(this).attr("srctrick",h.state.baseUrl+"admin/editor2/AssetManager/asset.cfm/"+$(this).data("id"))});b=c.html();return b=b.replace(/srctrick=/g,"src\x3d")};
DKI.RenderService.prototype.processElementTextForGlossaries=function(b,c,h){var l="undefined"!=typeof playerBehaviour&&playerBehaviour.autoLinkGlossariesFirstMapped,m=[],u=function(b){for(var k=0;k<b.length;k++){var w=b[k];if(!/^<span(?:.*?)class="(?:.*?)dki-glossary-link(?:.*?)"(?:.*?)>/ig.test(w.innerHTML||w.data)&&!$(w).closest(".dki-glossary-link").length)if("#text"==w.nodeName){var v=w.textContent.replace(/[\u200B-\u200D\uFEFF]/g,""),q=!1;if(""!=v.trim()){for(var n="",E=[],D=DKI.terms.length-
1;0<=D;D--){var y=DKI.terms[D],B=y.term.replace(/[.*+?^${}()|[\]\\]/g,"\\$\x26"),x=DKI.isDefined(c)&&DKI.isDefined(y.usedOnPages)&&-1<y.usedOnPages.indexOf(c),C=-1==m.indexOf(y.glossaryid)&&DKI.isDefined(h)&&DKI.isDefined(y.mappedElUsage)&&-1<y.mappedElUsage.indexOf(h);if((!y.termsUsageForAutolinkFirstMapped||!x||C)&&n!=B){n=l?"":"g";n+=y.casesensitive?"":"i";n=new RegExp("(^|$|[-\\s,.?!:;@#%^\x26*()\\{\\}\\[\\]\\\\\\/*-+|'\"\x3c\x3e\\$\\xA2-\\xA5\\u058F\\u060B\\u09F2\\u09F3\\u09FB\\u0AF1\\u0BF9\\u0E3F\\u17DB\\u20A0-\\u20BD\\uA838\\uFDFC\\uFE69\\uFF04\\uFFE0\\uFFE1\\uFFE5\\uFFE6])("+
B+")(^|$|[-\\s,.?!:;@#%^\x26*()\\{\\}\\[\\]\\\\\\/*-+|'\"\x3c\x3e\\$\\xA2-\\xA5\\u058F\\u060B\\u09F2\\u09F3\\u09FB\\u0AF1\\u0BF9\\u0E3F\\u17DB\\u20A0-\\u20BD\\uA838\\uFDFC\\uFE69\\uFF04\\uFFE0\\uFFE1\\uFFE5\\uFFE6])",n);x=v;for(C=0;C<(l?1:2);C++)v=v.replace(n,function(b,c,k,h,l,n){b=/<span\b[^>]*>(?:(?!<\s*\s*span).)*$/gmi;l=n.substring(0,l+1);if(/<span/gmi.test(l)&&!b.test(l))return c+k+h;c=window.btoa(c+'\x3cspan class\x3d"dki-glossary-link autoLinked" data-term\x3d"'+y.term+'" data-id\x3d"'+y.glossaryid+
'" tabindex\x3d"1"\x3e'+k+"\x3c/span\x3e"+h);E.push(c);return"#|"+c+"|#"});x!=v&&l&&(y.termsUsageForAutolinkFirstMapped=!0,y.mappedElUsage||(y.mappedElUsage=[]),y.mappedElUsage.push(h),y.usedOnPages||(y.usedOnPages=[]),y.usedOnPages.push(c),m.push(y.glossaryid));v!=w.textContent&&(q=!0)}n=B}for(D=E.length-1;0<=D;D--)B=window.atob(E[D]),v=v.replace("#|"+E[D]+"|#",B);q&&(w.data=v)}}else w.childNodes.length&&u(w.childNodes)}},q=document.createElement("div");$(q).html(b);u(q.childNodes);var x="",k=function(b){if(b.nodeType==
Node.TEXT_NODE)x+=b.data;else{var c=b.nodeName,h=new RegExp("(\x3c"+c+"(?:.*?)\x3e)((?:.|\n)*)(\x3c\\/"+c+"\x3e)","gi"),h=h.exec(b.outerHTML),l="",m="";h?(l=h[1],m=h[3]):(h=new RegExp("(\x3c"+c+"(?:.*?)\x3e)","ig"),h=h.exec(b.outerHTML),l=h[1]);x+=l;$.each(b.childNodes,function(){k(this)});x+=m}};$.each(q.childNodes,function(){k(this)});return x};
DKI.RenderService.prototype.processCaptureTextForGlossaries=function(b,c,h){for(var l=b.config.sections,m=0;m<l.length;m++){for(var u in l[m])if("introduction"==u||"summary"==u||"testMeIntroduction"==u||"testMeSummary"==u)l[m][u]=this.processElementTextForGlossaries(l[m][u],c,h+"_s"+m);for(var q=l[m].steps,x=0;x<q.length;x++){for(u in q[x])if("instructionalText"==u||"narrationText"==u||"hintText"==u||"testMeFeedbackText"==u||"testInstructionText"==u)q[x][u]=this.processElementTextForGlossaries(q[x][u],
c,h+"_s"+m+"_step"+x);for(var k=q[x].markers,p=0;p<k.length;p++)k[p].text=this.processElementTextForGlossaries(k[p].text,c,h+"_s"+m+"_step"+x)}}return b};DKI.RenderService.prototype.renderTabsetTab=function(b,c,h){var l={typeConfig:this.state.typeConfig.tabset,page:Claro.current.page.outline};return Handlebars.compile("{{\x3e renderTabsetTab element\x3delement index\x3dindex startUnopened\x3dfalse scope\x3dscope}}")({element:b,index:h,scope:l,typeConfig:this.state.typeConfig,parentOutline:c})};
DKI.RenderService.prototype.renderTabsetTabContent=function(b,c,h){var l={typeConfig:this.state.typeConfig.tabset};return Handlebars.compile("{{\x3e renderTabsetTabContent element\x3delement index\x3dindex startUnopened\x3dfalse scope\x3dscope}}")({element:b,index:h,scope:l,typeConfig:this.state.typeConfig,parentOutline:c})};DKI.RenderService.prototype.findElementInPage=function(b,c){if(!c.elementLookup){c.elementLookup={};var h=function(b){c.elementLookup[b.elementid]=b;b.elements.forEach(h)};c.groups.forEach(function(b){b.elements.forEach(h)})}return c.elementLookup[b]};
DKI.outline={events:{pageSelected:"DKI.OUTLINE.PAGESELECTED",objectSelected:"DKI.OUTLINE.OBJECTSELECTED",moduleSelected:"DKI.OUTLINE.MODULESELECTED"}};
!function(){Handlebars.registerPartial("dki_course_outline.module",'\x3cli class\x3d"dki_course_outline-module {{#if parameters.hideFromOutline}}hide{{/if}}"\x3e{{#if @root.showModule}}\x3ca href\x3d"#" class\x3d"{{#if @root.config.forceSequential}}{{#if complete}}{{else}}disabled-element{{/if}}{{/if}} {{#if complete}}complete{{/if}}" data-loid\x3d"{{loid}}" tabindex\x3d"1"\x3e{{#if @root.config.showNumbering}}\x3cspan class\x3d"outline-numbering"\x3e{{math @index "+" 1}}\x3c/span\x3e{{/if}} {{{loname}}}\x3c/a\x3e{{/if}}\x3cul class\x3d"nav navmenu-nav"\x3e{{#each objects}}{{#if this.subeos.length}}{{\x3e dki_course_outline.object object\x3dthis oIndex\x3d@index mIndex\x3d../mIndex}}{{/if}}{{/each}}\x3c/ul\x3e\x3c/li\x3e');Handlebars.registerPartial("dki_course_outline.object",
'\x3cli class\x3d"dki_course_outline-object"\x3e\x3ca href\x3d"#" class\x3d"{{#if @root.config.forceSequential}}{{#if complete}}{{else}}disabled-element{{/if}}{{/if}} {{#if complete}}complete{{/if}}" data-objectid\x3d"{{objectid}}" tabindex\x3d"1"\x3e{{#if @root.config.showNumbering}}\x3cspan class\x3d"outline-numbering"\x3e{{#if @root.showModule}}{{math mIndex "+" 1}}.{{/if}}{{math @index "+" 1}}\x3c/span\x3e{{/if}} {{{title}}}\x3c/a\x3e\x3cul class\x3d"nav navmenu-nav"\x3e{{#if @root.config.showPages}}{{#each subeos}}{{\x3e dki_course_outline.subeo subeo\x3dthis oIndex\x3d../oIndex mIndex\x3d../mIndex sIndex\x3d@index}}{{/each}}{{/if}}\x3c/ul\x3e\x3c/li\x3e');
Handlebars.registerPartial("dki_course_outline.subeo",'\x3cli class\x3d"dki_course_outline-subeo {{#if page.parameters.hideFromOutline}}hide{{/if}}"\x3e\x3ca href\x3d"#" class\x3d"{{#if @root.config.forceSequential}}{{#if complete}}{{else}}disabled-element{{/if}}{{/if}} {{#if complete}}complete{{/if}}" data-subeoid\x3d"{{subeoid}} " data-pageid\x3d"{{page_id}}" tabindex\x3d"1" {{#if complete}}aria-description\x3d"'+DKI.strings.runtime.completedText+'"{{/if}}\x3e\x3cspan class\x3d"dki_course_outline-subeo-title"\x3e{{#if @root.config.showNumbering}}\x3cspan class\x3d"outline-numbering"\x3e{{#if @root.showModule}}{{math mIndex "+" 1}}.{{/if}}{{math oIndex "+" 1}}.{{math @index "+" 1}}\x3c/span\x3e{{/if}} {{{page.title}}}\x3c/span\x3e\x3ci class\x3d"fa fa-check"\x3e\x3c/i\x3e\x3c/a\x3e\x3c/li\x3e');
Handlebars.registerHelper("dki_course_outline",function(b){if("undefined"!=typeof dataStorage){var c=DKI.applyIf(b.hash,{showNumbering:playerBehaviour.enablePageNumbering,forceSequential:playerBehaviour.forceSequential,showPages:!0,className:"",showModule:1<dataStorage.courseStructure.modules.length}),h=function(b){"undefined"==typeof b&&(b=$(".dk-outline-wrapper"));playerBehaviour.enablePageNumbering&&($(".outline-numbering",b).empty(),$(".dki_course_outline-module:not(.hide):not(.moduleInvalidated)",
b).each(function(b){var h=b+1;c.showModule&&$(this).find(".outline-numbering").html(h);$(this).find(".dki_course_outline-object:not(.hide)").each(function(b){var l=c.showModule?h+"."+(b+1):b+1;$(this).find(".outline-numbering").html(l);$(this).find(".dki_course_outline-subeo:not(.hide)").each(function(b){b=l+"."+(b+1);$(this).find(".outline-numbering").html(b)})})}))};b=Handlebars.compile('\x3cul class\x3d"nav navmenu-nav dk-outline-wrapper {{config.className}}"\x3e{{#each structure.modules}}{{\x3e dki_course_outline.module module\x3dthis mIndex\x3d@index}}{{/each}}\x3c/ul\x3e')({strings:DKI.strings,
config:c,structure:dataStorage.courseStructure,showModule:c.showModule});b=$(b);playerBehaviour.forceSequential&&(b.find(".dki_course_outline-object \x3e a:eq(0)").removeClass("disabled-element"),b.find(".dki_course_outline-subeo \x3e a:eq(0)").removeClass("disabled-element"),b.find(".dki_course_outline-module \x3e a:eq(0)").removeClass("disabled-element"));h(b);b=b[0].outerHTML;$(document).on(settings.clickEvent,".dki_course_outline-subeo \x3e a",function(){$(this).hasClass("disabled-element")||
($(document).trigger(DKI.outline.events.pageSelected,[$(this).data("pageId")]),player.navigation.ignoreSkipToContentFocus=!0,contentApi.jumpToSubeo($(this).data("subeoid"),!1))});$(document).on(settings.clickEvent,".dki_course_outline-object \x3e a",function(){$(this).hasClass("disabled-element")||($(document).trigger(DKI.outline.events.objectSelected,[this]),contentApi.jumpToLearningObject($(this).data("objectid"),!1))});$(document).on(settings.clickEvent,".dki_course_outline-module \x3e a",function(){$(this).hasClass("disabled-element")||
($(document).trigger(DKI.outline.events.moduleSelected,[this]),contentApi.jumpToModule({moduleID:$(this).data("loid")}))});$(document).on(DKI.ContentPage.events.started,function(b,c){$(".dki_course_outline-subeo a.current, .dki_course_outline-object a.current").removeClass("current").removeAttr("aria-current").attr("aria-description",DKI.strings.runtime.completedText);dataStorage.currentPage&&$(".dki_course_outline-subeo a[data-pageid\x3d'"+dataStorage.currentPage.page_id+"']").addClass("current").attr("aria-current",
"page").removeAttr("aria-description");$(".dki_course_outline-object a[data-objectid\x3d'"+contentApi.getObjectID()+"']").addClass("current")});$(dataStorage).on(DKI.DataStorage.events.pageCompleted,function(b,c){$(".dki_course_outline-subeo a[data-pageid\x3d'"+c+"']").removeClass("disabled-element");$(".dki_course_outline-subeo a[data-pageid\x3d'"+c+"']").closest(".dki_course_outline-object").find("\x3ea").removeClass("disabled-element");$(".dki_course_outline-subeo a[data-pageid\x3d'"+c+"']").closest(".dki_course_outline-module").find("\x3ea").removeClass("disabled-element");
$(".dki_course_outline-subeo a[data-pageid\x3d'"+c+"']").addClass("complete")});$(dataStorage).on(DKI.DataStorage.events.objectCompleted,function(b,c){$(".dki_course_outline-object a[data-objectid\x3d'"+c+"']").addClass("complete")});$(dataStorage).on(DKI.DataStorage.events.moduleCompleted,function(b,c){$(".dki_course_outline-module a[data-loid\x3d'"+c+"']").addClass("complete")});$(player).on(player.events.bypassForceSequential,function(){$(".dki_course_outline-object .disabled-element, .dki_course_outline-subeo .disabled-element").removeClass("disabled-element")});
$(document).on(DKI.DataStorage.events.moduleInvalidated,function(b,c){$(".dki_course_outline-module a[data-loid\x3d'"+c+"']").closest(".dki_course_outline-module").addClass("hide");h()});$(document).on(DKI.DataStorage.events.moduleRevalidated,function(b,c){$(".dki_course_outline-module a[data-loid\x3d'"+c+"']").closest(".dki_course_outline-module").removeClass("hide");h()});return b}})}();
!function(b,c,h,l){function m(b,c){var k,l,p=[],r=0;b&&b.isDefaultPrevented()||(b.preventDefault(),c=b&&b.data?b.data.options:c||{},k=c.$target||h(b.currentTarget),l=k.attr("data-fancybox")||"",l?(p=c.selector?h(c.selector):b.data?b.data.items:[],p=p.length?p.filter('[data-fancybox\x3d"'+l+'"]'):h('[data-fancybox\x3d"'+l+'"]'),r=p.index(k),0>r&&(r=0)):p=[k],h.fancybox.open(p,c,r))}if((b.console=b.console||{info:function(b){}},h)&&!h.fn.fancybox){var u={loop:!1,gutter:50,keyboard:!0,arrows:!0,infobar:!0,
smallBtn:"auto",toolbar:"auto",buttons:["zoom","thumbs","close"],idleTime:3,protect:!1,modal:!1,image:{preload:!1},ajax:{settings:{data:{fancybox:!0}}},iframe:{tpl:'\x3ciframe id\x3d"fancybox-frame{rnd}" name\x3d"fancybox-frame{rnd}" class\x3d"fancybox-iframe" frameborder\x3d"0" vspace\x3d"0" hspace\x3d"0" webkitAllowFullScreen mozallowfullscreen allowFullScreen allowtransparency\x3d"true" src\x3d""\x3e\x3c/iframe\x3e',preload:!0,css:{},attr:{scrolling:"auto"}},defaultType:"image",animationEffect:"zoom",
animationDuration:366,zoomOpacity:"auto",transitionEffect:"fade",transitionDuration:366,slideClass:"",baseClass:"",baseTpl:'\x3cdiv class\x3d"fancybox-container" role\x3d"dialog" tabindex\x3d"-1"\x3e\x3cdiv class\x3d"fancybox-bg"\x3e\x3c/div\x3e\x3cdiv class\x3d"fancybox-inner"\x3e\x3cdiv class\x3d"fancybox-infobar"\x3e\x3cspan data-fancybox-index\x3e\x3c/span\x3e\x26nbsp;/\x26nbsp;\x3cspan data-fancybox-count\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"fancybox-toolbar"\x3e{{buttons}}\x3c/div\x3e\x3cdiv class\x3d"fancybox-navigation"\x3e{{arrows}}\x3c/div\x3e\x3cdiv class\x3d"fancybox-stage"\x3e\x3c/div\x3e\x3cdiv class\x3d"fancybox-caption"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e',
spinnerTpl:'\x3cdiv class\x3d"fancybox-loading"\x3e\x3c/div\x3e',errorTpl:'\x3cdiv class\x3d"fancybox-error"\x3e\x3cp\x3e{{ERROR}}\x3c/p\x3e\x3c/div\x3e',btnTpl:{download:'\x3ca download data-fancybox-download class\x3d"fancybox-button fancybox-button--download" title\x3d"{{DOWNLOAD}}" href\x3d"javascript:;"\x3e\x3csvg viewBox\x3d"0 0 40 40"\x3e\x3cpath d\x3d"M13,16 L20,23 L27,16 M20,7 L20,23 M10,24 L10,28 L30,28 L30,24" /\x3e\x3c/svg\x3e\x3c/a\x3e',zoom:'\x3cbutton data-fancybox-zoom class\x3d"fancybox-button fancybox-button--zoom" title\x3d"{{ZOOM}}"\x3e\x3csvg viewBox\x3d"0 0 40 40"\x3e\x3cpath d\x3d"M18,17 m-8,0 a8,8 0 1,0 16,0 a8,8 0 1,0 -16,0 M24,22 L31,29" /\x3e\x3c/svg\x3e\x3c/button\x3e',
close:'\x3cbutton data-fancybox-close class\x3d"fancybox-button fancybox-button--close" title\x3d"{{CLOSE}}"\x3e\x3csvg viewBox\x3d"0 0 40 40"\x3e\x3cpath d\x3d"M10,10 L30,30 M30,10 L10,30" /\x3e\x3c/svg\x3e\x3c/button\x3e',smallBtn:'\x3cbutton data-fancybox-close class\x3d"fancybox-close-small" title\x3d"{{CLOSE}}"\x3e\x3csvg viewBox\x3d"0 0 32 32"\x3e\x3cpath d\x3d"M10,10 L22,22 M22,10 L10,22"\x3e\x3c/path\x3e\x3c/svg\x3e\x3c/button\x3e',arrowLeft:'\x3ca data-fancybox-prev class\x3d"fancybox-button fancybox-button--arrow_left" title\x3d"{{PREV}}" href\x3d"javascript:;"\x3e\x3csvg viewBox\x3d"0 0 40 40"\x3e\x3cpath d\x3d"M18,12 L10,20 L18,28 M10,20 L30,20"\x3e\x3c/path\x3e\x3c/svg\x3e\x3c/a\x3e',
arrowRight:'\x3ca data-fancybox-next class\x3d"fancybox-button fancybox-button--arrow_right" title\x3d"{{NEXT}}" href\x3d"javascript:;"\x3e\x3csvg viewBox\x3d"0 0 40 40"\x3e\x3cpath d\x3d"M10,20 L30,20 M22,12 L30,20 L22,28"\x3e\x3c/path\x3e\x3c/svg\x3e\x3c/a\x3e'},parentEl:"body",autoFocus:!1,backFocus:!0,trapFocus:!0,fullScreen:{autoStart:!1},touch:{vertical:!0,momentum:!0},hash:null,media:{},slideShow:{autoStart:!1,speed:4E3},thumbs:{autoStart:!1,hideOnClose:!0,parentEl:".fancybox-container",axis:"y"},
wheel:"auto",onInit:h.noop,beforeLoad:h.noop,afterLoad:h.noop,beforeShow:h.noop,afterShow:h.noop,beforeClose:h.noop,afterClose:h.noop,onActivate:h.noop,onDeactivate:h.noop,clickContent:function(b,c){return"image"===b.type&&"zoom"},clickSlide:"close",clickOutside:"close",dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1,mobile:{idleTime:!1,clickContent:function(b,c){return"image"===b.type&&"toggleControls"},clickSlide:function(b,c){return"image"===b.type?"toggleControls":"close"},dblclickContent:function(b,
c){return"image"===b.type&&"zoom"},dblclickSlide:function(b,c){return"image"===b.type&&"zoom"}},lang:"en",i18n:{en:{CLOSE:"Close",NEXT:"Next",PREV:"Previous",ERROR:"The requested content cannot be loaded. \x3cbr/\x3e Please try again later.",PLAY_START:"Start slideshow",PLAY_STOP:"Pause slideshow",FULL_SCREEN:"Full screen",THUMBS:"Thumbnails",DOWNLOAD:"Download",SHARE:"Share",ZOOM:"Zoom"},de:{CLOSE:"Schliessen",NEXT:"Weiter",PREV:"Zur\u00fcck",ERROR:"Die angeforderten Daten konnten nicht geladen werden. \x3cbr/\x3e Bitte versuchen Sie es sp\u00e4ter nochmal.",
PLAY_START:"Diaschau starten",PLAY_STOP:"Diaschau beenden",FULL_SCREEN:"Vollbild",THUMBS:"Vorschaubilder",DOWNLOAD:"Herunterladen",SHARE:"Teilen",ZOOM:"Ma\u00dfstab"}}},q=h(b),x=h(c),k=0,p=function(){return b.requestAnimationFrame||b.webkitRequestAnimationFrame||b.mozRequestAnimationFrame||b.oRequestAnimationFrame||function(c){return b.setTimeout(c,1E3/60)}}(),r=function(){var b,k=c.createElement("fakeelement"),h={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",
WebkitTransition:"webkitTransitionEnd"};for(b in h)if(k.style[b]!==l)return h[b];return"transitionend"}(),w=function(b){return b&&b.length&&b[0].offsetHeight},v=function(b,c){var k=h.extend(!0,{},b,c);return h.each(c,function(b,c){h.isArray(c)&&(k[b]=c)}),k},z=function(b,l,p){this.opts=v({index:p},h.fancybox.defaults);h.isPlainObject(l)&&(this.opts=v(this.opts,l));h.fancybox.isMobile&&(this.opts=v(this.opts,this.opts.mobile));this.id=this.opts.id||++k;this.currIndex=parseInt(this.opts.index,10)||
0;this.prevPos=this.prevIndex=null;this.currPos=0;this.firstRun=!0;this.group=[];this.slides={};this.addContent(b);this.group.length&&(this.$lastFocus=h(c.activeElement).trigger("blur"),this.init())};h.extend(z.prototype,{init:function(){var k,p,r,m=this,v=m.group[m.currIndex].opts,w=h.fancybox.scrollbarWidth;h.fancybox.getInstance()||!1===v.hideScrollbar||(h("body").addClass("fancybox-active"),!h.fancybox.isMobile&&c.body.scrollHeight>b.innerHeight&&(w===l&&(k=h('\x3cdiv style\x3d"width:100px;height:100px;overflow:scroll;" /\x3e').appendTo("body"),
w=h.fancybox.scrollbarWidth=k[0].offsetWidth-k[0].clientWidth,k.remove()),h("head").append('\x3cstyle id\x3d"fancybox-style-noscroll" type\x3d"text/css"\x3e.compensate-for-scrollbar { margin-right: '+w+"px; }\x3c/style\x3e"),h("body").addClass("compensate-for-scrollbar")));r="";h.each(v.buttons,function(b,c){r+=v.btnTpl[c]||""});p=h(m.translate(m,v.baseTpl.replace("{{buttons}}",r).replace("{{arrows}}",v.btnTpl.arrowLeft+v.btnTpl.arrowRight))).attr("id","fancybox-container-"+m.id).addClass("fancybox-is-hidden").addClass(v.baseClass).data("FancyBox",
m).appendTo(v.parentEl);m.$refs={container:p};"bg inner infobar toolbar stage caption navigation".split(" ").forEach(function(b){m.$refs[b]=p.find(".fancybox-"+b)});m.trigger("onInit");m.activate();m.jumpTo(m.currIndex)},translate:function(b,c){var k=b.opts.i18n[b.opts.lang];return c.replace(/\{\{(\w+)\}\}/g,function(b,c){c=k[c];return c===l?b:c})},addContent:function(b){var c,k=this;b=h.makeArray(b);h.each(b,function(b,c){var n,p,r,m;b={};r={};h.isPlainObject(c)?(b=c,r=c.opts||c):"object"===h.type(c)&&
h(c).length?(n=h(c),r=n.data()||{},r=h.extend(!0,{},r,r.options),r.$orig=n,b.src=k.opts.src||r.src||n.attr("href"),b.type||b.src||(b.type="inline",b.src=c)):b={type:"html",src:c+""};b.opts=h.extend(!0,{},k.opts,r);h.isArray(r.buttons)&&(b.opts.buttons=r.buttons);n=b.type||b.opts.type;r=b.src||"";!n&&r&&((p=r.match(/\.(mp4|mov|ogv)((\?|#).*)?$/i))?(n="video",b.opts.videoFormat||(b.opts.videoFormat="video/"+("ogv"===p[1]?"ogg":p[1]))):r.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\?|#).*)?$)/i)?
n="image":r.match(/\.(pdf)((\?|#).*)?$/i)?n="iframe":"#"===r.charAt(0)&&(n="inline"));n?b.type=n:k.trigger("objectNeedsType",b);b.contentType||(b.contentType=-1<h.inArray(b.type,["html","inline","ajax"])?"html":b.type);b.index=k.group.length;"auto"==b.opts.smallBtn&&(b.opts.smallBtn=-1<h.inArray(b.type,["html","inline","ajax"]));"auto"===b.opts.toolbar&&(b.opts.toolbar=!b.opts.smallBtn);b.opts.$trigger&&b.index===k.opts.index&&(b.opts.$thumb=b.opts.$trigger.find("img:first"));b.opts.$thumb&&b.opts.$thumb.length||
!b.opts.$orig||(b.opts.$thumb=b.opts.$orig.find("img:first"));"function"===h.type(b.opts.caption)&&(b.opts.caption=b.opts.caption.apply(c,[k,b]));"function"===h.type(k.opts.caption)&&(b.opts.caption=k.opts.caption.apply(c,[k,b]));b.opts.caption instanceof h||(b.opts.caption=b.opts.caption===l?"":b.opts.caption+"");"ajax"===b.type&&(m=r.split(/\s+/,2),1<m.length&&(b.src=m.shift(),b.opts.filter=m.shift()));b.opts.modal&&(b.opts=h.extend(!0,b.opts,{infobar:0,toolbar:0,smallBtn:0,keyboard:0,slideShow:0,
fullScreen:0,thumbs:0,touch:0,clickContent:!1,clickSlide:!1,clickOutside:!1,dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1}));k.group.push(b)});Object.keys(k.slides).length&&(k.updateControls(),c=k.Thumbs,c&&c.isActive&&(c.create(),c.focus()))},addEvents:function(){var k=this;k.removeEvents();k.$refs.container.on("click.fb-close","[data-fancybox-close]",function(b){b.stopPropagation();b.preventDefault();k.close(b)}).on("touchstart.fb-prev click.fb-prev","[data-fancybox-prev]",function(b){b.stopPropagation();
b.preventDefault();k.previous()}).on("touchstart.fb-next click.fb-next","[data-fancybox-next]",function(b){b.stopPropagation();b.preventDefault();k.next()}).on("click.fb","[data-fancybox-zoom]",function(b){k[k.isScaledDown()?"scaleToActual":"scaleToFit"]()});q.on("orientationchange.fb resize.fb",function(b){b&&b.originalEvent&&"resize"===b.originalEvent.type?p(function(){k.update()}):(k.$refs.stage.hide(),setTimeout(function(){k.$refs.stage.show();k.update()},h.fancybox.isMobile?600:250))});x.on("focusin.fb",
function(b){var k=h.fancybox?h.fancybox.getInstance():null;k.isClosing||!k.current||!k.current.opts.trapFocus||h(b.target).hasClass("fancybox-container")||h(b.target).is(c)||k&&"fixed"!==h(b.target).css("position")&&!k.$refs.container.has(b.target).length&&(b.stopPropagation(),k.focus())});x.on("keydown.fb",function(b){var c=k.current,l=b.keyCode||b.which;if(c&&c.opts.keyboard&&!(b.ctrlKey||b.altKey||b.shiftKey||h(b.target).is("input")||h(b.target).is("textarea")))return 8===l||27===l?(b.preventDefault(),
void k.close(b)):37===l||38===l?(b.preventDefault(),void k.previous()):39===l||40===l?(b.preventDefault(),void k.next()):void k.trigger("afterKeydown",b,l)});k.group[k.currIndex].opts.idleTime&&(k.idleSecondsCounter=0,x.on("mousemove.fb-idle mouseleave.fb-idle mousedown.fb-idle touchstart.fb-idle touchmove.fb-idle scroll.fb-idle keydown.fb-idle",function(b){k.idleSecondsCounter=0;k.isIdle&&k.showControls();k.isIdle=!1}),k.idleInterval=b.setInterval(function(){k.idleSecondsCounter++;k.idleSecondsCounter>=
k.group[k.currIndex].opts.idleTime&&!k.isDragging&&(k.isIdle=!0,k.idleSecondsCounter=0,k.hideControls())},1E3))},removeEvents:function(){q.off("orientationchange.fb resize.fb");x.off("focusin.fb keydown.fb .fb-idle");this.$refs.container.off(".fb-close .fb-prev .fb-next");this.idleInterval&&(b.clearInterval(this.idleInterval),this.idleInterval=null)},previous:function(b){return this.jumpTo(this.currPos-1,b)},next:function(b){return this.jumpTo(this.currPos+1,b)},jumpTo:function(b,c){var k,p,r,m,v,
q,z,u=this,x=u.group.length;if(!(u.isDragging||u.isClosing||u.isAnimating&&u.firstRun)){if(b=parseInt(b,10),p=u.current?u.current.opts.loop:u.opts.loop,!p&&(0>b||b>=x))return!1;if(k=u.firstRun=!Object.keys(u.slides).length,!(2>x&&!k&&u.isDragging)){if(m=u.current,u.prevIndex=u.currIndex,u.prevPos=u.currPos,r=u.createSlide(b),1<x&&((p||0<r.index)&&u.createSlide(b-1),(p||r.index<x-1)&&u.createSlide(b+1)),u.current=r,u.currIndex=r.index,u.currPos=r.pos,u.trigger("beforeShow",k),u.updateControls(),q=
h.fancybox.getTranslate(r.$slide),r.isMoved=(0!==q.left||0!==q.top)&&!r.$slide.hasClass("fancybox-animated"),r.forcedDuration=l,h.isNumeric(c)?r.forcedDuration=c:c=r.opts[k?"animationDuration":"transitionDuration"],c=parseInt(c,10),k)return r.opts.animationEffect&&c&&u.$refs.container.css("transition-duration",c+"ms"),u.$refs.container.removeClass("fancybox-is-hidden"),w(u.$refs.container),u.$refs.container.addClass("fancybox-is-open"),w(u.$refs.container),r.$slide.addClass("fancybox-slide--previous"),
u.loadSlide(r),r.$slide.removeClass("fancybox-slide--previous").addClass("fancybox-slide--current"),void u.preload("image");h.each(u.slides,function(b,c){h.fancybox.stop(c.$slide)});r.$slide.removeClass("fancybox-slide--next fancybox-slide--previous").addClass("fancybox-slide--current");r.isMoved?(v=Math.round(r.$slide.width()),h.each(u.slides,function(b,k){b=k.pos-r.pos;h.fancybox.animate(k.$slide,{top:0,left:b*v+b*k.opts.gutter},c,function(){k.$slide.removeAttr("style").removeClass("fancybox-slide--next fancybox-slide--previous");
k.pos===u.currPos&&(r.isMoved=!1,u.complete())})})):u.$refs.stage.children().removeAttr("style");r.isLoaded?u.revealContent(r):u.loadSlide(r);u.preload("image");m.pos!==r.pos&&(z="fancybox-slide--"+(m.pos>r.pos?"next":"previous"),m.$slide.removeClass("fancybox-slide--complete fancybox-slide--current fancybox-slide--next fancybox-slide--previous"),m.isComplete=!1,c&&(r.isMoved||r.opts.transitionEffect)&&(r.isMoved?m.$slide.addClass(z):(z="fancybox-animated "+z+" fancybox-fx-"+r.opts.transitionEffect,
h.fancybox.animate(m.$slide,z,c,function(){m.$slide.removeClass(z).removeAttr("style")}))))}}},createSlide:function(b){var c,k;return k=b%this.group.length,k=0>k?this.group.length+k:k,!this.slides[b]&&this.group[k]&&(c=h('\x3cdiv class\x3d"fancybox-slide"\x3e\x3c/div\x3e').appendTo(this.$refs.stage),this.slides[b]=h.extend(!0,{},this.group[k],{pos:b,$slide:c,isLoaded:!1}),this.updateSlide(this.slides[b])),this.slides[b]},scaleToActual:function(b,c,k){var p,r,m,v,w,q=this,z=q.current,u=z.$content,
x=h.fancybox.getTranslate(z.$slide).width,P=h.fancybox.getTranslate(z.$slide).height,M=z.width,R=z.height;!q.isAnimating&&u&&"image"==z.type&&z.isLoaded&&!z.hasError&&(h.fancybox.stop(u),q.isAnimating=!0,b=b===l?.5*x:b,c=c===l?.5*P:c,p=h.fancybox.getTranslate(u),p.top-=h.fancybox.getTranslate(z.$slide).top,p.left-=h.fancybox.getTranslate(z.$slide).left,v=M/p.width,w=R/p.height,r=.5*x-.5*M,m=.5*P-.5*R,M>x&&(r=p.left*v-(b*v-b),0<r&&(r=0),r<x-M&&(r=x-M)),R>P&&(m=p.top*w-(c*w-c),0<m&&(m=0),m<P-R&&(m=
P-R)),q.updateCursor(M,R),h.fancybox.animate(u,{top:m,left:r,scaleX:v,scaleY:w},k||330,function(){q.isAnimating=!1}),q.SlideShow&&q.SlideShow.isActive&&q.SlideShow.stop())},scaleToFit:function(b){var c,k=this,l=k.current,p=l.$content;!k.isAnimating&&p&&"image"==l.type&&l.isLoaded&&!l.hasError&&(h.fancybox.stop(p),k.isAnimating=!0,c=k.getFitPos(l),k.updateCursor(c.width,c.height),h.fancybox.animate(p,{top:c.top,left:c.left,scaleX:c.width/p.width(),scaleY:c.height/p.height()},b||330,function(){k.isAnimating=
!1}))},getFitPos:function(b){var c,k,h,l,p,r=b.$content,m=b.width||b.opts.width,v=b.height||b.opts.height,w={};return!!(b.isLoaded&&r&&r.length)&&(l={top:parseInt(b.$slide.css("paddingTop"),10),right:parseInt(b.$slide.css("paddingRight"),10),bottom:parseInt(b.$slide.css("paddingBottom"),10),left:parseInt(b.$slide.css("paddingLeft"),10)},c=parseInt(this.$refs.stage.width(),10)-(l.left+l.right),k=parseInt(this.$refs.stage.height(),10)-(l.top+l.bottom),m&&v||(m=c,v=k),h=Math.min(1,c/m,k/v),m=Math.floor(h*
m),v=Math.floor(h*v),"image"===b.type?(w.top=Math.floor(.5*(k-v))+l.top,w.left=Math.floor(.5*(c-m))+l.left):"video"===b.contentType&&(p=b.opts.width&&b.opts.height?m/v:b.opts.ratio||16/9,v>m/p?v=m/p:m>v*p&&(m=v*p)),w.width=m,w.height=v,w)},update:function(){var b=this;h.each(b.slides,function(c,k){b.updateSlide(k)})},updateSlide:function(b,c){c=b&&b.$content;var k=b.width||b.opts.width,l=b.height||b.opts.height;c&&(k||l||"video"===b.contentType)&&!b.hasError&&(h.fancybox.stop(c),h.fancybox.setTranslate(c,
this.getFitPos(b)),b.pos===this.currPos&&(this.isAnimating=!1,this.updateCursor()));b.$slide.trigger("refresh");this.$refs.toolbar.toggleClass("compensate-for-scrollbar",b.$slide.get(0).scrollHeight>b.$slide.get(0).clientHeight);this.trigger("onUpdate",b)},centerSlide:function(b,c){var k,p;this.current&&(k=Math.round(b.$slide.width()),p=b.pos-this.current.pos,h.fancybox.animate(b.$slide,{top:0,left:p*k+p*b.opts.gutter,opacity:1},c===l?0:c,null,!1))},updateCursor:function(b,c){var k,l=this.current,
p=this.$refs.container.removeClass("fancybox-is-zoomable fancybox-can-zoomIn fancybox-can-drag fancybox-can-zoomOut");l&&!this.isClosing&&(k=this.isZoomable(),p.toggleClass("fancybox-is-zoomable",k),h("[data-fancybox-zoom]").prop("disabled",!k),k&&("zoom"===l.opts.clickContent||h.isFunction(l.opts.clickContent)&&"zoom"===l.opts.clickContent(l))?this.isScaledDown(b,c)?p.addClass("fancybox-can-zoomIn"):l.opts.touch?p.addClass("fancybox-can-drag"):p.addClass("fancybox-can-zoomOut"):l.opts.touch&&"video"!==
l.contentType&&p.addClass("fancybox-can-drag"))},isZoomable:function(){var b,c=this.current;return!c||this.isClosing||"image"!==c.type||c.hasError||c.isLoaded&&(b=this.getFitPos(c),!(c.width>b.width||c.height>b.height))?!1:!0},isScaledDown:function(b,c){var k=!1,p=this.current,r=p.$content;return b!==l&&c!==l?k=b<p.width&&c<p.height:r&&(k=h.fancybox.getTranslate(r),k=k.width<p.width&&k.height<p.height),k},canPan:function(){var b,c=!1,k=this.current;return"image"===k.type&&(b=k.$content)&&!k.hasError&&
(c=this.getFitPos(k),c=1<Math.abs(b.width()-c.width)||1<Math.abs(b.height()-c.height)),c},loadSlide:function(b){var c,k,l,p=this;if(!b.isLoading&&!b.isLoaded){switch(b.isLoading=!0,p.trigger("beforeLoad",b),c=b.type,k=b.$slide,k.off("refresh").trigger("onReset").addClass(b.opts.slideClass),c){case "image":p.setImage(b);break;case "iframe":p.setIframe(b);break;case "html":p.setContent(b,b.src||b.content);break;case "video":p.setContent(b,'\x3cvideo class\x3d"fancybox-video" controls controlsList\x3d"nodownload"\x3e\x3csource src\x3d"'+
b.src+'" type\x3d"'+b.opts.videoFormat+"\"\x3eYour browser doesn't support HTML5 video\x3c/video");break;case "inline":h(b.src).length?p.setContent(b,h(b.src)):p.setError(b);break;case "ajax":p.showLoading(b);l=h.ajax(h.extend({},b.opts.ajax.settings,{url:b.src,success:function(c,k){"success"===k&&p.setContent(b,c)},error:function(c,k){c&&"abort"!==k&&p.setError(b)}}));k.one("onReset",function(){l.abort()});break;default:p.setError(b)}return!0}},setImage:function(c){var k,l,p,r,m=this,v=c.opts.srcset||
c.opts.image.srcset;if(c.timouts=setTimeout(function(){var b=c.$image;!c.isLoading||b&&b[0].complete||c.hasError||m.showLoading(c)},350),v){p=b.devicePixelRatio||1;r=b.innerWidth*p;l=v.split(",").map(function(b){var c={};return b.trim().split(/\s+/).forEach(function(b,k){var h=parseInt(b.substring(0,b.length-1),10);return 0===k?c.url=b:void(h&&(c.value=h,c.postfix=b[b.length-1]))}),c});l.sort(function(b,c){return b.value-c.value});for(var w=0;w<l.length;w++){var q=l[w];if("w"===q.postfix&&q.value>=
r||"x"===q.postfix&&q.value>=p){k=q;break}}!k&&l.length&&(k=l[l.length-1]);k&&(c.src=k.url,c.width&&c.height&&"w"==k.postfix&&(c.height=c.width/c.height*k.value,c.width=k.value),c.opts.srcset=v)}c.$content=h('\x3cdiv class\x3d"fancybox-content"\x3e\x3c/div\x3e').addClass("fancybox-is-hidden").appendTo(c.$slide.addClass("fancybox-slide--image"));k=c.opts.thumb||!(!c.opts.$thumb||!c.opts.$thumb.length)&&c.opts.$thumb.attr("src");!1!==c.opts.preload&&c.opts.width&&c.opts.height&&k&&(c.width=c.opts.width,
c.height=c.opts.height,c.$ghost=h("\x3cimg /\x3e").one("error",function(){h(this).remove();c.$ghost=null}).one("load",function(){m.afterLoad(c)}).addClass("fancybox-image").appendTo(c.$content).attr("src",k));m.setBigImage(c)},setBigImage:function(b){var c=this,k=h("\x3cimg /\x3e");b.$image=k.one("error",function(){c.setError(b)}).one("load",function(){var h;b.$ghost||(c.resolveImageSlideSize(b,this.naturalWidth,this.naturalHeight),c.afterLoad(b));b.timouts&&(clearTimeout(b.timouts),b.timouts=null);
c.isClosing||(b.opts.srcset&&(h=b.opts.sizes,h&&"auto"!==h||(h=(1<b.width/b.height&&1<q.width()/q.height()?"100":Math.round(b.width/b.height*100))+"vw"),k.attr("sizes",h).attr("srcset",b.opts.srcset)),b.$ghost&&setTimeout(function(){b.$ghost&&!c.isClosing&&b.$ghost.hide()},Math.min(300,Math.max(1E3,b.height/1600))),c.hideLoading(b))}).addClass("fancybox-image").attr("src",b.src).appendTo(b.$content);(k[0].complete||"complete"==k[0].readyState)&&k[0].naturalWidth&&k[0].naturalHeight?k.trigger("load"):
k[0].error&&k.trigger("error")},resolveImageSlideSize:function(b,c,k){var h=parseInt(b.opts.width,10),l=parseInt(b.opts.height,10);b.width=c;b.height=k;0<h&&(b.width=h,b.height=Math.floor(h*k/c));0<l&&(b.width=Math.floor(l*c/k),b.height=l)},setIframe:function(b){var c,k=this,p=b.opts.iframe,r=b.$slide;b.$content=h('\x3cdiv class\x3d"fancybox-content'+(p.preload?" fancybox-is-hidden":"")+'"\x3e\x3c/div\x3e').css(p.css).appendTo(r);r.addClass("fancybox-slide--"+b.contentType);b.$iframe=c=h(p.tpl.replace(/\{rnd\}/g,
(new Date).getTime())).attr(p.attr).appendTo(b.$content);p.preload?(k.showLoading(b),c.on("load.fb error.fb",function(c){this.isReady=1;b.$slide.trigger("refresh");k.afterLoad(b)}),r.on("refresh.fb",function(){var k,h,r=b.$content,m=p.css.width,v=p.css.height;if(1===c[0].isReady){try{k=c.contents(),h=k.find("body")}catch(w){}h&&h.length&&h.children().length&&(r.css({width:"",height:""}),m===l&&(m=Math.ceil(Math.max(h[0].clientWidth,h.outerWidth(!0)))),m&&r.width(m),v===l&&(v=Math.ceil(Math.max(h[0].clientHeight,
h.outerHeight(!0)))),v&&r.height(v));r.removeClass("fancybox-is-hidden")}})):this.afterLoad(b);c.attr("src",b.src);r.one("onReset",function(){try{h(this).find("iframe").hide().unbind().attr("src","//about:blank")}catch(c){}h(this).off("refresh.fb").empty();b.isLoaded=!1})},setContent:function(b,c){this.isClosing||(this.hideLoading(b),b.$content&&h.fancybox.stop(b.$content),b.$slide.empty(),c&&c.hasOwnProperty&&c instanceof h&&c.parent().length?(c.parent().parent(".fancybox-slide--inline").trigger("onReset"),
b.$placeholder=h("\x3cdiv\x3e").hide().insertAfter(c),c.css("display","inline-block")):b.hasError||("string"===h.type(c)&&(c=h("\x3cdiv\x3e").append(h.trim(c)).contents(),3===c[0].nodeType&&(c=h("\x3cdiv\x3e").html(c))),b.opts.filter&&(c=h("\x3cdiv\x3e").html(c).find(b.opts.filter))),b.$slide.one("onReset",function(){h(this).find("video,audio").trigger("pause");b.$placeholder&&(b.$placeholder.after(c.hide()).remove(),b.$placeholder=null);b.$smallBtn&&(b.$smallBtn.remove(),b.$smallBtn=null);b.hasError||
(h(this).empty(),b.isLoaded=!1)}),h(c).appendTo(b.$slide),h(c).is("video,audio")&&(h(c).addClass("fancybox-video"),h(c).wrap("\x3cdiv\x3e\x3c/div\x3e"),b.contentType="video",b.opts.width=b.opts.width||h(c).attr("width"),b.opts.height=b.opts.height||h(c).attr("height")),b.$content=b.$slide.children().filter("div,form,main,video,audio").first().addClass("fancybox-content"),b.$slide.addClass("fancybox-slide--"+b.contentType),this.afterLoad(b))},setError:function(b){b.hasError=!0;b.$slide.trigger("onReset").removeClass("fancybox-slide--"+
b.contentType).addClass("fancybox-slide--error");b.contentType="html";this.setContent(b,this.translate(b,b.opts.errorTpl));b.pos===this.currPos&&(this.isAnimating=!1)},showLoading:function(b){(b=b||this.current)&&!b.$spinner&&(b.$spinner=h(this.translate(this,this.opts.spinnerTpl)).appendTo(b.$slide))},hideLoading:function(b){(b=b||this.current)&&b.$spinner&&(b.$spinner.remove(),delete b.$spinner)},afterLoad:function(b){this.isClosing||(b.isLoading=!1,b.isLoaded=!0,this.trigger("afterLoad",b),this.hideLoading(b),
b.pos===this.currPos&&this.updateCursor(),!b.opts.smallBtn||b.$smallBtn&&b.$smallBtn.length||(b.$smallBtn=h(this.translate(b,b.opts.btnTpl.smallBtn)).prependTo(b.$content)),b.opts.protect&&b.$content&&!b.hasError&&(b.$content.on("contextmenu.fb",function(b){return 2==b.button&&b.preventDefault(),!0}),"image"===b.type&&h('\x3cdiv class\x3d"fancybox-spaceball"\x3e\x3c/div\x3e').appendTo(b.$content)),this.revealContent(b))},revealContent:function(b){var c,k,p,r,m=this,v=b.$slide,q=!1,z=!1;return c=b.opts[m.firstRun?
"animationEffect":"transitionEffect"],p=b.opts[m.firstRun?"animationDuration":"transitionDuration"],p=parseInt(b.forcedDuration===l?p:b.forcedDuration,10),b.pos===m.currPos&&(b.isComplete?c=!1:m.isAnimating=!0),!b.isMoved&&b.pos===m.currPos&&p||(c=!1),"zoom"===c&&(b.pos===m.currPos&&p&&"image"===b.type&&!b.hasError&&(z=m.getThumbPos(b))?q=m.getFitPos(b):c="fade"),"zoom"===c?(q.scaleX=q.width/z.width,q.scaleY=q.height/z.height,r=b.opts.zoomOpacity,"auto"==r&&(r=.1<Math.abs(b.width/b.height-z.width/
z.height)),r&&(z.opacity=.1,q.opacity=1),h.fancybox.setTranslate(b.$content.removeClass("fancybox-is-hidden"),z),w(b.$content),void h.fancybox.animate(b.$content,q,p,function(){m.isAnimating=!1;m.complete()})):(m.updateSlide(b),c?(h.fancybox.stop(v),k="fancybox-animated fancybox-slide--"+(b.pos>=m.prevPos?"next":"previous")+" fancybox-fx-"+c,v.removeAttr("style").removeClass("fancybox-slide--current fancybox-slide--next fancybox-slide--previous").addClass(k),b.$content.removeClass("fancybox-is-hidden"),
w(v),void h.fancybox.animate(v,"fancybox-slide--current",p,function(c){v.removeClass(k).removeAttr("style");b.pos===m.currPos&&m.complete()},!0)):(w(v),b.$content.removeClass("fancybox-is-hidden"),void(b.pos===m.currPos&&m.complete())))},getThumbPos:function(k){var l,p=!1,r=(k=k.opts.$thumb)&&k.length&&k[0].ownerDocument===c?k.offset():0,m=function(c){var k;c=c[0];for(var l=c.getBoundingClientRect(),n=[];null!==c.parentElement;)"hidden"!==h(c.parentElement).css("overflow")&&"auto"!==h(c.parentElement).css("overflow")||
n.push(c.parentElement.getBoundingClientRect()),c=c.parentElement;return k=n.every(function(b){var c=Math.min(l.bottom,b.bottom)-Math.max(l.top,b.top);return 0<Math.min(l.right,b.right)-Math.max(l.left,b.left)&&0<c}),k&&0<l.bottom&&0<l.right&&l.left<h(b).width()&&l.top<h(b).height()};return r&&m(k)&&(l=this.$refs.stage.offset(),p={top:r.top-l.top+parseFloat(k.css("border-top-width")||0),left:r.left-l.left+parseFloat(k.css("border-left-width")||0),width:k.width(),height:k.height(),scaleX:1,scaleY:1}),
p},complete:function(){var b=this,k=b.current,l={};!k.isMoved&&k.isLoaded&&(k.isComplete||(k.isComplete=!0,k.$slide.siblings().trigger("onReset"),b.preload("inline"),w(k.$slide),k.$slide.addClass("fancybox-slide--complete"),h.each(b.slides,function(c,k){k.pos>=b.currPos-1&&k.pos<=b.currPos+1?l[k.pos]=k:k&&(h.fancybox.stop(k.$slide),k.$slide.off().remove())}),b.slides=l),b.isAnimating=!1,b.updateCursor(),b.trigger("afterShow"),k.$slide.find("video,audio").filter(":visible:first").trigger("play"),(h(c.activeElement).is("[disabled]")||
k.opts.autoFocus&&"image"!=k.type&&"iframe"!==k.type)&&b.focus())},preload:function(b){var c=this.slides[this.currPos+1],k=this.slides[this.currPos-1];c&&c.type===b&&this.loadSlide(c);k&&k.type===b&&this.loadSlide(k)},focus:function(){var b,c=this.current;this.isClosing||c&&c.isComplete&&c.$content&&(b=c.$content.find("input[autofocus]:enabled:visible:first"),b.length||(b=c.$content.find("button,:input,[tabindex],a").filter(":enabled:visible:first")),b=b&&b.length?b:c.$content,b.trigger("focus"))},
activate:function(){var b=this;h(".fancybox-container").each(function(){var c=h(this).data("FancyBox");c&&c.id!==b.id&&!c.isClosing&&(c.trigger("onDeactivate"),c.removeEvents(),c.isVisible=!1)});b.isVisible=!0;(b.current||b.isIdle)&&(b.update(),b.updateControls());b.trigger("onActivate");b.addEvents()},close:function(b,c){var k,l,m,v,q,z,u,x=this,K=x.current,L=function(){x.cleanUp(b)};return!x.isClosing&&(x.isClosing=!0,!1===x.trigger("beforeClose",b)?(x.isClosing=!1,p(function(){x.update()}),!1):
(x.removeEvents(),K.timouts&&clearTimeout(K.timouts),m=K.$content,k=K.opts.animationEffect,l=h.isNumeric(c)?c:k?K.opts.animationDuration:0,K.$slide.off(r).removeClass("fancybox-slide--complete fancybox-slide--next fancybox-slide--previous fancybox-animated"),K.$slide.siblings().trigger("onReset").remove(),l&&x.$refs.container.removeClass("fancybox-is-open").addClass("fancybox-is-closing"),x.hideLoading(K),x.hideControls(),x.updateCursor(),"zoom"!==k||!0!==b&&m&&l&&"image"===K.type&&!K.hasError&&(u=
x.getThumbPos(K))||(k="fade"),"zoom"===k?(h.fancybox.stop(m),v=h.fancybox.getTranslate(m),z={top:v.top,left:v.left,scaleX:v.width/u.width,scaleY:v.height/u.height,width:u.width,height:u.height},q=K.opts.zoomOpacity,"auto"==q&&(q=.1<Math.abs(K.width/K.height-u.width/u.height)),q&&(u.opacity=0),h.fancybox.setTranslate(m,z),w(m),h.fancybox.animate(m,u,l,L),!0):(k&&l?!0===b?setTimeout(L,l):h.fancybox.animate(K.$slide.removeClass("fancybox-slide--current"),"fancybox-animated fancybox-slide--previous fancybox-fx-"+
k,l,L):L(),!0)))},cleanUp:function(b){var c=h("body");this.current.$slide.trigger("onReset");this.$refs.container.empty().remove();this.trigger("afterClose",b);this.$lastFocus&&this.current.opts.backFocus&&this.$lastFocus.trigger("focus");this.current=null;(b=h.fancybox.getInstance())?b.activate():(c.removeClass("fancybox-active compensate-for-scrollbar"),h("#fancybox-style-noscroll").remove())},trigger:function(b,c){var k,l=Array.prototype.slice.call(arguments,1),p=c&&c.opts?c:this.current;return p?
l.unshift(p):p=this,l.unshift(this),h.isFunction(p.opts[b])&&(k=p.opts[b].apply(p,l)),!1===k?k:void("afterClose"!==b&&this.$refs?this.$refs.container.trigger(b+".fb",l):x.trigger(b+".fb",l))},updateControls:function(b){b=this.current;var c=b.index,k=b.opts.caption,h=this.$refs.container,l=this.$refs.caption;b.$slide.trigger("refresh");this.$caption=k&&k.length?l.html(k):null;this.isHiddenControls||this.isIdle||this.showControls();h.find("[data-fancybox-count]").html(this.group.length);h.find("[data-fancybox-index]").html(c+
1);h.find("[data-fancybox-prev]").toggleClass("disabled",!b.opts.loop&&0>=c);h.find("[data-fancybox-next]").toggleClass("disabled",!b.opts.loop&&c>=this.group.length-1);"image"===b.type?h.find("[data-fancybox-zoom]").show().end().find("[data-fancybox-download]").attr("href",b.opts.image.src||b.src).show():b.opts.toolbar&&h.find("[data-fancybox-download],[data-fancybox-zoom]").hide()},hideControls:function(){this.isHiddenControls=!0;this.$refs.container.removeClass("fancybox-show-infobar fancybox-show-toolbar fancybox-show-caption fancybox-show-nav")},
showControls:function(){var b=this.current?this.current.opts:this.opts,c=this.$refs.container;this.isHiddenControls=!1;this.idleSecondsCounter=0;c.toggleClass("fancybox-show-toolbar",!(!b.toolbar||!b.buttons)).toggleClass("fancybox-show-infobar",!!(b.infobar&&1<this.group.length)).toggleClass("fancybox-show-nav",!!(b.arrows&&1<this.group.length)).toggleClass("fancybox-is-modal",!!b.modal);this.$caption?c.addClass("fancybox-show-caption "):c.removeClass("fancybox-show-caption")},toggleControls:function(){this.isHiddenControls?
this.showControls():this.hideControls()}});h.fancybox={version:"3.3.5",defaults:u,getInstance:function(b){var c=h('.fancybox-container:not(".fancybox-is-closing"):last').data("FancyBox"),k=Array.prototype.slice.call(arguments,1);return c instanceof z&&("string"===h.type(b)?c[b].apply(c,k):"function"===h.type(b)&&b.apply(c,k),c)},open:function(b,c,k){return new z(b,c,k)},close:function(b){var c=this.getInstance();c&&(c.close(),!0===b&&this.close())},destroy:function(){this.close(!0);x.add("body").off("click.fb-start",
"**")},isMobile:c.createTouch!==l&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),use3d:function(){var k=c.createElement("div");return b.getComputedStyle&&b.getComputedStyle(k)&&b.getComputedStyle(k).getPropertyValue("transform")&&!(c.documentMode&&11>c.documentMode)}(),getTranslate:function(b){var c;return!(!b||!b.length)&&(c=b[0].getBoundingClientRect(),{top:c.top||0,left:c.left||0,width:c.width,height:c.height,opacity:parseFloat(b.css("opacity"))})},
setTranslate:function(b,c){var k="",h={};if(b&&c)return c.left===l&&c.top===l||(k=(c.left===l?b.position().left:c.left)+"px, "+(c.top===l?b.position().top:c.top)+"px",k=this.use3d?"translate3d("+k+", 0px)":"translate("+k+")"),c.scaleX!==l&&c.scaleY!==l&&(k=(k.length?k+" ":"")+"scale("+c.scaleX+", "+c.scaleY+")"),k.length&&(h.transform=k),c.opacity!==l&&(h.opacity=c.opacity),c.width!==l&&(h.width=c.width),c.height!==l&&(h.height=c.height),b.css(h)},animate:function(b,c,k,p,m){var v=!1;h.isFunction(k)&&
(p=k,k=null);h.isPlainObject(c)||b.removeAttr("style");h.fancybox.stop(b);b.on(r,function(k){(!k||!k.originalEvent||b.is(k.originalEvent.target)&&"z-index"!=k.originalEvent.propertyName)&&(h.fancybox.stop(b),v&&h.fancybox.setTranslate(b,v),h.isPlainObject(c)?!1===m&&b.removeAttr("style"):!0!==m&&b.removeClass(c),h.isFunction(p)&&p(k))});h.isNumeric(k)&&b.css("transition-duration",k+"ms");h.isPlainObject(c)?(c.scaleX!==l&&c.scaleY!==l&&(v=h.extend({},c,{width:b.width()*c.scaleX,height:b.height()*c.scaleY,
scaleX:1,scaleY:1}),delete c.width,delete c.height,b.parent().hasClass("fancybox-slide--image")&&b.parent().addClass("fancybox-is-scaling")),h.fancybox.setTranslate(b,c)):b.addClass(c);b.data("timer",setTimeout(function(){b.trigger("transitionend")},k+16))},stop:function(b){b&&b.length&&(clearTimeout(b.data("timer")),b.off("transitionend").css("transition-duration",""),b.parent().removeClass("fancybox-is-scaling"))}};h.fn.fancybox=function(b){var c;return b=b||{},c=b.selector||!1,c?h("body").off("click.fb-start",
c).on("click.fb-start",c,{options:b},m):this.off("click.fb-start").on("click.fb-start",{items:this,options:b},m),this};x.on("click.fb-start","[data-fancybox]",m);x.on("click.fb-start","[data-trigger]",function(b){m(b,{$target:h('[data-fancybox\x3d"'+h(b.currentTarget).attr("data-trigger")+'"]').eq(h(b.currentTarget).attr("data-index")||0),$trigger:h(this)})})}}(window,document,window.jQuery||jQuery);
(function(b){var c=function(c,h,u){if(c)return u=u||"","object"===b.type(u)&&(u=b.param(u,!0)),b.each(h,function(b,h){c=c.replace("$"+b,h||"")}),u.length&&(c+=(0<c.indexOf("?")?"\x26":"?")+u),c},h={youtube:{matcher:/(youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(watch\?(.*&)?v=|v\/|u\/|embed\/?)?(videoseries\?list=(.*)|[\w-]{11}|\?listType=(.*)&list=(.*))(.*)/i,params:{autoplay:1,autohide:1,fs:1,rel:0,hd:1,wmode:"transparent",enablejsapi:1,html5:1},paramPlace:8,type:"iframe",url:"//www.youtube.com/embed/$4",
thumb:"//img.youtube.com/vi/$4/hqdefault.jpg"},vimeo:{matcher:/^.+vimeo.com\/(.*\/)?([\d]+)(.*)?/,params:{autoplay:1,hd:1,show_title:1,show_byline:1,show_portrait:0,fullscreen:1,api:1},paramPlace:3,type:"iframe",url:"//player.vimeo.com/video/$2"},instagram:{matcher:/(instagr\.am|instagram\.com)\/p\/([a-zA-Z0-9_\-]+)\/?/i,type:"image",url:"//$1/p/$2/media/?size\x3dl"},gmap_place:{matcher:/(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(((maps\/(place\/(.*)\/)?\@(.*),(\d+.?\d+?)z))|(\?ll=))(.*)?/i,type:"iframe",
url:function(b){return"//maps.google."+b[2]+"/?ll\x3d"+(b[9]?b[9]+"\x26z\x3d"+Math.floor(b[10])+(b[12]?b[12].replace(/^\//,"\x26"):""):b[12]+"").replace(/\?/,"\x26")+"\x26output\x3d"+(b[12]&&0<b[12].indexOf("layer\x3dc")?"svembed":"embed")}},gmap_search:{matcher:/(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(maps\/search\/)(.*)/i,type:"iframe",url:function(b){return"//maps.google."+b[2]+"/maps?q\x3d"+b[5].replace("query\x3d","q\x3d").replace("api\x3d1","")+"\x26output\x3dembed"}}};b(document).on("objectNeedsType.fb",
function(l,m,u){var q,x,k,p,r,w,v=u.src||"",z=!1;l=b.extend(!0,{},h,u.opts.media);b.each(l,function(h,l){if(x=v.match(l.matcher)){if(z=l.type,w=h,r={},l.paramPlace&&x[l.paramPlace]){p=x[l.paramPlace];"?"==p[0]&&(p=p.substring(1));p=p.split("\x26");for(var m=0;m<p.length;++m){var y=p[m].split("\x3d",2);2==y.length&&(r[y[0]]=decodeURIComponent(y[1].replace(/\+/g," ")))}}return k=b.extend(!0,{},l.params,u.opts[h],r),v="function"===b.type(l.url)?l.url.call(this,x,k,u):c(l.url,x,k),q="function"===b.type(l.thumb)?
l.thumb.call(this,x,k,u):c(l.thumb,x),"youtube"===h?v=v.replace(/&t=((\d+)m)?(\d+)s/,function(b,c,k,h){return"\x26start\x3d"+((k?60*parseInt(k,10):0)+parseInt(h,10))}):"vimeo"===h&&(v=v.replace("\x26%23","#")),!1}});z?(u.opts.thumb||u.opts.$thumb&&u.opts.$thumb.length||(u.opts.thumb=q),"iframe"===z&&(u.opts=b.extend(!0,u.opts,{iframe:{preload:!1,attr:{scrolling:"no"}}})),b.extend(u,{type:z,src:v,origSrc:u.src,contentSource:w,contentType:"image"===z?"image":"gmap_place"==w||"gmap_search"==w?"map":
"video"})):v&&(u.type=u.opts.defaultType)})})(window.jQuery||jQuery);
(function(b,c,h){var l=function(){return b.requestAnimationFrame||b.webkitRequestAnimationFrame||b.mozRequestAnimationFrame||b.oRequestAnimationFrame||function(c){return b.setTimeout(c,1E3/60)}}(),m=function(){return b.cancelAnimationFrame||b.webkitCancelAnimationFrame||b.mozCancelAnimationFrame||b.oCancelAnimationFrame||function(c){b.clearTimeout(c)}}(),u=function(c){var k=[];c=c.originalEvent||c||b.e;c=c.touches&&c.touches.length?c.touches:c.changedTouches&&c.changedTouches.length?c.changedTouches:
[c];for(var h in c)c[h].pageX?k.push({x:c[h].pageX,y:c[h].pageY}):c[h].clientX&&k.push({x:c[h].clientX,y:c[h].clientY});return k},q=function(b,c,k){return c&&b?"x"===k?b.x-c.x:"y"===k?b.y-c.y:Math.sqrt(Math.pow(b.x-c.x,2)+Math.pow(b.y-c.y,2)):0},x=function(b){if(b.is('a,area,button,[role\x3d"button"],input,label,select,summary,textarea,video,audio')||h.isFunction(b.get(0).onclick)||b.data("selectable"))return!0;var c=0;b=b[0].attributes;for(var k=b.length;c<k;c++)if("data-fancybox-"===b[c].nodeName.substr(0,
14))return!0;return!1},k=function(c){for(var k;;){k=c.get(0);var h=b.getComputedStyle(k)["overflow-y"],l=b.getComputedStyle(k)["overflow-x"],l=("scroll"===l||"auto"===l)&&k.scrollWidth>k.clientWidth;if(k=("scroll"===h||"auto"===h)&&k.scrollHeight>k.clientHeight||l)break;if(c=c.parent(),!c.length||c.hasClass("fancybox-stage")||c.is("body"))break}return k},p=function(b){this.instance=b;this.$bg=b.$refs.bg;this.$stage=b.$refs.stage;this.$container=b.$refs.container;this.destroy();this.$container.on("touchstart.fb.touch mousedown.fb.touch",
h.proxy(this,"ontouchstart"))};p.prototype.destroy=function(){this.$container.off(".fb.touch")};p.prototype.ontouchstart=function(l){var p=h(l.target),m=this.instance,z=m.current,n=z.$content,E="touchstart"==l.type;if(E&&this.$container.off("mousedown.fb.touch"),!(l.originalEvent&&2==l.originalEvent.button||!p.length||x(p)||x(p.parent())||!p.is("img")&&l.originalEvent.clientX>p[0].clientWidth+p.offset().left)){if(!z||m.isAnimating||m.isClosing)return l.stopPropagation(),void l.preventDefault();if(this.realPoints=
this.startPoints=u(l),this.startPoints.length){if(l.stopPropagation(),this.startEvent=l,this.canTap=!0,this.$target=p,this.$content=n,this.opts=z.opts.touch,this.isPanning=!1,this.isSwiping=!1,this.isZooming=!1,this.isScrolling=!1,this.startTime=(new Date).getTime(),this.distanceX=this.distanceY=this.distance=0,this.canvasWidth=Math.round(z.$slide[0].clientWidth),this.canvasHeight=Math.round(z.$slide[0].clientHeight),this.contentLastPos=null,this.contentStartPos=h.fancybox.getTranslate(this.$content)||
{top:0,left:0},this.sliderStartPos=this.sliderLastPos||h.fancybox.getTranslate(z.$slide),this.stagePos=h.fancybox.getTranslate(m.$refs.stage),this.sliderStartPos.top-=this.stagePos.top,this.sliderStartPos.left-=this.stagePos.left,this.contentStartPos.top-=this.stagePos.top,this.contentStartPos.left-=this.stagePos.left,h(c).off(".fb.touch").on(E?"touchend.fb.touch touchcancel.fb.touch":"mouseup.fb.touch mouseleave.fb.touch",h.proxy(this,"ontouchend")).on(E?"touchmove.fb.touch":"mousemove.fb.touch",
h.proxy(this,"ontouchmove")),h.fancybox.isMobile&&c.addEventListener("scroll",this.onscroll,!0),!this.opts&&!m.canPan()||!p.is(this.$stage)&&!this.$stage.find(p).length)return void(p.is(".fancybox-image")&&l.preventDefault());h.fancybox.isMobile&&(k(p)||k(p.parent()))||l.preventDefault();(1===this.startPoints.length||z.hasError)&&(this.instance.canPan()?(h.fancybox.stop(this.$content),this.$content.css("transition-duration",""),this.isPanning=!0):this.isSwiping=!0,this.$container.addClass("fancybox-controls--isGrabbing"));
2===this.startPoints.length&&"image"===z.type&&(z.isLoaded||z.$ghost)&&(this.canTap=!1,this.isSwiping=!1,this.isPanning=!1,this.isZooming=!0,h.fancybox.stop(this.$content),this.$content.css("transition-duration",""),this.centerPointStartX=.5*(this.startPoints[0].x+this.startPoints[1].x)-h(b).scrollLeft(),this.centerPointStartY=.5*(this.startPoints[0].y+this.startPoints[1].y)-h(b).scrollTop(),this.percentageOfImageAtPinchPointX=(this.centerPointStartX-this.contentStartPos.left)/this.contentStartPos.width,
this.percentageOfImageAtPinchPointY=(this.centerPointStartY-this.contentStartPos.top)/this.contentStartPos.height,this.startDistanceBetweenFingers=q(this.startPoints[0],this.startPoints[1]))}}};p.prototype.onscroll=function(b){this.isScrolling=!0;c.removeEventListener("scroll",this.onscroll,!0)};p.prototype.ontouchmove=function(b){var c=h(b.target);return void 0!==b.originalEvent.buttons&&0===b.originalEvent.buttons?void this.ontouchend(b):this.isScrolling||!c.is(this.$stage)&&!this.$stage.find(c).length?
void(this.canTap=!1):(this.newPoints=u(b),void((this.opts||this.instance.canPan())&&this.newPoints.length&&this.newPoints.length&&(this.isSwiping&&!0===this.isSwiping||b.preventDefault(),this.distanceX=q(this.newPoints[0],this.startPoints[0],"x"),this.distanceY=q(this.newPoints[0],this.startPoints[0],"y"),this.distance=q(this.newPoints[0],this.startPoints[0]),0<this.distance&&(this.isSwiping?this.onSwipe(b):this.isPanning?this.onPan():this.isZooming&&this.onZoom()))))};p.prototype.onSwipe=function(c){var p,
v=this;c=v.isSwiping;var q=v.sliderStartPos.left||0;if(!0!==c)"x"==c&&(0<v.distanceX&&(2>v.instance.group.length||0===v.instance.current.index&&!v.instance.current.opts.loop)?q+=Math.pow(v.distanceX,.8):0>v.distanceX&&(2>v.instance.group.length||v.instance.current.index===v.instance.group.length-1&&!v.instance.current.opts.loop)?q-=Math.pow(-v.distanceX,.8):q+=v.distanceX),v.sliderLastPos={top:"x"==c?0:v.sliderStartPos.top+v.distanceY,left:q},v.requestId&&(m(v.requestId),v.requestId=null),v.requestId=
l(function(){v.sliderLastPos&&(h.each(v.instance.slides,function(b,c){b=c.pos-v.instance.currPos;h.fancybox.setTranslate(c.$slide,{top:v.sliderLastPos.top,left:v.sliderLastPos.left+b*v.canvasWidth+b*c.opts.gutter})}),v.$container.addClass("fancybox-is-sliding"))});else if(10<Math.abs(v.distance)){if(v.canTap=!1,2>v.instance.group.length&&v.opts.vertical?v.isSwiping="y":v.instance.isDragging||!1===v.opts.vertical||"auto"===v.opts.vertical&&800<h(b).width()?v.isSwiping="x":(p=Math.abs(180*Math.atan2(v.distanceY,
v.distanceX)/Math.PI),v.isSwiping=45<p&&135>p?"y":"x"),v.canTap=!1,"y"===v.isSwiping&&h.fancybox.isMobile&&(k(v.$target)||k(v.$target.parent())))return void(v.isScrolling=!0);v.instance.isDragging=v.isSwiping;v.startPoints=v.newPoints;h.each(v.instance.slides,function(b,c){h.fancybox.stop(c.$slide);c.$slide.css("transition-duration","");c.inTransition=!1;c.pos===v.instance.current.pos&&(v.sliderStartPos.left=h.fancybox.getTranslate(c.$slide).left-h.fancybox.getTranslate(v.instance.$refs.stage).left)});
v.instance.SlideShow&&v.instance.SlideShow.isActive&&v.instance.SlideShow.stop()}};p.prototype.onPan=function(){var b=this;return q(b.newPoints[0],b.realPoints[0])<(h.fancybox.isMobile?10:5)?void(b.startPoints=b.newPoints):(b.canTap=!1,b.contentLastPos=b.limitMovement(),b.requestId&&(m(b.requestId),b.requestId=null),void(b.requestId=l(function(){h.fancybox.setTranslate(b.$content,b.contentLastPos)})))};p.prototype.limitMovement=function(){var b,c,k,h,l,p,m=this.canvasWidth,q=this.canvasHeight,u=this.distanceX,
x=this.distanceY,C=this.contentStartPos,I=C.left,J=C.top,G=C.width,C=C.height;return l=G>m?I+u:I,p=J+x,b=Math.max(0,.5*m-.5*G),c=Math.max(0,.5*q-.5*C),k=Math.min(m-G,.5*m-.5*G),h=Math.min(q-C,.5*q-.5*C),0<u&&l>b&&(l=b-1+Math.pow(-b+I+u,.8)||0),0>u&&l<k&&(l=k+1-Math.pow(k-I-u,.8)||0),0<x&&p>c&&(p=c-1+Math.pow(-c+J+x,.8)||0),0>x&&p<h&&(p=h+1-Math.pow(h-J-x,.8)||0),{top:p,left:l}};p.prototype.limitPosition=function(b,c,k,h){var l=this.canvasWidth,p=this.canvasHeight;return k>l?(b=0<b?0:b,b=b<l-k?l-k:
b):b=Math.max(0,l/2-k/2),h>p?(c=0<c?0:c,c=c<p-h?p-h:c):c=Math.max(0,p/2-h/2),{top:c,left:b}};p.prototype.onZoom=function(){var c=this,k=c.contentStartPos,p=k.width,z=k.height,n=k.left,u=k.top,D=q(c.newPoints[0],c.newPoints[1])/c.startDistanceBetweenFingers,k=Math.floor(p*D),y=Math.floor(z*D),p=(p-k)*c.percentageOfImageAtPinchPointX,z=(z-y)*c.percentageOfImageAtPinchPointY,x=(c.newPoints[0].x+c.newPoints[1].x)/2-h(b).scrollLeft(),F=(c.newPoints[0].y+c.newPoints[1].y)/2-h(b).scrollTop(),n={top:u+(z+
(F-c.centerPointStartY)),left:n+(p+(x-c.centerPointStartX)),scaleX:D,scaleY:D};c.canTap=!1;c.newWidth=k;c.newHeight=y;c.contentLastPos=n;c.requestId&&(m(c.requestId),c.requestId=null);c.requestId=l(function(){h.fancybox.setTranslate(c.$content,c.contentLastPos)})};p.prototype.ontouchend=function(b){var k=Math.max((new Date).getTime()-this.startTime,1),l=this.isSwiping,p=this.isPanning,n=this.isZooming,q=this.isScrolling;return this.endPoints=u(b),this.$container.removeClass("fancybox-controls--isGrabbing"),
h(c).off(".fb.touch"),c.removeEventListener("scroll",this.onscroll,!0),this.requestId&&(m(this.requestId),this.requestId=null),this.isSwiping=!1,this.isPanning=!1,this.isZooming=!1,this.isScrolling=!1,this.instance.isDragging=!1,this.canTap?this.onTap(b):(this.speed=366,this.velocityX=this.distanceX/k*.5,this.velocityY=this.distanceY/k*.5,this.speedX=Math.max(.5*this.speed,Math.min(1.5*this.speed,1/Math.abs(this.velocityX)*this.speed)),void(p?this.endPanning():n?this.endZooming():this.endSwiping(l,
q)))};p.prototype.endSwiping=function(b,c){var k=!1,l=this.instance.group.length;this.sliderLastPos=null;"y"==b&&!c&&50<Math.abs(this.distanceY)?(h.fancybox.animate(this.instance.current.$slide,{top:this.sliderStartPos.top+this.distanceY+150*this.velocityY,opacity:0},200),k=this.instance.close(!0,200)):"x"==b&&50<this.distanceX&&1<l?k=this.instance.previous(this.speedX):"x"==b&&-50>this.distanceX&&1<l&&(k=this.instance.next(this.speedX));!1!==k||"x"!=b&&"y"!=b||(c||2>l?this.instance.centerSlide(this.instance.current,
150):this.instance.jumpTo(this.instance.current.index));this.$container.removeClass("fancybox-is-sliding")};p.prototype.endPanning=function(){var b,c,k;this.contentLastPos&&(!1===this.opts.momentum?(b=this.contentLastPos.left,c=this.contentLastPos.top):(b=this.contentLastPos.left+this.velocityX*this.speed,c=this.contentLastPos.top+this.velocityY*this.speed),k=this.limitPosition(b,c,this.contentStartPos.width,this.contentStartPos.height),k.width=this.contentStartPos.width,k.height=this.contentStartPos.height,
h.fancybox.animate(this.$content,k,330))};p.prototype.endZooming=function(){var b,c,k,l,n=this.instance.current,p=this.newWidth,m=this.newHeight;this.contentLastPos&&(b=this.contentLastPos.left,c=this.contentLastPos.top,l={top:c,left:b,width:p,height:m,scaleX:1,scaleY:1},h.fancybox.setTranslate(this.$content,l),p<this.canvasWidth&&m<this.canvasHeight?this.instance.scaleToFit(150):p>n.width||m>n.height?this.instance.scaleToActual(this.centerPointStartX,this.centerPointStartY,150):(k=this.limitPosition(b,
c,p,m),h.fancybox.setTranslate(this.$content,h.fancybox.getTranslate(this.$content)),h.fancybox.animate(this.$content,k,150)))};p.prototype.onTap=function(c){var k,l=this,p=h(c.target),n=l.instance,m=n.current,q=c&&u(c)||l.startPoints,y=q[0]?q[0].x-h(b).scrollLeft()-l.stagePos.left:0,x=q[0]?q[0].y-h(b).scrollTop()-l.stagePos.top:0,F=function(b){b=m.opts[b];if(h.isFunction(b)&&(b=b.apply(n,[m,c])),b)switch(b){case "close":n.close(l.startEvent);break;case "toggleControls":n.toggleControls(!0);break;
case "next":n.next();break;case "nextOrClose":1<n.group.length?n.next():n.close(l.startEvent);break;case "zoom":"image"==m.type&&(m.isLoaded||m.$ghost)&&(n.canPan()?n.scaleToFit():n.isScaledDown()?n.scaleToActual(y,x):2>n.group.length&&n.close(l.startEvent))}};if(!(c.originalEvent&&2==c.originalEvent.button||!p.is("img")&&y>p[0].clientWidth+p.offset().left)){if(p.is(".fancybox-bg,.fancybox-inner,.fancybox-outer,.fancybox-container"))k="Outside";else if(p.is(".fancybox-slide"))k="Slide";else{if(!n.current.$content||
!n.current.$content.find(p).addBack().filter(p).length)return;k="Content"}if(l.tapped){if(clearTimeout(l.tapped),l.tapped=null,50<Math.abs(y-l.tapX)||50<Math.abs(x-l.tapY))return this;F("dblclick"+k)}else l.tapX=y,l.tapY=x,m.opts["dblclick"+k]&&m.opts["dblclick"+k]!==m.opts["click"+k]?l.tapped=setTimeout(function(){l.tapped=null;F("click"+k)},500):F("click"+k);return this}};h(c).on("onActivate.fb",function(b,c){c&&!c.Guestures&&(c.Guestures=new p(c))})})(window,document,window.jQuery||jQuery);
(function(b,c){c.extend(!0,c.fancybox.defaults,{btnTpl:{slideShow:'\x3cbutton data-fancybox-play class\x3d"fancybox-button fancybox-button--play" title\x3d"{{PLAY_START}}"\x3e\x3csvg viewBox\x3d"0 0 40 40"\x3e\x3cpath d\x3d"M13,12 L27,20 L13,27 Z" /\x3e\x3cpath d\x3d"M15,10 v19 M23,10 v19" /\x3e\x3c/svg\x3e\x3c/button\x3e'},slideShow:{autoStart:!1,speed:3E3}});var h=function(b){this.instance=b;this.init()};c.extend(h.prototype,{timer:null,isActive:!1,$button:null,init:function(){var b=this;b.$button=
b.instance.$refs.toolbar.find("[data-fancybox-play]").on("click",function(){b.toggle()});(2>b.instance.group.length||!b.instance.group[b.instance.currIndex].opts.slideShow)&&b.$button.hide()},set:function(b){var c=this;c.instance&&c.instance.current&&(!0===b||c.instance.current.opts.loop||c.instance.currIndex<c.instance.group.length-1)?c.timer=setTimeout(function(){c.isActive&&c.instance.jumpTo((c.instance.currIndex+1)%c.instance.group.length)},c.instance.current.opts.slideShow.speed):(c.stop(),c.instance.idleSecondsCounter=
0,c.instance.showControls())},clear:function(){clearTimeout(this.timer);this.timer=null},start:function(){var b=this.instance.current;b&&(this.isActive=!0,this.$button.attr("title",b.opts.i18n[b.opts.lang].PLAY_STOP).removeClass("fancybox-button--play").addClass("fancybox-button--pause"),this.set(!0))},stop:function(){var b=this.instance.current;this.clear();this.$button.attr("title",b.opts.i18n[b.opts.lang].PLAY_START).removeClass("fancybox-button--pause").addClass("fancybox-button--play");this.isActive=
!1},toggle:function(){this.isActive?this.stop():this.start()}});c(b).on({"onInit.fb":function(b,c){c&&!c.SlideShow&&(c.SlideShow=new h(c))},"beforeShow.fb":function(b,c,h,q){b=c&&c.SlideShow;q?b&&h.opts.slideShow.autoStart&&b.start():b&&b.isActive&&b.clear()},"afterShow.fb":function(b,c,h){(b=c&&c.SlideShow)&&b.isActive&&b.set()},"afterKeydown.fb":function(h,m,u,q,x){h=m&&m.SlideShow;!h||!u.opts.slideShow||80!==x&&32!==x||c(b.activeElement).is("button,a,input")||(q.preventDefault(),h.toggle())},"beforeClose.fb onDeactivate.fb":function(b,
c){(b=c&&c.SlideShow)&&b.stop()}});c(b).on("visibilitychange",function(){var h=c.fancybox.getInstance();(h=h&&h.SlideShow)&&h.isActive&&(b.hidden?h.clear():h.set())})})(document,window.jQuery||jQuery);
(function(b,c){var h=function(){for(var c=["requestFullscreen exitFullscreen fullscreenElement fullscreenEnabled fullscreenchange fullscreenerror".split(" "),"webkitRequestFullscreen webkitExitFullscreen webkitFullscreenElement webkitFullscreenEnabled webkitfullscreenchange webkitfullscreenerror".split(" "),"webkitRequestFullScreen webkitCancelFullScreen webkitCurrentFullScreenElement webkitCancelFullScreen webkitfullscreenchange webkitfullscreenerror".split(" "),"mozRequestFullScreen mozCancelFullScreen mozFullScreenElement mozFullScreenEnabled mozfullscreenchange mozfullscreenerror".split(" "),
"msRequestFullscreen msExitFullscreen msFullscreenElement msFullscreenEnabled MSFullscreenChange MSFullscreenError".split(" ")],h={},l=0;l<c.length;l++){var x=c[l];if(x&&x[1]in b){for(l=0;l<x.length;l++)h[c[0][l]]=x[l];return h}}return!1}();if(!h)return void(c&&c.fancybox&&(c.fancybox.defaults.btnTpl.fullScreen=!1));var l={request:function(c){c=c||b.documentElement;c[h.requestFullscreen](c.ALLOW_KEYBOARD_INPUT)},exit:function(){b[h.exitFullscreen]()},toggle:function(c){c=c||b.documentElement;this.isFullscreen()?
this.exit():this.request(c)},isFullscreen:function(){return!!b[h.fullscreenElement]},enabled:function(){return!!b[h.fullscreenEnabled]}};c.extend(!0,c.fancybox.defaults,{btnTpl:{fullScreen:'\x3cbutton data-fancybox-fullscreen class\x3d"fancybox-button fancybox-button--fullscreen" title\x3d"{{FULL_SCREEN}}"\x3e\x3csvg viewBox\x3d"0 0 40 40"\x3e\x3cpath d\x3d"M9,12 v16 h22 v-16 h-22 v8" /\x3e\x3c/svg\x3e\x3c/button\x3e'},fullScreen:{autoStart:!1}});c(b).on({"onInit.fb":function(b,c){var h;c&&c.group[c.currIndex].opts.fullScreen?
(h=c.$refs.container,h.on("click.fb-fullscreen","[data-fancybox-fullscreen]",function(b){b.stopPropagation();b.preventDefault();l.toggle()}),c.opts.fullScreen&&!0===c.opts.fullScreen.autoStart&&l.request(),c.FullScreen=l):c&&c.$refs.toolbar.find("[data-fancybox-fullscreen]").hide()},"afterKeydown.fb":function(b,c,h,l,k){c&&c.FullScreen&&70===k&&(l.preventDefault(),c.FullScreen.toggle())},"beforeClose.fb":function(b,c){c&&c.FullScreen&&c.$refs.container.hasClass("fancybox-is-fullscreen")&&l.exit()}});
c(b).on(h.fullscreenchange,function(){var b=l.isFullscreen(),h=c.fancybox.getInstance();h&&(h.current&&"image"===h.current.type&&h.isAnimating&&(h.current.$content.css("transition","none"),h.isAnimating=!1,h.update(!0,!0,0)),h.trigger("onFullscreenChange",b),h.$refs.container.toggleClass("fancybox-is-fullscreen",b))})})(document,window.jQuery||jQuery);
(function(b,c){c.fancybox.defaults=c.extend(!0,{btnTpl:{thumbs:'\x3cbutton data-fancybox-thumbs class\x3d"fancybox-button fancybox-button--thumbs" title\x3d"{{THUMBS}}"\x3e\x3csvg viewBox\x3d"0 0 120 120"\x3e\x3cpath d\x3d"M30,30 h14 v14 h-14 Z M50,30 h14 v14 h-14 Z M70,30 h14 v14 h-14 Z M30,50 h14 v14 h-14 Z M50,50 h14 v14 h-14 Z M70,50 h14 v14 h-14 Z M30,70 h14 v14 h-14 Z M50,70 h14 v14 h-14 Z M70,70 h14 v14 h-14 Z" /\x3e\x3c/svg\x3e\x3c/button\x3e'},thumbs:{autoStart:!1,hideOnClose:!0,parentEl:".fancybox-container",
axis:"y"}},c.fancybox.defaults);var h=function(b){this.init(b)};c.extend(h.prototype,{$button:null,$grid:null,$list:null,isVisible:!1,isActive:!1,init:function(b){var c,h,q=this;q.instance=b;b.Thumbs=q;q.opts=b.group[b.currIndex].opts.thumbs;c=b.group[0];c=c.opts.thumb||!(!c.opts.$thumb||!c.opts.$thumb.length)&&c.opts.$thumb.attr("src");1<b.group.length&&(h=b.group[1],h=h.opts.thumb||!(!h.opts.$thumb||!h.opts.$thumb.length)&&h.opts.$thumb.attr("src"));q.$button=b.$refs.toolbar.find("[data-fancybox-thumbs]");
q.opts&&c&&h&&c&&h?(q.$button.show().on("click",function(){q.toggle()}),q.isActive=!0):q.$button.hide()},create:function(){var b,h=this.instance,u=this.opts.parentEl,q=[];this.$grid||(this.$grid=c('\x3cdiv class\x3d"fancybox-thumbs fancybox-thumbs-'+this.opts.axis+'"\x3e\x3c/div\x3e').appendTo(h.$refs.container.find(u).addBack().filter(u)),this.$grid.on("click","li",function(){h.jumpTo(c(this).attr("data-index"))}));this.$list||(this.$list=c("\x3cul\x3e").appendTo(this.$grid));c.each(h.group,function(c,
k){(b=k.opts.thumb||(k.opts.$thumb?k.opts.$thumb.attr("src"):null))||"image"!==k.type||(b=k.src);q.push('\x3cli data-index\x3d"'+c+'" tabindex\x3d"0" class\x3d"fancybox-thumbs-loading"'+(b&&b.length?' style\x3d"background-image:url('+b+')" /\x3e':"")+"\x3e\x3c/li\x3e")});this.$list[0].innerHTML=q.join("");"x"===this.opts.axis&&this.$list.width(parseInt(this.$grid.css("padding-right"),10)+h.group.length*this.$list.children().eq(0).outerWidth(!0))},focus:function(b){var c,h,q=this.$list,x=this.$grid;
this.instance.current&&(c=q.children().removeClass("fancybox-thumbs-active").filter('[data-index\x3d"'+this.instance.current.index+'"]').addClass("fancybox-thumbs-active"),h=c.position(),"y"===this.opts.axis&&(0>h.top||h.top>q.height()-c.outerHeight())?q.stop().animate({scrollTop:q.scrollTop()+h.top},b):"x"===this.opts.axis&&(h.left<x.scrollLeft()||h.left>x.scrollLeft()+(x.width()-c.outerWidth()))&&q.parent().stop().animate({scrollLeft:h.left},b))},update:function(){this.instance.$refs.container.toggleClass("fancybox-show-thumbs",
this.isVisible);this.isVisible?(this.$grid||this.create(),this.instance.trigger("onThumbsShow"),this.focus(0)):this.$grid&&this.instance.trigger("onThumbsHide");this.instance.update()},hide:function(){this.isVisible=!1;this.update()},show:function(){this.isVisible=!0;this.update()},toggle:function(){this.isVisible=!this.isVisible;this.update()}});c(b).on({"onInit.fb":function(b,c){var u;c&&!c.Thumbs&&(u=new h(c),u.isActive&&!0===u.opts.autoStart&&u.show())},"beforeShow.fb":function(b,c,h,q){(b=c&&
c.Thumbs)&&b.isVisible&&b.focus(q?0:250)},"afterKeydown.fb":function(b,c,h,q,x){(b=c&&c.Thumbs)&&b.isActive&&71===x&&(q.preventDefault(),b.toggle())},"beforeClose.fb":function(b,c){(b=c&&c.Thumbs)&&b.isVisible&&!1!==b.opts.hideOnClose&&b.$grid.hide()}})})(document,window.jQuery||jQuery);
(function(b,c){function h(b){var c={"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#39;","/":"\x26#x2F;","`":"\x26#x60;","\x3d":"\x26#x3D;"};return String(b).replace(/[&<>"'`=\/]/g,function(b){return c[b]})}c.extend(!0,c.fancybox.defaults,{btnTpl:{share:'\x3cbutton data-fancybox-share class\x3d"fancybox-button fancybox-button--share" title\x3d"{{SHARE}}"\x3e\x3csvg viewBox\x3d"0 0 40 40"\x3e\x3cpath d\x3d"M6,30 C8,18 19,16 23,16 L23,16 L23,10 L33,20 L23,29 L23,24 C19,24 8,27 6,30 Z"\x3e\x3c/svg\x3e\x3c/button\x3e'},
share:{url:function(b,c){return!b.currentHash&&"inline"!==c.type&&"html"!==c.type&&(c.origSrc||c.src)||window.location},tpl:'\x3cdiv class\x3d"fancybox-share"\x3e\x3ch1\x3e{{SHARE}}\x3c/h1\x3e\x3cp\x3e\x3ca class\x3d"fancybox-share__button fancybox-share__button--fb" href\x3d"https://www.facebook.com/sharer/sharer.php?u\x3d{{url}}"\x3e\x3csvg viewBox\x3d"0 0 512 512" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath d\x3d"m287 456v-299c0-21 6-35 35-35h38v-63c-7-1-29-3-55-3-54 0-91 33-91 94v306m143-254h-205v72h196" /\x3e\x3c/svg\x3e\x3cspan\x3eFacebook\x3c/span\x3e\x3c/a\x3e\x3ca class\x3d"fancybox-share__button fancybox-share__button--tw" href\x3d"https://twitter.com/intent/tweet?url\x3d{{url}}\x26text\x3d{{descr}}"\x3e\x3csvg viewBox\x3d"0 0 512 512" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath d\x3d"m456 133c-14 7-31 11-47 13 17-10 30-27 37-46-15 10-34 16-52 20-61-62-157-7-141 75-68-3-129-35-169-85-22 37-11 86 26 109-13 0-26-4-37-9 0 39 28 72 65 80-12 3-25 4-37 2 10 33 41 57 77 57-42 30-77 38-122 34 170 111 378-32 359-208 16-11 30-25 41-42z" /\x3e\x3c/svg\x3e\x3cspan\x3eTwitter\x3c/span\x3e\x3c/a\x3e\x3ca class\x3d"fancybox-share__button fancybox-share__button--pt" href\x3d"https://www.pinterest.com/pin/create/button/?url\x3d{{url}}\x26description\x3d{{descr}}\x26media\x3d{{media}}"\x3e\x3csvg viewBox\x3d"0 0 512 512" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath d\x3d"m265 56c-109 0-164 78-164 144 0 39 15 74 47 87 5 2 10 0 12-5l4-19c2-6 1-8-3-13-9-11-15-25-15-45 0-58 43-110 113-110 62 0 96 38 96 88 0 67-30 122-73 122-24 0-42-19-36-44 6-29 20-60 20-81 0-19-10-35-31-35-25 0-44 26-44 60 0 21 7 36 7 36l-30 125c-8 37-1 83 0 87 0 3 4 4 5 2 2-3 32-39 42-75l16-64c8 16 31 29 56 29 74 0 124-67 124-157 0-69-58-132-146-132z" fill\x3d"#fff"/\x3e\x3c/svg\x3e\x3cspan\x3ePinterest\x3c/span\x3e\x3c/a\x3e\x3c/p\x3e\x3cp\x3e\x3cinput class\x3d"fancybox-share__input" type\x3d"text" value\x3d"{{url_raw}}" /\x3e\x3c/p\x3e\x3c/div\x3e'}});
c(b).on("click","[data-fancybox-share]",function(){var b,m,u=c.fancybox.getInstance(),q=u.current||null;q&&("function"===c.type(q.opts.share.url)&&(b=q.opts.share.url.apply(q,[u,q])),m=q.opts.share.tpl.replace(/\{\{media\}\}/g,"image"===q.type?encodeURIComponent(q.src):"").replace(/\{\{url\}\}/g,encodeURIComponent(b)).replace(/\{\{url_raw\}\}/g,h(b)).replace(/\{\{descr\}\}/g,u.$caption?encodeURIComponent(u.$caption.text()):""),c.fancybox.open({src:u.translate(u,m),type:"html",opts:{animationEffect:!1,
afterLoad:function(b,c){u.$refs.container.one("beforeClose.fb",function(){b.close(null,0)});c.$content.find(".fancybox-share__links a").click(function(){return window.open(this.href,"Share","width\x3d550, height\x3d450"),!1})}}}))})})(document,window.jQuery||jQuery);
(function(b,c,h){function l(){var b=c.location.hash.substr(1),h=b.split("-"),k=1<h.length&&/^\+?\d+$/.test(h[h.length-1])?parseInt(h.pop(-1),10)||1:1,h=h.join("-");return{hash:b,index:1>k?1:k,gallery:h}}function m(b){""!==b.gallery&&h("[data-fancybox\x3d'"+h.escapeSelector(b.gallery)+"']").eq(b.index-1).trigger("click.fb-start")}function u(b){var c,k;return!!b&&(c=b.current?b.current.opts:b.opts,k=c.hash||(c.$orig?c.$orig.data("fancybox"):""),""!==k&&k)}h.escapeSelector||(h.escapeSelector=function(b){return(b+
"").replace(/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,function(b,c){return c?"\x00"===b?"\ufffd":b.slice(0,-1)+"\\"+b.charCodeAt(b.length-1).toString(16)+" ":"\\"+b})});h(function(){!1!==h.fancybox.defaults.hash&&(h(b).on({"onInit.fb":function(b,c){var k,h;!1!==c.group[c.currIndex].opts.hash&&(k=l(),h=u(c),h&&k.gallery&&h==k.gallery&&(c.currIndex=k.index-1))},"beforeShow.fb":function(h,l,k,p){var r;k&&!1!==k.opts.hash&&(r=u(l),r&&(l.currentHash=r+(1<l.group.length?"-"+(k.index+1):""),c.location.hash!==
"#"+l.currentHash&&(l.origHash||(l.origHash=c.location.hash),l.hashTimer&&clearTimeout(l.hashTimer),l.hashTimer=setTimeout(function(){"replaceState"in c.history?(c.history[p?"pushState":"replaceState"]({},b.title,c.location.pathname+c.location.search+"#"+l.currentHash),p&&(l.hasCreatedHistory=!0)):c.location.hash=l.currentHash;l.hashTimer=null},300))))},"beforeClose.fb":function(h,l,k){!1!==k.opts.hash&&(u(l),l.currentHash&&l.hasCreatedHistory?c.history.back():l.currentHash&&("replaceState"in c.history?
c.history.replaceState({},b.title,c.location.pathname+c.location.search+(l.origHash||"")):c.location.hash=l.origHash),l.currentHash=null,clearTimeout(l.hashTimer))}}),h(c).on("hashchange.fb",function(){var b,c=l();h.each(h(".fancybox-container").get().reverse(),function(c,l){c=h(l).data("FancyBox");if(c.currentHash)return b=c,!1});b?!b.currentHash||b.currentHash===c.gallery+"-"+c.index||1===c.index&&b.currentHash==c.gallery||(b.currentHash=null,b.close()):""!==c.gallery&&m(c)}),setTimeout(function(){h.fancybox.getInstance()||
m(l())},50))})})(document,window,window.jQuery||jQuery);
(function(b,c){var h=(new Date).getTime();c(b).on({"onInit.fb":function(b,c,u){c.$refs.stage.on("mousewheel DOMMouseScroll wheel MozMousePixelScroll",function(b){var l=c.current,k=(new Date).getTime();2>c.group.length||!1===l.opts.wheel||"auto"===l.opts.wheel&&"image"!==l.type||(b.preventDefault(),b.stopPropagation(),l.$slide.hasClass("fancybox-animated")||(b=b.originalEvent||b,250>k-h||(h=k,c[0>(-b.deltaY||-b.deltaX||b.wheelDelta||-b.detail)?"next":"previous"]())))})}})})(document,window.jQuery||
jQuery);
!function(b,c){"function"==typeof define&&define.amd?define(["jquery"],function(b){return c(b)}):"object"==typeof exports?module.exports=c(require("jquery")):c(jQuery)}(this,function(b){function c(b){this.$container;this.constraints=null;this.__$tooltip;this.__init(b)}function h(c,h){var l=!0;return b.each(c,function(b,m){return void 0===h[b]||c[b]!==h[b]?(l=!1,!1):void 0}),l}function l(c){var h=c.attr("id");h&&q.window.document.getElementById(h);return b.contains(q.window.document.body,c[0])}var m=
{animation:"fade",animationDuration:350,content:null,contentAsHTML:!1,contentCloning:!1,debug:!0,delay:300,delayTouch:[300,500],functionInit:null,functionBefore:null,functionReady:null,functionAfter:null,functionFormat:null,IEmin:6,interactive:!1,multiple:!1,parent:null,plugins:["sideTip"],repositionOnScroll:!1,restoration:"none",selfDestruction:!0,theme:[],timer:0,trackerInterval:500,trackOrigin:!1,trackTooltip:!1,trigger:"hover",triggerClose:{click:!1,mouseleave:!1,originClick:!1,scroll:!1,tap:!1,
touchleave:!1},triggerOpen:{click:!1,mouseenter:!1,tap:!1,touchstart:!1},updateAnimation:"rotate",zIndex:9999999},u="undefined"!=typeof window?window:null,q={hasTouchCapability:!(!u||!("ontouchstart"in u||u.DocumentTouch&&u.document instanceof u.DocumentTouch||u.navigator.maxTouchPoints)),hasTransitions:function(){if(!u)return!1;var b=(u.document.body||u.document.documentElement).style,c="transition",h=["Moz","Webkit","Khtml","O","ms"];if("string"==typeof b[c])return!0;for(var c=c.charAt(0).toUpperCase()+
c.substr(1),l=0;l<h.length;l++)if("string"==typeof b[h[l]+c])return!0;return!1}(),IE:!1,semVer:"4.2.5",window:u},x=function(){this.__$emitterPrivate=b({});this.__$emitterPublic=b({});this.__instancesLatestArr=[];this.__plugins={};this._env=q};x.prototype={__bridge:function(c,h,l){if(!h[l]){var m=function(){};m.prototype=c;var v=new m;v.__init&&v.__init(h);b.each(c,function(b,c){0!=b.indexOf("__")&&(h[b]||(h[b]=function(){return v[b].apply(v,Array.prototype.slice.apply(arguments))},h[b].bridged=v))});
h[l]=v}return this},__setWindow:function(b){return q.window=b,this},_getRuler:function(b){return new c(b)},_off:function(){return this.__$emitterPrivate.off.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_on:function(){return this.__$emitterPrivate.on.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_one:function(){return this.__$emitterPrivate.one.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_plugin:function(c){if("string"==
typeof c){var h=null;return 0<c.indexOf(".")?h=this.__plugins[c]:b.each(this.__plugins,function(b,l){return l.name.substring(l.name.length-c.length-1)=="."+c?(h=l,!1):void 0}),h}if(0>c.name.indexOf("."))throw Error("Plugins must be namespaced");return this.__plugins[c.name]=c,c.core&&this.__bridge(c.core,this,c.name),this},_trigger:function(){var b=Array.prototype.slice.apply(arguments);return"string"==typeof b[0]&&(b[0]={type:b[0]}),this.__$emitterPrivate.trigger.apply(this.__$emitterPrivate,b),
this.__$emitterPublic.trigger.apply(this.__$emitterPublic,b),this},instances:function(c){var h=[];return b(c||".tooltipstered").each(function(){var c=b(this),k=c.data("tooltipster-ns");k&&b.each(k,function(b,k){h.push(c.data(k))})}),h},instancesLatest:function(){return this.__instancesLatestArr},off:function(){return this.__$emitterPublic.off.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},on:function(){return this.__$emitterPublic.on.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),
this},one:function(){return this.__$emitterPublic.one.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},origins:function(c){return b((c?c+" ":"")+".tooltipstered").toArray()},setDefaults:function(c){return b.extend(m,c),this},triggerHandler:function(){return this.__$emitterPublic.triggerHandler.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this}};b.tooltipster=new x;b.Tooltipster=function(c,h){this.__callbacks={close:[],open:[]};this.__closingTime;this.__Content;
this.__contentBcr;this.__destroyed=!1;this.__$emitterPrivate=b({});this.__$emitterPublic=b({});this.__enabled=!0;this.__garbageCollector;this.__Geometry;this.__lastPosition;this.__namespace="tooltipster-"+Math.round(1E6*Math.random());this.__options;this.__$originParents;this.__pointerIsOverOrigin=!1;this.__previousThemes=[];this.__state="closed";this.__timeouts={close:[],open:null};this.__touchEvents=[];this.__tracker=null;this._$origin;this._$tooltip;this.__init(c,h)};b.Tooltipster.prototype={__init:function(c,
h){var l=this;if(l._$origin=b(c),l.__options=b.extend(!0,{},m,h),l.__optionsFormat(),!q.IE||q.IE>=l.__options.IEmin){c=null;if(void 0===l._$origin.data("tooltipster-initialTitle")&&(c=l._$origin.attr("title"),void 0===c&&(c=null),l._$origin.data("tooltipster-initialTitle",c)),null!==l.__options.content)l.__contentSet(l.__options.content);else{var w;(h=l._$origin.attr("data-tooltip-content"))&&(w=b(h));w&&w[0]?l.__contentSet(w.first()):l.__contentSet(c)}l._$origin.removeAttr("title").addClass("tooltipstered");
l.__prepareOrigin();l.__prepareGC();b.each(l.__options.plugins,function(b,c){l._plug(c)});q.hasTouchCapability&&b(q.window.document.body).on("touchmove."+l.__namespace+"-triggerOpen",function(b){l._touchRecordEvent(b)});l._on("created",function(){l.__prepareTooltip()})._on("repositioned",function(b){l.__lastPosition=b.position})}else l.__options.disabled=!0},__contentInsert:function(){var b=this._$tooltip.find(".tooltipster-content"),c=this.__Content;return this._trigger({type:"format",content:this.__Content,
format:function(b){c=b}}),this.__options.functionFormat&&(c=this.__options.functionFormat.call(this,this,{origin:this._$origin[0]},this.__Content)),"string"!=typeof c||this.__options.contentAsHTML?b.empty().append(c):b.text(c),this},__contentSet:function(c){return c instanceof b&&this.__options.contentCloning&&(c=c.clone(!0)),this.__Content=c,this._trigger({type:"updated",content:c}),this},__destroyError:function(){throw Error("This tooltip has been destroyed and cannot execute your method call.");
},__geometry:function(){var c=this._$origin,h=this._$origin.is("area");if(h)var l=this._$origin.parent().attr("name"),c=b('img[usemap\x3d"#'+l+'"]');var m=c[0].getBoundingClientRect(),v=b(q.window.document),z=b(q.window),l=c,n={available:{document:null,window:null},document:{size:{height:v.height(),width:v.width()}},window:{scroll:{left:q.window.scrollX||q.window.document.documentElement.scrollLeft,top:q.window.scrollY||q.window.document.documentElement.scrollTop},size:{height:z.height(),width:z.width()}},
origin:{fixedLineage:!1,offset:{},size:{height:m.bottom-m.top,width:m.right-m.left},usemapImage:h?c[0]:null,windowOffset:{bottom:m.bottom,left:m.left,right:m.right,top:m.top}}};if(h){var h=this._$origin.attr("shape"),u=this._$origin.attr("coords");if(u&&(u=u.split(","),b.map(u,function(b,c){u[c]=parseInt(b)})),"default"!=h)switch(h){case "circle":h=u[0];c=u[1];m=u[2];n.origin.size.height=2*m;n.origin.size.width=n.origin.size.height;n.origin.windowOffset.left+=h-m;n.origin.windowOffset.top+=c-m;break;
case "rect":h=u[0];c=u[1];m=u[2];n.origin.size.height=u[3]-c;n.origin.size.width=m-h;n.origin.windowOffset.left+=h;n.origin.windowOffset.top+=c;break;case "poly":for(var v=m=c=h=0,z="even",D=0;D<u.length;D++){var y=u[D];"even"==z?(y>m&&(m=y,0===D&&(h=m)),h>y&&(h=y),z="odd"):(y>v&&(v=y,1==D&&(c=v)),c>y&&(c=y),z="even")}n.origin.size.height=v-c;n.origin.size.width=m-h;n.origin.windowOffset.left+=h;n.origin.windowOffset.top+=c}}this._trigger({type:"geometry",edit:function(b){n.origin.size.height=b.height;
n.origin.windowOffset.left=b.left;n.origin.windowOffset.top=b.top;n.origin.size.width=b.width},geometry:{height:n.origin.size.height,left:n.origin.windowOffset.left,top:n.origin.windowOffset.top,width:n.origin.size.width}});n.origin.windowOffset.right=n.origin.windowOffset.left+n.origin.size.width;n.origin.windowOffset.bottom=n.origin.windowOffset.top+n.origin.size.height;n.origin.offset.left=n.origin.windowOffset.left+n.window.scroll.left;n.origin.offset.top=n.origin.windowOffset.top+n.window.scroll.top;
n.origin.offset.bottom=n.origin.offset.top+n.origin.size.height;n.origin.offset.right=n.origin.offset.left+n.origin.size.width;n.available.document={bottom:{height:n.document.size.height-n.origin.offset.bottom,width:n.document.size.width},left:{height:n.document.size.height,width:n.origin.offset.left},right:{height:n.document.size.height,width:n.document.size.width-n.origin.offset.right},top:{height:n.origin.offset.top,width:n.document.size.width}};for(n.available.window={bottom:{height:Math.max(n.window.size.height-
Math.max(n.origin.windowOffset.bottom,0),0),width:n.window.size.width},left:{height:n.window.size.height,width:Math.max(n.origin.windowOffset.left,0)},right:{height:n.window.size.height,width:Math.max(n.window.size.width-Math.max(n.origin.windowOffset.right,0),0)},top:{height:Math.max(n.origin.windowOffset.top,0),width:n.window.size.width}};"html"!=l[0].tagName.toLowerCase();){if("fixed"==l.css("position")){n.origin.fixedLineage=!0;break}l=l.parent()}return n},__optionsFormat:function(){return"number"==
typeof this.__options.animationDuration&&(this.__options.animationDuration=[this.__options.animationDuration,this.__options.animationDuration]),"number"==typeof this.__options.delay&&(this.__options.delay=[this.__options.delay,this.__options.delay]),"number"==typeof this.__options.delayTouch&&(this.__options.delayTouch=[this.__options.delayTouch,this.__options.delayTouch]),"string"==typeof this.__options.theme&&(this.__options.theme=[this.__options.theme]),null===this.__options.parent?this.__options.parent=
b(q.window.document.body):"string"==typeof this.__options.parent&&(this.__options.parent=b(this.__options.parent)),"hover"==this.__options.trigger?(this.__options.triggerOpen={mouseenter:!0,touchstart:!0},this.__options.triggerClose={mouseleave:!0,originClick:!0,touchleave:!0}):"click"==this.__options.trigger&&(this.__options.triggerOpen={click:!0,tap:!0},this.__options.triggerClose={click:!0,tap:!0}),this._trigger("options"),this},__prepareGC:function(){var c=this;return c.__options.selfDestruction?
c.__garbageCollector=setInterval(function(){var h=(new Date).getTime();c.__touchEvents=b.grep(c.__touchEvents,function(b,c){return 6E4<h-b.time});l(c._$origin)||c.close(function(){c.destroy()})},2E4):clearInterval(c.__garbageCollector),c},__prepareOrigin:function(){var b=this;if(b._$origin.off("."+b.__namespace+"-triggerOpen"),q.hasTouchCapability&&b._$origin.on("touchstart."+b.__namespace+"-triggerOpen touchend."+b.__namespace+"-triggerOpen touchcancel."+b.__namespace+"-triggerOpen",function(c){b._touchRecordEvent(c)}),
b.__options.triggerOpen.click||b.__options.triggerOpen.tap&&q.hasTouchCapability){var c="";b.__options.triggerOpen.click&&(c+="click."+b.__namespace+"-triggerOpen ");b.__options.triggerOpen.tap&&q.hasTouchCapability&&(c+="touchend."+b.__namespace+"-triggerOpen");b._$origin.on(c,function(c){b._touchIsMeaningfulEvent(c)&&b._open(c)})}if(b.__options.triggerOpen.mouseenter||b.__options.triggerOpen.touchstart&&q.hasTouchCapability)c="",b.__options.triggerOpen.mouseenter&&(c+="mouseenter."+b.__namespace+
"-triggerOpen "),b.__options.triggerOpen.touchstart&&q.hasTouchCapability&&(c+="touchstart."+b.__namespace+"-triggerOpen"),b._$origin.on(c,function(c){!b._touchIsTouchEvent(c)&&b._touchIsEmulatedEvent(c)||(b.__pointerIsOverOrigin=!0,b._openShortly(c))});if(b.__options.triggerClose.mouseleave||b.__options.triggerClose.touchleave&&q.hasTouchCapability)c="",b.__options.triggerClose.mouseleave&&(c+="mouseleave."+b.__namespace+"-triggerOpen "),b.__options.triggerClose.touchleave&&q.hasTouchCapability&&
(c+="touchend."+b.__namespace+"-triggerOpen touchcancel."+b.__namespace+"-triggerOpen"),b._$origin.on(c,function(c){b._touchIsMeaningfulEvent(c)&&(b.__pointerIsOverOrigin=!1)});return b},__prepareTooltip:function(){var c=this,h=c.__options.interactive?"auto":"";return c._$tooltip.attr("id",c.__namespace).css({"pointer-events":h,zIndex:c.__options.zIndex}),b.each(c.__previousThemes,function(b,h){c._$tooltip.removeClass(h)}),b.each(c.__options.theme,function(b,h){c._$tooltip.addClass(h)}),c.__previousThemes=
b.merge([],c.__options.theme),c},__scrollHandler:function(c){if(this.__options.triggerClose.scroll)this._close(c);else if(l(this._$origin)&&l(this._$tooltip)){var h=null;if(c.target===q.window.document)this.__Geometry.origin.fixedLineage||this.__options.repositionOnScroll&&this.reposition(c);else{var h=this.__geometry(),r=!1;("fixed"!=this._$origin.css("position")&&this.__$originParents.each(function(c,k){c=b(k);var l=c.css("overflow-x"),n=c.css("overflow-y");if("visible"!=l||"visible"!=n)if(k=k.getBoundingClientRect(),
"visible"!=l&&(h.origin.windowOffset.left<k.left||h.origin.windowOffset.right>k.right)||"visible"!=n&&(h.origin.windowOffset.top<k.top||h.origin.windowOffset.bottom>k.bottom))return r=!0,!1;return"fixed"==c.css("position")?!1:void 0}),r)?this._$tooltip.css("visibility","hidden"):(this._$tooltip.css("visibility","visible"),this.__options.repositionOnScroll)?this.reposition(c):this._$tooltip.css({left:this.__lastPosition.coord.left+(h.origin.offset.left-this.__Geometry.origin.offset.left),top:this.__lastPosition.coord.top+
(h.origin.offset.top-this.__Geometry.origin.offset.top)})}this._trigger({type:"scroll",event:c,geo:h})}return this},__stateSet:function(b){return this.__state=b,this._trigger({type:"state",state:b}),this},__timeoutsClear:function(){return clearTimeout(this.__timeouts.open),this.__timeouts.open=null,b.each(this.__timeouts.close,function(b,c){clearTimeout(c)}),this.__timeouts.close=[],this},__trackerStart:function(){var b=this,c=b._$tooltip.find(".tooltipster-content");return b.__options.trackTooltip&&
(b.__contentBcr=c[0].getBoundingClientRect()),b.__tracker=setInterval(function(){if(l(b._$origin)&&l(b._$tooltip)){if(b.__options.trackOrigin){var r=b.__geometry(),m=!1;h(r.origin.size,b.__Geometry.origin.size)&&(b.__Geometry.origin.fixedLineage?h(r.origin.windowOffset,b.__Geometry.origin.windowOffset)&&(m=!0):h(r.origin.offset,b.__Geometry.origin.offset)&&(m=!0));m||(b.__options.triggerClose.mouseleave?b._close():b.reposition())}b.__options.trackTooltip&&(r=c[0].getBoundingClientRect(),r.height===
b.__contentBcr.height&&r.width===b.__contentBcr.width||(b.reposition(),b.__contentBcr=r))}else b._close()},b.__options.trackerInterval),b},_close:function(c,h,l){var m=this,v=!0;if(m._trigger({type:"close",event:c,stop:function(){v=!1}}),v||l){h&&m.__callbacks.close.push(h);m.__callbacks.open=[];m.__timeoutsClear();var z=function(){b.each(m.__callbacks.close,function(b,h){h.call(m,m,{event:c,origin:m._$origin[0]})});m.__callbacks.close=[]};if("closed"!=m.__state){if(h=!0,l=(new Date).getTime()+m.__options.animationDuration[1],
"disappearing"==m.__state&&l>m.__closingTime&&0<m.__options.animationDuration[1]&&(h=!1),h)m.__closingTime=l,"disappearing"!=m.__state&&m.__stateSet("disappearing"),h=function(){clearInterval(m.__tracker);m._trigger({type:"closing",event:c});m._$tooltip.off("."+m.__namespace+"-triggerClose").removeClass("tooltipster-dying");b(q.window).off("."+m.__namespace+"-triggerClose");m.__$originParents.each(function(c,k){b(k).off("scroll."+m.__namespace+"-triggerClose")});m.__$originParents=null;b(q.window.document.body).off("."+
m.__namespace+"-triggerClose");m._$origin.off("."+m.__namespace+"-triggerClose");m._off("dismissable");m.__stateSet("closed");m._trigger({type:"after",event:c});m.__options.functionAfter&&m.__options.functionAfter.call(m,m,{event:c,origin:m._$origin[0]});z()},q.hasTransitions?(m._$tooltip.css({"-moz-animation-duration":m.__options.animationDuration[1]+"ms","-ms-animation-duration":m.__options.animationDuration[1]+"ms","-o-animation-duration":m.__options.animationDuration[1]+"ms","-webkit-animation-duration":m.__options.animationDuration[1]+
"ms","animation-duration":m.__options.animationDuration[1]+"ms","transition-duration":m.__options.animationDuration[1]+"ms"}),m._$tooltip.clearQueue().removeClass("tooltipster-show").addClass("tooltipster-dying"),0<m.__options.animationDuration[1]&&m._$tooltip.delay(m.__options.animationDuration[1]),m._$tooltip.queue(h)):m._$tooltip.stop().fadeOut(m.__options.animationDuration[1],h)}else z()}return m},_off:function(){return this.__$emitterPrivate.off.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),
this},_on:function(){return this.__$emitterPrivate.on.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_one:function(){return this.__$emitterPrivate.one.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_open:function(c,h){var m=this;if(!m.__destroying&&l(m._$origin)&&m.__enabled){var w=!0;if("closed"==m.__state&&(m._trigger({type:"before",event:c,stop:function(){w=!1}}),w&&m.__options.functionBefore&&(w=m.__options.functionBefore.call(m,m,{event:c,
origin:m._$origin[0]}))),!1!==w&&null!==m.__Content){h&&m.__callbacks.open.push(h);m.__callbacks.close=[];m.__timeoutsClear();var v=function(){"stable"!=m.__state&&m.__stateSet("stable");b.each(m.__callbacks.open,function(b,c){c.call(m,m,{origin:m._$origin[0],tooltip:m._$tooltip[0]})});m.__callbacks.open=[]};if("closed"!==m.__state)h=0,"disappearing"===m.__state?(m.__stateSet("appearing"),q.hasTransitions?(m._$tooltip.clearQueue().removeClass("tooltipster-dying").addClass("tooltipster-show"),0<m.__options.animationDuration[0]&&
m._$tooltip.delay(m.__options.animationDuration[0]),m._$tooltip.queue(v)):m._$tooltip.stop().fadeIn(v)):"stable"==m.__state&&v();else{if(m.__stateSet("appearing"),h=m.__options.animationDuration[0],m.__contentInsert(),m.reposition(c,!0),q.hasTransitions?(m._$tooltip.addClass("tooltipster-"+m.__options.animation).addClass("tooltipster-initial").css({"-moz-animation-duration":m.__options.animationDuration[0]+"ms","-ms-animation-duration":m.__options.animationDuration[0]+"ms","-o-animation-duration":m.__options.animationDuration[0]+
"ms","-webkit-animation-duration":m.__options.animationDuration[0]+"ms","animation-duration":m.__options.animationDuration[0]+"ms","transition-duration":m.__options.animationDuration[0]+"ms"}),setTimeout(function(){"closed"!=m.__state&&(m._$tooltip.addClass("tooltipster-show").removeClass("tooltipster-initial"),0<m.__options.animationDuration[0]&&m._$tooltip.delay(m.__options.animationDuration[0]),m._$tooltip.queue(v))},0)):m._$tooltip.css("display","none").fadeIn(m.__options.animationDuration[0],
v),m.__trackerStart(),b(q.window).on("resize."+m.__namespace+"-triggerClose",function(c){var k=b(document.activeElement);(k.is("input")||k.is("textarea"))&&b.contains(m._$tooltip[0],k[0])||m.reposition(c)}).on("scroll."+m.__namespace+"-triggerClose",function(b){m.__scrollHandler(b)}),m.__$originParents=m._$origin.parents(),m.__$originParents.each(function(c,k){b(k).on("scroll."+m.__namespace+"-triggerClose",function(b){m.__scrollHandler(b)})}),m.__options.triggerClose.mouseleave||m.__options.triggerClose.touchleave&&
q.hasTouchCapability){m._on("dismissable",function(b){b.dismissable?b.delay?(u=setTimeout(function(){m._close(b.event)},b.delay),m.__timeouts.close.push(u)):m._close(b):clearTimeout(u)});c=m._$origin;var z="",n="",u=null;m.__options.interactive&&(c=c.add(m._$tooltip));m.__options.triggerClose.mouseleave&&(z+="mouseenter."+m.__namespace+"-triggerClose ",n+="mouseleave."+m.__namespace+"-triggerClose ");m.__options.triggerClose.touchleave&&q.hasTouchCapability&&(z+="touchstart."+m.__namespace+"-triggerClose",
n+="touchend."+m.__namespace+"-triggerClose touchcancel."+m.__namespace+"-triggerClose");c.on(n,function(b){!m._touchIsTouchEvent(b)&&m._touchIsEmulatedEvent(b)||m._trigger({delay:("mouseleave"==b.type?m.__options.delay:m.__options.delayTouch)[1],dismissable:!0,event:b,type:"dismissable"})}).on(z,function(b){!m._touchIsTouchEvent(b)&&m._touchIsEmulatedEvent(b)||m._trigger({dismissable:!1,event:b,type:"dismissable"})})}m.__options.triggerClose.originClick&&m._$origin.on("click."+m.__namespace+"-triggerClose",
function(b){m._touchIsTouchEvent(b)||m._touchIsEmulatedEvent(b)||m._close(b)});(m.__options.triggerClose.click||m.__options.triggerClose.tap&&q.hasTouchCapability)&&setTimeout(function(){if("closed"!=m.__state){var c="",k=b(q.window.document.body);m.__options.triggerClose.click&&(c+="click."+m.__namespace+"-triggerClose ");m.__options.triggerClose.tap&&q.hasTouchCapability&&(c+="touchend."+m.__namespace+"-triggerClose");k.on(c,function(c){m._touchIsMeaningfulEvent(c)&&(m._touchRecordEvent(c),m.__options.interactive&&
b.contains(m._$tooltip[0],c.target)||m._close(c))});m.__options.triggerClose.tap&&q.hasTouchCapability&&k.on("touchstart."+m.__namespace+"-triggerClose",function(b){m._touchRecordEvent(b)})}},0);m._trigger("ready");m.__options.functionReady&&m.__options.functionReady.call(m,m,{origin:m._$origin[0],tooltip:m._$tooltip[0]})}0<m.__options.timer&&(u=setTimeout(function(){m._close()},m.__options.timer+h),m.__timeouts.close.push(u))}}return m},_openShortly:function(b){var c=this,h=!0;if("stable"!=c.__state&&
"appearing"!=c.__state&&!c.__timeouts.open&&(c._trigger({type:"start",event:b,stop:function(){h=!1}}),h)){var l=0==b.type.indexOf("touch")?c.__options.delayTouch:c.__options.delay;l[0]?c.__timeouts.open=setTimeout(function(){c.__timeouts.open=null;c.__pointerIsOverOrigin&&c._touchIsMeaningfulEvent(b)?(c._trigger("startend"),c._open(b)):c._trigger("startcancel")},l[0]):(c._trigger("startend"),c._open(b))}return c},_optionsExtract:function(c,h){var l=this,m=b.extend(!0,{},h),v=l.__options[c];return v||
(v={},b.each(h,function(b,c){c=l.__options[b];void 0!==c&&(v[b]=c)})),b.each(m,function(c,k){void 0!==v[c]&&("object"!=typeof k||k instanceof Array||null==k||"object"!=typeof v[c]||v[c]instanceof Array||null==v[c]?m[c]=v[c]:b.extend(m[c],v[c]))}),m},_plug:function(c){var h=b.tooltipster._plugin(c);if(!h)throw Error('The "'+c+'" plugin is not defined');return h.instance&&b.tooltipster.__bridge(h.instance,this,h.name),this},_touchIsEmulatedEvent:function(b){for(var c=!1,h=(new Date).getTime(),l=this.__touchEvents.length-
1;0<=l;l--){var m=this.__touchEvents[l];if(!(500>h-m.time))break;m.target===b.target&&(c=!0)}return c},_touchIsMeaningfulEvent:function(b){return this._touchIsTouchEvent(b)&&!this._touchSwiped(b.target)||!this._touchIsTouchEvent(b)&&!this._touchIsEmulatedEvent(b)},_touchIsTouchEvent:function(b){return 0==b.type.indexOf("touch")},_touchRecordEvent:function(b){return this._touchIsTouchEvent(b)&&(b.time=(new Date).getTime(),this.__touchEvents.push(b)),this},_touchSwiped:function(b){for(var c=!1,h=this.__touchEvents.length-
1;0<=h;h--){var l=this.__touchEvents[h];if("touchmove"==l.type){c=!0;break}if("touchstart"==l.type&&b===l.target)break}return c},_trigger:function(){var c=Array.prototype.slice.apply(arguments);return"string"==typeof c[0]&&(c[0]={type:c[0]}),c[0].instance=this,c[0].origin=this._$origin?this._$origin[0]:null,c[0].tooltip=this._$tooltip?this._$tooltip[0]:null,this.__$emitterPrivate.trigger.apply(this.__$emitterPrivate,c),b.tooltipster._trigger.apply(b.tooltipster,c),this.__$emitterPublic.trigger.apply(this.__$emitterPublic,
c),this},_unplug:function(c){var h=this;if(h[c]){var l=b.tooltipster._plugin(c);l.instance&&b.each(l.instance,function(b,l){h[b]&&h[b].bridged===h[c]&&delete h[b]});h[c].__destroy&&h[c].__destroy();delete h[c]}return h},close:function(b){return this.__destroyed?this.__destroyError():this._close(null,b),this},content:function(b){var c=this;if(void 0===b)return c.__Content;if(c.__destroyed)c.__destroyError();else if(c.__contentSet(b),null!==c.__Content){if("closed"!==c.__state&&(c.__contentInsert(),
c.reposition(),c.__options.updateAnimation))if(q.hasTransitions){var h=c.__options.updateAnimation;c._$tooltip.addClass("tooltipster-update-"+h);setTimeout(function(){"closed"!=c.__state&&c._$tooltip.removeClass("tooltipster-update-"+h)},1E3)}else c._$tooltip.fadeTo(200,.5,function(){"closed"!=c.__state&&c._$tooltip.fadeTo(200,1)})}else c._close();return c},destroy:function(){var c=this;if(c.__destroyed)c.__destroyError();else{"closed"!=c.__state?c.option("animationDuration",0)._close(null,null,!0):
c.__timeoutsClear();c._trigger("destroy");c.__destroyed=!0;c._$origin.removeData(c.__namespace).off("."+c.__namespace+"-triggerOpen");b(q.window.document.body).off("."+c.__namespace+"-triggerOpen");var h=c._$origin.data("tooltipster-ns");h&&(1===h.length?(h=null,"previous"==c.__options.restoration?h=c._$origin.data("tooltipster-initialTitle"):"current"==c.__options.restoration&&(h="string"==typeof c.__Content?c.__Content:b("\x3cdiv\x3e\x3c/div\x3e").append(c.__Content).html()),h&&c._$origin.attr("title",
h),c._$origin.removeClass("tooltipstered"),c._$origin.removeData("tooltipster-ns").removeData("tooltipster-initialTitle")):(h=b.grep(h,function(b,h){return b!==c.__namespace}),c._$origin.data("tooltipster-ns",h)));c._trigger("destroyed");c._off();c.off();c.__Content=null;c.__$emitterPrivate=null;c.__$emitterPublic=null;c.__options.parent=null;c._$origin=null;c._$tooltip=null;b.tooltipster.__instancesLatestArr=b.grep(b.tooltipster.__instancesLatestArr,function(b,h){return c!==b});clearInterval(c.__garbageCollector)}return c},
disable:function(){return this.__destroyed?(this.__destroyError(),this):(this._close(),this.__enabled=!1,this)},elementOrigin:function(){return this.__destroyed?void this.__destroyError():this._$origin[0]},elementTooltip:function(){return this._$tooltip?this._$tooltip[0]:null},enable:function(){return this.__enabled=!0,this},hide:function(b){return this.close(b)},instance:function(){return this},off:function(){return this.__destroyed||this.__$emitterPublic.off.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),
this},on:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.on.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},one:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.one.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},open:function(b){return this.__destroyed?this.__destroyError():this._open(null,b),this},option:function(c,h){return void 0===h?this.__options[c]:(this.__destroyed?this.__destroyError():
(this.__options[c]=h,this.__optionsFormat(),0<=b.inArray(c,["trigger","triggerClose","triggerOpen"])&&this.__prepareOrigin(),"selfDestruction"===c&&this.__prepareGC()),this)},reposition:function(b,c){return this.__destroyed?this.__destroyError():"closed"!=this.__state&&l(this._$origin)&&(c||l(this._$tooltip))&&(c||this._$tooltip.detach(),this.__Geometry=this.__geometry(),this._trigger({type:"reposition",event:b,helper:{geo:this.__Geometry}})),this},show:function(b){return this.open(b)},status:function(){return{destroyed:this.__destroyed,
enabled:this.__enabled,open:"closed"!==this.__state,state:this.__state}},triggerHandler:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.triggerHandler.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this}};b.fn.tooltipster=function(){var c=Array.prototype.slice.apply(arguments);if(0===this.length)return this;if("string"==typeof c[0]){var h="#*$~\x26";return this.each(function(){var l=b(this).data("tooltipster-ns"),l=l?b(this).data(l[0]):null;if(!l)throw Error("You called Tooltipster's \""+
c[0]+'" method on an uninitialized element');if("function"!=typeof l[c[0]])throw Error('Unknown method "'+c[0]+'"');var m=l[c[0]](c[1],c[2]);return m!==l||"instance"===c[0]?(h=m,!1):void 0}),"#*$~\x26"!==h?h:this}b.tooltipster.__instancesLatestArr=[];var l=c[0]&&void 0!==c[0].multiple,w=l&&c[0].multiple||!l&&m.multiple;return this.each(function(){var h=!1,l=b(this),n=l.data("tooltipster-ns"),p=null;n?w&&(h=!0):h=!0;h&&(p=new b.Tooltipster(this,c[0]),n||(n=[]),n.push(p.__namespace),l.data("tooltipster-ns",
n),l.data(p.__namespace,p),p.__options.functionInit&&p.__options.functionInit.call(p,p,{origin:this}),p._trigger("init"));b.tooltipster.__instancesLatestArr.push(p)}),this};c.prototype={__init:function(c){this.__$tooltip=c;this.__$tooltip.css({left:0,overflow:"hidden",position:"absolute",top:0}).find(".tooltipster-content").css("overflow","auto");this.$container=b('\x3cdiv class\x3d"tooltipster-ruler"\x3e\x3c/div\x3e').append(this.__$tooltip).appendTo(q.window.document.body)},__forceRedraw:function(){var b=
this.__$tooltip.parent();this.__$tooltip.detach();this.__$tooltip.appendTo(b)},constrain:function(b,c){return this.constraints={width:b,height:c},this.__$tooltip.css({display:"block",height:"",overflow:"auto",width:b}),this},destroy:function(){this.__$tooltip.detach().find(".tooltipster-content").css({display:"",overflow:""});this.$container.remove()},free:function(){return this.constraints=null,this.__$tooltip.css({display:"",height:"",overflow:"visible",width:""}),this},measure:function(){this.__forceRedraw();
var b=this.__$tooltip[0].getBoundingClientRect(),c={size:{height:b.height||b.bottom-b.top,width:b.width||b.right-b.left}};if(this.constraints){var h=this.__$tooltip.find(".tooltipster-content"),l=this.__$tooltip.outerHeight(),m=h[0].getBoundingClientRect(),b=b.width<=this.constraints.width&&m.width>=h[0].scrollWidth-1;c.fits=l<=this.constraints.height&&b}return q.IE&&11>=q.IE&&c.size.width!==q.window.document.documentElement.clientWidth&&(c.size.width=Math.ceil(c.size.width)+1),c}};x=navigator.userAgent.toLowerCase();
-1!=x.indexOf("msie")?q.IE=parseInt(x.split("msie")[1]):-1!==x.toLowerCase().indexOf("trident")&&-1!==x.indexOf(" rv:11")?q.IE=11:-1!=x.toLowerCase().indexOf("edge/")&&(q.IE=parseInt(x.toLowerCase().split("edge/")[1]));return b.tooltipster._plugin({name:"tooltipster.sideTip",instance:{__defaults:function(){return{arrow:!0,distance:6,functionPosition:null,maxWidth:null,minIntersection:16,minWidth:0,position:null,side:"top",viewportAware:!0}},__init:function(b){var c=this;c.__instance=b;c.__namespace=
"tooltipster-sideTip-"+Math.round(1E6*Math.random());c.__previousState="closed";c.__options;c.__optionsFormat();c.__instance._on("state."+c.__namespace,function(b){"closed"==b.state?c.__close():"appearing"==b.state&&"closed"==c.__previousState&&c.__create();c.__previousState=b.state});c.__instance._on("options."+c.__namespace,function(){c.__optionsFormat()});c.__instance._on("reposition."+c.__namespace,function(b){c.__reposition(b.event,b.helper)})},__close:function(){this.__instance.content()instanceof
b&&this.__instance.content().detach();this.__instance._$tooltip.remove();this.__instance._$tooltip=null},__create:function(){var c=b('\x3cdiv class\x3d"tooltipster-base tooltipster-sidetip"\x3e\x3cdiv class\x3d"tooltipster-box"\x3e\x3cdiv class\x3d"tooltipster-content"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"tooltipster-arrow"\x3e\x3cdiv class\x3d"tooltipster-arrow-uncropped"\x3e\x3cdiv class\x3d"tooltipster-arrow-border"\x3e\x3c/div\x3e\x3cdiv class\x3d"tooltipster-arrow-background"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e');
this.__options.arrow||c.find(".tooltipster-box").css("margin",0).end().find(".tooltipster-arrow").hide();this.__options.minWidth&&c.css("min-width",this.__options.minWidth+"px");this.__options.maxWidth&&c.css("max-width",this.__options.maxWidth+"px");this.__instance._$tooltip=c;this.__instance._trigger("created")},__destroy:function(){this.__instance._off("."+self.__namespace)},__optionsFormat:function(){if(this.__options=this.__instance._optionsExtract("tooltipster.sideTip",this.__defaults()),this.__options.position&&
(this.__options.side=this.__options.position),"object"!=typeof this.__options.distance&&(this.__options.distance=[this.__options.distance]),4>this.__options.distance.length&&(void 0===this.__options.distance[1]&&(this.__options.distance[1]=this.__options.distance[0]),void 0===this.__options.distance[2]&&(this.__options.distance[2]=this.__options.distance[0]),void 0===this.__options.distance[3]&&(this.__options.distance[3]=this.__options.distance[1]),this.__options.distance={top:this.__options.distance[0],
right:this.__options.distance[1],bottom:this.__options.distance[2],left:this.__options.distance[3]}),"string"==typeof this.__options.side)this.__options.side=[this.__options.side,{top:"bottom",right:"left",bottom:"top",left:"right"}[this.__options.side]],"left"==this.__options.side[0]||"right"==this.__options.side[0]?this.__options.side.push("top","bottom"):this.__options.side.push("right","left");6===b.tooltipster._env.IE&&!0!==this.__options.arrow&&(this.__options.arrow=!1)},__reposition:function(c,
h){var l,m=this,v=m.__targetFind(h),q=[];m.__instance._$tooltip.detach();var n=m.__instance._$tooltip.clone(),u=b.tooltipster._getRuler(n),D=!1,y=m.__instance.option("animation");switch(y&&n.removeClass("tooltipster-"+y),b.each(["window","document"],function(l,r){var y=null;if(m.__instance._trigger({container:r,helper:h,satisfied:D,takeTest:function(b){y=b},results:q,type:"positionTest"}),1==y||0!=y&&0==D&&("window"!=r||m.__options.viewportAware))for(l=0;l<m.__options.side.length;l++){var x={horizontal:0,
vertical:0},B=m.__options.side[l];"top"==B||"bottom"==B?x.vertical=m.__options.distance[B]:x.horizontal=m.__options.distance[B];m.__sideChange(n,B);b.each(["natural","constrained"],function(b,l){if(y=null,m.__instance._trigger({container:r,event:c,helper:h,mode:l,results:q,satisfied:D,side:B,takeTest:function(b){y=b},type:"positionTest"}),1==y||0!=y&&0==D){b={container:r,distance:x,fits:null,mode:l,outerSize:null,side:B,size:null,target:v[B],whole:null};var n=("natural"==l?u.free():u.constrain(h.geo.available[r][B].width-
x.horizontal,h.geo.available[r][B].height-x.vertical)).measure();if(b.size=n.size,b.outerSize={height:n.size.height+x.vertical,width:n.size.width+x.horizontal},"natural"==l?h.geo.available[r][B].width>=b.outerSize.width&&h.geo.available[r][B].height>=b.outerSize.height?b.fits=!0:b.fits=!1:b.fits=n.fits,"window"==r&&(b.fits?"top"==B||"bottom"==B?b.whole=h.geo.origin.windowOffset.right>=m.__options.minIntersection&&h.geo.window.size.width-h.geo.origin.windowOffset.left>=m.__options.minIntersection:
b.whole=h.geo.origin.windowOffset.bottom>=m.__options.minIntersection&&h.geo.window.size.height-h.geo.origin.windowOffset.top>=m.__options.minIntersection:b.whole=!1),q.push(b),b.whole)D=!0;else if("natural"==b.mode&&(b.fits||b.size.width<=h.geo.available[r][B].width))return!1}})}}),m.__instance._trigger({edit:function(b){q=b},event:c,helper:h,results:q,type:"positionTested"}),q.sort(function(b,c){if(b.whole&&!c.whole)return-1;if(!b.whole&&c.whole)return 1;if(b.whole&&c.whole){var k=m.__options.side.indexOf(b.side);
c=m.__options.side.indexOf(c.side);return c>k?-1:k>c?1:"natural"==b.mode?-1:1}return b.fits&&!c.fits?-1:!b.fits&&c.fits?1:b.fits&&c.fits?(k=m.__options.side.indexOf(b.side),c=m.__options.side.indexOf(c.side),c>k?-1:k>c?1:"natural"==b.mode?-1:1):"document"==b.container&&"bottom"==b.side&&"natural"==b.mode?-1:1}),l=q[0],l.coord={},l.side){case "left":case "right":l.coord.top=Math.floor(l.target-l.size.height/2);break;case "bottom":case "top":l.coord.left=Math.floor(l.target-l.size.width/2)}switch(l.side){case "left":l.coord.left=
h.geo.origin.windowOffset.left-l.outerSize.width;break;case "right":l.coord.left=h.geo.origin.windowOffset.right+l.distance.horizontal;break;case "top":l.coord.top=h.geo.origin.windowOffset.top-l.outerSize.height;break;case "bottom":l.coord.top=h.geo.origin.windowOffset.bottom+l.distance.vertical}"window"==l.container?"top"==l.side||"bottom"==l.side?0>l.coord.left?0<=h.geo.origin.windowOffset.right-this.__options.minIntersection?l.coord.left=0:l.coord.left=h.geo.origin.windowOffset.right-this.__options.minIntersection-
1:l.coord.left>h.geo.window.size.width-l.size.width&&(h.geo.origin.windowOffset.left+this.__options.minIntersection<=h.geo.window.size.width?l.coord.left=h.geo.window.size.width-l.size.width:l.coord.left=h.geo.origin.windowOffset.left+this.__options.minIntersection+1-l.size.width):0>l.coord.top?0<=h.geo.origin.windowOffset.bottom-this.__options.minIntersection?l.coord.top=0:l.coord.top=h.geo.origin.windowOffset.bottom-this.__options.minIntersection-1:l.coord.top>h.geo.window.size.height-l.size.height&&
(h.geo.origin.windowOffset.top+this.__options.minIntersection<=h.geo.window.size.height?l.coord.top=h.geo.window.size.height-l.size.height:l.coord.top=h.geo.origin.windowOffset.top+this.__options.minIntersection+1-l.size.height):(l.coord.left>h.geo.window.size.width-l.size.width&&(l.coord.left=h.geo.window.size.width-l.size.width),0>l.coord.left&&(l.coord.left=0));m.__sideChange(n,l.side);h.tooltipClone=n[0];h.tooltipParent=m.__instance.option("parent").parent[0];h.mode=l.mode;h.whole=l.whole;h.origin=
m.__instance._$origin[0];h.tooltip=m.__instance._$tooltip[0];delete l.container;delete l.fits;delete l.mode;delete l.outerSize;delete l.whole;l.distance=l.distance.horizontal||l.distance.vertical;y=b.extend(!0,{},l);(m.__instance._trigger({edit:function(b){l=b},event:c,helper:h,position:y,type:"position"}),m.__options.functionPosition)&&(y=m.__options.functionPosition.call(m,m.__instance,h,y))&&(l=y);u.destroy();var x,F;"top"==l.side||"bottom"==l.side?(x={prop:"left",val:l.target-l.coord.left},F=
l.size.width-this.__options.minIntersection):(x={prop:"top",val:l.target-l.coord.top},F=l.size.height-this.__options.minIntersection);x.val<this.__options.minIntersection?x.val=this.__options.minIntersection:x.val>F&&(x.val=F);F=h.geo.origin.fixedLineage?h.geo.origin.windowOffset:{left:h.geo.origin.windowOffset.left+h.geo.window.scroll.left,top:h.geo.origin.windowOffset.top+h.geo.window.scroll.top};l.coord={left:F.left+(l.coord.left-h.geo.origin.windowOffset.left),top:F.top+(l.coord.top-h.geo.origin.windowOffset.top)};
m.__sideChange(m.__instance._$tooltip,l.side);h.geo.origin.fixedLineage?m.__instance._$tooltip.css("position","fixed"):m.__instance._$tooltip.css("position","");m.__instance._$tooltip.css({left:l.coord.left,top:l.coord.top,height:l.size.height,width:l.size.width}).find(".tooltipster-arrow").css({left:"",top:""}).css(x.prop,x.val);m.__instance._$tooltip.appendTo(m.__instance.option("parent"));m.__instance._trigger({type:"repositioned",event:c,position:l})},__sideChange:function(b,c){b.removeClass("tooltipster-bottom").removeClass("tooltipster-left").removeClass("tooltipster-right").removeClass("tooltipster-top").addClass("tooltipster-"+
c)},__targetFind:function(b){var c={},h=this.__instance._$origin[0].getClientRects();1<h.length&&1==this.__instance._$origin.css("opacity")&&(this.__instance._$origin.css("opacity",.99),h=this.__instance._$origin[0].getClientRects(),this.__instance._$origin.css("opacity",1));2>h.length?(c.top=Math.floor(b.geo.origin.windowOffset.left+b.geo.origin.size.width/2),c.bottom=c.top,c.left=Math.floor(b.geo.origin.windowOffset.top+b.geo.origin.size.height/2),c.right=c.left):(b=h[0],c.top=Math.floor(b.left+
(b.right-b.left)/2),b=2<h.length?h[Math.ceil(h.length/2)-1]:h[0],c.right=Math.floor(b.top+(b.bottom-b.top)/2),b=h[h.length-1],c.bottom=Math.floor(b.left+(b.right-b.left)/2),b=2<h.length?h[Math.ceil((h.length+1)/2)-1]:h[h.length-1],c.left=Math.floor(b.top+(b.bottom-b.top)/2));return c}}}),b});
!function(b){var c=function(){var b,c=document.createElement("fakeelement"),h={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(b in h)if(void 0!==c.style[b])return h[b]},h=function(c,h,u){this.setting={axis:"y",reverse:!1,trigger:"click",speed:500,forceHeight:!1,forceWidth:!1,autoSize:!0,front:".front",back:".back"};this.setting=b.extend(this.setting,h);"string"!=typeof h.axis||"x"!==h.axis.toLowerCase()&&"y"!==h.axis.toLowerCase()||
(this.setting.axis=h.axis.toLowerCase());"boolean"==typeof h.reverse&&(this.setting.reverse=h.reverse);"string"==typeof h.trigger&&(this.setting.trigger=h.trigger.toLowerCase());var q=parseInt(h.speed);isNaN(q)||(this.setting.speed=q);"boolean"==typeof h.forceHeight&&(this.setting.forceHeight=h.forceHeight);"boolean"==typeof h.forceWidth&&(this.setting.forceWidth=h.forceWidth);"boolean"==typeof h.autoSize&&(this.setting.autoSize=h.autoSize);("string"==typeof h.front||h.front instanceof b)&&(this.setting.front=
h.front);("string"==typeof h.back||h.back instanceof b)&&(this.setting.back=h.back);this.element=c;this.frontElement=this.getFrontElement();this.backElement=this.getBackElement();this.isFlipped=!1;this.init(u)};b.extend(h.prototype,{flipDone:function(b){var h=this;h.element.one(c(),function(){h.element.trigger("flip:done");"function"==typeof b&&b.call(h.element)})},flip:function(b){if(!this.isFlipped){this.isFlipped=!0;var c="rotate"+this.setting.axis;this.frontElement.css({transform:c+(this.setting.reverse?
"(-180deg)":"(180deg)"),"z-index":"0"});this.backElement.css({transform:c+"(0deg)","z-index":"1"});this.flipDone(b)}},unflip:function(b){if(this.isFlipped){this.isFlipped=!1;var c="rotate"+this.setting.axis;this.frontElement.css({transform:c+"(0deg)","z-index":"1"});this.backElement.css({transform:c+(this.setting.reverse?"(180deg)":"(-180deg)"),"z-index":"0"});this.flipDone(b)}},getFrontElement:function(){return this.setting.front instanceof b?this.setting.front:this.element.find(this.setting.front)},
getBackElement:function(){return this.setting.back instanceof b?this.setting.back:this.element.find(this.setting.back)},init:function(b){var c=this,h=c.frontElement.add(c.backElement),q="rotate"+c.setting.axis,x={perspective:2*c.element["outer"+("rotatex"===q?"Height":"Width")](),position:"relative"},q={transform:q+"("+(c.setting.reverse?"180deg":"-180deg")+")","z-index":"0",position:"relative"},k={"backface-visibility":"hidden","transform-style":"preserve-3d",position:"absolute","z-index":"1"};c.setting.forceHeight?
h.outerHeight(c.element.height()):c.setting.autoSize&&(k.height="100%");c.setting.forceWidth?h.outerWidth(c.element.width()):c.setting.autoSize&&(k.width="100%");(window.chrome||window.Intl&&Intl.v8BreakIterator)&&"CSS"in window&&(x["-webkit-transform-style"]="preserve-3d");h.css(k).find("*").css({"backface-visibility":"hidden"});c.element.css(x);c.backElement.css(q);setTimeout(function(){h.css({transition:"all "+(c.setting.speed/1E3||.5)+"s ease-out"});"function"==typeof b&&b.call(c.element)},20);
c.attachEvents()},clickHandler:function(c){c||(c=window.event);this.element.find(b(c.target).closest('button, a, input[type\x3d"submit"]')).length||(this.isFlipped?this.unflip():this.flip())},hoverHandler:function(){var c=this;c.element.off("mouseleave.flip");c.flip();setTimeout(function(){c.element.on("mouseleave.flip",b.proxy(c.unflip,c));c.element.is(":hover")||c.unflip()},c.setting.speed+150)},attachEvents:function(){"click"===this.setting.trigger?this.element.on(b.fn.tap?"tap.flip":"click.flip",
b.proxy(this.clickHandler,this)):"hover"===this.setting.trigger&&(this.element.on("mouseenter.flip",b.proxy(this.hoverHandler,this)),this.element.on("mouseleave.flip",b.proxy(this.unflip,this)))},flipChanged:function(b){this.element.trigger("flip:change");"function"==typeof b&&b.call(this.element)},changeSettings:function(b,c){var h=this,q=!1;if(void 0!==b.axis&&h.setting.axis!==b.axis.toLowerCase()&&(h.setting.axis=b.axis.toLowerCase(),q=!0),void 0!==b.reverse&&h.setting.reverse!==b.reverse&&(h.setting.reverse=
b.reverse,q=!0),q){var x=h.frontElement.add(h.backElement),k=x.css(["transition-property","transition-timing-function","transition-duration","transition-delay"]);x.css({transition:"none"});b="rotate"+h.setting.axis;h.isFlipped?h.frontElement.css({transform:b+(h.setting.reverse?"(-180deg)":"(180deg)"),"z-index":"0"}):h.backElement.css({transform:b+(h.setting.reverse?"(180deg)":"(-180deg)"),"z-index":"0"});setTimeout(function(){x.css(k);h.flipChanged(c)},0)}else h.flipChanged(c)}});b.fn.flip=function(c,
m){return"function"==typeof c&&(m=c),"string"==typeof c||"boolean"==typeof c?this.each(function(){var h=b(this).data("flip-model");"toggle"===c&&(c=!h.isFlipped);c?h.flip(m):h.unflip(m)}):this.each(function(){if(b(this).data("flip-model")){var u=b(this).data("flip-model");!c||void 0===c.axis&&void 0===c.reverse||u.changeSettings(c,m)}else b(this).data("flip-model",new h(b(this),c||{},m))}),this}}(jQuery);
!function(b){b.fn.captionjs=function(c){var h=b.extend({class_name:"captionjs",schema:!0,mode:"default",debug_mode:!1,force_dimensions:!0,is_responsive:!1,inherit_styles:!1},c||{}),l=function(b,c,h,l){h.jquery&&l.jquery&&(h.css(b,l.css(b)),l.css(b,c))};return this.each(function(){var c,u,q=b(this);c=q.data("caption")?q.data("caption"):q.attr("alt");var x=q.wrap('\x3cfigure class\x3d"'+h.class_name+" "+h.mode+'"/\x3e').after("\x3cfigcaption/\x3e").parent(),k=q.next("figcaption").html(c);q.data("link")?
k.wrapInner('\x3ca href\x3d"'+q.data("link")+'"/\x3e').children("a").css("padding","0").css("margin","0"):null;if(""===c&&k.remove(),h.force_dimensions){var p=x.clone().css({position:"absolute",left:"-9999px"}).appendTo("body");c=b("img",p).outerWidth();u=b("figcaption",p).css("width",c).css("clear","both").outerHeight();p.remove()}else c=q.outerWidth(),u=k.outerHeight();h.is_responsive&&(c="100%",q.width(c));h.inherit_styles&&("inline"==q.css("display")?x.css("display","inline-block"):l("display",
"block",x,q),"static"==q.css("position")?x.css("position","relative"):l("position","relative",x,q),l("clear","both",x,q),l("float","none",x,q),l("margin","0",x,q),q.css("padding","0"),l("left","auto",x,q),l("right","auto",x,q),l("top","auto",x,q),l("bottom","auto",x,q),l("z-index",q.css("z-index"),x,q));x.width(c);h.schema&&(x.attr({itemscope:"itemscope",itemtype:"http://schema.org/Photograph"}),k.attr("itemprop","name"),q.attr("itemprop","image"));"stacked"===h.mode&&k.css({"margin-bottom":"0",bottom:"0"});
"animated"===h.mode&&k.css({"margin-bottom":"0",bottom:-u});"hide"===h.mode&&k.css({"margin-bottom":u,bottom:-u})})}}(jQuery,window);
!function(b,c){"object"==typeof exports&&"undefined"!=typeof module?c(exports):"function"==typeof define&&define.amd?define(["exports"],c):c((b="undefined"!=typeof globalThis?globalThis:b||self).noUiSlider={})}(this,function(b){function c(b){return"object"==typeof b&&"function"==typeof b.to}function h(b){b.preventDefault()}function l(b){return"number"==typeof b&&!isNaN(b)&&isFinite(b)}function m(b,c,h){0<h&&(x(b,c),setTimeout(function(){k(b,c)},h))}function u(b){return Array.isArray(b)?b:[b]}function q(b){b=
(b=String(b)).split(".");return 1<b.length?b[1].length:0}function x(b,c){b.classList&&!/\s/.test(c)?b.classList.add(c):b.className+=" "+c}function k(b,c){b.classList&&!/\s/.test(c)?b.classList.remove(c):b.className=b.className.replace(new RegExp("(^|\\b)"+c.split(" ").join("|")+"(\\b|$)","gi")," ")}function p(b){var c=void 0!==window.pageXOffset,k="CSS1Compat"===(b.compatMode||"");return{x:c?window.pageXOffset:(k?b.documentElement:b.body).scrollLeft,y:c?window.pageYOffset:(k?b.documentElement:b.body).scrollTop}}
function r(b,c,k){return 100*c/(b[k+1]-b[k])}function w(b,c){for(var k=1;b>=c[k];)k+=1;return k}function v(b,c,k){this.xPct=[];this.xVal=[];this.xSteps=[];this.xNumSteps=[];this.xHighestCompleteStep=[];this.xSteps=[k||!1];this.xNumSteps=[!1];this.snap=c;var h=[];Object.keys(b).forEach(function(c){h.push([u(b[c]),c])});h.sort(function(b,c){return b[0][0]-c[0][0]});for(c=0;c<h.length;c++)this.handleEntryPoint(h[c][1],h[c][0]);this.xNumSteps=this.xSteps.slice(0);for(c=0;c<this.xNumSteps.length;c++)this.handleStepPoint(c,
this.xNumSteps[c])}function z(b,c){if(!l(c))throw Error("noUiSlider: 'step' is not numeric.");b.singleStep=c}function n(b,c){if(!l(c))throw Error("noUiSlider: 'keyboardPageMultiplier' is not numeric.");b.keyboardPageMultiplier=c}function E(b,c){if(!l(c))throw Error("noUiSlider: 'keyboardMultiplier' is not numeric.");b.keyboardMultiplier=c}function D(b,c){if(!l(c))throw Error("noUiSlider: 'keyboardDefaultStep' is not numeric.");b.keyboardDefaultStep=c}function y(b,c){if("object"!=typeof c||Array.isArray(c))throw Error("noUiSlider: 'range' is not an object.");
if(void 0===c.min||void 0===c.max)throw Error("noUiSlider: Missing 'min' or 'max' in 'range'.");b.spectrum=new U(c,b.snap||!1,b.singleStep)}function B(b,c){if(c=u(c),!Array.isArray(c)||!c.length)throw Error("noUiSlider: 'start' option is incorrect.");b.handles=c.length;b.start=c}function F(b,c){if("boolean"!=typeof c)throw Error("noUiSlider: 'snap' option must be a boolean.");b.snap=c}function C(b,c){if("boolean"!=typeof c)throw Error("noUiSlider: 'animate' option must be a boolean.");b.animate=c}
function I(b,c){if("number"!=typeof c)throw Error("noUiSlider: 'animationDuration' option must be a number.");b.animationDuration=c}function J(b,c){var k,h=[!1];if("lower"===c?c=[!0,!1]:"upper"===c&&(c=[!1,!0]),!0===c||!1===c){for(k=1;k<b.handles;k++)h.push(c);h.push(!1)}else{if(!Array.isArray(c)||!c.length||c.length!==b.handles+1)throw Error("noUiSlider: 'connect' option doesn't match handle count.");h=c}b.connect=h}function G(b,c){switch(c){case "horizontal":b.ort=0;break;case "vertical":b.ort=
1;break;default:throw Error("noUiSlider: 'orientation' option is invalid.");}}function K(b,c){if(!l(c))throw Error("noUiSlider: 'margin' option must be numeric.");0!==c&&(b.margin=b.spectrum.getDistance(c))}function L(b,c){if(!l(c))throw Error("noUiSlider: 'limit' option must be numeric.");if(b.limit=b.spectrum.getDistance(c),!b.limit||2>b.handles)throw Error("noUiSlider: 'limit' option is only supported on linear sliders with 2 or more handles.");}function P(b,c){var k;if(!l(c)&&!Array.isArray(c))throw Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");
if(Array.isArray(c)&&2!==c.length&&!l(c[0])&&!l(c[1]))throw Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(0!==c){Array.isArray(c)||(c=[c,c]);b.padding=[b.spectrum.getDistance(c[0]),b.spectrum.getDistance(c[1])];for(k=0;k<b.spectrum.xNumSteps.length-1;k++)if(0>b.padding[0][k]||0>b.padding[1][k])throw Error("noUiSlider: 'padding' option must be a positive number(s).");k=c[0]+c[1];c=b.spectrum.xVal[0];if(1<k/(b.spectrum.xVal[b.spectrum.xVal.length-1]-c))throw Error("noUiSlider: 'padding' option must not exceed 100% of the range.");
}}function M(b,c){switch(c){case "ltr":b.dir=0;break;case "rtl":b.dir=1;break;default:throw Error("noUiSlider: 'direction' option was not recognized.");}}function R(b,c){if("string"!=typeof c)throw Error("noUiSlider: 'behaviour' must be a string containing options.");var k=0<=c.indexOf("tap"),h=0<=c.indexOf("drag"),l=0<=c.indexOf("fixed"),n=0<=c.indexOf("snap"),p=0<=c.indexOf("hover"),m=0<=c.indexOf("unconstrained"),r=0<=c.indexOf("drag-all");c=0<=c.indexOf("smooth-steps");if(l){if(2!==b.handles)throw Error("noUiSlider: 'fixed' behaviour must be used with 2 handles");
K(b,b.start[1]-b.start[0])}if(m&&(b.margin||b.limit))throw Error("noUiSlider: 'unconstrained' behaviour cannot be used with margin or limit");b.events={tap:k||n,drag:h,dragAll:r,smoothSteps:c,fixed:l,snap:n,hover:p,unconstrained:m}}function fa(b,k){if(!1!==k)if(!0===k||c(k)){b.tooltips=[];for(var h=0;h<b.handles;h++)b.tooltips.push(k)}else{if((k=u(k)).length!==b.handles)throw Error("noUiSlider: must pass a formatter for all handles.");k.forEach(function(b){if("boolean"!=typeof b&&!c(b))throw Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.");
});b.tooltips=k}}function W(b,c){if(c.length!==b.handles)throw Error("noUiSlider: must pass a attributes for all handles.");b.handleAttributes=c}function V(b,k){if(!c(k))throw Error("noUiSlider: 'ariaFormat' requires 'to' method.");b.ariaFormat=k}function ba(b,k){if(!c(h=k)||"function"!=typeof h.from)throw Error("noUiSlider: 'format' requires 'to' and 'from' methods.");var h;b.format=k}function S(b,c){if("boolean"!=typeof c)throw Error("noUiSlider: 'keyboardSupport' option must be a boolean.");b.keyboardSupport=
c}function Q(b,c){b.documentElement=c}function N(b,c){if("string"!=typeof c&&!1!==c)throw Error("noUiSlider: 'cssPrefix' must be a string or `false`.");b.cssPrefix=c}function Y(b,c){if("object"!=typeof c)throw Error("noUiSlider: 'cssClasses' must be an object.");"string"==typeof b.cssPrefix?(b.cssClasses={},Object.keys(c).forEach(function(k){b.cssClasses[k]=b.cssPrefix+c[k]})):b.cssClasses=c}function ka(b){var c={margin:null,limit:null,padding:null,animate:!0,animationDuration:300,ariaFormat:na,format:na},
k={step:{r:!1,t:z},keyboardPageMultiplier:{r:!1,t:n},keyboardMultiplier:{r:!1,t:E},keyboardDefaultStep:{r:!1,t:D},start:{r:!0,t:B},connect:{r:!0,t:J},direction:{r:!0,t:M},snap:{r:!1,t:F},animate:{r:!1,t:C},animationDuration:{r:!1,t:I},range:{r:!0,t:y},orientation:{r:!1,t:G},margin:{r:!1,t:K},limit:{r:!1,t:L},padding:{r:!1,t:P},behaviour:{r:!0,t:R},ariaFormat:{r:!1,t:V},format:{r:!1,t:ba},tooltips:{r:!1,t:fa},keyboardSupport:{r:!0,t:S},documentElement:{r:!1,t:Q},cssPrefix:{r:!0,t:N},cssClasses:{r:!0,
t:Y},handleAttributes:{r:!1,t:W}},h={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",keyboardSupport:!0,cssPrefix:"noUi-",cssClasses:la,keyboardPageMultiplier:5,keyboardMultiplier:1,keyboardDefaultStep:10};b.format&&!b.ariaFormat&&(b.ariaFormat=b.format);Object.keys(k).forEach(function(l){if(null!=b[l]||void 0!==h[l])k[l].t(c,(null!=b[l]?b:h)[l]);else if(k[l].r)throw Error("noUiSlider: '"+l+"' is required.");});c.pips=b.pips;var l=document.createElement("div"),p=void 0!==l.style.msTransform,
l=void 0!==l.style.transform;c.transformRule=l?"transform":p?"msTransform":"webkitTransform";return c.style=[["left","top"],["right","bottom"]][c.dir][c.ort],c}function X(c,l,n){function r(b,c){var k=za.createElement("div");return c&&x(k,c),b.appendChild(k),k}function v(b,c){var k;b=r(b,l.cssClasses.origin);var h=r(b,l.cssClasses.handle);return r(h,l.cssClasses.touchArea),h.setAttribute("data-handle",String(c)),l.keyboardSupport&&(h.setAttribute("tabindex","0"),h.addEventListener("keydown",function(b){return function(b,
c){if(ta.hasAttribute("disabled")||q(c))return!1;var k=["Left","Right"],h=["Down","Up"],n=["PageDown","PageUp"],p=["Home","End"];l.dir&&!l.ort?k.reverse():l.ort&&!l.dir&&(h.reverse(),n.reverse());var m=b.key.replace("Arrow",""),r=m===n[0],v=m===n[1],n=m===h[0]||m===k[0]||r,h=m===h[1]||m===k[1]||v,k=m===p[0],p=m===p[1];if(!(n||h||k||p))return!0;if(b.preventDefault(),h||n){b=n?0:1;b=U(c)[b];if(null===b)return!1;!1===b&&(b=O.getDefaultStep(pa[c],n,l.keyboardDefaultStep));b*=v||r?l.keyboardPageMultiplier:
l.keyboardMultiplier;b=Math.max(b,1E-7);b=qa[c]+b*(n?-1:1)}else b=p?l.spectrum.xVal[l.spectrum.xVal.length-1]:l.spectrum.xVal[0];return Ea(c,O.toStepping(b),!0,!0),Q("slide",c),Q("update",c),Q("change",c),Q("set",c),!1}(b,c)})),void 0!==l.handleAttributes&&(k=l.handleAttributes[c],Object.keys(k).forEach(function(b){h.setAttribute(b,k[b])})),h.setAttribute("role","slider"),h.setAttribute("aria-orientation",l.ort?"vertical":"horizontal"),0===c?x(h,l.cssClasses.handleLower):c===l.handles-1&&x(h,l.cssClasses.handleUpper),
b.handle=h,b}function w(b,c){return!(!l.tooltips||!l.tooltips[c])&&r(b.firstChild,l.cssClasses.tooltip)}function q(b){return V[b].hasAttribute("disabled")}function y(){Ha&&(la("update"+ea.tooltips),Ha.forEach(function(b){b&&b.parentElement.removeChild(b)}),Ha=null)}function z(){y();Ha=V.map(w);A("update"+ea.tooltips,function(b,c,k){Ha&&l.tooltips&&!1!==Ha[c]&&(b=b[c],!0!==l.tooltips[c]&&(b=l.tooltips[c].to(k[c])),Ha[c].innerHTML=b)})}function D(b,c){return b.map(function(b){return O.fromStepping(c?
O.getStep(b):b)})}function B(c){var k=function(c){if(c.mode===b.PipsMode.Range||c.mode===b.PipsMode.Steps)return O.xVal;if(c.mode!==b.PipsMode.Count)return c.mode===b.PipsMode.Positions?D(c.values,c.stepped):c.mode===b.PipsMode.Values?c.stepped?c.values.map(function(b){return O.fromStepping(O.getStep(O.toStepping(b)))}):c.values:[];if(2>c.values)throw Error("noUiSlider: 'values' (\x3e\x3d 2) required for mode 'count'.");for(var k=c.values-1,h=100/k,l=[];k--;)l[k]=k*h;return l.push(100),D(l,c.stepped)}(c),
h={},l=O.xVal[0],n=O.xVal[O.xVal.length-1],p=!1,m=!1,r=0;return(k=k.slice().sort(function(b,c){return b-c}).filter(function(b){return!this[b]&&(this[b]=!0)},{}))[0]!==l&&(k.unshift(l),p=!0),k[k.length-1]!==n&&(k.push(n),m=!0),k.forEach(function(l,n){var v,w,q,y,z,u=k[n+1],D=c.mode===b.PipsMode.Steps,x=(x=D?O.xNumSteps[n]:x)||u-l;void 0===u&&(u=l);for(x=Math.max(x,1E-7);l<=u;l=Number((l+x).toFixed(7))){y=(v=(w=O.toStepping(l))-r)/(c.density||1);z=v/(y=Math.round(y));for(v=1;v<=y;v+=1)h[(q=r+v*z).toFixed(5)]=
[O.fromStepping(q),0];y=-1<k.indexOf(l)?b.PipsType.LargeValue:D?b.PipsType.SmallValue:b.PipsType.NoValue;!n&&p&&l!==u&&(y=0);l===u&&m||(h[w.toFixed(5)]=[l,y]);r=w}}),h}function E(c,k,h){function n(b,c){var k=c===l.cssClasses.value;return c+" "+(k?q:y)[l.ort]+" "+(k?v:w)[b]}var p,m=za.createElement("div"),v=((p={})[b.PipsType.None]="",p[b.PipsType.NoValue]=l.cssClasses.valueNormal,p[b.PipsType.LargeValue]=l.cssClasses.valueLarge,p[b.PipsType.SmallValue]=l.cssClasses.valueSub,p),w=((p={})[b.PipsType.None]=
"",p[b.PipsType.NoValue]=l.cssClasses.markerNormal,p[b.PipsType.LargeValue]=l.cssClasses.markerLarge,p[b.PipsType.SmallValue]=l.cssClasses.markerSub,p),q=[l.cssClasses.valueHorizontal,l.cssClasses.valueVertical],y=[l.cssClasses.markerHorizontal,l.cssClasses.markerVertical];return x(m,l.cssClasses.pips),x(m,0===l.ort?l.cssClasses.pipsHorizontal:l.cssClasses.pipsVertical),Object.keys(c).forEach(function(p){var v,w,q;w=c[v=p][0];q=c[p][1];(q=k?k(w,q):q)!==b.PipsType.None&&((p=r(m,!1)).className=n(q,
l.cssClasses.marker),p.style[l.style]=v+"%",q>b.PipsType.NoValue&&((p=r(m,!1)).className=n(q,l.cssClasses.value),p.setAttribute("data-value",String(w)),p.style[l.style]=v+"%",p.innerHTML=String(h.to(w))))}),m}function C(){Ra&&(Ra.parentElement.removeChild(Ra),Ra=null)}function F(b){C();var c=B(b),k=b.filter;b=b.format||{to:function(b){return String(Math.round(b))}};return Ra=ta.appendChild(E(c,k,b))}function G(){var b=ca.getBoundingClientRect(),c="offset"+["Width","Height"][l.ort];return 0===l.ort?
b.width||ca[c]:b.height||ca[c]}function J(b,c,k,h){function n(m){var r,v=function(b,c,k){var h=0===b.type.indexOf("touch"),l=0===b.type.indexOf("mouse"),n=0===b.type.indexOf("pointer"),m=0,r=0;0===b.type.indexOf("MSPointer")&&(n=!0);if("mousedown"===b.type&&!b.buttons&&!b.touches)return!1;if(h)if(h=function(c){c=c.target;return c===k||k.contains(c)||b.composed&&b.composedPath().shift()===k},"touchstart"===b.type){h=Array.prototype.filter.call(b.touches,h);if(1<h.length)return!1;m=h[0].pageX;r=h[0].pageY}else{h=
Array.prototype.find.call(b.changedTouches,h);if(!h)return!1;m=h.pageX;r=h.pageY}c=c||p(za);(l||n)&&(m=b.clientX+c.x,r=b.clientY+c.y);return b.pageOffset=c,b.points=[m,r],b.cursor=l||n,b}(m,h.pageOffset,h.target||c);return!!v&&!(ta.hasAttribute("disabled")&&!h.doNotReject)&&(r=ta,m=l.cssClasses.tap,!((r.classList?r.classList.contains(m):(new RegExp("\\b"+m+"\\b")).test(r.className))&&!h.doNotReject)&&!(b===Na.start&&void 0!==v.buttons&&1<v.buttons)&&(!h.hover||!v.buttons)&&(cb||v.preventDefault(),
v.calcPoint=v.points[l.ort],void k(v,h)))}var m=[];return b.split(" ").forEach(function(b){c.addEventListener(b,n,!!cb&&{passive:!0});m.push([b,n])}),m}function I(b){var c,k,h=Math.max(Math.min(h=100*(b-(h=ca,c=l.ort,k=h.getBoundingClientRect(),h=(b=h.ownerDocument).documentElement,b=p(b),/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(b.x=0),c?k.top+b.y-h.clientTop:k.left+b.x-h.clientLeft))/G(),100),0);return l.dir?100-h:h}function K(b,c){"mouseout"===b.type&&"HTML"===b.target.nodeName&&null===
b.relatedTarget&&S(b,c)}function L(b,c){if(-1===navigator.appVersion.indexOf("MSIE 9")&&0===b.buttons&&0!==c.buttonsProperty)return S(b,c);b=(l.dir?-1:1)*(b.calcPoint-c.startCalcPoint);na(0<b,100*b/c.baseSize,c.locations,c.handleNumbers,c.connect)}function S(b,c){c.handle&&(k(c.handle,l.cssClasses.active),--Wa);c.listeners.forEach(function(b){Ia.removeEventListener(b[0],b[1])});0===Wa&&(k(ta,l.cssClasses.drag),Y(),b.cursor&&(Ja.style.cursor="",Ja.removeEventListener("selectstart",h)));l.events.smoothSteps&&
(c.handleNumbers.forEach(function(b){Ea(b,pa[b],!0,!0,!1,!1)}),c.handleNumbers.forEach(function(b){Q("update",b)}));c.handleNumbers.forEach(function(b){Q("change",b);Q("set",b);Q("end",b)})}function N(b,c){var k,n,p,m;c.handleNumbers.some(q)||(1===c.handleNumbers.length&&(m=V[c.handleNumbers[0]].children[0],Wa+=1,x(m,l.cssClasses.active)),b.stopPropagation(),n=J(Na.move,Ia,L,{target:b.target,handle:m,connect:c.connect,listeners:k=[],startCalcPoint:b.calcPoint,baseSize:G(),pageOffset:b.pageOffset,
handleNumbers:c.handleNumbers,buttonsProperty:b.buttons,locations:pa.slice()}),p=J(Na.end,Ia,S,{target:b.target,handle:m,listeners:k,doNotReject:!0,handleNumbers:c.handleNumbers}),m=J("mouseout",Ia,K,{target:b.target,handle:m,listeners:k,doNotReject:!0,handleNumbers:c.handleNumbers}),k.push.apply(k,n.concat(p,m)),b.cursor&&(Ja.style.cursor=getComputedStyle(b.target).cursor,1<V.length&&x(ta,l.cssClasses.drag),Ja.addEventListener("selectstart",h,!1)),c.handleNumbers.forEach(function(b){Q("start",b)}))}
function ba(b){b.stopPropagation();var c,k,h=I(b.calcPoint),n=(k=!(c=100),V.forEach(function(b,l){var n,p;q(l)||(n=pa[l],((p=Math.abs(n-h))<c||p<=c&&n<h||100===p&&100===c)&&(k=l,c=p))}),k);!1!==n&&(l.events.snap||m(ta,l.cssClasses.tap,l.animationDuration),Ea(n,h,!0,!0),Y(),Q("slide",n,!0),Q("update",n,!0),l.events.snap?N(b,{handleNumbers:[n]}):(Q("change",n,!0),Q("set",n,!0)))}function P(b){b=I(b.calcPoint);b=O.getStep(b);var c=O.fromStepping(b);Object.keys(Ca).forEach(function(b){"hover"===b.split(".")[0]&&
Ca[b].forEach(function(b){b.call(Oa,c)})})}function A(b,c){Ca[b]=Ca[b]||[];Ca[b].push(c);"update"===b.split(".")[0]&&V.forEach(function(b,c){Q("update",c)})}function la(b){var c=b&&b.split(".")[0],k=c?b.substring(c.length):b;Object.keys(Ca).forEach(function(b){var h=b.split(".")[0],l=b.substring(h.length);c&&c!==h||k&&k!==l||((h=l)!==ea.aria&&h!==ea.tooltips||k===l)&&delete Ca[b]})}function Q(b,c,k){Object.keys(Ca).forEach(function(h){var n=h.split(".")[0];b===n&&Ca[h].forEach(function(b){b.call(Oa,
qa.map(l.format.to),c,qa.slice(),k||!1,pa.slice(),Oa)})})}function Va(b,c,k,h,n,p,m){var r;return 1<V.length&&!l.events.unconstrained&&(h&&0<c&&(r=O.getAbsoluteDistance(b[c-1],l.margin,!1),k=Math.max(k,r)),n&&c<V.length-1&&(r=O.getAbsoluteDistance(b[c+1],l.margin,!0),k=Math.min(k,r))),1<V.length&&l.limit&&(h&&0<c&&(r=O.getAbsoluteDistance(b[c-1],l.limit,!1),k=Math.min(k,r)),n&&c<V.length-1&&(r=O.getAbsoluteDistance(b[c+1],l.limit,!0),k=Math.max(k,r))),l.padding&&(0===c&&(r=O.getAbsoluteDistance(0,
l.padding[0],!1),k=Math.max(k,r)),c===V.length-1&&(r=O.getAbsoluteDistance(100,l.padding[1],!0),k=Math.min(k,r))),!((k=Math.max(Math.min(k=m?k:O.getStep(k),100),0))===b[c]&&!p)&&k}function M(b,c){var k=l.ort;return(k?c:b)+", "+(k?b:c)}function na(b,c,k,h,n){var p=k.slice(),m=h[0],r=l.events.smoothSteps,v=[!b,b],w=[b,!b];h=h.slice();b&&h.reverse();1<h.length?h.forEach(function(b,k){k=Va(p,b,p[b]+c,v[k],w[k],!1,r);!1===k?c=0:(c=k-p[b],p[b]=k)}):v=w=[!0];var q=!1;h.forEach(function(b,h){q=Ea(b,k[b]+
c,v[h],w[h],!1,r)||q});q&&(h.forEach(function(b){Q("update",b);Q("slide",b)}),null!=n&&Q("drag",m))}function Y(){ya.forEach(function(b){var c=50<pa[b]?-1:1,c=3+(V.length+c*b);V[b].style.zIndex=String(c)})}function Ea(b,c,k,h,n,p){return!1!==(c=n?c:Va(pa,b,c,k,h,!1,p))&&(pa[b]=c,qa[b]=O.fromStepping(c),c="translate("+M((l.dir?100-c-0:c)-nb+"%","0")+")",V[b].style[l.transformRule]=c,R(b),R(b+1),!0)}function R(b){var c,k;if(ia[b]){k=100;var h=c=(c=0)!==b?pa[b-1]:c;c=k=(k=b!==ia.length-1?pa[b]:k)-c;c=
"translate("+M((l.dir?100-h-c:h)+"%","0")+")";k="scale("+M(k/100,"1")+")";ia[b].style[l.transformRule]=c+" "+k}}function fa(b,c){return null===b||!1===b||void 0===b?pa[c]:("number"==typeof b&&(b=String(b)),!1===(b=!1!==(b=l.format.from(b))?O.toStepping(b):b)||isNaN(b)?pa[c]:b)}function W(b,c,k){var h=u(b);b=void 0===pa[0];c=void 0===c||c;l.animate&&!b&&m(ta,l.cssClasses.tap,l.animationDuration);ya.forEach(function(b){Ea(b,fa(h[b],b),!0,!1,k)});var n,p=1===ya.length?0:1;for(b&&O.hasNoSize()&&(k=!0,
pa[0]=0,1<ya.length&&(n=100/(ya.length-1),ya.forEach(function(b){pa[b]=b*n})));p<ya.length;++p)ya.forEach(function(b){Ea(b,pa[b],!0,!0,k)});Y();ya.forEach(function(b){Q("update",b);null!==h[b]&&c&&Q("set",b)})}function X(b){if(void 0===b?0:b)return 1===qa.length?qa[0]:qa.slice(0);b=qa.map(l.format.to);return 1===b.length?b[0]:b}function U(b){var c=pa[b],k=O.getNearbySteps(c);b=qa[b];var h=k.thisStep.step;if(l.snap)return[b-k.stepBefore.startValue||null,k.stepAfter.startValue-b||null];!1!==h&&b+h>
k.stepAfter.startValue&&(h=k.stepAfter.startValue-b);b=b>k.thisStep.startValue?k.thisStep.step:!1!==k.stepBefore.step&&b-k.stepBefore.highestStep;100===c?h=null:0===c&&(b=null);c=O.countStepDecimals();return null!==h&&!1!==h&&(h=Number(h.toFixed(c))),[null!==b&&!1!==b?Number(b.toFixed(c)):b,h]}var ca,V,ia,Ra,Ha,Ba,Na=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:
{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"},cb=window.CSS&&CSS.supports&&CSS.supports("touch-action","none")&&function(){var b=!1;try{var c=Object.defineProperty({},"passive",{get:function(){b=!0}});window.addEventListener("test",null,c)}catch(k){}return b}(),ta=c,O=l.spectrum,qa=[],pa=[],ya=[],Wa=0,Ca={},za=c.ownerDocument,Ia=l.documentElement||za.documentElement,Ja=za.body,nb="rtl"===za.dir||1===l.ort?0:100;x(c=ta,l.cssClasses.target);0===l.dir?x(c,l.cssClasses.ltr):
x(c,l.cssClasses.rtl);0===l.ort?x(c,l.cssClasses.horizontal):x(c,l.cssClasses.vertical);x(c,"rtl"===getComputedStyle(c).direction?l.cssClasses.textDirectionRtl:l.cssClasses.textDirectionLtr);ca=r(c,l.cssClasses.base);(function(b,c){var k=r(c,l.cssClasses.connects);V=[];(ia=[]).push(!!b[0]&&r(k,l.cssClasses.connect));for(var h=0;h<l.handles;h++)V.push(v(c,h)),ya[h]=h,ia.push(!!b[h+1]&&r(k,l.cssClasses.connect))})(l.connect,ca);(Ba=l.events).fixed||V.forEach(function(b,c){J(Na.start,b.children[0],N,
{handleNumbers:[c]})});Ba.tap&&J(Na.start,ca,ba,{});Ba.hover&&J(Na.move,ca,P,{hover:!0});Ba.drag&&ia.forEach(function(b,c){var k,h,n,p,m;!1!==b&&0!==c&&c!==ia.length-1&&(k=V[c-1],h=V[c],n=[b],p=[k,h],m=[c-1,c],x(b,l.cssClasses.draggable),Ba.fixed&&(n.push(k.children[0]),n.push(h.children[0])),Ba.dragAll&&(p=V,m=ya),n.forEach(function(c){J(Na.start,c,N,{handles:p,handleNumbers:m,connect:b})}))});W(l.start);l.pips&&F(l.pips);l.tooltips&&z();la("update"+ea.aria);A("update"+ea.aria,function(b,c,k,h,n){ya.forEach(function(b){var c=
V[b],h=Va(pa,b,0,!0,!0,!0),p=Va(pa,b,100,!0,!0,!0),m=n[b];b=String(l.ariaFormat.to(k[b]));h=O.fromStepping(h).toFixed(1);p=O.fromStepping(p).toFixed(1);m=O.fromStepping(m).toFixed(1);c.children[0].setAttribute("aria-valuemin",h);c.children[0].setAttribute("aria-valuemax",p);c.children[0].setAttribute("aria-valuenow",m);c.children[0].setAttribute("aria-valuetext",b)})});var Oa={destroy:function(){la(ea.aria);la(ea.tooltips);for(Object.keys(l.cssClasses).forEach(function(b){k(ta,l.cssClasses[b])});ta.firstChild;)ta.removeChild(ta.firstChild);
delete ta.noUiSlider},steps:function(){return ya.map(U)},on:A,off:la,get:X,set:W,setHandle:function(b,c,k,h){if(!(0<=(b=Number(b))&&b<ya.length))throw Error("noUiSlider: invalid handle number, got: "+b);Ea(b,fa(c,b),!0,!0,h);Q("update",b);k&&Q("set",b)},reset:function(b){W(l.start,b)},disable:function(b){null!=b?(V[b].setAttribute("disabled",""),V[b].handle.removeAttribute("tabindex")):(ta.setAttribute("disabled",""),V.forEach(function(b){b.handle.removeAttribute("tabindex")}))},enable:function(b){null!=
b?(V[b].removeAttribute("disabled"),V[b].handle.setAttribute("tabindex","0")):(ta.removeAttribute("disabled"),V.forEach(function(b){b.removeAttribute("disabled");b.handle.setAttribute("tabindex","0")}))},__moveHandles:function(b,c,k){na(b,c,pa,k)},options:n,updateOptions:function(b,c){var k=X(),h="margin limit padding range animate snap step format pips tooltips".split(" ");h.forEach(function(c){void 0!==b[c]&&(n[c]=b[c])});var p=ka(n);h.forEach(function(c){void 0!==b[c]&&(l[c]=p[c])});O=p.spectrum;
l.margin=p.margin;l.limit=p.limit;l.padding=p.padding;l.pips?F(l.pips):C();(l.tooltips?z:y)();pa=[];W(null!=b.start?b.start:k,c)},target:ta,removePips:C,removeTooltips:y,getPositions:function(){return pa.slice()},getTooltips:function(){return Ha},getOrigins:function(){return V},pips:F};return Oa}function ia(b,c){if(!b||!b.nodeName)throw Error("noUiSlider: create requires a single element, got: "+b);if(b.noUiSlider)throw Error("noUiSlider: Slider was already initialized.");c=X(b,ka(c),c);return b.noUiSlider=
c}b.PipsMode=void 0;(ca=b.PipsMode||(b.PipsMode={})).Range="range";ca.Steps="steps";ca.Positions="positions";ca.Count="count";ca.Values="values";b.PipsType=void 0;(ca=b.PipsType||(b.PipsType={}))[ca.None=-1]="None";ca[ca.NoValue=0]="NoValue";ca[ca.LargeValue=1]="LargeValue";ca[ca.SmallValue=2]="SmallValue";var U=(v.prototype.getDistance=function(b){for(var c=[],k=0;k<this.xNumSteps.length-1;k++)c[k]=r(this.xVal,b,k);return c},v.prototype.getAbsoluteDistance=function(b,c,k){var h=0;if(b<this.xPct[this.xPct.length-
1])for(;b>this.xPct[h+1];)h++;else b===this.xPct[this.xPct.length-1]&&(h=this.xPct.length-2);k||b!==this.xPct[h+1]||h++;for(var l,n=1,p=(c=null===c?[]:c)[h],m=0,r=0,v=0,w=k?(b-this.xPct[h])/(this.xPct[h+1]-this.xPct[h]):(this.xPct[h+1]-b)/(this.xPct[h+1]-this.xPct[h]);0<p;)l=this.xPct[h+1+v]-this.xPct[h+v],100<c[h+v]*n+100-100*w?(m=l*w,n=(p-100*w)/c[h+v],w=1):(m=c[h+v]*l/100*n,n=0),k?(r-=m,1<=this.xPct.length+v&&v--):(r+=m,1<=this.xPct.length-v&&v++),p=c[h+v]*n;return b+r},v.prototype.toStepping=
function(b){var c=this.xVal,k=this.xPct;if(b>=c.slice(-1)[0])b=100;else{var h=w(b,c),l=c[h-1],n=c[h],c=k[h-1],h=k[h];b=c+r(n=[l,n],0>n[0]?b+Math.abs(n[0]):b-n[0],0)/(100/(h-c))}return b},v.prototype.fromStepping=function(b){var c=this.xVal,k=this.xPct;if(100<=b)b=c.slice(-1)[0];else{var h=w(b,k),l=c[h-1],n=c[h],c=k[h-1],h=k[h];b=100/(h-c)*(b-c)*((n=[l,n])[1]-n[0])/100+n[0]}return b},v.prototype.getStep=function(b){var c=this.xPct,k=this.xSteps,h=this.snap;if(100!==b){var l=w(b,c),n=c[l-1],p=c[l];
b=h?(p-n)/2<b-n?p:n:k[l-1]?c[l-1]+(c=b-c[l-1],l=k[l-1],Math.round(c/l)*l):b}return b},v.prototype.getDefaultStep=function(b,c,k){var h=w(b,this.xPct);return(100===b||c&&b===this.xPct[h-1])&&(h=Math.max(h-1,1)),(this.xVal[h]-this.xVal[h-1])/k},v.prototype.getNearbySteps=function(b){b=w(b,this.xPct);return{stepBefore:{startValue:this.xVal[b-2],step:this.xNumSteps[b-2],highestStep:this.xHighestCompleteStep[b-2]},thisStep:{startValue:this.xVal[b-1],step:this.xNumSteps[b-1],highestStep:this.xHighestCompleteStep[b-
1]},stepAfter:{startValue:this.xVal[b],step:this.xNumSteps[b],highestStep:this.xHighestCompleteStep[b]}}},v.prototype.countStepDecimals=function(){var b=this.xNumSteps.map(q);return Math.max.apply(null,b)},v.prototype.hasNoSize=function(){return this.xVal[0]===this.xVal[this.xVal.length-1]},v.prototype.convert=function(b){return this.getStep(this.toStepping(b))},v.prototype.handleEntryPoint=function(b,c){b="min"===b?0:"max"===b?100:parseFloat(b);if(!l(b)||!l(c[0]))throw Error("noUiSlider: 'range' value isn't numeric.");
this.xPct.push(b);this.xVal.push(c[0]);c=Number(c[1]);b?this.xSteps.push(!isNaN(c)&&c):isNaN(c)||(this.xSteps[0]=c);this.xHighestCompleteStep.push(0)},v.prototype.handleStepPoint=function(b,c){c&&(this.xVal[b]!==this.xVal[b+1]?(this.xSteps[b]=r([this.xVal[b],this.xVal[b+1]],c,0)/(100/(this.xPct[b+1]-this.xPct[b])),c=(this.xVal[b+1]-this.xVal[b])/this.xNumSteps[b],c=Math.ceil(Number(c.toFixed(3))-1),c=this.xVal[b]+this.xNumSteps[b]*c,this.xHighestCompleteStep[b]=c):this.xSteps[b]=this.xHighestCompleteStep[b]=
this.xVal[b])},v),na={to:function(b){return void 0===b?"":b.toFixed(2)},from:Number},la={target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",touchArea:"touch-area",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",textDirectionLtr:"txt-dir-ltr",textDirectionRtl:"txt-dir-rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",
pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"},ea={tooltips:".__tooltips",aria:".__aria"},ca={__spectrum:U,cssClasses:la,create:ia};b.create=ia;b.cssClasses=
la;b.default=ca;Object.defineProperty(b,"__esModule",{value:!0})});
(function(){for(var b=0,c=["ms","moz","webkit","o"],h=0;h<c.length&&!window.requestAnimationFrame;++h)window.requestAnimationFrame=window[c[h]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[c[h]+"CancelAnimationFrame"]||window[c[h]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(c,h){var u=(new Date).getTime(),q=Math.max(0,16-(u-b));h=window.setTimeout(function(){c(u+q)},q);b=u+q;return h});window.cancelAnimationFrame||(window.cancelAnimationFrame=
function(b){clearTimeout(b)})})();
DKI.uri=DKI.apply({},{ComplexValueError:function(){var b=function(b){this.value=b;this.name="ComplexValueError";this.message="Could not encode complex value"};DKI.apply(b.prototype,{toString:function(){return[name,": ",message," ",value].join("")}});return b}(),encode:function(b){var c=[];DKI.iterate(b,function(b,c){if(DKI.isString(c))this.output.push(encodeURIComponent(b)+"\x3d"+encodeURIComponent(c));else if(DKI.isDate(c))this.output.push(encodeURIComponent(b)+"\x3d"+encodeURIComponent(c.toString()));
else if(DKI.isPrimitive(c))this.output.push(encodeURIComponent(b)+"\x3d"+c.toString());else throw new DKI.uri.ComplexValueError(c);},{output:c});return c.join("\x26")},decode:function(b){var c={};b=b.split("\x26");var h=b.length,l,m;for(l=0;l<h;l+=1)/=/.test(b[l])&&(m=b[l].split("\x3d"),c[m[0]]=m[1]);return c},decodeCurrentLocation:function(){return this.decode(window.location.search.replace(/^\?/,""))}});"undefined"==typeof DKI&&(DKI={});DKI.func||(DKI.func={});
DKI.func.debounce=function(b,c,h){var l,m=function(){var m=this,q=Array.prototype.slice.call(arguments);l?clearTimeout(l):h&&b.apply(m,q);l=setTimeout(function(){h||b.apply(m,q);l=null},c)};m.clear=function(){l&&clearTimeout(l)};return m};DKI.func.bind=function(b,c){return b.prototype.bind?b.bind(c):function(){b.apply(c,Array.prototype.slice.call(arguments))}};
DKI.func.Queue=function(){var b={},c={buildQueue:function(c){var l=b[c.name];l?c.id&&!~l.ids.indexOf(c.id)&&l.ids.push(c.id):b[c.name]={ids:c.id?[c.id]:[],callback:c.callback?c.callback:function(){}}},dequeue:function(h){var l=b[h.name];if(l){var m=l.ids.indexOf(h.id);~m&&l.ids.splice(m,1);c.checkQueue(h.name)}},checkQueue:function(c){var l=b[c];l&&0==l.ids.length&&(delete b[c],l.callback())},deleteQueue:function(c){return b[c]?(delete b[c],!0):!1}};return{queue:function(b){c.buildQueue(b)},dequeue:function(b){c.dequeue(b)},
getQueue:function(){return b},deleteQueue:function(b){return c.deleteQueue(b)}}};
DKI.func.imageLoader=function(b,c,h){h=h||function(){};b.css("opacity",0);var l=b.is("img")?b[0]:new Image,m=function(){b.addClass("imgLoadTransition");h({height:l.height,width:l.width});setTimeout(function(){b.removeClass("imgLoadTransition").css("opacity","")},500)};l.complete&&0!==l.naturalHeight?m():(l.onload=function(){b.is("img")||($(l).remove(),b.css({"background-image":"url('"+c+"')"}));requestAnimationFrame(function(){requestAnimationFrame(m)})},l.src=c)};
DKI.func.scrollWith=function(b,c,h){return function(){var l=null,m=DKI.applyIf(h,{offsetBottom:0,offsetTop:0,onWinResize:function(){}}),u={onScroll:function(){var h=-(c.offset().top-$(window).scrollTop()),l=c.offset().top-$(window).scrollTop()+c.outerHeight()-(b.outerHeight()+m.offsetBottom);0<l&&0>h?b.css("top",0):0<l&&0<h?b.css("top",h+m.offsetTop):b.css("top",$(window).scrollTop()-(c.offset().top+m.offsetTop)+l)},onWinResize:DKI.func.debounce(function(){m.onWinResize(m);u.onScroll()},30,!1)};return{start:function(){l||
(l=$(document).on("scroll",u.onScroll),$(window).on("resize",u.onWinResize),jQuery.inArray(c.css("position"),-1==["absolute","relative","fixed"])&&c.css("position","relative"),jQuery.inArray(b.css("position"),-1==["absolute","relative","fixed"])&&b.css("position","relative"))},stop:function(c){$(document).off("scroll",u.onScroll);$(window).off("resize",u.onWinResize);l=null;c&&b.css("top",0)}}}()};
DKI.courseStore=function(){var b=null,c={course:"course",module:"module",object:"object",page:"page",question:"question"},h=function(){return{complete:!1,completeCnt:0,nodeType:c.course,id:null,key:null,parentId:null,pageNote:null,transcript:null,childKeys:[],name:""}},l={},m=function(){return l[b]},u=function(b){return void 0===l[b]?null:l[b]};return{load:function(q){var x=q.testonly,k=c.course+q.courseid,p,r,w;l[k]=DKI.applyIf(DKI.apply({nodeType:c.course,key:k,parentId:k},q),new h);delete l[k].modules;
b=k;var v=function(b,c){if("placeholder"!=b.elementtype){if(""==b.title){if("htm"==b.elementtype||"table"==b.elementtype||"tab"==b.elementtype)b.title=b.meta;""==b.title&&(b.title="Untitled "+b.elementtype+" Element")}b.meta=b.meta.toString();$(document).trigger(this.events.elementRegistered,[b,c]);for(var k=0;k<b.elements.length;k++)v.call(this,b.elements[k],c)}},z=function(b){for(var c=0;c<b.groups.length;c++){var k=b.groups[c];$(document).trigger(this.events.groupRegistered,[k]);for(var h=0;h<
k.elements.length;h++)v.call(this,k.elements[h],!0)}};for(p=0;p<q.modules.length;p++){var n=q.modules[p],E=c.module+n.loid;l[E]=DKI.applyIf(DKI.apply({nodeType:c.module,key:E,parentId:k,questionKeys:[]},n),new h);delete l[E].objects;l[k].childKeys.push(E);$(document).trigger(this.events.moduleRegistered,[n]);for(r=0;r<n.objects.length;r++){var D=n.objects[r],y=D.subeos,B=c.object+D.objectid;l[B]=DKI.applyIf(DKI.apply({nodeType:c.object,key:B,parentId:E},D),new h);delete l[B].pages;l[E].childKeys.push(B);
$(document).trigger(this.events.loRegistered,[D]);for(w=0;w<y.length;w++){var F=y[w],C=c.page+F.page.pageid;l[C]=DKI.applyIf(DKI.apply({nodeType:c.page,key:C,parentId:B,moduleKey:E},F),new h);l[B].childKeys.push(C);$(document).trigger(this.events.pageRegistered,[F.page]);for(C=0;C<F.page.groups.length;C++){var I=F.page.groups[C];$(document).trigger(this.events.groupRegistered,[I]);for(var J=0;J<I.elements.length;J++){var G=I.elements[J];v.call(this,G,F.subeoid?!1:!0)}}}if(0<D.subeos.length||x)for(w=
0;w<D.questions.length;w++)y=D.questions[w],F=c.question+y.id,l[F]=DKI.applyIf(DKI.apply({nodeType:c.question,key:F,parentId:B,pageId:y.pageid,transcript:""},y),new h),$(document).trigger(this.events.questionRegistered,[F]),l[E].questionKeys.push(F),l[B].childKeys.push(F);for(w=0;w<D.questions.length;w++)for(y=D.questions[w],F=c.question+y.id,C=0;C<y.page.groups.length;C++)for(I=y.page.groups[C],$(document).trigger(this.events.groupRegistered,[I]),J=0;J<I.elements.length;J++)G=I.elements[J],v.call(this,
G,y.subeoid?!1:!0)}}q.header_primary_page&&z.call(this,q.header_primary_page);q.footer_primary_page&&z.call(this,q.footer_primary_page);q.header_secondary_page&&z.call(this,q.header_secondary_page);q.footer_secondary_page&&z.call(this,q.footer_secondary_page);q.module_summary_page&&z.call(this,q.module_summary_page);q.course_summary_page&&z.call(this,q.course_summary_page);q.certificate_page&&z.call(this,q.certificate_page);q.module_introduction_page&&z.call(this,q.module_introduction_page);q.course_introduction_page&&
z.call(this,q.course_introduction_page);for(p=0;p<q.resourcePages.length;p++)z.call(this,q.resourcePages[p]);$(document).trigger(this.events.courseRegistered,[q]);$(player.dataStorage).on(DKI.DataStorage.events.pageCompleted,function(b,k){u(c.page+k).complete=!0});$(player.dataStorage).on(DKI.DataStorage.events.objectCompleted,function(b,k){u(c.object+k).complete=!0});$(player.dataStorage).on(DKI.DataStorage.events.moduleCompleted,function(b,k){u(c.module+k).complete=!0});$(player.dataStorage).on(DKI.DataStorage.events.courseCompleted,
function(b){m().complete=!0});return!0},NodeType:c,get:u,set:function(b){l[b.key]=b;return l[b.key]},course:{get:m,set:function(c){l[b]=c;return null}},module:{all:function(){var c=[],h;for(h in l[b].childKeys)c.push(l[l[b].childKeys[h]]);return c},get:function(b){return l[b].nodeType==c.module?l[b]:null},set:function(b){l[b.key]=b;return null}},object:{all:function(){var c=[],h;for(h in l[b].childKeys)for(var k in l[l[b].childKeys[h]].childKeys)c.push(l[l[l[b].childKeys[h]].childKeys[k]]);return c},
get:function(b){return(b=l[b])&&b.nodeType==c.object?b:null},getForPage:function(c){for(var h in l[b].childKeys){var k=l[l[b].childKeys[h]],p;for(p in k.childKeys){var m=l[k.childKeys[p]],w;for(w in m.childKeys)if(m.childKeys[w]==c)return m}}return null},set:function(b){l[b.key]=b;return null}},page:{all:function(){var c=[],h;for(h in l[b].childKeys){var k=l[l[b].childKeys[h]],p;for(p in k.childKeys){var m=l[k.childKeys[p]],w;for(w in m.childKeys)c.push(l[m.childKeys[w]])}}return c},get:function(b){return l[b].nodeType==
c.page?l[b]:null},set:function(b){l[b.key]=b;return null}},store:l,events:{courseRegistered:"courseRegistered",moduleRegistered:"moduleRegistered",loRegistered:"loRegistered",pageRegistered:"pageRegistered",elementRegistered:"elementRegistered",groupRegistered:"groupRegistered",questionRegistered:"questionRegistered"}}}();DKI||(DKI={});
DKI.ContentPage=function(){var b,c=$("#contentFrame");c.css("overflow-y");var h=/http:\/\/|https:\/\//i.test(window.location.href),l=function(){var k=!1,p=!1,m=!1,w=function(b,c,k,h){var l=[];h.data("bookmarks")&&(l=JSON.parse(unescape(h.data("bookmarks"))));var n="play";void 0!=DKI.strings.runtime.media_play&&(n=DKI.strings.runtime.media_play);var p='\x3cdiv id\x3d"'+b+'_container" class\x3d"jp-video" dir\x3d"ltr"\x3e\x3cdiv class\x3d"jp-type-single"\x3e\x3cdiv id\x3d"'+b+'_player" class\x3d"jp-video-player"\x3e\x3c/div\x3e\x3cdiv class\x3d"jp-video-play" tabindex\x3d\'-1\'\x3e\x3ca class\x3d"jp-video-play-icon" title\x3d"'+
n+'"\x3e\x3c/a\x3e\x3c/div\x3e';k&&(p+='\x3cdiv class\x3d"playHeadBlocker"\x3e\x3c/div\x3e');p+='\x3cdiv class\x3d"jp-gui"\x3e';c||(p+='\x3cdiv class\x3d"jp-interface"\x3e\x3cdiv class\x3d"jp-progress"\x3e\x3cdiv class\x3d"jp-seek-bar"\x3e\x3cdiv class\x3d"jp-play-bar"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"jp-controls-holder"\x3e\x3cdiv class\x3d"jp-controls '+(h.data("allowfullscreen")?"allowFs":"")+'"\x3e\x3cspan style\x3d\'width:0;height:0;\'\x3e\x3ca tabindex\x3d\'-1\' aria-hidden\x3d\'true\' class\x3d"" role\x3d"button"\x3e\x3c/a\x3e\x3c/span\x3e\x3cspan\x3e\x3ca tabindex\x3d\'1\' class\x3d"jp-play" role\x3d"button"\x3eplay\x3c/a\x3e\x3c/span\x3e\x3cspan\x3e\x3ca tabindex\x3d\'1\' class\x3d"jp-pause" role\x3d"button"\x3epause\x3c/a\x3e\x3c/span\x3e\x3cspan\x3e\x3ca tabindex\x3d\'1\' class\x3d"jp-mute" role\x3d"button"\x3emute\x3c/a\x3e\x3c/span\x3e\x3cspan\x3e\x3ca tabindex\x3d\'1\' class\x3d"jp-unmute" role\x3d"button"\x3eunmute\x3c/a\x3e\x3c/span\x3e',
""!=h.data("transcript")&&(p+='\x3cspan\x3e\x3ca tabindex\x3d\'1\' class\x3d"jp-transcript" role\x3d"button"\x3etranscript\x3c/a\x3e\x3c/span\x3e'),p+='\x3cspan class\x3d"jp-time" tabindex\x3d\'1\' \x3e\x3cdiv class\x3d"jp-current-time"\x3e\x3c/div\x3e\x3cdiv\x3e/\x3c/div\x3e\x3cdiv class\x3d"jp-duration"\x3e\x3c/div\x3e\x3c/span\x3e\x3cspan class\x3d"jp-cc"\x3e\x3ca tabindex\x3d\'1\' role\x3d"button" aria-label\x3d\''+DKI.strings.runtime.media_cc+'\'\x3e\x3ci class\x3d"fa fa-cc"\x3e\x3c/i\x3e\x3c/a\x3e\x3c/span\x3e',
0<l.length&&(p+='\x3cspan class\x3d"jp-bm"\x3e\x3ca tabindex\x3d\'1\' class\x3d"jp-bookmark" role\x3d"button"\x3ebookmarks\x3c/a\x3e\x3c/span\x3e'),h.data("allowFullScreen")&&(p+='\x3cspan class\x3d"jp-fs"\x3e\x3ca tabindex\x3d\'1\' class\x3d"jp-full-screen" role\x3d"button"\x3efull screen\x3c/a\x3e\x3c/span\x3e\x3cspan class\x3d"jp-fs"\x3e\x3ca tabindex\x3d\'1\' class\x3d"jp-restore-screen" role\x3d"button"\x3erestore\x3c/a\x3e\x3c/span\x3e'),p+='\x3c/div\x3e\x3cdiv class\x3d"jp-volume-bar"\x3e\x3cdiv class\x3d"jp-volume-bar-value"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e',
0<l.length&&(p+='\x3cdiv class\x3d"bookmark-wrapper"\x3e',p+='\x3ci class\x3d"bookmark-close fa fa-times" tabindex\x3d"1" aria-label\x3d"'+DKI.strings.runtime.buttonLabelClose+'"\x3e\x3c/i\x3e',$.each(l,function(){p+='\x3cdiv tabindex\x3d"1" class\x3d"bookmark-item" data-time\x3d"'+this.time+'"\x3e'+this.label+"\x3c/div\x3e"}),p+="\x3c/div\x3e"),p+="\x3c/div\x3e");return p+="\x3c/div\x3e"},v=function(b,c,k,h){b='\x3cdiv id\x3d"'+b+'" class\x3d"jp-'+c;k&&(b+=" hideControls");b+='" dir\x3d"ltr"\x3e\x3cdiv class\x3d"jp-type-single"\x3e\x3cdiv class\x3d"jp-gui jp-interface"\x3e\x3cdiv class\x3d"jp-controls-holder"\x3e\x3cdiv class\x3d"jp-progress"\x3e\x3cdiv class\x3d"jp-seek-bar"\x3e\x3cdiv class\x3d"jp-play-bar"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"jp-controls"\x3e\x3cspan style\x3d\'width:0;height:0;\'\x3e\x3ca tabindex\x3d\'-1\' aria-hidden\x3d\'true\' class\x3d"" role\x3d"button"\x3e\x3c/a\x3e\x3c/span\x3e\x3cspan\x3e\x3ca tabindex\x3d\'1\' class\x3d"jp-play" role\x3d"button"\x3eplay\x3c/a\x3e\x3c/span\x3e\x3cspan\x3e\x3ca tabindex\x3d\'1\' class\x3d"jp-pause" role\x3d"button"\x3epause\x3c/a\x3e\x3c/span\x3e';
"basic"!==c&&(b+='\x3cspan\x3e\x3ca tabindex\x3d\'1\' class\x3d"jp-mute" role\x3d"button"\x3emute\x3c/a\x3e\x3c/span\x3e\x3cspan\x3e\x3ca tabindex\x3d\'1\' class\x3d"jp-unmute" role\x3d"button"\x3eunmute\x3c/a\x3e\x3c/span\x3e',""!=h.data("transcript")&&(b+='\x3cspan\x3e\x3ca tabindex\x3d\'1\' class\x3d"jp-transcript" role\x3d"button"\x3etranscript\x3c/a\x3e\x3c/span\x3e'),b+="\x3cspan class\x3d'jp-cc'\x3e\x3ca tabindex\x3d'1' role\x3d\"button\" aria-label\x3d'"+DKI.strings.runtime.media_cc+'\'\x3e\x3ci class\x3d"fa fa-cc"\x3e\x3c/i\x3e\x3c/a\x3e\x3c/span\x3e',
b+='\x3cspan class\x3d"jp-time jp-fs" tabindex\x3d\'1\'\x3e\x3cdiv class\x3d"jp-current-time"\x3e\x3c/div\x3e\x3cdiv class\x3d"jp-time-slash"\x3e/\x3c/div\x3e\x3cdiv class\x3d"jp-duration"\x3e\x3c/div\x3e\x3c/span\x3e');return b+'\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"jp-no-solution"\x3e\x3cspan\x3eThe media element failed to load.\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e'},q=function(b){b.mediaCount===b.readyMediaCount&&(b.fireReady(),setTimeout(function(){b.repositionElements()},
250))},n=function(c,h,n){$(h.pageContainer).css("top","0");c.each(function(){var c=$(this).data("extension").toLowerCase(),p=h.getClaroElementById($(this).closest(".dki-authoring-element, .dki-authoring-element-element").data("id")),w={},D,x=$(this).closest(".dki-authoring-element, .dki-authoring-element-element"),E=!$(this).data("controls"),L=$(this).data("autoplay");D=$(this).data("playerskin")?"basic":"audio";var P=x.data("renderhidden");"mp4"==c.toLowerCase()?c="m4a":"ogg"==c.toLowerCase()&&(c=
"oga");w[c]=l.resolveMediaURL(h,$(this).data("src"));c={media:w,target:"dki-audio-closed-caption-container-"+h.page.pageid,options:{swfPath:settings.swfPath,cssSelectorAncestor:"#"+this.id+"_controls",ready:function(b){var c=$(this);if(b.jPlayer.flash.used)$(h.pageContainer).on(DKI.ContentPage.events.reset,function(b){c.on($.jPlayer.event.flashreset,function(b){c.jPlayer("pause",0);h.isMuted&&c.jPlayer("mute");c.trigger($.jPlayer.event.ready);c.unbind(b)})});c.jPlayer("setMedia",w);var k=this.parentNode;
$(".jp-seek-bar, .jp-play-bar",k).on("mousedown touchstart",function(b){c.jPlayer("pause");$(".jp-gui",k).addClass("forceShow");$(".jp-seek-bar, .jp-controls-holder, .jp-play-bar",k).on("mousemove touchmove",function(b){var h=$(".jp-seek-bar",k).offset().left,l=$(".jp-seek-bar",k).outerWidth();b=b.clientX||b.touches[0].clientX;b+h<=l+2*h&&($(".jp-play-bar",k).css("width",(b-h)/(l/100)+"%"),c.jPlayer("playHead",(b-h)/(l/100)))});$(".jp-seek-bar, .jp-controls-holder, .jp-play-bar",k).on("mouseup touchend",
function(b){c.jPlayer("play");$(this).off("mouseup touchend");$(".jp-seek-bar, .jp-controls-holder, .jp-play-bar",k).off("mousemove touchmove");setTimeout(function(){$(".jp-gui",k).removeClass("forceShow")},700)})});$(".jp-transcript",k).on(h.settings.clickEvent,function(){contentApi.showPopup({id:p.elementid+"_assetTranscript",html:p.asset_transcript,modal:!1,autoFocus:!0,returnFocus:this,popupType:{type:"pop",mod:"noModal",modal:!1},title:playerStrings.transcriptLabel})});h.isMuted&&c.jPlayer("mute");
h.readyMediaCount+=1;q(h);c.unbind(b)},supplied:c,loop:!1,solution:n,preload:"auto",autohide:{restored:"true"===$(this).data("controls")?!0:!1},muted:b.getAudioStatus()?!1:!0,volume:1,size:{width:0,height:0}}};k||m?(D=v(this.id+"_controls",D,E,x),$(this).after(D),$(this).jPlayer(c.options),$(this).data("renderhidden",P)):(P=$(".dki-media-link",this),P.parent().hasClass("dki-audio-basic")&&(P.parent().removeClass("dki-audio-basic"),P.addClass("dki-audio-basic")),h.readyMediaCount+=1,q(h));var P=$(this),
M;"undefined"!==typeof dataStorage&&(M=dataStorage.store.assets[p.upload_id]);if(M&&M.closed_caption||window.player.isSinglePage&&p.closed_caption_details)if(c=Popcorn.jplayer(P[0],c),x.find(".jp-audio").addClass("cc"),$(".jp-cc",x).on(h.settings.clickEvent,function(){l.audioCC.toggle()}),M=window.player.isSinglePage?l.resolveSubURL(h,{id:p.asset_src,closed_caption:p.closed_caption_details}):l.resolveSubURL(h,M),P="parse"+p.closed_caption.toUpperCase(),c[P])c[P](M);h.mediaPlayers[this.id]=$(this);
u.registerMediaPlayer($(this),x,h);(1==p.narration&&""!=p.parent_element_id||L)&&h.autoPlayMedia.push($(this));x.data("mediaPlayer",$(this));$(".dki-element-anchor",x).attr("aria-label");E||x.data("transcript")});$(h.pageContainer).css("top","")},x=function(k,n,v){var x;x=p||m&&h?function(k,h,p){k=$(this).closest(".dki-authoring-element, .dki-authoring-element-element");var m=n.getClaroElementById($(this).closest(".dki-authoring-element, .dki-authoring-element-element").data("id")),r=$(this).data("extension").toLowerCase(),
v=$(this).closest(".dki-video-content-element"),D={},x=!$(this).data("controls"),B=m.parameters.config.hidePlayHead;h=$(this).data("autoplay");var E=k.data("renderhidden"),F=$(this).data("allowfullscreen");"mediastream"==k.data("elementtype")&&(0==$(this).data("src").indexOf("rtmp")?r="rtmpv":(r=$(this).data("src").split("."),r=r[r.length-1]));""!=$(this).data("vimeo-id")&&settings.useStreamingVideo&&$(this).data("src",$(this).data("vimeo-src"));if("mp4"==r.toLowerCase()||"mov"==r.toLowerCase())r=
"m4v";D[r]=l.resolveMediaURL(n,$(this).data("src"));$(this).data("poster")&&(D.poster=$(this).data("poster"));B=w(this.id,x,B,k);$(this).html(B);B=$("#"+this.id+"_player",this);F||$(this).addClass("no-fullscreen");var V={height:"100%"};dkiUA.ie&&(V.height=c.css("height"));$(this).data("allowupscale")||(settings.responsive?$(this).css({height:"initial",width:"initial"}):$(this).css({"max-height":$(this).data("height")+"px","max-width":$(this).data("width")+"px"}));p={media:D,options:{swfPath:settings.swfPath,
cssSelectorAncestor:"#"+this.id+"_container",ready:function(b){var c=$(this);F||($(this).data().jPlayer.status.noFullScreen=!0);if(b.jPlayer.flash.used)$(n.pageContainer).on(DKI.ContentPage.events.reset,function(b){c.on($.jPlayer.event.flashreset,function(b){c.jPlayer("pause",0);n.isMuted&&c.jPlayer("mute");c.trigger($.jPlayer.event.ready);c.unbind(b)})});v.on("mouseleave",function(b){$(this).find(".bookmark-wrapper").fadeOut()});v.on(n.settings.clickEvent,".bookmark-item",function(){c.jPlayer("play",
$(this).data("time")/1E3)});$(this).find("video").attr("webkit-playsinline","");$(this).find("video").attr("playsinline","");x&&$(this).find("video")[0].removeAttribute("controls");$(this).bind($.jPlayer.event.pause,function(b){$(".jp-video-play",this.parentNode).css("display","")});$(this).bind($.jPlayer.event.play,function(b){$(".jp-video-play",this.parentNode).css("display","none")});(!dkiUA.iOS||x||14>dkiUA.iOSVersion)&&$(this).bind($.jPlayer.event.click,function(b){b.jPlayer.status.paused?$(this).jPlayer("play"):
$(this).jPlayer("pause")});var k=this.parentNode;$(".jp-seek-bar, .jp-play-bar",k).on("mousedown touchstart",function(b){c.jPlayer("pause");$(".jp-gui",k).addClass("forceShow");$(".jp-seek-bar, .jp-controls-holder, .jp-play-bar",k).on("mousemove touchmove",function(b){var h=$(".jp-seek-bar",k).offset().left,l=$(".jp-seek-bar",k).outerWidth(),n;n=$("body").css("transform");n=-1!==n.indexOf("matrix")?1/n.split("(")[1].split(")")[0].split(",")[0]:1;b=b.clientX||b.touches[0].clientX;b+h<=l/n+2*h&&($(".jp-play-bar",
k).css("width",(b-h)*n/(l/100)+"%"),c.jPlayer("playHead",(b-h)*n/(l/100)))});$(".jp-seek-bar, .jp-controls-holder, .jp-play-bar",k).on("mouseup touchend",function(b){c.jPlayer("play");$(this).off("mouseup touchend");$(".jp-seek-bar, .jp-controls-holder, .jp-play-bar",k).off("mousemove touchmove");setTimeout(function(){$(".jp-gui",k).removeClass("forceShow")},700)})});$(".jp-transcript",k).on(n.settings.clickEvent,function(){contentApi.showPopup({id:m.elementid+"_assetTranscript",html:m.asset_transcript,
modal:!1,autoFocus:!0,returnFocus:this,popupType:{type:"pop",mod:"noModal",modal:!1},title:playerStrings.transcriptLabel})});$(".jp-cc",k).on(n.settings.clickEvent,function(){c.closest(".jp-video").toggleClass("showCC")});$(".jp-bm",k).on(n.settings.clickEvent,function(){var b=c.closest(".jp-video").find(".bookmark-wrapper");b.is(":visible")?(b.fadeOut(),$(".jp-bm .jp-bookmark",k).get(0).focus()):b.fadeIn().find(".bookmark-item").get(0).focus()});$(".bookmark-close",k).on(n.settings.clickEvent,function(){c.closest(".jp-video").find(".bookmark-wrapper").fadeOut();
$(".jp-bm .jp-bookmark",k).get(0).focus()});n.isMuted&&c.jPlayer("mute");n.readyMediaCount+=1;q(n);$(this).unbind(b);$(this).parent().append($(this).closest(".dki-authoring-content-wrapper").find(".dki-authoring-element-elements-wrapper").first().css("z-index",2147483647).detach())},resize:function(b){b=$(this);b.closest(".jp-video").fullScreen(b.jPlayer("option","fullScreen"));b.closest(".dki-element-content").find(".subClass");b.jPlayer("option","fullScreen")?(b.closest(".dki-element-content").css("max-width",
"").css("max-height",""),$(this).closest(".dki-authoring-content-wrapper").find(".dki-authoring-element-element.dki-marker-element ").css("display","none")):(b.closest(".dki-element-content").data("allowupscale")||(b.closest(".dki-element-content").css("max-width",b.closest(".dki-element-content").data("assetWidth")),b.closest(".dki-element-content").css("max-height",b.closest(".dki-element-content").data("assetHeight"))),$(this).closest(".dki-authoring-content-wrapper").find(".dki-authoring-element-element.dki-marker-element ").css("display",
"block"));dkiUA.isIE()&&($("html")[b.jPlayer("option","fullScreen")?"addClass":"removeClass"]("video-fullScreen"),b.closest(".dki-authoring-element")[b.jPlayer("option","fullScreen")?"addClass":"removeClass"]("video-fullScreen-element"));n.scaleElementChildren(n.getClaroElementById(b.closest(".dki-authoring-element").data("id")))},supplied:r,loop:!1,solution:p,preload:"auto",backgroundColor:"transparent",wmode:"transparent",nativeVideoControls:settings.nativeVideoControls,size:{width:"100%",height:"100%"},
sizeFull:V,autohide:{restored:!1,full:!1},muted:b.getAudioStatus()&&!k.data("disableAudio")?!1:!0,volume:k.data("disableAudio")?0:1,noFullScreen:{}}};var ba;"undefined"!==typeof dataStorage&&(ba=dataStorage.store.assets[m.upload_id]);(ba&&ba.closed_caption&&"vtt"===ba.closed_caption.type.toLowerCase()||window.player.isSinglePage&&m.closed_caption_details&&"vtt"===m.closed_caption_details.type.toLowerCase())&&dkiUA.iOS&&(p.media.track=[{src:(window.player.isSinglePage?l.resolveSubURL(n,{id:m.asset_src,
closed_caption:m.closed_caption_details}):l.resolveSubURL(n,ba)).replace(".txt",".vtt"),srclang:contentApi.getCurrentLanguage(),kind:"captions",def:m.parameters.config.closedCaptionOn}]);p=Popcorn.jplayer(B[0],p);if((ba&&ba.closed_caption||window.player.isSinglePage&&m.closed_caption_details)&&!dkiUA.iOS){ba=window.player.isSinglePage?l.resolveSubURL(n,{id:m.asset_src,closed_caption:m.closed_caption_details}):l.resolveSubURL(n,ba);var D="parse"+m.closed_caption.toUpperCase(),S=B.closest(".jp-video");
if(p[D]&&(p[D](ba),dkiUA.mobile)){var Q=null;S.addClass("controls");uiTimeout=function(b){b="undefined"===typeof b?2500:b;Q&&window.clearTimeout(Q);Q=setTimeout(function(){S.removeClass("controls")},b)};S.on("click",function(){$(this).addClass("controls");uiTimeout(0)});B.bind($.jPlayer.event.pause,function(b){S.addClass("controls");window.clearTimeout(Q)});B.bind($.jPlayer.event.play,function(b){uiTimeout(350)})}S.addClass("cc");m.parameters.config.closedCaptionOn&&S.addClass("showCC")}B.data("renderhidden",
E);B.data("disableAudio",k.data("disableAudio"));(E=B.data("jPlayer"))&&E.status&&E.status.nativeVideoControls&&!x&&$(".jp-video-play",this).detach();n.mediaPlayers[this.id]=B;u.registerMediaPlayer(B,k,n);!h||!$(this).isInViewport()&&settings.responsive||n.autoPlayMedia.push(B);B.bind($.jPlayer.event.ended,function(b){$(".jp-restore-screen",$(this).parents(".dki-authoring-element")).click()});k.data("mediaPlayer",B);$(".dki-element-anchor",k).attr("aria-label");x||(k.data("transcript"),k.data("allowfullscreen"))}:
function(){var b=$(".dki-media-link",this);b.prop("href",$(this).data("src"));n.readyMediaCount+=1;q(n);return b};k.each(function(b,c){x.call(this,b,c,v)})},k=function(){var b=document.createElement("audio");return dkiUA.blackberry&&7>dkiUA.blackberryVersion||dkiUA.android&&4>dkiUA.androidVersion&&!h||dkiUA.webOS?!1:b.canPlayType&&""!=b.canPlayType("audio/mpeg")?!0:!1}(),p=function(){var b=document.createElement("video");return dkiUA.blackberry&&7>dkiUA.blackberryVersion||dkiUA.android&&4>dkiUA.androidVersion&&
!h?!1:b.canPlayType&&""!=b.canPlayType("video/mp4")?!0:!1}(),m=swfobject.hasFlashPlayerVersion("10.1.0");return{handleMedia:function(b){var c=$(".dki-video-content-element",b.pageContainer),k=$(".dki-audio-element .dki-element-content",b.pageContainer),h="html, flash";dkiUA.isIE()&&11>dkiUA.ieVersion&&(h="flash");b.mediaCount=c.length+k.length;b.readyMediaCount=0;x(c,b,h);n(k,b,h);0===b.mediaCount&&b.fireReady()},resolveMediaURL:function(b,c){var k=/^rtmp:\/\/|^\//;/^https?:\/\/|^\//.test(c)||k.test(c)||
(c=b.rootURL+c);return c},resolveSubURL:function(b,c){b=c.closed_caption.culture_code.includes(settings.current_culture_code)?settings.current_culture_code:"default";var k=DKI.renderService.state.baseUrl,k=k+(DKI.renderService.state.renderEnvironment.export?"assets/captions/":"/content/authoringtooldb/captions/"),k=k+c.id;"default"!=b&&(k+="_"+b);return k+".txt"},play:function(b,c,k){var h;"string"===typeof b&&(b=c.mediaPlayers[b]);h=function(h){c.started&&("undefined"!==typeof k?b.jPlayer("play",
k):b.jPlayer("play"),b.unbind(h))};b.hasClass("dki-videoplaylist")?($(b).VideoPlaylist("selectFirst"),$(b).on("play",h)):("undefined"!==typeof k?b.jPlayer("play",k):b.jPlayer("play"),$(b).bind($.jPlayer.event.ready,h),$(b).bind($.jPlayer.event.flashreset,h))},pause:function(b,c){"string"===typeof b&&(b=c.mediaPlayers[b]);b.jPlayer("pause")},canAutoplay:function(){return dkiUA.iOS||dkiUA.android||dkiUA.chrome?!1:!0},handleVideo:x,handleAudio:n,audioCC:{init:function(b){if(!settings.responsive){var c=
$("style#audioCaptionPosition");if(!c.length){var k=$,h;$("#contentFrame").offset();h=".dki-audio-closed-caption-container{"+("top: "+($("#contentFrame").height()-65)+"px;left: 25px;")+"}";c=k("\x3cstyle\x3e\x3c/style\x3e",{id:"audioCaptionPosition",html:h});$("head").append(c)}var l=$("style#audioCaptionSize");l.length||(l=$("\x3cstyle\x3e\x3c/style\x3e",{id:"audioCaptionSize",html:function(){var b=$("#contentFrame").width(),b=b-2*parseInt($(".dki-audio-closed-caption-container").css("margin-left").split("px")[0]);
return".dki-audio-closed-caption-container{"+("width: "+(b-50)+"px;")+"}"}()}),$("head").append(l));var n=$(".dki-audio-closed-caption-container",b.pageContainer);n.draggable({containment:DKI.utility.getDragContainment($(b.pageContainer),n.width(),n.height()),scroll:!1,start:function(b,c){$(this).data("initialPageYOffset",document.documentElement.scrollTop)},drag:function(b,c){DKI.utility.dragFix(c)},stop:function(b,k){c.html(".dki-audio-closed-caption-container{top: "+k.position.top+"px;left: "+
k.position.left+"px;}");k.helper.css({top:"",left:""})}});n.resizable({handles:"e",start:function(b,c){DKI.utility.dragFix(c)},stop:function(b,c){l.html(".dki-audio-closed-caption-container{width: "+c.helper.width()+"px;}");c.helper.css({width:"",height:""})}});var p=DKI.func.debounce(function(){if(n.data("ui-draggable")){var c=DKI.utility.getDragContainment($(b.pageContainer),n.width(),n.height());n.draggable("option","containment",c)}},200,!1);if(b.isStandalonePage)b.fancyboxInstance.$refs.container.on("onUpdate.fb",
p);else $(window).on("resize",function(){p()}),$(document).on(DKI.ContentPage.events.started,function(c,k){b.page.id==k.page.id&&(p(),$(b.pageContainer).one("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){p()}))})}},show:function(b){$("html").addClass("showAudioCaptions");$(window).trigger("reposition-fancybox-close-button")},hide:function(b){$("html").removeClass("showAudioCaptions");$(window).trigger("reposition-fancybox-close-button")},toggle:function(b){$("html").toggleClass("showAudioCaptions");
$(window).trigger("reposition-fancybox-close-button")}}}}(),m={setAudio:function(b,c){c.isMuted=!b;var h;if(!0===b)for(h in c.mediaPlayers)c.mediaPlayers[h].jPlayer("unmute");else for(h in c.mediaPlayers)c.mediaPlayers[h].jPlayer("mute")},pauseAll:function(b){var c;b.autoPaused=[];for(c in b.mediaPlayers){var h=c.replace("content_","");1==$("#"+h+"_wrapper").data("dontpause")||this.isPaused(b.mediaPlayers[c])||(b.mediaPlayers[c].jPlayer("pause"),b.autoPaused.push(c))}},resumeAll:function(b){var c;
b.autoPaused||(b.autoPaused=[]);for(var h=0;h<b.autoPaused.length;h+=1)c=b.autoPaused[h],b.mediaPlayers[c].jPlayer("play");b.autoPaused=[]},startAutoPlay:function(b){for(var c=b.autoPlayMedia.length,h=!1,m=!1,v=0;v<c;v+=1){var q=b.autoPlayMedia[v].closest(".dki-audio-element");!(!b.autoPlayMedia[v].data("renderhidden")&&($(b.autoPlayMedia[v]).isInViewport()||!settings.responsive)&&b.autoPlayMedia[v].closest(".dki-authoring-element").is(":visible")||1==b.autoPlayMedia[v].data("narration")&&"undefined"==
typeof q.data("parent_element_id")||1==b.autoPlayMedia[v].data("narration")&&"undefined"!=typeof q.data("parent_element_id")&&$(b.autoPlayMedia[v]).isInViewport())||0!=b.autoPlayMedia[v].closest(".flipCardPanel.face:not(.active)").length||0!=b.autoPlayMedia[v].closest(".dki-panel-element.contentContainer:not(.is-selected)").length||0!=b.autoPlayMedia[v].closest(".panel:not(.expanded)").length||0!=b.autoPlayMedia[v].closest(".tab-pane:not(.active)").length||h&&!b.autoPlayMedia[v].data("disableAudio")||
(navigator.userActivation.hasBeenActive?l.play(b.autoPlayMedia[v],b):m=!0,b.autoPlayMedia[v].data("disableAudio")||(h=!0))}return m},stopAll:function(b,c){var h;b=b.mediaPlayers;for(h in b)b[h].data(),b.hasOwnProperty(h)&&(b[h].jPlayer("option","fullScreen",!1),!c&&b[h].data().jPlayer.status.paused||b[h].jPlayer("pause",0))},isPaused:function(b){return b.data().jPlayer.status.paused}},u={init:function(c,h,l){for(var m=0;m<c.length;m++)c[m].targetPages&&0<c[m].targetPages.length&&(c[m].targetPages=
c[m].targetPages.filter(function(c){return b.checkPageExists(c)}),0==c[m].targetPages.length&&($("#"+c[m].elementId+"_wrapper").find("[data-textlinkid\x3d"+c[m].textLinkId+"]").each(function(){$(this).replaceWith(function(){return $(this).html()})}),c[m].toDelete=!0));c=c.filter(function(b){return!b.toDelete});h.actions=c;$(h.pageContainer).undelegate();this.clearPageTimeouts(h);this.initElementsViewedActions(h);this.setupDividerElements(h);var v=this,m=$(".dki-authoring-element",h.pageContainer),
q=dkiUA.android||dkiUA.iOS?"click":l;$(h.pageContainer).delegate(".dki-authoring-element label","click",function(b){b.stopPropagation();if($(this).closest(".dki-authoring-element").hasClass("dki-radioGroup-element"))return!1});$(h.pageContainer).delegate(".dki-element-content:not(.divider_continue.stateLocked), .dki-element-anchor:not(.dki-btn-element\x3e.dki-element-anchor):not(.dki-divider-element\x3e.dki-element-anchor), .dki-radioGroup-element label, .dki-image-element figcaption, .svgMask",q,
function(b,c){"undefined"==typeof c&&(c={});var k=null;if(c.fromDataSet)return!1;if("LABEL"==this.nodeName.toUpperCase()){if($(this).data("ignoreClick")){$(this).data("ignoreClick",!1);return}k=$(this).find(".dki-authoring-element,.dki-authoring-element-element")}else{var k=$(this).closest(".dki-authoring-element,.dki-authoring-element-element"),n=k.closest("label");n&&(n.data("ignoreClick",!0),setTimeout(function(){n.data("ignoreClick",!1)},1))}var m=$(this).closest(".dki-slider-element");if(m.length){if(m.data("ignoreClick"))return;
m.data("ignoreClick",!0);setTimeout(function(){m.data("ignoreClick",!1)},1)}v.onMouseEvent.call(v,"click",k,h);"zoomRegion"===$(this).data("type")&&11>dkiUA.ieVersion&&dkiUA.isIE()&&($(this).hide().find("*").hide(),k=$(document.elementFromPoint(b.clientX,b.clientY)).closest(".dki-authoring-element"),$(this).show().find("*").show(),k[0]&&k.trigger(l));b=$(this).closest(".dki-authoring-element-element").parent().closest(".stackable_element");var w=b.find("\x3e.dki-authoring-content-wrapper\x3e.dki-element-content");
b.length&&0==w.find(this).length&&!w.is(this)&&w.trigger(q,{originalTarget:k});if(dkiUA.iOS&&(k.hasClass("dki-marker-element")||c.originalTarget&&c.originalTarget.hasClass("dki-marker-element")))return!1});$(h.pageContainer).delegate(".dki-slider-element .dki-element-content","tap",function(b){$(this).trigger("click")});$(h.pageContainer).delegate(".dki-authoring-element a.dki-text-action-link",l,function(b){v.onTextActionLinkEvent.call(v,"click",this,h);var c=window.location.hostname,k=(new URL($(this).attr("href"),
window.location.href)).hostname;c!=k&&(b.stopPropagation(),b.preventDefault())});$(h.pageContainer).delegate(".dki-element-content, .dki-element-anchor","contextmenu",function(b){b=$(this).closest(".dki-authoring-element,.dki-authoring-element-element");if(0<v.onMouseEvent.call(v,"rightClick",b,h).length)return!1});$(h.pageContainer).delegate(".dki-authoring-element a.dki-text-action-link","contextmenu",function(b){if(0<v.onTextActionLinkEvent.call(v,"rightClick",this,h).length)return!1});$(h.pageContainer).delegate(".dki-tabset-element .tabbable li\x3ea:not(.disabled), .dki-tabset-element .tabbable .panel-heading:not(.disabled) .panel-title\x3ea",
"click",function(b){if(b.target==this)$(this).find(".dki-element-content").trigger("click");else{v.onContentChangedEvent.call(v,this,h);var c=h.getClaroElementById($(this).closest(".dki-authoring-element").data("id"));b=$(this).closest(".tabbable");var k=$(this).data("idx"),l=k+"_"+c.id,l="tabContent_"+k+"_"+c.id,n=$("#"+l);(!n.length||this.hash&&"#"+l!=this.hash)&&-1!=this.hash.indexOf("tabContent_"+k+"_")&&(l=this.hash,n=$(l));setTimeout(function(){$(".dki-contentCarousel-element",n).each(function(){$(this).find(".flickity").flickity("resize")});
h.reCalculateMediaControls()},250);setTimeout(function(){h.repositionElements()},0);c.parameters.config.sequential&&(l="tabContent_"+(k+1)+"_"+c.id,c=b.find("a[href\x3d'#"+l+"']"),b=b.find("a[href\x3d'#collapse-"+l+"']"),c.attr("data-toggle","tab").removeClass("disabled"),b.attr("data-toggle","collapse").closest(".panel-heading").removeClass("disabled"))}});$(h.pageContainer).on(settings.clickEvent,".dki-btn-element .dki-element-content.toggleable",function(b){$(this).toggleClass("active")});$(h.pageContainer).on(settings.clickEvent,
".dki-btn-element .dki-element-content.stay-toggled",function(b){$(this).addClass("active")});$(h.pageContainer).delegate(".dki-contentCarousel-element .side-control",settings.clickEvent,function(b){b=$(this).siblings(".owl-carousel");var c=$(this).hasClass("prev")?"prev":"next",h=b.data("owl.carousel");$(this).hasClass("topBottom")?(h.settings.animateIn="prev"==c?b.data("animate-in").replace("Up","Down").replace("Right","Left"):b.data("animate-in").replace("Down","Up").replace("Left","Right"),h.settings.animateOut=
"prev"==c?b.data("animate-out").replace("Up","Down").replace("Right","Left"):b.data("animate-out").replace("Down","Up").replace("Left","Right")):(h.settings.animateIn="prev"==c?b.data("animate-in").replace("Right","Left").replace("Up","Down"):b.data("animate-in").replace("Left","Right").replace("Down","Up"),h.settings.animateOut="prev"==c?b.data("animate-out").replace("Right","Left").replace("Up","Down"):b.data("animate-out").replace("Left","Right").replace("Down","Up"));b.trigger(c+".owl.carousel");
return!1});var n=function(b){v.onMouseEvent.call(v,b.type,this,h)},u=function(b){var c=$(this).closest(".dki-authoring-element,.dki-authoring-element-element");v.onMouseEvent.call(v,b.type,c,h)};$(h.pageContainer).delegate(".dki-element-content, .dki-element-anchor","dblclick",u);$(h.pageContainer).delegate(".dki-element-content","mouseenter",u);$(h.pageContainer).delegate(".dki-element-content","mouseleave",u);m.on(DKI.ContentPage.events.elementDragStarted,n);m.on(DKI.ContentPage.events.elementDragStopped,
n);m.on(DKI.ContentPage.events.elementDragDropped,n);m.on(DKI.ContentPage.events.elementDragReverted,n);m.on(DKI.ContentPage.events.elementDropDropped,n);m.on(DKI.ContentPage.events.elementDropOut,n);m.on(DKI.ContentPage.events.elementDropOver,n);m.on(DKI.ContentPage.events.shown,function(){v.onDisplayEvent.call(v,"show",this,h)});m.on(DKI.ContentPage.events.hidden,function(){v.onDisplayEvent.call(v,"hide",this,h)});m=function(b){v.onTextActionLinkEvent.call(v,b.type,this,h)};$(h.pageContainer).delegate(".dki-authoring-element a.dki-text-action-link",
"dblclick",m);$(h.pageContainer).delegate(".dki-authoring-element a.dki-text-action-link","mouseenter",m);$(h.pageContainer).delegate(".dki-authoring-element a.dki-text-action-link","mouseleave",m);$(h.pageContainer).delegate(".dki-authoring-element","click",function(){$(document).trigger(DKI.ContentPage.events.rootElementClicked,{element:h.getClaroElementById($(this).data("id")),pageInstance:h})});this.setupDragDrop(h);this.setupLinkedElements(c,h.pageContainer,l);this.setupRollovers(h.pageContainer);
h.mediaTimeUpdates={};this.checkBreakPointThreshold("breakpoint",h);this.checkDeviceAdaptation("device",h);return this},initElementsViewedActions:function(b){var c=this;b.queue.queue({name:"elementsViewed",callback:$.proxy(function(){c.onPageEvent("contentViewed",b);$(b.pageContainer).trigger(player.events.allPageContentViewed)},this)});var h=$(".dki-authoring-element:not(.dki-placeholder-element):not(.onlyShownByBreakpointActions):not(.hiddenByBreakpoint)",b.pageContainer);h.each(function(){b.queue.queue({name:"elementsViewed",
id:$(this).data("id")})});h.off("contentViewed");h.on("contentViewed",function(){$(this).is(":visible")&&b.queue.dequeue({name:"elementsViewed",id:$(this).data("id")})})},registerElementViewed:function(b,c){(!settings.elementTypeConfig[$(b).data("elementtype")].navigateSubContent||"image"==$(b).data("elementtype")&&0==$(b).find(".dki-marker-element").length||"list"==$(b).data("elementtype")&&0==$(b).find('input[type\x3d"checkbox"]').length)&&$(b).trigger("contentViewed");!$(b).data("viewed")&&$(b).is(":visible")&&
($(b).data("viewed",!0),"placeholder"!=$(this).data("elementtype")&&$(document).trigger(DKI.ContentPage.events.elementContentViewed,{element:c.getClaroElementById($(b).data("id")),pageInstance:c}))},setupDividerElements:function(b){var c=this,h=[],l=[],m=[],q=[],n=$(".dki-authoring-element:not(.dki-placeholder-element):not(.onlyShownByBreakpointActions):not(.hiddenByBreakpoint)",b.pageContainer),u=$(".dki-divider-element .divider_number .numberDividerText",b.pageContainer);u.each(function(b,c){$(c).html(b+
1);$(this).closest("[role\x3d'separator']").attr("aria-label",b+1+" of "+u.length)});n.each(function(){var b=$(this).data("id");m.push(b);if($(this).is(".dki-divider-element")&&$(this).find(".dki-element-content.divider_continue").length){var c=$(this).find(".dki-element-content.divider_continue"),k=c.data("continueContext").toLowerCase();"above"==k||"always"==k?(l.length&&(l[l.length-1].elementsAfter=DKI.clone(h),l[l.length-1].elementsAfter.push(b)),l.push({elID:b,elementsBefore:h,elementsAfter:[],
context:k}),c.addClass("stateLocked"),h=[]):"page"==k&&(contentApi.getData("divider_"+b+"_clicked")?c.removeClass("stateLocked").addClass("stateClicked"):(c.addClass("stateLocked"),q.push(b)),h.push(b))}else h.push(b)});q.forEach(function(b){l.push({elID:b,elementsBefore:m,elementsAfter:[],context:"page"})});l.length&&(l[l.length-1].elementsAfter=h);l.forEach(function(h){var l=$("#"+h.elID+"_content_wrapper .dki-element-content"),n="continueDivider_"+h.elID,m=!0;contentApi.getData("divider_"+h.elID+
"_clicked")?(m=!1,0<h.elementsAfter.length?l.removeClass("stateLocked stateDefault").addClass("stateClicked"):l.removeClass("stateLocked stateClicked").addClass("stateDefault")):"always"==h.context&&l.removeClass("stateLocked stateClicked").addClass("stateDefault");l.find(".continueDividerDefault").on("click",function(){l.removeClass("stateDefault").addClass("stateClicked")});if(m)if(0<h.elementsBefore.length){b.queue.queue({name:n,callback:$.proxy(function(){l.hasClass("stateClicked")||l.removeClass("stateLocked").addClass("stateDefault")},
c)});for(var r=0;r<h.elementsBefore.length;r++)b.queue.queue({name:n,id:h.elementsBefore[r]}),$("#"+h.elementsBefore[r]+"_wrapper").on("contentViewed",function(){$(this).is(":visible")&&b.queue.dequeue({name:n,id:$(this).data("id")});var c=b.queue.getQueue()[n],l=1;c&&(l=(h.elementsBefore.length-c.ids.length)/h.elementsBefore.length);b.setDividerProgress(h.elID,l)})}else l.removeClass("stateLocked").addClass("stateDefault");l.find(".radial").show().RadialGauge({asPercent:!0,parentSelector:".radialGaugeContainer",
width:50});b.setDividerProgress(h.elID,m&&0!=h.elementsBefore.length?0:1)});if(q.length)$(b.pageContainer).on(player.events.allPageContentViewed,function(){q.forEach(function(b){$("#"+b+"_content_wrapper .dki-element-content").removeClass("stateLocked").addClass("stateDefault")})})},updateInlineVariables:function(b){$(".dki-inline-variable",b).each(function(){var b=$(this);if(!player.isSinglePage&&dataStorage.getContentVariableMeta(b.data("variable-id"))&&dataStorage.getContentVariableMeta(b.data("variable-id")).isRadio)b.html(dataStorage.getContentVariableMeta(b.data("variable-id")).text);
else{var c=contentApi.getData(b.data("variable-id"));if("undefined"!==typeof dataStorage){var h=dataStorage.getContentVariableMeta(b.data("variable-id"));h&&c.text&&(c=h.text)}!1===c&&(c="false");b.html(c)}})},start:function(b){for(var c=this,h={},l=0;l<b.actions.length;l++)if(b.actions[l].pageId&&"time"==b.actions[l].trigger&&this.startPageTimer(b.actions[l],b),"variableSet"==b.actions[l].trigger){var m=b.actions[l].parameters.trigger.variable.id;if(m&&!h[m]){var q=contentApi.getData(m);h[m]={id:m,
oldValue:q,newValue:q}}}for(var n in h)c.onDataSetEvent.call(c,{id:h[n].id,oldValue:h[n].oldValue,newValue:h[n].newValue},b);var u=function(h,l){c.onDataSetEvent.call(c,l,b)};$(document).on(contentApi.events.dataSet,u);$(b.pageContainer).on(DKI.ContentPage.events.reset,function(){$(document).off(contentApi.events.dataSet,u)});this.updateInlineVariables(b.pageContainer);$.each(b.actions,function(){var h=this;"listShowNext"==h.type&&($.each(h.targetElements,function(){$("#"+this+"_wrapper").addClass("isShowNextTarget").removeClass("hiddenUntilInView hiddenOnLoad hidden")}),
c.actionHandlers.listReset(h,b));"setVariable"==h.type&&h.parameters.fireOnce||(h.firedOnce=!1);if("scrolled_to_top"==h.trigger||"scrolled_mid"==h.trigger||"inview"==h.trigger){var l="100%";"scrolled_to_top"==h.trigger?l=$("#contentFrame").offset().top:"scrolled_mid"==h.trigger&&(l="50%");h.parameters.offset&&(l=h.parameters.offset);setTimeout(function(){if(h.pageId){var n=c.actionHandlers.getTargetSelector(h),m=$(n,b.pageContainer),n=function(){b.wayPoints=b.wayPoints.concat(m.waypoint(DKI.apply(DKI.ContentPage.waypointDefaults,
{handler:function(l){c.onScrollEvent.call(c,this,l,b,h.trigger)},offset:l,context:$(b.pageContainer).closest(".fancybox-content")[0]||window})))};if(0<h.targetElements.length)if(m.is(":visible"))n();else m.one(DKI.ContentPage.events.shown,n);else n()}else if(h.textLinkId)b.wayPoints=b.wayPoints.concat($("#"+h.elementId+"_wrapper .dki-text-action-link[data-textlinkid\x3d'"+h.textLinkId+"']",b.pageContainer).waypoint(DKI.apply(DKI.ContentPage.waypointDefaults,{handler:function(l){c.onTextLinkScrollEvent.call(c,
this,l,b,h.trigger)},offset:l,context:$(b.pageContainer).closest(".fancybox-content")[0]||window})));else if(n=function(){b.wayPoints=b.wayPoints.concat($("#"+h.elementId+"_wrapper",b.pageContainer).waypoint(DKI.apply(DKI.ContentPage.waypointDefaults,{handler:function(l){c.onElementScrollEvent.call(c,this,l,b,h.trigger)},offset:l,context:$(b.pageContainer).closest(".fancybox-content")[0]||window})))},$("#"+h.elementId+"_wrapper",b.pageContainer).is(":visible"))n();else $("#"+h.elementId+"_wrapper",
b.pageContainer).on(DKI.ContentPage.events.shown,n)},250)}else if("custom_scroll"==h.trigger){c.setReverseAction(h,b);var n=c.actionHandlers.getTargetSelector(h);b.wayPoints=b.wayPoints.concat($(n,b.pageContainer).waypoint(DKI.apply(DKI.ContentPage.waypointDefaults,{handler:function(l){"down"==l?($(n).velocity("finish"),"entrance"==h.type?$(n).addClass("hiddenUntilInView"):$(n).removeClass("hiddenUntilInView"),window.requestAnimationFrame(function(){c.actionHandlers[h.type](h,b)})):($(n).velocity("finish"),
"entrance"==h.reverseAction.type?$(n).addClass("hiddenUntilInView"):$(n).removeClass("hiddenUntilInView"),window.requestAnimationFrame(function(){c.actionHandlers[h.reverseAction.type](h.reverseAction,b)}))},offset:function(){return Waypoint.viewportHeight()*(h.parameters.offset/100)-$(n).height()/2},context:$(b.pageContainer).closest(".fancybox-content")[0]||window})))}});h=$(".dki-authoring-element:not(.dki-placeholder-element)",b.pageContainer);settings.responsive||h.each(function(){$(this).is(":visible")&&
c.registerElementViewed(this,b)});settings.design.parameters.config.enable_inline_image_zoom&&$("div[data-isrichtext\x3dtrue] img:not(.dki-element-content):not([data-light-box-click])",b.pageContainer).on("click",function(){var h=DKI.Animater.LIGHT_BOX_ASSET_ACTION();h.target_assets=[{id:$(this).data("id"),url:$(this).attr("src")}];c.actionHandlers.lightBox(h,b)}).css("cursor","pointer").attr("data-light-box-click",!0);setTimeout(function(){c.setupWaypoints(b)},100)},resetWaypoints:function(b){b.wayPointsLoadedStatus=
"";b.wayPoints.forEach(function(b){b.destroy()});b.wayPoints=[]},setupWaypoints:function(b){if(b.wayPointsLoadedStatus)return!1;var c=function(c){setTimeout(function(){var h=$(".disablerWrapper:visible").data("disablerObj");if(!h||h.autoPlayMediaId!=c.attr("id")){var l=new DKI.disabler({text:'\x3cdiv role\x3d"button" class\x3d"disabler-play"\x3e'+player.strings.autoPlayDisabler+"\x3c/div\x3e",textTagType:"span",title:player.strings.autoPlayDisabler,onClick:function(b){b.hide();c.jPlayer("play")}});
l.autoPlayMediaId=c.attr("id");h&&$(".disablerWrapper:visible").data("disablerObj").hide();l.show();$(document).on(DKI.ContentPage.events.started,function(c,h){h.page.id!=b.page.id&&l.hide()})}},200)};b.wayPointsLoadedStatus="loading";b.wayPoints=b.wayPoints.concat($(".dki-element-content[data-autoplay\x3d'true']:not([data-narration\x3d'1'])",b.pageContainer).waypoint(DKI.apply(DKI.ContentPage.waypointDefaults,{handler:function(h){if(($(b.pageContainer).hasClass("current")||b.isStandalonePage)&&b.started){var l=
b.mediaPlayers[this.element.id];"down"==h?l.jPlayer("pause"):l.closest(".dki-authoring-element").is(":visible")&&0==l.closest(".flipCardPanel.face:not(.active)").length&&0==l.closest(".dki-panel-element.contentContainer:not(.is-selected)").length&&0==l.closest(".panel:not(.expanded)").length&&0==l.closest(".tab-pane:not(.active)").length&&(navigator.userActivation.hasBeenActive?l.jPlayer("play"):c(l))}},offset:function(){return $(this.element).height()>$(window).height()-$("#contentFrame").offset().top?
$(window).height()-$(this.element).height()-$("#contentFrame").offset().top-10:$("#contentFrame").offset().top},context:$(b.pageContainer).closest(".fancybox-content")[0]||window})));b.wayPoints=b.wayPoints.concat($(".dki-element-content[data-autoplay\x3d'true']:not([data-narration\x3d'1'])",b.pageContainer).waypoint(DKI.apply(DKI.ContentPage.waypointDefaults,{handler:function(h){if(($(b.pageContainer).hasClass("current")||b.isStandalonePage)&&b.started){var l=b.mediaPlayers[this.element.id];"down"==
h?l.closest(".dki-authoring-element").is(":visible")&&0==l.closest(".flipCardPanel.face:not(.active)").length&&0==l.closest(".dki-panel-element.contentContainer:not(.is-selected)").length&&0==l.closest(".panel:not(.expanded)").length&&0==l.closest(".tab-pane:not(.active)").length&&(navigator.userActivation.hasBeenActive?l.jPlayer("play"):c(l)):l.jPlayer("pause")}},offset:"bottom-in-view",context:$(b.pageContainer).closest(".fancybox-content")[0]||window})));b.wayPoints=b.wayPoints.concat($(".navigatesSubContent",
b.pageContainer).waypoint(DKI.apply(DKI.ContentPage.waypointDefaults,{handler:function(h){var l=$(this.element);($(b.pageContainer).hasClass("current")||b.isStandalonePage)&&b.started&&!l.hasClass("scrolled-in-once")&&this.context.didScroll&&("down"==h&&("flipCard"==l.data("elementtype")?l.find(".face.active [data-narration\x3d1]:first:visible .dki-element-content").jPlayer("play",0):(h=l.find("[data-narration\x3d1]:first:visible .dki-element-content"),h.length&&(navigator.userActivation.hasBeenActive?
h.jPlayer("play"):c(h)))),l.addClass("scrolled-in-once"))},offset:"bottom-in-view",context:$(b.pageContainer).closest(".fancybox-content")[0]||window})));b.wayPoints=b.wayPoints.concat($(".dki-sticky-group",b.pageContainer).waypoint(DKI.apply(DKI.ContentPage.waypointDefaults,{handler:function(c){if(($(b.pageContainer).hasClass("current")||b.isStandalonePage)&&"down"==c){var h=this,l=$(h.element);h.disable();l.css({position:"fixed",left:l.offset().left,top:$("#contentFrame").offset().top,width:l.outerWidth(!0)});
l.parent().waypoint(DKI.apply(DKI.ContentPage.waypointDefaults,{handler:function(b){"up"==b&&(l.css({position:"",left:"",top:"",width:""}),setTimeout(function(){h.enable()},5),this.destroy())},offset:$("#contentFrame").offset().top}))}},offset:$("#contentFrame").offset().top,context:$(b.pageContainer).closest(".fancybox-content")[0]||window})));b.wayPoints=b.wayPoints.concat($(".dki-authoring-section.dki-bg-attach-fixed .dki-authoring-section-background",b.pageContainer).waypoint(DKI.apply(DKI.ContentPage.waypointDefaults,
{handler:function(c){($(b.pageContainer).hasClass("current")||b.isStandalonePage)&&$(this.element).parent().toggleClass("top-in-view")},offset:"100%",context:$(b.pageContainer).closest(".fancybox-content")[0]||window})));b.wayPoints=b.wayPoints.concat($(".dki-authoring-section",b.pageContainer).waypoint(DKI.apply(DKI.ContentPage.waypointDefaults,{handler:function(c){if($(b.pageContainer).hasClass("current")||b.isStandalonePage){var h=$(this.element);h.toggleClass("bottom-in-view");$(".dki-sticky-group",
this.element).each(function(){var b=$(this);if("down"==c){var k=b.position().left-b.parent().css("margin-left").split("px")[0]-b.parent().position().left,l=h.height()-$(window).height();b.css({position:"absolute",top:l,left:k})}else b.css({position:"fixed",left:b.offset().left,top:$("#contentFrame").offset().top,width:b.outerWidth(!0)})});$(".dki-authoring-element",h).each(function(){b.actionAPI.registerElementViewed(this,b)});"down"==c&&$(document).trigger(DKI.ContentPage.events.sectionBottomInView,
$(".dki-authoring-group",h).first().data("id"))}},offset:function(){return this.context.innerHeight()-this.adapter.outerHeight()+10},context:$(b.pageContainer).closest(".fancybox-content")[0]||window})));b.wayPointsLoadedStatus="loaded";return!0},setupDragDrop:function(b){$(".dki-authoring-element[data-is-draggable\x3dtrue][data-isquestionelement\x3dfalse]",b.pageContainer).each(function(){var c=$(this),h=!1;c.data("draggable-constrain-x")?h="x":c.data("draggable-constrain-y")&&(h="y");h={revert:function(b){settings.responsive?
$(this).data("uiDraggable").originalPosition={top:0,left:0}:$(this).data("uiDraggable").originalPosition={top:$(this).data("y"),left:$(this).data("x")};if(b)$(this).trigger(DKI.ContentPage.events.elementDragDropped);else if($(this).data("draggable-revert"))return $(this).data("reverted",!0),$(this).trigger(DKI.ContentPage.events.elementDragReverted),!0},start:function(b,c){$(this).parent().css("position","static");$(this).data("reverted",!1);$(this).data("initialPageYOffset",document.documentElement.scrollTop);
$(this).trigger(DKI.ContentPage.events.elementDragStarted);$(document).trigger(DKI.Events.TestQuestion.dragStarted)},drag:function(b,c){DKI.utility.dragFix(c)},stop:function(b,c){$(this).data("draggable-bring-to-front")&&($(this).data("reverted")?$(this).css("z-index",$(this).data("elementno")):$(this).css("z-index",1E5));$(this).trigger(DKI.ContentPage.events.elementDragStopped);$(document).trigger(DKI.Events.TestQuestion.dragStopped)},disabled:!1,containment:DKI.utility.getDragContainment($(b.pageContainer),
c.width(),c.height()),scroll:settings.responsive,axis:h};c.data("draggable-bring-to-front")&&(h.zIndex=1E5,h.stack=".dkiContentFrame.current .dki-authoring-element[data-is-droppable\x3dtrue][data-isquestionelement\x3dfalse],  .fancybox-content .dki-authoring-element[data-is-droppable\x3dtrue][data-isquestionelement\x3dfalse]");c.draggable(h);var l=DKI.func.debounce(function(){if(document.contains(c[0])&&c.data("ui-draggable")){var h=b.pageContainer;b.isStandalonePage&&(h=$(b.pageContainer).find(".pageElementsWrapper").first());
h=DKI.utility.getDragContainment($(h),c.width(),c.height());c.draggable("option","containment",h)}},200,!1);b.isStandalonePage?(b.fancyboxInstance.$refs.container.on("onUpdate.fb",l),$(b.fancyboxInstance.current.src).on("scroll",l),$(window).on("scroll",l)):($(window).on("resize",function(){l()}),$(document).on(DKI.ContentPage.events.started,function(c,h){b.page.id==h.page.id&&(l(),$(b.pageContainer).one("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){l()}))}))});$(".dki-authoring-element[data-is-droppable\x3dtrue][data-isquestionelement\x3dfalse]",
b.pageContainer).droppable({accept:".dkiContentFrame.current .dki-authoring-element[data-is-draggable\x3dtrue][data-isquestionelement\x3dfalse], .fancybox-content .dki-authoring-element[data-is-draggable\x3dtrue][data-isquestionelement\x3dfalse]",tolerance:"pointer",drop:function(b,c){if($(this).data("droppable-snap-to-center")){b=$(this).position();var h=settings.scale;!settings.responsive&&c.helper.closest(".fancybox-container").length&&(h*=settings.claroLightboxScaling);b.top/=h;b.left/=h;h=b.top+
$(this).height()/2-c.draggable.height()/2;b=b.left+$(this).width()/2-c.draggable.width()/2;if(settings.responsive){b=$(this).offset();b.left+=$(this).width()/2;b.top+=$(this).height()/2;var k=c.draggable.offset();k.left+=c.draggable.width()/2;k.top+=c.draggable.height()/2;h=c.position.top+(b.top-k.top);b=c.position.left+(b.left-k.left)}c.draggable.animate({top:h+"px",left:b+"px"},125);position={top:h,left:b}}$(this).trigger(DKI.ContentPage.events.elementDropDropped)},out:function(b,c){$(this).trigger(DKI.ContentPage.events.elementDropOut)},
over:function(b,c){$(this).trigger(DKI.ContentPage.events.elementDropOver)},disabled:!1})},registerMediaPlayer:function(b,c,h){var m=this;$(b).bind($.jPlayer.event.play,function(b){var c=this.id.replace("content_","").replace("_player","");if(1!=$("#"+c+"_wrapper").data("disableAudio"))for(var k in h.mediaPlayers){var l=k.replace("content_","");l!=c&&(1==$("#"+l+"_wrapper").data("dontpause")||"video"==$("#"+l+"_wrapper").data("type")&&1==$("#"+l+"_wrapper").data("disableAudio")||h.mediaPlayers[k].jPlayer("pause"))}$("#content_"+
c,h.pageContainer).find(".jp-video-play").removeClass("hidden");$("#content_"+c,h.pageContainer).find(".playHeadBlocker").remove();$(this).parent().find(".jp-controls .jp-pause")[0]&&$(this).parent().find(".jp-controls .jp-pause")[0].focus({preventScroll:!0});m.onMediaPlay(c,h);k=$(this).data("loopingPlay");b=1E3*b.jPlayer.status.currentTime;600>b?($(document).trigger(DKI.ContentPage.events.media.started,[{pageContext:h,elementId:c,looping:k}]),m.onMediaStart(c,h),m.undoMediaActions.call(m,c,-2E3,
h)):($(document).trigger(DKI.ContentPage.events.media.played,[{pageContext:h,elementId:c,looping:k}]),m.undoMediaActions.call(m,c,b,h));$(this).data("loopingPlay",!1)});$(b).bind($.jPlayer.event.pause,function(b){var c=this.id.replace("content_","").replace("_player","");$(this).parent().find(".jp-controls .jp-play")[0]&&$(this).parent().find(".jp-controls .jp-play")[0].focus({preventScroll:!0});b.jPlayer.status.ended||$(document).trigger(DKI.ContentPage.events.media.paused,[{pageContext:h,elementId:c}]);
m.onMediaPause(c,h)});$(b).bind($.jPlayer.event.ended,function(b){b=$(this).data("replayCount")||0;var c=this.id.replace("content_","").replace("_player","");$(document).trigger(DKI.ContentPage.events.media.ended,[{pageContext:h,elementId:c,replayCount:b}]);m.onMediaEnd(c,h);$(this).data("replayCount",b+1);$($(this).closest(".dki-authoring-element")).data("loop")&&($(this).data("loopingPlay",!0),l.play($(this),h))});$(b).bind($.jPlayer.event.volumechange,function(b){var c=this.id.replace("content_",
"").replace("_player","");b.jPlayer.options.muted?($(this).parent().find(".jp-controls .jp-unmute")[0].focus({preventScroll:!0}),m.onMediaVolumeChange(c,"mute",h)):($(this).parent().find(".jp-controls .jp-mute")[0]&&$(this).parent().find(".jp-controls .jp-mute")[0].focus({preventScroll:!0}),m.onMediaVolumeChange(c,"unmute",h))});$(b).bind($.jPlayer.event.timeupdate,function(b){var c=this.id.replace("content_","").replace("_player","");h.mediaTimeUpdates[c]||(h.mediaTimeUpdates[c]=0);b=1E3*b.jPlayer.status.currentTime;
h.mediaTimeUpdates[c]=b;0<b&&(m.undoMediaActions(c,b,h),m.onTimeUpdate(b,c,h))});$(".dki-element-anchor",c).on("keypress",function(h){var l=b.data().jPlayer,n=l.status,l=l.options;32==h.which||13==h.which?n.paused?b.jPlayer("play"):b.jPlayer("pause"):102==h.which&&c.data("allowfullscreen")?$(".jp-full-screen",c).click():27==h.which&&c.data("allowfullscreen")?$(".jp-restore-screen",c).click():116==h.which&&""!=c.data("transcript")?contentApi.showPopup({html:c.data("transcript"),returnFocus:b.find(".jp-transcript"),
modal:!1,autoFocus:!0,title:playerStrings.transcriptLabel}):109==h.which?l.muted?b.jPlayer("unmute"):b.jPlayer("mute"):61==h.which||43==h.which?b.jPlayer("volume",l.volume+.1):45!=h.which&&95!=h.which||b.jPlayer("volume",l.volume-.1)})},undoMediaActions:function(b,c,h){b=this.getActionsForMediaUndo(b,c,h);for(c=0;c<b.length;c++)this.actionHandlers.undoAction(b[c],h)},reset:function(b,c){this.clearPageTimeouts(b);for(var h=0;h<b.actions.length;h++)"setVariable"==b.actions[h].type&&b.actions[h].parameters.fireOnce||
(b.actions[h].firedOnce=!1),"breakpoint"==b.actions[h].trigger&&(b.actions[h].hitBreakpoint=!1),"swapContent"==b.actions[h].type&&this.actionHandlers.undoAction(b.actions[h],b);b.mediaTimeUpdates={};this.initElementsViewedActions(b);this.setupDividerElements(b);c&&$(".dki-authoring-element,.dki-authoring-element-element",b.pageContainer).each(function(){var c=$(this),h=$("#content_"+c.data("id"),this),c=b.getClaroElementById(c.data("id"));c.parameters.config.variable_id&&contentApi.setData(c.parameters.config.variable_id,
b.pageStartVariables[c.parameters.config.variable_id]);switch($(this).data("type")){case "radioGroup":$(this).find(".dki-element-content label").removeClass("active").removeAttr("data-selected");break;case "toggle":h.find("input").prop("checked","");$("label",h).attr("aria-checked","false");break;case "selection":h.find("button .selectedCont").html(h.find("li:first a").html());break;case "input":h.find("input, textarea").val("");break;case "textbox":h.val("")}})},startPageTimer:function(b,c){var h=
this;c.pageTimeouts.push(setTimeout(function(){h.actionConditionsMet(b)&&(h.actionHandlers[b.type](b,c),$(document).trigger(DKI.ContentPage.events.actionFired,[{pageContext:c,action:b}]))},b.time))},clearPageTimeouts:function(b){if(b.pageTimeouts)for(var c=0;c<b.pageTimeouts.length;c++)clearTimeout(b.pageTimeouts[c]);b.pageTimeouts=[]},setReverseAction:function(b,c){var h=this,l=DKI.clone(b);switch(b.type){case "show":l.type="hide";break;case "hide":l.type="show";break;case "entrance":l.type="exit";
break;case "exit":l.type="entrance";break;case "applyEffect":var m=b.parameters,q="moveBy"==m.effect||"moveTo"==m.effect?"left":"width",n="moveBy"==m.effect||"moveTo"==m.effect?"top":"height";if("moveBy"==m.effect||"resizeBy"==m.effect)l.parameters.effectOptions.to[q]=m.effectOptions.to[q].replace(/(\+|\-)/g,function(b){return"+"==b?"-":"+"}),l.parameters.effectOptions.to[n]=m.effectOptions.to[n].replace(/(\+|\-)/g,function(b){return"+"==b?"-":"+"});else if("moveTo"==m.effect||"resizeTo"==m.effect){for(var u=
[],x=0;x<b.targetElements.length;x++){var y=DKI.clone(l),B="moveTo"==m.effect?"x":"width",F="moveTo"==m.effect?"y":"height";y.parameters.effectOptions.to[q]=$("#"+b.targetElements[x]+"_wrapper").data(B);y.parameters.effectOptions.to[n]=$("#"+b.targetElements[x]+"_wrapper").data(F);settings.responsive&&"resizeTo"==m.effect&&(B=$("#"+b.targetElements[x]+"_wrapper"),F=100*(B.outerWidth(!0)/B.parent().width()),y.parameters.effectOptions.to[q]=0<B.length&&""!=B[0].style.width?F:"",y.parameters.effectOptions.to[n]=
"");u.push(y)}for(x=0;x<b.targetGroups.length;x++)y=DKI.clone(l),B="moveTo"==m.effect?"x":"width",F="moveTo"==m.effect?"y":"height",y.parameters.effectOptions.to[q]=$("#group_"+b.targetGroups[x]).data(B),y.parameters.effectOptions.to[n]=$("#group_"+b.targetGroups[x]).data(F),settings.responsive&&"resizeTo"==m.effect&&(y.parameters.effectOptions.to[q]="",y.parameters.effectOptions.to[n]=""),u.push(y);l=u}else if("fadeTo"==m.effect){u=[];for(x=0;x<b.targetElements.length;x++)y=DKI.clone(l),y.parameters.effectOptions.to.opacity=
$("#"+b.targetElements[x]+"_wrapper").css("opacity"),u.push(y);l=u}else if("rotate"==m.effect){u=[];for(x=0;x<b.targetElements.length;x++)y=DKI.clone(l),y.parameters.effectOptions.to.degrees=$("#"+b.targetElements[x]+"_wrapper").css("rotate"),y.parameters.effectOptions.duration=0,u.push(y);l=u}else if("scaleTo"==m.effect){u=[];for(x=0;x<b.targetElements.length;x++)y=DKI.clone(l),m=$("#"+b.targetElements[x]+"_wrapper").css("scale"),$.isArray(m)?(y.parameters.effectOptions.to.w=100*m[0],y.parameters.effectOptions.to.h=
100*m[1]):(y.parameters.effectOptions.to.w=100*m,y.parameters.effectOptions.to.h=100*m),y.parameters.effectOptions.duration=0,u.push(y);l=u}else if("zoomTo"==m.effect){u=[];for(x=0;x<b.targetElements.length;x++)y=DKI.clone(l),m=$("#"+b.targetElements[x]+"_wrapper .dki-element-content").css("scale"),$.isArray(m)?(y.parameters.effectOptions.to.w=100*m[0],y.parameters.effectOptions.to.h=100*m[1]):(y.parameters.effectOptions.to.w=100*m,y.parameters.effectOptions.to.h=100*m),y.parameters.effectOptions.duration=
0,u.push(y);l=u}else if("panTo"==m.effect){u=[];for(x=0;x<b.targetElements.length;x++)y=DKI.clone(l),y.parameters.effectOptions.to.x=$("#"+b.targetElements[x]+"_wrapper .dki-element-content").css("x"),y.parameters.effectOptions.to.y=$("#"+b.targetElements[x]+"_wrapper .dki-element-content").css("y"),y.parameters.effectOptions.duration=0,u.push(y);l=u}else if("panAndZoom"==m.effect){u=[];for(x=0;x<b.targetElements.length;x++)y=DKI.clone(l),y.parameters.effectOptions.to.x=$("#"+b.targetElements[x]+
"_wrapper .dki-element-content").css("x"),y.parameters.effectOptions.to.y=$("#"+b.targetElements[x]+"_wrapper .dki-element-content").css("y"),m=$("#"+b.targetElements[x]+"_wrapper .dki-element-content").css("scale"),$.isArray(m)?(y.parameters.effectOptions.to.w=100*m[0],y.parameters.effectOptions.to.h=100*m[1]):(y.parameters.effectOptions.to.w=100*m,y.parameters.effectOptions.to.h=100*m),y.parameters.effectOptions.duration=0,u.push(y);l=u}else"applyCSS"==m.effect&&(l=function(){var l=h.actionHandlers.getTargetSelector(b,
" .dki-element-content"," .dki-authoring-element .dki-element-content");$(l,c.pageContainer).each(function(){var c=$(this);c.attr("style",c.data("pre-action-style-"+b.id))})});break;case "swapContent":u=$("#content_"+b.targetElements[0]);if(l.target_assets)l.target_assets[0].fullAssetUrl=u.attr("src");else if(l.parameters.swapContent)l.parameters.swapContent=u.html();else if(l.parameters.swapClass)switch(u.closest(".dki-authoring-element, .dki-authoring-element-element").data("elementtype")){case "panel":u=
u.find(".panel").attr("class").match(/panel\-([^\s])+/);l.parameters.swapClass=u[0];break;case "speechBubble":pos=u.attr("class").match(/(top|bottom|left|right|top\-left|top\-right|bottom\-left|bottom\-right)(\s|$)/),shape=u.attr("class").match(/(triangle|thought)(\s|$)/),remCls=pos[0]?[pos[0].trim()]:[],shape[0]?remCls.push(shape[0].trim()):!1,l.parameters.swapClass=remCls.join(" ")}break;case "api":switch(b.parameters.method){case "audioButtonOn":l.parameters.method="audioButtonOff";break;case "audioButtonOff":l.parameters.method=
"audioButtonOn";break;case "hideForward":l.parameters.method="showForward";break;case "hideBack":l.parameters.method="showBack";break;case "hideBoth":l.parameters.method="showBoth";break;case "showForward":l.parameters.method="hideForward";break;case "showBack":l.parameters.method="hideBack";break;case "showBoth":l.parameters.method="hideBoth";break;case "enableMenuButton":l.parameters.method="disableMenuButton";break;case "disableMenuButton":l.parameters.method="enableMenuButton"}break;case "listShowNext":l.type=
"listHideCurrent"}"custom_scroll"==b.trigger&&b.parameters.effectOptions&&b.parameters.effectOptions.direction&&("up"==b.parameters.effectOptions.direction?l.parameters.effectOptions.direction="down":"down"==b.parameters.effectOptions.direction?l.parameters.effectOptions.direction="up":"left"==b.parameters.effectOptions.direction?l.parameters.effectOptions.direction="right":"right"==b.parameters.effectOptions.direction&&(l.parameters.effectOptions.direction="left"));b.reverseAction=l},checkBreakPointThreshold:function(b,
c){b=this.getActionsForPageEvent(b,c,!0);for(var h=0;h<b.length;h++)if(c.started||-1!=$.inArray(b[h].type,["show","hide","toggle","applyEffect","swapContent"]))if(b[h].hitBreakpoint&&!window.matchMedia("(max-width: "+b[h].parameters.breakpoint+"px)").matches){if(DKI.isArray(b[h].reverseAction))for(var l=0;l<b[h].reverseAction.length;l++)this.actionHandlers[b[h].reverseAction[l].type](b[h].reverseAction[l],c),$(document).trigger(DKI.ContentPage.events.actionFired,[{pageContext:c,action:b[h].reverseAction}]);
else DKI.isFunction(b[h].reverseAction)?b[h].reverseAction():(this.actionHandlers[b[h].reverseAction.type](b[h].reverseAction,c),$(document).trigger(DKI.ContentPage.events.actionFired,[{pageContext:c,action:b[h].reverseAction}]));b[h].hitBreakpoint=!1}else window.matchMedia("(max-width: "+b[h].parameters.breakpoint+"px)").matches&&!b[h].hitBreakpoint&&(b[h].reverseAction||this.setReverseAction(b[h],c),this.actionHandlers[b[h].type](b[h],c),$(document).trigger(DKI.ContentPage.events.actionFired,[{pageContext:c,
action:b[h]}]),b[h].hitBreakpoint=!0);c.started&&($(".dki-iframe-element:visible, .dki-videoembed-element:visible, .dki-html-element:visible",c.pageContainer).each(function(){var b=$(this).find("iframe");if("about:blank"==b.attr("src")){var c=b.data("src");b.attr("src",c)}}),$(".dki-iframe-element:not(:visible), .dki-videoembed-element:not(:visible), .dki-html-element:not(:visible)").each(function(){var b=$(this).find("iframe");if("about:blank"!=b.attr("src")){var c=b.attr("src");b.attr("data-src")||
b.attr("data-src",c);b.attr("src","about:blank")}}))},checkDeviceAdaptation:function(b,c){var h=dkiUA.getUAProperties();b=this.getActionsForPageEvent(b,c,!0);for(var l=["platform","os","browser"],m=0;m<b.length;m++){var q=!1;if(b[m].parameters.devices){for(var n=b[m].parameters.devices,u=0;u<l.length&&(n=n[h[l[u]]],!(q=DKI.isObject(n)?n.enabled:n)&&"undefined"!=typeof n);u++);q&&(b[m].reverseAction||this.setReverseAction(b[m],c),this.actionHandlers[b[m].type](b[m],c),$(document).trigger(DKI.ContentPage.events.actionFired,
[{pageContext:c,action:b[m]}]))}}},onPageEvent:function(b,c){b=this.getActionsForPageEvent(b,c);for(var h=0;h<b.length;h++)if(player.isSinglePage||$(player.pageFrames.current).find("\x3e.pageElementsWrapper").data("pageid")==b[h].pageId||c.isStandalonePage&&$(c.pageContainer).is(":visible"))b[h].reverseAction||this.setReverseAction(b[h],c),this.actionHandlers[b[h].type](b[h],c),$(document).trigger(DKI.ContentPage.events.actionFired,[{pageContext:c,action:b[h]}]);return b},onElementScrollEvent:function(b,
c,h,l){if(h.started){b=this.getActionsForEvent(l,$(b.element).data("id"),h);for(c=0;c<b.length;c++)b[c].firedOnce?this.actionHandlers.undoAction(b[c],h):(this.actionHandlers[b[c].type](b[c],h),b[c].firedOnce=!0);return b}},onScrollEvent:function(b,c,h,l){if(h.started){b=this.getActionsForPageEvent(l,h,!1,$(b.element).data("id"));for(c=0;c<b.length;c++)b[c].firedOnce?this.actionHandlers.undoAction(b[c],h):(this.actionHandlers[b[c].type](b[c],h),b[c].firedOnce=!0);return b}},onTextLinkScrollEvent:function(b,
c,h,l){if(h.started){b=this.getTextLinkActionsForEvent(l,$(b.element),h);for(c=0;c<b.length;c++)b[c].firedOnce?this.actionHandlers.undoAction(b[c],h):(this.actionHandlers[b[c].type](b[c],h),b[c].firedOnce=!0);return b}},onElementQuestionSubmittedEvent:function(b,c,h){b=$(b);c=this.getActionsForEvent(c,b.data("id"),h);for(b=0;b<c.length;b++)this.actionHandlers[c[b].type](c[b],h),$(document).trigger("actionFired",[{pageContext:h,action:c[b]}]),c[b].firedOnce=!0},undoElementQuestionSubmittedActions:function(b,
c,h){b=$(b);c=this.getActionsForEvent(c,b.data("id"),h);for(b=0;b<c.length;b++)c[b].firedOnce&&this.actionHandlers.undoAction(c[b],h)},onElementCaptureAssessmentSubmittedEvent:function(b,c,h){b=$(b);c=this.getActionsForEvent(c,b.data("id"),h);for(b=0;b<c.length;b++)this.actionHandlers[c[b].type](c[b],h),$(document).trigger("actionFired",[{pageContext:h,action:c[b]}]),c[b].firedOnce=!0},onContentChangedEvent:function(b,c,h){var l=$(b),m=l.data("id"),q=l.hasClass(".dki-authoring-element")?l:l.closest(".dki-authoring-element-element:not(.dki-panel-element), .dki-authoring-element"),
n=!1,u=!1;b=[];var x=l.data("automaticSet");l.hasClass("dki-audio-element")||l.hasClass("dki-video-element")?q=l:l.hasClass("dki-marker-element")&&(q=l.closest(".dki-image-element"));switch(q.data("type")){case "tabset":l.attr("data-viewed",!0);q.find(".accordion-toggle[data-id\x3d"+l.data("id")+"]").attr("data-viewed",!0);n=q.data("tabsVisited")?q.data("tabsVisited"):[];0>$.inArray(m,n)&&m&&n.push(m);q.data("tabsVisited",n);n=q.data("currentTab")!=m;u=q.data("tabsVisited").length===q.data("tabCount");
n&&(q.data("currentTab",m),!q.is(":visible")||$("#content_"+q.data("id")).hasClass("accordionPanel")||h||setTimeout(function(){q.find("[data-narration\x3d'1'] .dki-element-content").jPlayer("stop");q.find(".active [data-narration\x3d'1'] .dki-element-content").jPlayer("play",0)},5));break;case "scenario":n=!0;l.data("ended")&&(u=!0);break;case "categoryCards":n=!0;l.data("completed")&&(u=!0);break;case "flipCard":l.find(".face.active").attr("data-viewed",!0);n=!0;0==l.find(".face:not([data-viewed\x3d'true'])").length&&
(l.attr("data-viewed",!0),u=!0,h||(q.find("[data-narration\x3d'1'] .dki-element-content").jPlayer("stop"),q.find(".active [data-narration\x3d'1'] .dki-element-content").jPlayer("play",0)));break;case "contentCarousel":l.attr("data-viewed",!0);n=!0;0==q.find(".dki-panel-element[data-parent_element_id\x3d'"+q.data("id")+"']:not([data-viewed\x3d'true'])").length&&(u=!0);$(c.pageContainer).hasClass("current")&&q.isInViewport()&&setTimeout(function(){var b=q.find(".is-selected [data-narration\x3d'1'] .dki-element-content"),
c=b.length?!b.data().jPlayer.status.paused:!1;q.closest(".dki-authoring-element.navigatesSubContent").find("[data-narration\x3d'1'] .dki-element-content").each(function(){q.find("[data-id\x3d"+$(this).data("id")+"]").length||$(this).data().jPlayer.status.paused||(c=!0)});!c&&!h&&q.is(":visible")&&navigator.userActivation.hasBeenActive&&(q.find("[data-narration\x3d'1'] .dki-element-content").jPlayer("stop"),b.jPlayer("play",0))},300);break;case "timeline":l.find(".cd-timeline-block .cd-timeline-img.bounce-in").attr("data-viewed",
!0);n=!0;0==l.find(".cd-timeline-block .cd-timeline-img:not([data-viewed\x3d'true'])").length&&(u=!0);break;case "radioGroup":l.find(".dki-element-content label.active").attr("data-viewed",!0);n=!0;0==l.find(".dki-element-content label:not([data-viewed\x3d'true'])").length&&(u=!0);break;case "capture":var y=0;l.find(".list-group-item").each(function(){y+=$(this).is(":visible")?1:0});m=l.data("slidesViewed");n=!0;y<=m.length&&(u=!0);if(l.find("#testMeContainer").length||l.find("#tryMeContainer").length)u=
!1;break;case "flashCardSet":n=!0;0==l.find(".dki-element-content .card:not([data-answered\x3d'true'])").length&&(u=!0);break;case "videoPlaylist":n=!0;l.find(".menu li.active").attr("data-viewed",!0);0==l.find(".menu li:not([data-viewed\x3d'true'])").length&&(u=!0);break;case "input":case "textbox":case "selection":case "slider":case "toggle":case "flipCardSet":n=!0;0==l.find(".face:not(.seen)").length&&(u=!0);break;case "image":l.attr("data-viewed",!0);n=!0;0==q.find(".dki-marker-element:not([data-viewed\x3d'true']):not(.onlyShownByBreakpointActions):not(.hiddenByBreakpoint)").length&&
(u=!0);break;case "video":l.attr("data-viewed",!0);n=!0;0==q.find(".dki-marker-element:not([data-viewed\x3d'true']):not(.onlyShownByBreakpointActions):not(.hiddenByBreakpoint)").length&&q.data("ended")&&(u=!0);break;case "matchCardSet":n=!0;m=c.getClaroElementById(m);l.data("flipState").success.length==m.elements.length&&(u=!0);break;case "list":l.attr("data-checked",!0),n=!0,0==q.find("input[type\x3d\"checkbox\"]:not([data-checked\x3d'true'])").length&&(u=!0)}n&&(b=b.concat(this.getActionsForEvent("contentChanged",
q.data("id"),c)),$(document).trigger(DKI.ContentPage.events.elementContentChanged,{element:c.getClaroElementById(q.data("id")),pageInstance:c,setAutomatically:x}),x&&l.data("automaticSet",!1));n=q.find(".dki-authoring-element-element.navigatesSubContent:not(.dki-marker-element):not(.onlyShownByBreakpointActions):not(.hiddenByBreakpoint)");n.length&&n.each(function(){var b=$(this).hasClass("dki-image-element"),h=b&&$(this).find(".dki-marker-element:not(.onlyShownByBreakpointActions):not(.hiddenByBreakpoint)").length;
$(this).data("allViewed")||!h&&b||(u=!1);$(this).find(".dki-marker-element:not(.onlyShownByBreakpointActions):not(.hiddenByBreakpoint)").each(function(){var b=$(this),h=c.getClaroElementById(b.data("id")),k=$("#content_"+b.data("id"),b),l="hover";h.parameters.config.trigger&&(l=h.parameters.config.trigger);setTimeout(function(){""!=h.meta&&"custom"==l&&h.pageid==c.page.id&&$(c.pageContainer).hasClass("current")&&b.isInViewport()&&b.is(":visible")&&!b.hasClass("hiddenOnLoad")&&!b.hasClass("hiddenUntilInView")&&
0==b.closest(".flipCardPanel.face:not(.active)").length&&0==b.closest(".flickity .dki-panel-element.contentContainer:not(.is-selected)").length?k.tooltipster("open"):"custom"==l&&"open"==k.tooltipster("instance").status().state&&k.tooltipster("close")},300)})});u&&!q.data("allViewed")&&(q.data("allViewed",!0),b=b.concat(this.getActionsForEvent("allContentViewed",q.data("id"),c)),$(document).trigger(DKI.ContentPage.events.elementAllContentViewed,{element:c.getClaroElementById(q.data("id")),pageInstance:c,
setAutomatically:x}),x&&l.data("automaticSet",!1),q.hasClass("dki-authoring-element-element")||l.trigger("contentViewed"));for(l=0;l<b.length;l++)this.actionHandlers[b[l].type](b[l],c),$(document).trigger("actionFired",[{pageContext:c,action:b[l]}]);q.hasClass("dki-authoring-element-element")&&this.onContentChangedEvent.call(this,q.parent(),c,h)},onTextActionLinkEvent:function(b,c,h){b=this.getTextLinkActionsForEvent(b,c,h);for(c=0;c<b.length;c++)b[c].reverseAction||this.setReverseAction(b[c],h),
this.actionHandlers[b[c].type](b[c],h),$(document).trigger(DKI.ContentPage.events.actionFired,[{pageContext:h,action:b[c]}]);return b},onMouseEvent:function(b,c,h){b=this.getActionsForEvent(b,$(c).data("id"),h);for(c=0;c<b.length;c++)b[c].reverseAction||this.setReverseAction(b[c],h),this.actionHandlers[b[c].type](b[c],h),$(document).trigger(DKI.ContentPage.events.actionFired,[{pageContext:h,action:b[c]}]);return b},onDisplayEvent:function(b,c,h){b=this.getActionsForEvent(b,$(c).data("id"),h);for(c=
0;c<b.length;c++)b[c].reverseAction||this.setReverseAction(b[c],h),this.actionHandlers[b[c].type](b[c],h),$(document).trigger(DKI.ContentPage.events.actionFired,[{pageContext:h,action:b[c]}])},onTimeUpdate:function(b,c,h,l){b=this.getActionForMediaEvent("time",c,h,b);for(c=0;c<b.length;c++)b[c].reverseAction||this.setReverseAction(b[c],h),this.actionHandlers[b[c].type](b[c],h),b[c].firedOnce=!0,$(document).trigger(DKI.ContentPage.events.actionFired,[{pageContext:h,action:b[c]}])},onTimerTimeUpdate:function(b,
c,h){b=this.getActionsForTimerTimeEvent("timer_time",c,h,b);for(c=0;c<b.length;c++){b[c].reverseAction||this.setReverseAction(b[c],h);var l=DKI.clone(b[c]);l.time=0;this.actionHandlers[b[c].type](l,h);b[c].firedOnce=!0;$(document).trigger(DKI.ContentPage.events.actionFired,[{pageContext:h,action:b[c]}])}},onMediaStart:function(b,c,h){b=this.getActionForMediaEvent(h||"start",b,c);for(h=0;h<b.length;h++)b[h].reverseAction||this.setReverseAction(b[h],c),this.actionHandlers[b[h].type](b[h],c),$(document).trigger(DKI.ContentPage.events.actionFired,
[{pageContext:c,action:b[h]}])},onMediaEnd:function(b,c,h){h=this.getActionForMediaEvent(h||"end",b,c);for(var l=0;l<h.length;l++)h[l].reverseAction||this.setReverseAction(h[l],c),this.actionHandlers[h[l].type](h[l],c),$(document).trigger(DKI.ContentPage.events.actionFired,[{pageContext:c,action:h[l]}]);c.mediaTimeUpdates[b]=0;$("#"+b+"_wrapper").attr("data-ended",!0);this.onContentChangedEvent.call(this,$("#"+b+"_wrapper"),c,!0)},onMediaPlay:function(b,c,h){b=this.getActionForMediaEvent(h||"play",
b,c);for(h=0;h<b.length;h++)b[h].reverseAction||this.setReverseAction(b[h],c),this.actionHandlers[b[h].type](b[h],c),$(document).trigger(DKI.ContentPage.events.actionFired,[{pageContext:c,action:b[h]}])},onMediaPause:function(b,c,h){if(c.started)for(b=this.getActionForMediaEvent(h||"pause",b,c),h=0;h<b.length;h++)b[h].reverseAction||this.setReverseAction(b[h],c),this.actionHandlers[b[h].type](b[h],c),$(document).trigger(DKI.ContentPage.events.actionFired,[{pageContext:c,action:b[h]}])},onMediaVolumeChange:function(b,
c,h){b=this.getActionForMediaEvent(c,b,h);for(c=0;c<b.length;c++)b[c].reverseAction||this.setReverseAction(b[c],h),this.actionHandlers[b[c].type](b[c],h),$(document).trigger(DKI.ContentPage.events.actionFired,[{pageContext:h,action:b[c]}])},onDataSetEvent:function(b,c){var h=this.getActionsForPageEvent("variableSet",c,!0);$(".dki-timer-element .dki-element-content[data-variable-id\x3d'"+b.id+"']",c.pageContainer).each(function(){var c=$(this).closest(".dki-timer-element"),h=c.data("timer");if(h&&
0<=b.newValue&&b.newValue!=h.getCurrentTime()){var l=b.newValue;if(h.timer.factory.countdown){var n=h.timer.timeLimit;b.newValue>n&&(l=n)}h.setTime(l/1E3);n="MinuteCounter";36E5<=l&&(n="HourCounter");l!=b.newValue&&(h.restart(),b.newValue=l);h.timer.count=h.timer.factory.countdown?Math.round(1E3*(h.timer.factory.original-l/1E3))/1E3:l/1E3;c.data("timer").loadClockFace(n,null,!0)}});setVariableText(b.id,b.newValue,c);var l=$(".dki-radialGauge-element .radial[data-variable-id\x3d'"+b.id+"'], .dki-radialGauge-element .radial[data-current\x3d'"+
b.id+"']",c.pageContainer);if(l[0]){var m=l.closest(".dki-radialGauge-element");m.find(".radial").RadialGauge("setRotation",b.newValue,function(b,h){(b=c.getClaroElementById(m.data("id")))&&!isNaN(parseInt(b.parameters.config.current,10))&&(b.parameters.config.current=h.state.current)})}l=$(".dki-selection-element .dki-element-content[data-variable-id\x3d'"+b.id+"']",c.pageContainer).find("li\x3ea[data-val\x3d'"+b.newValue+"']");l[0]&&l.trigger("click",{fromDataSet:!0});l=$(".dki-radioGroup-element .dki-element-content[data-variable-id\x3d'"+
b.id+"']",c.pageContainer).find("label[data-index\x3d'"+b.newValue+"']");l[0]&&l.trigger("click",{fromDataSet:!0});l=$(".dki-toggle-element .dki-element-content[data-variable-id\x3d'"+b.id+"']",c.pageContainer).find("input");l[0]&&l.prop("checked",b.newValue);$(".dki-slider-element .noUi-target.slider[data-variable-id\x3d'"+b.id+"']",c.pageContainer).each(function(){$(this).data("automaticSet",!0);this.noUiSlider.set(b.newValue)});$(".dki-tileCard-element .tileCard[data-variable-id\x3d'"+b.id+"']",
c.pageContainer).each(function(){var c=$(this).closest(".dki-tileCard-element"),h=c.find(".tileCard").data("visitedIcon"),c=c.find(".dki-icon-element i"),l=c.data("class");b.newValue?c.addClass(h).removeClass(l):c.addClass(l).removeClass(h)});b.name=="likedislike_"+contentApi.getData("sys.currentpage.id",!0)&&($(".dki-likedislike-element .dki-element-content i",c.pageContainer).disable(),"like"==b.newValue?$(".dki-likedislike-element .dki-element-content .fa-thumbs-up",c.pageContainer).addClass("toggled"):
"dislike"==b.newValue&&$(".dki-likedislike-element .dki-element-content .fa-thumbs-down",c.pageContainer).addClass("toggled"));$(".dki-progress-element .progress[data-variable-id\x3d'"+b.id+"']",c.pageContainer).each(function(){var h=b.newValue,l=$(this).closest(".dki-progress-element"),n=c.getClaroElementById(l.data("id"));l.find(".progress-bar").css(n.parameters.config.dim,h+"%");l.find(".progress-bar").attr("aria-valuenow",h);l.find(".progress-bar").attr("aria-valuetext",h+"%");l.find(".progress-bar-display, .sr-only").html(Math.floor(h)+
"%")});$(".dki-progress-element .progress[data-max\x3d'"+b.id+"'], .dki-progress-element .progress[data-current\x3d'"+b.id+"'],.dki-radialGauge-element .radial[data-max\x3d'"+b.id+"'],.dki-radialGauge-element .radial[data-current\x3d'"+b.id+"']",c.pageContainer).each(function(){var b=$(this).data("max"),h=$(this).data("current"),k=$(this).closest(".dki-progress-element, .dki-radialGauge-element"),l=c.getClaroElementById(k.data("id")),b=isNaN(parseInt(b,10))?contentApi.getData(b):parseInt(b,10),h=
isNaN(parseInt(h,10))?contentApi.getData(h):parseInt(h,10),b=h/b*100;"radialGauge"==k.data("type")?$(this).RadialGauge("setRotation",b,function(b,c){isNaN(parseInt(l.parameters.config.current,10))||(l.parameters.config.current=c.state.current)}):(k.find(".progress-bar").css(l.parameters.config.dim,b+"%"),k.find(".progress-bar").attr("aria-valuenow",b),k.find(".progress-bar").attr("aria-valuetext",b+"%"),k.find(".progress-bar-display, .sr-only").html(Math.floor(b)+"%"))});$(".dki-capture-element .capture[data-variable-id\x3d'"+
b.id+"']",c.pageContainer).each(function(){if(b.cfg&&b.cfg.source&&b.cfg.source.attr("id")==$(this).closest(".dki-capture-element").attr("id"))return!1;$(this).closest(".dki-capture-element").capture("goToOverallStep",[b.newValue])});for(l=0;l<h.length;l++)if(h[l].parameters.trigger.variable.id==b.id){var q=h[l].parameters.trigger.variable.value,n=$("\x3cdiv/\x3e").html(q);n.find(".dki-inline-variable-id").each(function(){$(this).html($(this).parent().data("variable-id")).prepend("{{").append("}}")});
var n=n.text(),u=n.toString().indexOf("{{"),x=n.toString().indexOf("}}"),y=0,B=/([^\\]["])+/g;-1!=u||B.test(n.toString())||(n='"'+n+'"');"boolean"==typeof b.newValue?B.test(n)?n='"true"'==n:(n="true"==n.substr(0,4),u=-1):"string"==typeof n&&(B.test(q)||(n='"'+q+'"'));for(;-1<u&&-1<x&&500>y;)q=n.substr(u+2,x-(u+2)),n=n.replace("{{"+q+"}}","contentApi.getData('"+q+"')"),u=n.indexOf("{{"),x=n.indexOf("}}"),y++;1==(new Function("data","return data.newValue "+(h[l].parameters.trigger.variable.condition||
"\x3d\x3d")+" "+n+";"))(b)&&(h[l].reverseAction||this.setReverseAction(h[l],c),this.actionHandlers[h[l].type](h[l],c),$(document).trigger(DKI.ContentPage.events.actionFired,[{pageContext:c,action:h[l]}]))}},getActionsForEvent:function(b,c,h){for(var l=[],m=0;m<h.actions.length;m++){var q=h.actions[m];q.trigger.toLowerCase()!=b.toLowerCase()||q.elementId!=c||q.textLinkId||this.actionConditionsMet(h.actions[m])&&l.push(h.actions[m])}return l},getTextLinkActionsForEvent:function(b,c,h){var l=[],m=$(c).data("textlinkid");
c=$(c).closest(".dki-authoring-element,.dki-authoring-element-element").data("id");for(var q=0;q<h.actions.length;q++){var n=h.actions[q];n.elementId==c&&n.textLinkId==m&&n.trigger.toLowerCase()==b.toLowerCase()&&this.actionConditionsMet(h.actions[q])&&l.push(h.actions[q])}return l},getActionForMediaEvent:function(b,c,h,l,m){m=[];for(var q=0;q<h.actions.length;q++)h.actions[q].trigger==b&&h.actions[q].elementId==c&&!h.actions[q].firedOnce&&this.actionConditionsMet(h.actions[q])&&(l?h.actions[q].time<=
l+250&&m.push(h.actions[q]):m.push(h.actions[q]));return m},getActionsForTimerTimeEvent:function(b,c,h,l){for(var m=[],q=0;q<h.actions.length;q++)h.actions[q].trigger!=b||h.actions[q].elementId!=c||h.actions[q].firedOnce||this.actionConditionsMet(h.actions[q])&&1E3*Math.round(h.actions[q].time/1E3)===l&&m.push(h.actions[q]);return m},getActionsForPageEvent:function(b,c,h,l,m){for(var q=[],n=0;n<c.actions.length;n++){var u=!1;l&&($.each(c.actions[n].targetElements,function(){if(this.toString()==l.toString())return u=
!0,!1}),u||$.each(c.actions[n].targetGroups,function(){if(this.toString()==l.toString())return u=!0,!1}));c.actions[n].trigger.toLowerCase()!=b.toLowerCase()||!h&&c.actions[n].firedOnce&&c.actions[n].parameters.fireOnce||l&&!u||(m||this.actionConditionsMet(c.actions[n]))&&q.push(c.actions[n])}return q},getActionsForMediaUndo:function(b,c,h){for(var l=[],m=h.actions.length-1;0<=m;m--)h.actions[m].elementId==b&&h.actions[m].firedOnce&&h.actions[m].time>c+250&&"time"==h.actions[m].trigger.toLowerCase()&&
this.actionConditionsMet(h.actions[m])&&l.push(h.actions[m]);return l},getActionsTargettingElement:function(b,c){for(var h=[],l=0;l<c.actions.length;l++){var m=!1;$.each(c.actions[l].targetElements,function(){if(this.toString()==b.toString())return m=!0,!1});m&&h.push(c.actions[l])}return h},actionConditionsMet:function(b){var c=!0;if("undefined"!==typeof b.parameters&&"undefined"!==typeof b.parameters.conditions&&""!=b.parameters.conditions){b=b.parameters.conditions;b=$("\x3cdiv/\x3e").html(b);
b.find(".dki-inline-variable-name").each(function(){var b=$(this).parent().data("variable-id");$(this).html("{{"+b+"}}")});b=b.text();for(var h=b.indexOf("{{"),l=b.indexOf("}}"),c=0;-1<h&&-1<l&&500>c;)h=b.substr(h+2,l-(h+2)),b=b.replace("{{"+h+"}}","contentApi.getData('"+h+"')"),h=b.indexOf("{{"),l=b.indexOf("}}"),c++;c=eval(b)}return c},setupLinkedElements:function(c,h,l){for(var m=0;m<c.length;m++){c[m].elementId&&!c[m].textLinkId&&$("#"+c[m].elementId+"_wrapper:not(.dki-hotspot-element) .dki-element-content",
h).css({cursor:"pointer"});for(var v=0;v<c[m].targetElements.length;v++)$("#"+c[m].targetElements[v]+"_wrapper",h).addClass("dki-event-target")}$("[data-actiontype\x3dpagelink]",h).each(function(){$(this).css({cursor:"pointer"});$(this).on(l,function(){if(b){var c=this;setTimeout(function(){b.jumpToSubeo($(c).data("actiontargets"))},10)}})});$("[data-actiontype\x3dimagemap]",h).each(function(){var b=$(this).data("id");if(b=document.getElementById(b+"_imagemap"))for(var c=0;c<b.childNodes.length;c++)processHrefTarget($(b.childNodes[c]).data("hreftarget"),
$(b.childNodes[c]).data("hidetargetonload"))})},setupRollovers:function(b){function c(l,m){var n=$("#content_"+l+"_rollover",b),p=$("#content_"+l,b),q="position top bottom left right width height".split(" "),u=function(){$("#"+l+"_wrapper",b).css("min-height","");$("#"+l+"_wrapper",b).data("rolledover","false");settings.responsive&&$.effects.restore(p,q)},w=null,x=$("#"+l+"_wrapper",b).data("meta"),x=x.split(";");2<=x.length&&(w=x[1]);w&&""!==w&&"true"==$("#"+l+"_wrapper",b).data("rolledover")&&($.effects.save(p,
q),p.css({top:n.css("top"),left:n.css("left"),width:n.width(),height:n.height()}),"none"!==w?m?($(".dki-image-root-reflected",$("#"+l+"_wrapper")).show(w,{},1E3,u),$(".dki-image-rollover-reflected",$("#"+l+"_wrapper")).hide(w,{},1E3,u)):(p.velocity("stop"),$("#content_"+l+"_rollover",b).velocity("stop"),$("#content_"+l,b).velocity(h(w,!0),{duration:1E3,complete:function(){$(this).css("position","static");u()}}),$("#content_"+l+"_rollover",b).velocity(h(w,!1),{duration:1E3,display:null,complete:function(){$(this).hide().css("position",
"static");u()}})):(p.velocity("stop"),m?($(".dki-image-root-reflected",$("#"+l+"_wrapper")).show(),$(".dki-image-rollover-reflected",$("#"+l+"_wrapper")).hide()):($("#content_"+l,b).show(),$("#content_"+l,b).css("transform","translateX(0px)"),$("#content_"+l,b).css("opacity","1"),$("#content_"+l+"_rollover",b).hide()),u()))}var h=function(b,c){var h;c?(c="Left","flip"==b&&(c="X"),h="In"):(c="Right","flip"==b&&(c="Y"),h="Out");c={fade:"transition.fade"+h,drop:"transition.slide"+c+"Big"+h,slide:"transition.slide"+
c+h,bounce:"transition.bounce"+c+h,fly:"transition.bounce"+c+h,roll:"transition.perspective"+c+h,flip:"transition.flip"+("Left"==c||"Right"==c?"X":"Y")+h,zoom:"transition.expand"+h};return b=c[b]||c.fade},l=function(b,c){var h=c.position().left;c=c.position().top;b.css({left:h+"px",top:c+"px"})};$(".dki-image-element .dki-element-content.hasRollover",b).on("mouseenter",function(){var c=$(this).closest(".dki-image-element"),m=c.data("id");if(c.data("rolloverassetid")&&(!c.data("rolledover")||"false"==
c.data("rolledover"))){var n=null,p=c.data("meta"),p=p.split(";");1<=p.length&&(n=p[0]);var p=$("#"+m+"_wrapper",b).data("rolledover"),q=$(this).hasClass("cssFX-slctr-Reflect");$(".dki-image-root-reflected",$("#"+m+"_wrapper")).attr("data-id",m);$(".dki-image-rollover-reflected",$("#"+m+"_wrapper")).attr("data-id",m);c.css("min-height",c.height()+"px");!n||"none"===n||p&&"false"!==p?p&&"false"!==p||($("#content_"+m,b).parent().css("position","initial"),q?($("#content_"+m+"_rollover",b).parent().show(),
$("#content_"+m,b).parent().hide()):($("#content_"+m+"_rollover",b).css({width:$("#content_"+m,b).width()+"px",height:$("#content_"+m,b).height()+"px"}),l($("#content_"+m+"_rollover",b),$("#content_"+m,b)),$("#content_"+m+"_rollover",b).css({position:"static",opacity:1}).show(),$("#content_"+m,b).hide()),$("#"+m+"_wrapper",b).data("rolledover","true")):($("#content_"+m+"_rollover",b).css({position:"static",width:$("#content_"+m,b).width()+"px",height:$("#content_"+m,b).height()+"px"}),q?($(".dki-image-rollover-reflected",
$("#"+m+"_wrapper")).show(n,{},1E3,function(){settings.responsive&&$("#content_"+m+"_rollover",b).css("position","static")}),$(".dki-image-root-reflected",$("#"+m+"_wrapper")).hide(n,{},1E3)):(l($("#content_"+m+"_rollover",b),$("#content_"+m,b)),$("#content_"+m+"_rollover",b).velocity(h(n,!0),{duration:1E3,complete:function(){$(this).css("position","static")}}),$("#content_"+m,b).velocity(h(n,!1),{duration:1E3,display:null,complete:function(){$(this).hide().css("position","static")}})),$("#"+m+"_wrapper",
b).data("rolledover","true"))}});$(".dki-image-rollover-reflected",b).mouseout(function(){c($(this).closest(".dki-image-element").data("id"),!0)});$(".dki-image-rollover",b).mouseout(function(){c($(this).closest(".dki-image-element").data("id"),!1)})},elementIsonlyShownByBreakpointActions:function(b,c){var h=function(b){return"show"==b.type},l=this.getActionsForPageEvent("breakpoint",c,!0,b,!0).filter(h);return l.length&&this.getActionsTargettingElement(b,c).filter(h).length==l.length?!0:!1},actionHandlers:{entrance:function(b,
c){this.show.apply(this,arguments)},exit:function(b,c){this.hide.apply(this,arguments)},show:function(b,c){var h=0;"time"!=b.trigger&&(h=b.time);h={type:"show",effect:b.parameters.effect,targetElements:b.targetElements,targetGroups:b.targetGroups,delay:h,action:b};b.parameters.effectOptions&&(h.effectOptions=b.parameters.effectOptions);this.doDisplayAction(h,c)},hide:function(b,c){var h=0;"time"!=b.trigger&&(h=b.time);h={type:"hide",effect:b.parameters.effect,targetElements:b.targetElements,targetGroups:b.targetGroups,
delay:h,action:b};b.parameters.effectOptions&&(h.effectOptions=b.parameters.effectOptions);this.doDisplayAction(h,c)},toggle:function(b,c){var h=[],l=[];if(b.targetElements)for(var m=0;m<b.targetElements.length;m++)"none"===$("#"+b.targetElements[m]+"_wrapper").css("display")||"hidden"===$("#"+b.targetElements[m]+"_wrapper").css("visibility")||$("#"+b.targetElements[m]+"_wrapper").hasClass("hiding")?(h.push(b.targetElements[m]),c.queue.dequeue({name:"elementsViewed",id:b.targetElements[m]})):l.push(b.targetElements[m]);
var q=[],n=[];if(b.targetGroups)for(m=0;m<b.targetGroups.length;m++)"none"===$("#group_"+b.targetGroups[m]).css("display")||"hidden"===$("#group_"+b.targetGroups[m]).css("visibility")?q.push(b.targetGroups[m]):n.push(b.targetGroups[m]);m=0;"time"!=b.trigger&&(m=b.time);h={type:"show",effect:b.parameters.showEffect,targetElements:h,targetGroups:q,delay:m,action:b};b.parameters.showEffectOptions&&(h.effectOptions=b.parameters.showEffectOptions);l={type:"hide",effect:b.parameters.hideEffect,targetElements:l,
targetGroups:n,delay:m,action:b};b.parameters.hideEffectOptions&&(l.effectOptions=b.parameters.hideEffectOptions);this.doDisplayAction(h,c);this.doDisplayAction(l,c)},doDisplayAction:function(b,c,h){var m=this,v=this.getTargetSelector(b,"[data-type!\x3d'zoomRegion']:not(.dki-list-element)"),q=$(this.getTargetSelector(b,".dki-list-element:not(.isShowNextTarget)",".dontincludegroups"),c.pageContainer),n=this.getTargetSelector(b,"[data-type\x3d'zoomRegion']"," .dki-zoomRegion-element"),u=this.getTargetSelector({targetGroups:b.targetGroups}),
x=this.getTargetSelector(this.getTargetsToHide(b.action,c)),y=$(v,c.pageContainer),B=$(u,c.pageContainer);b.action.undo||(b.action.undo={});"toggle"==b.action.type&&"show"==b.type?b.action.undo.showTargetSelector=v:"toggle"==b.action.type&&"hide"==b.type&&(b.action.undo.hideTargetSelector=v);b.action.undo.targetsToHideSelector=x;var F=function(){var h=$(this),n="show"===b.type?DKI.ContentPage.events.shown:DKI.ContentPage.events.hidden;"show"===b.type&&h.each(function(){$(this).hasClass("dki-authoring-element")&&
c.actionAPI.registerElementViewed(this,c)});if(h.hasClass("dki-authoring-group")){settings.responsive||h.css({width:"",height:""});var m=$(".dki-authoring-element",this);"show"==b.type&&(m=m.filter(":visible"));m.each(F)}else{var v="content_"+h.data("id"),r=$("#"+v),m=c.getClaroElementById(h.data("id"));h.trigger(n,this);if("show"===b.type)settings.responsive&&(c.setMinHeight(),c.reCalculateMediaControls()),h.each(function(){var b=$(this),h="content_"+b.data("id"),k=$("#"+h),n=c.getClaroElementById(b.data("id"));
k.data("autoplay")&&"flash"!=b.data("type")&&l.play(h,c);"marker"==b.data("type")?"custom"==n.parameters.config.trigger&&""!=n.meta&&k.tooltipster("open"):"videoPlaylist"==b.data("type")?k.data("dki.VideoPlaylist").sizeVideo():"textbox"==b.data("type")||"freeFormOption"==b.data("type")?""!=n.parameters.config.variable_id&&k.val(contentApi.getData(n.parameters.config.variable_id)):"scenario"==b.data("type")?(b.find(".dki-element-content").Scenario("sceneWindowResize"),b.find(".dki-element-content").Scenario("start")):
"flashCardSet"==b.data("type")&&b.find(".flickity-carousel").data("resize")();b.find(".dki-flashCardSet-element").length&&b.find(".dki-flashCardSet-element .flickity-carousel").each(function(){$(this).data("resize")()});if(n.elements){for(b=0;b<n.elements.length;b++)h=n.elements[b],"marker"==h.elementtype&&"custom"==h.parameters.config.trigger&&""!=h.meta&&$("#content_"+h.id).tooltipster("open");if(settings.responsive){var m=function(b){var h=$("#"+b.id+"_wrapper",c.pageContainer);c.setLabelWrapperPosition(h);
c.scaleElementChildren(b);h.find(".dki-authoring-element-element").css("visibility","");h.addClass("children-scaled",!0)},v=function(b){settings.elementTypeConfig[b.elementtype].hasStackableElementElements?m(b):b.elements&&$.each(b.elements,function(){v(this)})};v(n)}}}),settings.elementTypeConfig[h.data("type")].navigateSubContent&&h.find(".dki-audio-element[data-narration\x3d1]:visible .dki-element-content").jPlayer("play",0);else if("hide"==b.type){settings.responsive&&setTimeout(player.resetContentHeight,
10);$(this).css({opacity:""});$("iframe",this).each(function(){"videoPlaylist"!==h.data("type")&&($(this).attr("data-src")||$(this).attr("data-src",this.src),this.src="about:blank")});h.data("multimedia")&&"flash"!=h.data("type")&&l.pause(v,c);"marker"==h.data("type")&&""!=m.meta&&r.tooltipster("close");h.each(function(){"scenario"==$(this).data("type")&&$(this).find(".dki-element-content").Scenario("stop")});if(m.elements)for(n=0;n<m.elements.length;n++)v=m.elements[n],"marker"==v.elementtype&&""!=
v.meta&&$("#content_"+v.id).tooltipster("close");settings.elementTypeConfig[h.data("type")].navigateSubContent&&h.find(".dki-audio-element[data-narration\x3d1] .dki-element-content").jPlayer("stop",0)}}};""!==v?(u=function(){"themeDefault"==b.effect&&(b=DKI.applyIf({effect:settings.design.parameters.config.defaultEffects.display.effect,effectOptions:{duration:settings.design.parameters.config.defaultEffects.display.duration,direction:settings.design.parameters.config.defaultEffects.display.direction}},
b,!0));DKI.applyIf(b,{effectOptions:{duration:1E3,direction:""}},!0);var l=b.effectOptions.duration,u=function(b){b.trigger("match.resizeImmediate").find(".dki-matchCardSet-element").trigger("match.resizeImmediate");b.find(".radial").RadialGauge("resize")},E=b.type;b.type="hide";$(x).addClass("hidden").each(function(){F.call(this)});b.type=E;"show"==b.type&&c.started&&$("iframe",v).each(function(){if("videoPlaylist"!==$(this).data("type")){var b=$(this).attr("data-src");void 0!==b&&""!==b&&(this.src=
b)}});"hide"==b.type&&settings.responsive&&c.setMinHeight();"show"!=b.type||settings.responsive||y.each(function(){var l=$(this).find("#content_"+$(this).data("id")),n=function(b,c,h,k){var l=function(b,c,h){h=$(b).find("#content_"+$(b).data("id"));var k=$(b).find("\x3e .dki-authoring-content-wrapper");$(b).css({visibility:"hidden",display:"block"});c-=h.find(".panel \x3e.panel-heading").first().outerHeight()+h.find(".panel \x3e.panel-footer").first().outerHeight()+2;c-=parseInt(k.css("padding-top").split("px")[0],
10);c-=parseInt(k.css("padding-bottom").split("px")[0],10);var l=h.find(".panel-body");l.first().css({height:c,overflowY:"hidden"});var n=l.first().parent().css("overflow-y");l.first().parent().css("overflow-y","hidden");setTimeout(function(){$(b).css({visibility:"",display:""});l.first().css({overflowY:""});l.first().parent().css("overflow-y",n)},0)};k?setTimeout(function(){l(b,c,h)},0):l(b,c,h)},v=function(l,v){if("panel"==$(l).data("type"))n(l,$(l).data("height"),v,!0);else if("contentCarousel"==
$(l).data("type")){var q=$(l).css({visibility:"hidden",display:"block"}).height()-v.find("\x3e .flickity \x3e .flickity-page.dots").height();$(l).css({visibility:"",display:""});v.find("\x3e .flickity \x3e .flickity-viewport \x3e .flickity-slider \x3e .dki-panel-element").each(function(){n(l,q)});setTimeout(function(){v.find("\x3e .flickity \x3e .flickity-viewport \x3e .flickity-slider \x3e .dki-panel-element \x3e .dki-authoring-content-wrapper \x3e .dki-element-content \x3e .panel,\x3e .face \x3e .dki-panel-element \x3e .dki-authoring-content-wrapper \x3e .dki-element-content \x3e .panel").each(function(){var b=
$(this).find(".panel-body:first");b.css("height","auto");b.find("[data-type\x3dpanel]").each(function(){$(this).find("#content_"+$(this).data("id")).find(".panel-body").first().css({height:"auto",overflowY:"auto"})})});h||m.doDisplayAction(b,c,!0)},0)}else if("flashCardSet"==$(l).data("type"))q=$(l).css({visibility:"hidden",display:"block"}).height()-v.find("\x3e .flickity-carousel \x3e .flickity-page-dots").height(),$(l).find(".flickity-carousel").data("resize")(),$(l).css({visibility:"",display:""}),
v.find("\x3e .flickity-carousel \x3e .flickity-viewport, \x3e .flickity-carousel \x3e .flickity-viewport \x3e .flickity-slider \x3e .flashCardCont \x3e .card").each(function(){$(l).height(q)});else if("flipCard"==$(l).data("type"))q=$(l).data("height"),$(l).css({visibility:"",display:""}),v.find("\x3e .flip \x3e .face \x3e .contentContainer").each(function(){n(l,q)});else if("tabset"==$(l).data("type")){var u=c.getClaroElementById($(l).data("id"));if("horizontal"==u.parameters.config.orientation||
"horizontal-bottom"==u.parameters.config.orientation){var u=$(l).css("left"),y=$(l).css("top"),z=l.style.display;$(l).css({left:-2E3,top:-2E3,display:"block"});q=$(l).data("height")-v.find("\x3e .tabbable \x3e .nav").height();v.find("\x3e.tabbable \x3e .tab-content").css("height",q+"px");$(l).css({left:u,top:y,display:z})}}};$(this).data("type")?v(this,l):$(this).find("[data-type]").not("[data-type] [data-type]").each(function(){var b=$(this).find("#content_"+$(this).data("id"));v(this,b)})});if(""==
b.effect||"none"==b.effect)"show"==b.type?(y=y.add(q),y.removeClass("hiddenOnLoad").removeClass("hidden"),b.action.parameters.keepHiddenUntilInView||y.removeClass("hiddenUntilInView"),u(y),y.each(F),c.resizeCarousels(y.find(".flip, .flickity, .flickity-enabled")),c.resizeSvgs(),c.resizeSection(y.closest(".dki-authoring-section")),c.resizeDropTargets(),c.resizeTabs(),y.find("img.dki-element-content").maskImage({preserveAspectRatio:settings.responsive?!1:"none"})):"exit"==b.action.type&&"custom_scroll"==
b.action.trigger?y.addClass("hiddenUntilInView").each(F):(y=y.add(q),y.addClass("hidden").each(F));else if(b.effect.match("text_","i"))b.effectOptions&&(y.removeClass("hiddenUntilInView").removeClass("hiddenOnLoad").removeClass("hidden"),y.find(".dki-element-content").textillate(b.effectOptions));else{if("blind"==b.effect||"clip"==b.effect||"fold"==b.effect)b.effect="fade";var E=b.effectOptions.direction?DKI.capitalizeString(b.effectOptions.direction):"",G="In";"show"==b.type?"Left"==E?E="Right":
"Right"==E&&(E="Left"):G="Out";var K={fade:"transition.fade"+G,drop:"transition.slide"+E+"Big"+G,slide:"transition.slide"+E+G,bounce:"transition.bounce"+E+G,fly:"transition.bounce"+E+G,roll:"transition.perspective"+E+G,flip:"transition.flip"+("Left"==E||"Right"==E?"X":"Y")+G,zoom2:"transition.expand"+G,swoop:"transition.swoop"+G,whirl:"transition.whirl"+G,shrink:"transition.shrink"+G,expand:"transition.expand"+G},L=$([]);q.each(function(){jQuery.merge(L,$(this).find("ul.dki-element-content li"))});
var P=function(){$(this).removeClass("showing");$(this).css({opacity:""});$.each($(this),function(){F.call($(this))})},E=function(){$(this).removeClass("hiding");"exit"==b.action.type&&"custom_scroll"==b.action.trigger?$(this).addClass("hiddenUntilInView"):$(this).addClass("hidden");$(this).css({opacity:""});$.each($(this),function(){F.call($(this))})};if("show"==b.type){settings.responsive&&y.each(function(){$(this).hasClass("children-scaled")||"image"!=$(this).data("type")&&"video"!=$(this).data("type")||
$(this).find(".dki-authoring-element-element").css("visibility","hidden")});if(K[b.effect])G=y.filter(".hiddenUntilInView, .hiddenOnLoad, .hidden, .hiding"),G.filter(".hiding").length&&(G.filter(".hiding").velocity("stop"),E.call(G)),function(c){c.addClass("showing");c.removeClass("hiddenOnLoad").removeClass("hidden");b.action.parameters.keepHiddenUntilInView||y.removeClass("hiddenUntilInView");u(c);c.velocity(K[b.effect],{duration:l,display:null,complete:P})}(G),y.find("img.dki-element-content").maskImage(),
y.filter(".dki-image-element").add(y.find(".dki-image-element")).each(function(){$(this).data("resizeMap")&&$(this).data("resizeMap")()}),q.filter(".hiddenUntilInView, .hiddenOnLoad, .hidden").removeClass("hiddenUntilInView").removeClass("hiddenOnLoad").removeClass("hidden"),L.velocity(K[b.effect],{duration:l,stagger:.5*l,display:null,complete:function(){$(this).css({opacity:""});F.call($(this).closest(".dki-authoring-element")[0])}});else{var M=b.effectOptions?DKI.clone(b.effectOptions):{};settings.responsive||
B.css({width:"100%",height:"100%"});y.filter(".hiddenUntilInView, .hiddenOnLoad, .hidden").css("display","none").removeClass("hiddenOnLoad").removeClass("hidden").each(function(){u($(this));if("oldSlide"==b.effect){var c={},h={};$(this).css({display:""});var l=$(this),n=l.css("transform"),m=1;-1<n.indexOf("matrix(")&&(m=parseFloat(n.split("(")[1].split(",")[0]));n={clipTop:0,clipRight:$(this).width(),clipBottom:$(this).height(),clipLeft:0,scale:m};"right"==b.effectOptions.direction?(c=DKI.apply(n,
{clipLeft:$(this).width(),translateX:"-100%"}),h={translateX:0,clipLeft:0}):"left"==b.effectOptions.direction?(c=DKI.apply(n,{clipRight:0,translateX:"100%"}),h={translateX:0,clipRight:$(this).width()}):"down"==b.effectOptions.direction?(c=DKI.apply(n,{clipTop:$(this).height(),translateY:"-100%"}),h={translateY:0,clipTop:0}):"up"==b.effectOptions.direction&&(c=DKI.apply(n,{clipBottom:0,translateY:"100%"}),h={translateY:0,clipBottom:$(this).height()});h.scale=m;$.Velocity.RunSequence([{e:$(this),p:c,
o:{duration:0}},{e:$(this),p:h,o:{duration:M.duration,complete:function(){l.css({clip:"",transform:"scale("+m+")"})}}}])}else $(this).show(b.effect,M,F)});b.action.parameters.keepHiddenUntilInView||y.removeClass("hiddenUntilInView");q.filter(".hiddenUntilInView, .hiddenOnLoad, .hidden").removeClass("hiddenUntilInView").removeClass("hiddenOnLoad").removeClass("hidden").effect(b.effect,M,F)}c.resizeCarousels(y.find(".flip, .flickity, .flickity-enabled"));c.resizeSection(y.closest(".dki-authoring-section"));
settings.responsive&&$(v).closest(".dki-authoring-row.synchronize-heights").each(function(){synchonizeRowHeight($(this))})}else if(K[b.effect])G=y.filter(":not(.hiding):not(.hidden)"),G.addClass("hiding"),G.filter(".showing").length&&(G.filter(".showing").velocity("stop"),P.call(G)),G.velocity(K[b.effect],{duration:l,display:null,complete:E}),L.velocity(K[b.effect],{duration:l,stagger:.5*l,display:null,complete:function(){"exit"==b.action.type&&"custom_scroll"==b.action.trigger?$(this).addClass("hiddenUntilInView"):
$(this).addClass("hidden");F.call($(this).closest(".dki-authoring-element")[0])}});else{M=b.effectOptions?DKI.clone(b.effectOptions):{};settings.responsive||B.css({width:"100%",height:"100%"});var R=function(){"exit"==b.action.type&&"custom_scroll"==b.action.trigger?$(this).addClass("hiddenUntilInView"):$(this).addClass("hidden");$(this).css("display","");$.each($(this),function(){F.call($(this))})};"oldSlide"==b.effect?y.each(function(){var c={},h={},l=$(this).css("transform"),n=1;-1<l.indexOf("matrix(")&&
(n=parseFloat(l.split("(")[1].split(",")[0]));l={clipTop:0,clipRight:$(this).width(),clipBottom:$(this).height(),clipLeft:0,scale:n};"left"==b.effectOptions.direction?(c=DKI.apply(DKI.clone(l),{translateX:0,clipLeft:0}),h=DKI.apply(DKI.clone(l),{clipLeft:$(this).width(),translateX:"-100%"})):"right"==b.effectOptions.direction?(c=DKI.apply(DKI.clone(l),{translateX:0,clipRight:$(this).width()}),h=DKI.apply(DKI.clone(l),{clipRight:0,translateX:"100%"})):"up"==b.effectOptions.direction?(c=DKI.apply(DKI.clone(l),
{translateY:0,clipTop:0}),h=DKI.apply(DKI.clone(l),{clipTop:$(this).height(),translateY:"-100%"})):"down"==b.effectOptions.direction&&(c=DKI.apply(DKI.clone(l),{translateY:0,clipBottom:$(this).height()}),h=DKI.apply(DKI.clone(l),{clipBottom:0,translateY:"100%"}));$.Velocity.RunSequence([{e:$(this),p:c,o:{duration:0}},{e:$(this),p:h,o:{duration:M.duration,complete:function(){R.call($(this))}}}])}):y.hide(b.effect,M,R);q.hide(b.effect,M,function(){"exit"==b.action.type&&"custom_scroll"==b.action.trigger?
$(this).addClass("hiddenUntilInView"):$(this).addClass("hidden");$(this).css("display","");$.each($(this),function(){F.call($(this))})})}}0<$(n,c.pageContainer).length&&("show"==b.type?$(n,c.pageContainer).show().each(function(){var b=this;contentApi.zoomToElement($(this).data("id"),c,l,function(){F.call(b)})}):contentApi.zoomOut(c,l,function(){$(n,c.pageContainer).hide().each(function(){F.call(this)})}))},0!=b.delay||!player.settings.forSnapshot&&1!=b.action.parameters.immediateExecution?c.pageTimeouts.push(setTimeout(u,
b.delay)):(b.effectOptions.duration=0,u())):""!==x&&($(x).hide(),b.action.undo.targetsToHideSelector=x)},applyEffect:function(c,h){var l=this,m=0,v;"time"!=c.trigger&&(m=c.time);v=this.getTargetSelector(c,""," .dki-authoring-element");if(""!==v){if("moveTo"==c.parameters.effect||"moveBy"==c.parameters.effect){c.undo={targets:{}};for(var q=0;q<c.targetElements.length;q++)c.undo.targets[c.targetElements[q]]={left:$("#"+c.targetElements[q]+"_wrapper",h.pageContainer).css("left").split("px")[0],top:$("#"+
c.targetElements[q]+"_wrapper",h.pageContainer).css("top").split("px")[0]}}else if("resizeTo"==c.parameters.effect||"resizeBy"==c.parameters.effect)for(c.undo={targets:{}},q=0;q<c.targetElements.length;q++)c.undo.targets[c.targetElements[q]]={width:0<$("#"+c.targetElements[q]+"_wrapper",h.pageContainer).css("width").length?$("#"+c.targetElements[q]+"_wrapper",h.pageContainer).css("width").split("px")[0]:0,height:0<$("#"+c.targetElements[q]+"_wrapper",h.pageContainer).css("width").length?$("#"+c.targetElements[q]+
"_wrapper",h.pageContainer).css("height").split("px")[0]:0};q=function(){var n=void 0!=c.parameters.effectOptions.duration?c.parameters.effectOptions.duration:1E3,m=function(c){try{return $(c).is("span")?b.getData($(c).data("variable-id"),!0):c}catch(h){return c}};c.parameters&&c.parameters.effect&&"pulsate"==c.parameters.effect&&(c.parameters.effect="pulse");if(c.parameters&&c.parameters.effectOptions)if("moveTo"==c.parameters.effect||"moveBy"==c.parameters.effect){var n=l.getTargetSelector({targetElements:c.targetElements}),
q=DKI.clone(c.parameters.effectOptions);q.to.left=m(q.to.left);q.to.top=m(q.to.top);$(n).effect(c.parameters.effect,q,function(){"zoomRegion"==$(this).data("type")&&contentApi.zoomToElement($(this).data("id"))});for(n=0;n<c.targetGroups.length;n++){q=$("#group_"+c.targetGroups[n]).find(".dki-authoring-element");if("moveTo"==c.parameters.effect){for(var u=parseInt(q[0].style.top),w=parseInt(q[0].style.left),z=1;z<q.length;z++)var x=$(q[z]).position(),u=Math.min(u,x.top),w=Math.min(w,x.left);u={top:"+\x3d"+
(m(c.parameters.effectOptions.to.top)-u),left:"+\x3d"+(m(c.parameters.effectOptions.to.left)-w)}}else u={top:m(c.parameters.effectOptions.to.top),left:m(c.parameters.effectOptions.to.left)};$(q).effect("moveBy",{to:u})}}else if("resizeTo"==c.parameters.effect)$(v).effect(c.parameters.effect,c.parameters.effectOptions);else if("fadeTo"==c.parameters.effect)n=DKI.clone(c.parameters.effectOptions),n.to.opacity=m(c.parameters.effectOptions.to.opacity)/100,$(v).find(".dki-authoring-content-wrapper").effect(c.parameters.effect,
n);else if("rotate"==c.parameters.effect)$(v).css("transform","rotate("+m(c.parameters.effectOptions.to.degrees)+"deg)");else if("scaleTo"==c.parameters.effect){var I={scaleX:m(c.parameters.effectOptions.to.w)/100,scaleY:m(c.parameters.effectOptions.to.h)/100};$(v).velocity(I,{duration:n})}else"panTo"==c.parameters.effect?(I={translateX:m(c.parameters.effectOptions.to.x),translateY:m(c.parameters.effectOptions.to.y)},$(v).css("overflow","hidden"),$(".dki-element-content",v).velocity(I,{duration:n})):
"zoomTo"==c.parameters.effect?(I={scaleX:m(c.parameters.effectOptions.to.w)/100,scaleY:m(c.parameters.effectOptions.to.h)/100},$(v).css("overflow","hidden"),$(".dki-element-content",v).velocity(I,{duration:n})):"panAndZoom"==c.parameters.effect?(I={translateX:m(c.parameters.effectOptions.to.x),translateY:m(c.parameters.effectOptions.to.y),scaleX:m(c.parameters.effectOptions.to.w)/100,scaleY:m(c.parameters.effectOptions.to.h)/100},$(v).css("overflow","hidden"),$(".dki-element-content",v).velocity(I,
{duration:n})):"flip"==c.parameters.effect?(I={rotateX:"360deg"},$(v).velocity(I,{duration:n})):"applyCSS"==c.parameters.effect?(I={},m=c.parameters.effectOptions.to.css.split(";"),$.each(m,function(){var b=this.split(":");b[0]&&b[1]&&(I[$.trim(b[0])]=$.trim(b[1]))}),v=l.getTargetSelector(c," .dki-element-content"," .dki-authoring-element .dki-element-content"),$(v,h.pageContainer).each(function(){var b=$(this);b.data("pre-action-style-"+c.id,b.attr("style"))}),m=$(v,h.pageContainer),m.animate(I,
{duration:n})):(m=$(v,h.pageContainer),m.velocity("callout."+c.parameters.effect,{duration:n}));else m=$(v,h.pageContainer),m.velocity("callout."+c.parameters.effect,{duration:n})};"time"==c.trigger&&0==c.time&&player.settings.forSnapshot?(c.parameters.effectOptions.duration=0,q()):h.pageTimeouts.push(setTimeout(q,m))}},http:function(c,h){if(-1<c.parameters.url.indexOf("mailto:"))window.open(c.parameters.url);else if(c.parameters.target&&"modal"===c.parameters.target)b.openModal(c.parameters.url);
else{if(c.parameters.target&&"window"===c.parameters.target){if(playerBehaviour.removeWebLinks)return!1;c=window.open(c.parameters.url,"_blank","location\x3d0,width\x3d"+$(window).width()+",height\x3d"+$(window).height())}else c=window.open(c.parameters.url);c.focus()}},asset:function(c,h){c.parameters&&c.parameters.target&&"modal"===c.parameters.target?b.openModal(settings.assetURL+c.target_assets[0].filename):window.open(settings.assetURL+c.target_assets[0].filename,"_blank","location\x3d0,width\x3d"+
$(window).width()+",height\x3d"+$(window).height())},showPopup:function(b,c){var h=0;"time"!=b.trigger&&(h=b.time);var l=window.pageYOffset,m=function(){contentApi.showPopup({title:b.parameters.popup.title,html:b.parameters.popup.content,effect:b.parameters.effect,style:b.parameters.popup.style,autoFocus:!0,popupType:b.parameters.popup.type,zIndex:c.getZIndex()+1100,returnFocus:function(){var b=null;$("body").hasClass("show-focus-outlines")&&(b=document.activeElement);return b}(),id:b.id,domStyles:dkiUA.iOS&&
dkiUA.safari?"position:absolute; top:"+l+"px":""})};"undefined"!=typeof scormInterface&&dkiUA.iOS&&dkiUA.safari?scormInterface.process("getPageYOffset",[],function(b){0==l&&(l=b);c.pageTimeouts.push(setTimeout(m,h))}):c.pageTimeouts.push(setTimeout(m,h))},lightBox:function(b,c){var h,l=function(b){"Tab"===b.key&&h()},m=0;"time"!=b.trigger&&(m=b.time);b.target_assets&&0<b.target_assets.length&&c.pageTimeouts.push(setTimeout(function(){var c=[];$.each(b.target_assets,function(){c.push($("\x3cimg/\x3e",
{attr:{src:this.url?this.url:settings.assetURL+this.filename}}))});if(c[0]){c[0].on("load",function(){var b=!0;$.fancybox.open(c,{animationEffect:!1,padding:0,smallBtn:!1,buttons:["close"],margin:[20,60,20,60],scrolling:dkiUA.isIE()?"visible":"auto",lang:"en",i18n:{en:{CLOSE:DKI.strings.runtime.buttonLabelClose,NEXT:DKI.strings.runtime.buttonLabelNext,PREV:DKI.strings.index.previousButtonLabel}},baseTpl:'\x3cdiv class\x3d"fancybox-container"\x3e\x3cdiv class\x3d"fancybox-bg"\x3e\x3c/div\x3e\x3cdiv class\x3d"fancybox-inner"\x3e\x3cdiv class\x3d"fancybox-infobar"\x3e\x3cspan data-fancybox-index\x3e\x3c/span\x3e\x26nbsp;/\x26nbsp;\x3cspan data-fancybox-count\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"fancybox-toolbar"\x3e{{buttons}}\x3c/div\x3e\x3cdiv class\x3d"fancybox-navigation"\x3e{{arrows}}\x3c/div\x3e\x3cdiv class\x3d"fancybox-stage"\x3e\x3c/div\x3e\x3cdiv class\x3d"fancybox-caption"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e',
btnTpl:{close:'\x3cbutton tabindex\x3d"1" aria-label\x3d"{{CLOSE}}" data-fancybox-close class\x3d"fancybox-button fancybox-button--close" title\x3d"{{CLOSE}}" style\x3d"opacity:1 !important;"\x3e\x3csvg tabindex\x3d"-1" aria-hidden\x3d"true" viewBox\x3d"0 0 40 40"\x3e\x3cpath d\x3d"M10,10 L30,30 M30,10 L10,30" /\x3e\x3c/svg\x3e\x3c/button\x3e',arrowLeft:'\x3cbutton tabindex\x3d"1" type\x3d"button" aria-label\x3d"{{PREV}}" data-fancybox-prev class\x3d"fancybox-button fancybox-button--arrow_left" title\x3d"{{PREV}}" href\x3d"javascript:;"\x3e\x3csvg tabindex\x3d"-1" aria-hidden\x3d"true" viewBox\x3d"0 0 40 40"\x3e\x3cpath d\x3d"M18,12 L10,20 L18,28 M10,20 L30,20"\x3e\x3c/path\x3e\x3c/svg\x3e\x3c/button\x3e',
arrowRight:'\x3cbutton tabindex\x3d"1" type\x3d"button" aria-label\x3d"{{NEXT}}" data-fancybox-next class\x3d"fancybox-button fancybox-button--arrow_right" title\x3d"{{NEXT}}" href\x3d"javascript:;"\x3e\x3csvg tabindex\x3d"-1" aria-hidden\x3d"true" viewBox\x3d"0 0 40 40"\x3e\x3cpath d\x3d"M10,20 L30,20 M22,12 L30,20 L22,28"\x3e\x3c/path\x3e\x3c/svg\x3e\x3c/button\x3e'},afterLoad:function(b,c){this.$slide.closest(".fancybox-inner").find(".fancybox-infobar").attr("aria-hidden",!0);this.$slide.closest(".fancybox-container").attr("aria-label",
"Popup")},afterShow:function(c){var k=this.$slide.closest(".fancybox-container"),n=k.find(".fancybox-navigation"),m=k.find(".fancybox-toolbar");if(b){var p=c.current.$slide.closest(".fancybox-inner");p.find("*[tabindex\x3d'1']").first()[0].focus();n.insertBefore(m);b=!1}p=c.current.$slide.closest(".fancybox-inner");c=p.find(".fancybox-button");var v=c.filter(".disabled");DKI.makeFocusable(c,!0);DKI.makeFocusable(v,!1);DKI.enforceFocus(this.$slide.closest(".fancybox-inner"));n=n.find(".fancybox-button");
n.length&&n.each(function(){this.setAttribute("aria-hidden","true");this.setAttribute("tabindex","-1");this.setAttribute("aria-label",this.getAttribute("title"))});var q=k.find(".fancybox-navigation .fancybox-button:not(.disabled)");q.length&&q.each(function(){this.setAttribute("aria-hidden","false");this.setAttribute("tabindex",1)});1==q.length&&(k=m.find(".fancybox-item.fancybox-close"),h=function(){var b=p.find(".dki-course-max-width *[tabindex\x3d'1']:visible").first();b[0]?b[0].focus():q.length?
q[q.length-1].focus():$(".fancybox-item.fancybox-close",fancyboxWrap)[0].focus();if(b.length)p.find(".dki-html-element iframe").on("load",function(){b[0].focus()});$(document).off("keydown",l)},0==$("div.popup.modal:visible").length&&h(),k.focus(function(){$(document).keydown(l)}))},beforeShow:function(b,h,k){for(b=0;b<c.length;b++)settings.responsive||c[b].css("max-width","100%"),c[b].width(c[b].outerWidth(!0)||"")},beforeClose:function(){$(document).off("keydown",l)}})});var n=$("\x3cdiv/\x3e",
{style:{position:"absolute",top:"-10000px",left:"-10000px",visibility:"hidden"}}).append(c[0]);$("body").append(n)}},m))},lightBoxOld:function(b,c){var h=0;"time"!=b.trigger&&(h=b.time);var m=this.getTargetSelector(b);""!==m&&c.pageTimeouts.push(setTimeout(function(){var b=[];$(m).each(function(h,k){h=$(k);k=h.clone();for(var l=k.find("*"),m=0;m<l.length;m++){var r=$(l[m]);r.prop("id",r.prop("id")+"_lightbox")}k.prop("id",k.prop("id")+"_lightbox");l={"min-width":"150px","max-width":$(c.pageContainer).outerWidth(!0)-
30+"px",position:"static",display:"inline-block",visibility:"visible",height:"",width:"",cursor:"",opacity:""};k.css(l);k.find("map, .dki-image-rollover").detach();$.each(k.find("img"),function(b){$(this).css({position:"static",opacity:"",display:"inline-block"});$(this).attr("usemap")&&$(this).attr("usemap","")});$.each(k.find("iframe"),function(b){"about:blank"==$(this).attr("src")&&$(this).data("src")&&$(this).attr("src",$(this).data("src"))});k.attr("id","");h.data("isrichtext")&&(l["overflow-y"]=
"auto");b.push(k)});$.fancybox.open(b,{openEffect:"none",closeEffect:"none",nextEffect:"none",prevEffect:"none",padding:0,margin:[20,60,20,60],scrolling:dkiUA.isIE()?"visible":"auto",afterLoad:function(b,c){c.$content.is("iframe")&&c.$content.attr("src",c.$content.data("src"));c=b.slides[b.prevIndex];b.currIndex!=b.prevIndex&&c&&c.$content.is("iframe")&&c.$content.attr("src","about:blank")},afterShow:function(b,h){h.$content.hasClass("dki-video-element")?l.handleVideo(h.$content.find(".dki-video-content-element"),
c):h.$content.hasClass("dki-audio-element")&&(b=h.$content.find("div[data-elementType\x3d'audio']"),h.$content.css("height","100%"),b.siblings(".jp-audio, .jp-basic").detach(),l.handleAudio(b,c))},beforeShow:function(){for(var c=0;c<b.length;c++)settings.responsive&&b[c].data("isrichtext")?b[c].css("width","100%"):b[c].width(b[c].outerWidth(!0)||"")}})},h))},api:function(c,h){var l=0;"time"!=c.trigger&&(l=c.time);var m=function(){var l=c.parameters.methodConfig?DKI.clone(c.parameters.methodConfig):
{};l.pageInstance=h;if("jumpToElement"==c.parameters.method&&c.targetElements[0])l.elementId=c.targetElements[0];else if("jumpToPage"==c.parameters.method&&c.targetPages[0])l.pageID=c.targetPages[0],l.markComplete=!0,"undefined"!=typeof c.parameters.markComplete&&(l.markComplete=c.parameters.markComplete);else if("backToTop"==c.parameters.method)l=h.pageContainer;else if("changePublishFilter"==c.parameters.method||"changePublishTag"==c.parameters.method)c.parameters.method="changePublishFilter",l.publishFilterId=
!l.type||"none"!=l.type[0]&&"all"!=l.type[0]?(c.targetFilters||[]).join(","):l.type[0];b[c.parameters.method](l)};0==l?m():h.pageTimeouts.push(setTimeout(m,l))},sendXAPIStatement:function(c,h){var l=0,m={response:{process:function(c){if(dataStorage){var h=dataStorage.getContentVariableMeta(c);return(h?h.text:b.getData(c,!0))+""}return null}},success:{process:function(c){return b.getData(c,!0)}},score:{process:function(c){return b.getData(c,!0)}}};"time"!=c.trigger&&(l=c.time);var v=DKI.clone(c.parameters.statement);
c=function(){v.result&&($.each(v.result,function(b,c){var h=v.result;$(c).is("span")?(c=$(c).data("variable-id"),c=m[b].process(c)):c=isNaN(c)?c.match(/^(true|false)$/i)?"true"===c:c:parseFloat(c,10);h[b]=c}),"undefined"==typeof v.result.score||DKI.utility.isObject(v.result.score)||(v.result.score={scaled:v.result.score/100}));b.sendXAPIStatement(v)};0==l?c():h.pageTimeouts.push(setTimeout(c,l))},setVariable:function(c,h){if((c.parameters.fireOnce||c.parameters.fireOncePerPage)&&c.firedOnce)return null;
var l=0;"time"!=c.trigger&&(l=c.time);c.firedOnce=!0;for(var m=0;m<h.actions.length;m++)h.actions[m].id==c.id&&(h.actions[m].firedOnce=!0);if("undefined"!=typeof dataStorage&&dataStorage.currentPage)for(m=0;m<dataStorage.currentPage.page.actions.length;m++)dataStorage.currentPage.page.actions[m].id==c.id&&(dataStorage.currentPage.page.actions[m].firedOnce=!0);h.pageTimeouts.push(setTimeout(function(){var h=c.parameters.variable,l=h.id,n=h.value,n=$("\x3cdiv/\x3e").html(n.toString());n.find(".dki-inline-variable-id").each(function(){$(this).parent().data("variable-id")});
n.find(".dki-inline-variable-name").each(function(){var b="contentApi.getData('"+$(this).parent().data("variable-id")+"')";$(this).html("{{"+b+"}}")});var n=n.text(),m=n.toString().indexOf("{{"),p=n.toString().indexOf("}}"),r=0,q=/([^\\]["])+/g;for(-1!=m||"string"!=h.type||q.test(n.toString())||(n='"'+n+'"');-1<m&&-1<p&&500>r;)m=n.substr(m+2,p-(m+2)),n=n.replace("{{"+m+"}}",m),m=n.indexOf("{{"),p=n.indexOf("}}"),r++;n="number"==h.type?(new Function("contentAPI"," var oldValue \x3d contentAPI.getData('"+
h.id+"'); if(!oldValue){ oldValue \x3d 0; } return oldValue "+h.operator+" "+n+";"))(b):eval(n);b.setData(l,n)},l))},playMedia:function(b,c){var h=0;"time"!=b.trigger&&(h=b.time);c.pageTimeouts.push(setTimeout(function(){for(var h=0;h<b.targetElements.length;h++){var l=c.mediaPlayers["content_"+b.targetElements[h]],m=b.parameters;l?(m&&"undefined"!==typeof m.startTime?l.jPlayer("play",m.startTime/1E3):l.jPlayer("play"),b.parameters&&"undefined"!==typeof m.endTime&&(b.firedOnce=!0,$(l).bind($.jPlayer.event.timeupdate,
function(c){b.firedOnce&&1E3*c.jPlayer.status.currentTime>b.parameters.endTime&&(l.jPlayer("pause"),b.firedOnce=!1)}))):(m=c.getClaroElementById(b.targetElements[h]),"timer"==m.elementtype&&(m=$("#"+m.elementid+"_wrapper",c.pageContainer),m[0]&&m.data("timer")&&(m.data("timer").running||m.data("timer").start())))}},h))},replayMedia:function(b,c){var h=0;"time"!=b.trigger&&(h=b.time);c.pageTimeouts.push(setTimeout(function(){for(var h=0;h<b.targetElements.length;h++){var m=c.mediaPlayers["content_"+
b.targetElements[h]];m?l.play(m,c,0):(m=c.getClaroElementById(b.targetElements[h]),"timer"==m.elementtype&&(m=$("#"+m.elementid+"_wrapper",c.pageContainer),m[0]&&m.data("timer")&&m.data("timer").restart()))}},h))},pauseMedia:function(b,c){var h=0;"time"!=b.trigger&&(h=b.time);c.pageTimeouts.push(setTimeout(function(){for(var h=0;h<b.targetElements.length;h++){var l=c.mediaPlayers["content_"+b.targetElements[h]];l?(l.jPlayer("pause"),b.parameters&&b.parameters.hidePlayHead&&$("#content_"+b.targetElements[h],
c.pageContainer).find(".jp-video-play").addClass("hidden").after($('\x3cdiv class\x3d"playHeadBlocker proxy"\x3e\x3c/div\x3e'))):(l=c.getClaroElementById(b.targetElements[h]),"timer"==l.elementtype&&(l=$("#"+l.elementid+"_wrapper",c.pageContainer),l[0]&&l.data("timer")&&l.data("timer").running&&l.data("timer").stop()))}},h))},toggleMedia:function(b,c){var h=0;"time"!=b.trigger&&(h=b.time);c.pageTimeouts.push(setTimeout(function(){for(var h=0;h<b.targetElements.length;h++){var l=c.mediaPlayers["content_"+
b.targetElements[h]];l?l.data().jPlayer.status.paused?l.jPlayer("play"):l.jPlayer("pause"):(l=c.getClaroElementById(b.targetElements[h]),"timer"==l.elementtype&&(l=$("#"+l.elementid+"_wrapper",c.pageContainer),l[0]&&l.data("timer")&&l.data("timer").toggle()))}},h))},showCC:function(b,c){var h=0;"time"!=b.trigger&&(h=b.time);c.pageTimeouts.push(setTimeout(function(){for(var h=0;h<b.targetElements.length;h++){var m=c.mediaPlayers["content_"+b.targetElements[h]];m.closest(".jp-video").length?m.closest(".jp-video").addClass("showCC"):
m.closest(".dki-audio-element")&&($("html").hasClass("showAudioCaptions")||l.audioCC.toggle())}},h))},hideCC:function(b,c){var h=0;"time"!=b.trigger&&(h=b.time);c.pageTimeouts.push(setTimeout(function(){for(var h=0;h<b.targetElements.length;h++){var m=c.mediaPlayers["content_"+b.targetElements[h]];m.closest(".jp-video").length?m.closest(".jp-video").removeClass("showCC"):m.closest(".dki-audio-element")&&$("html").hasClass("showAudioCaptions")&&l.audioCC.toggle()}},h))},toggleCC:function(b,c){var h=
0;"time"!=b.trigger&&(h=b.time);c.pageTimeouts.push(setTimeout(function(){for(var h=0;h<b.targetElements.length;h++){var m=c.mediaPlayers["content_"+b.targetElements[h]];m.closest(".jp-video").length?m.closest(".jp-video").toggleClass("showCC"):m.closest(".dki-audio-element")&&l.audioCC.toggle()}},h))},lightboxPage:function(b,c){var h=document.activeElement,l=0;"time"!=b.trigger&&(l=b.time);c.pageTimeouts.push(setTimeout(function(){var c=!1;1<b.targetPages.length&&(c=!0);player.showPage(b.targetPages,
h,c,0)},l))},undoAction:function(b,c){var h=this;if("show"==b.type||"hide"==b.type||"entrance"==b.type&&"inview"!=b.trigger||"exit"==b.type){var l=this.getTargetSelector(b);"show"==b.type||"entrance"==b.type?$(l,c.pageContainer).addClass("hidden"):$(l,c.pageContainer).removeClass("hidden");$(b.undo.targetsToHideSelector,c.pageContainer).removeClass("hidden")}else if("toggle"==b.type)$(b.undo.showTargetSelector,c.pageContainer).addClass("hidden"),$(b.undo.hideTargetSelector,c.pageContainer).removeClass("hidden"),
$(b.undo.targetsToHideSelector,c.pageContainer).removeClass("hidden");else if("applyEffect"==b.type)if("moveTo"==b.parameters.effect||"moveBy"==b.parameters.effect)$.each(b.undo.targets,function(h){$("#"+h+"_wrapper",c.pageContainer).effect(b.parameters.effect,{duration:0,to:{left:this.left,top:this.top}})});else if("resizeTo"==b.parameters.effect||"resizeBy"==b.parameters.effect)$.each(b.undo.targets,function(h){$("#"+h+"_wrapper",c.pageContainer).effect(b.parameters.effect,{duration:0,to:{width:this.width,
height:this.height}})});else if(b.reverseAction)if($.isArray(b.reverseAction))$.each(b.reverseAction,function(b){h[this.type](this,c)});else h[b.reverseAction.type](b.reverseAction,c);"swapContent"==b.type&&b.originalContent&&(l=$("#content_"+b.targetElements[0],c.pageContainer),b.target_assets?(l.attr("src",b.originalContent),l.attr("data-src",b.originalContent),l.maskImage({preserveAspectRatio:settings.responsive?!1:"none"})):b.parameters.swapClass?(l=element.find(".panel"),cls=l.attr("class").match(/panel\-([^\s])+/),
l.removeClass(cls[0]).addClass(b.originalContent)):l.html(b.originalContent));b.firedOnce=!1},listEffect:function(b,c,h){},listShowNext:function(b,c){var h=$("#content_"+b.targetElements[0]);c.getClaroElementById(b.targetElements[0]);var h=h.find("li:not(.shown)").first(),l=b.parameters;if(""==l.effect||"none"==l.effect)h.addClass("shown"),l.effectOptions.duration=600;else{var m=l.effectOptions.direction?DKI.capitalizeString(l.effectOptions.direction):"";directions={Right:["Right","Left"],Left:["Left",
"Right"],Up:["Up","Down"],Down:["Down","Up"]};l.alternate&&m&&(m=directions[m][h.index()%2]);var m="transition."+l.effect+m+"In",q={duration:l.effectOptions.duration,display:null};h.addClass("shown").velocity(m,q)}l.animateAll&&h[0]&&setTimeout(function(){u.actionHandlers.listShowNext(b,c)},.75*l.effectOptions.duration)},listReset:function(b,c){$("#"+b.targetElements[0]+"_wrapper").find("ul li.shown").removeClass("shown").velocity("stop")},capture:function(b,c){$.each(b.targetElements,function(h,
l){if("switch"==b.parameters.method){if(h=c.getClaroElementById(l)){var m=b.parameters.switch.split("_");h.parameters.config.type=m[0];h.parameters.config.mode=m[1];m=DKI.renderService.renderContent(h,{page:c.page});""!=m&&(l=$("#"+l+"_wrapper",c.pageContainer),l.capture("destroy"),l.data("cap",""),l.find(".dki-element-content").replaceWith(m),c.processElement(h),l.capture("setWaypoints"),c.resize())}}else $("#"+l+"_wrapper").capture(b.parameters.method)})},getTargetSelector:function(b,c,h){void 0==
c&&(c="");void 0==h&&(h="");var l="";if(b.targetElements)for(var m=0;m<b.targetElements.length;m++)l+="#"+b.targetElements[m]+"_wrapper"+c+",";if(b.targetGroups)for(m=0;m<b.targetGroups.length;m++)l="applyEffect"==b.type?l+("#group_"+b.targetGroups[m]+h+c+","):l+("#group_"+b.targetGroups[m]+h+",");""!==l&&(l=l.substring(0,l.length-1));return l},getTargetsToHide:function(b,c){var h={targetElements:[],targetGroups:[]};if(b.parameters&&b.parameters.hideOthers){for(var l=0;l<c.actions.length;l++)if(("show"===
c.actions[l].type||"toggle"===c.actions[l].type)&&c.actions[l].id!==b.id&&!c.actions[l].pageId){for(var m=0;m<c.actions[l].targetElements.length;m++)if(1!=$("#"+c.actions[l].targetElements[m]+"_wrapper").data("donthide")){for(var q=!1,n=0;n<b.targetElements.length;n++)b.targetElements[n]==c.actions[l].targetElements[m]&&(q=!0);!q&&$("#"+c.actions[l].targetElements[m]+"_wrapper",c.pageContainer).is(":visible")&&h.targetElements.push(c.actions[l].targetElements[m])}for(m=0;m<c.actions[l].targetGroups.length;m++){q=
!1;for(n=0;n<b.targetGroups.length;n++)b.targetGroups[n]==c.actions[l].targetGroups[m]&&(q=!0);!q&&$("#group_"+c.actions[l].targetGroups[m],c.pageContainer).is(":visible")&&h.targetGroups.push(c.actions[l].targetGroups[m])}}$(".dki-imagemap-target",c.pageContainer).each(function(){if(1!=$(this).data("donthide")){for(var c=!1,l=0;l<b.targetElements.length;l++)b.targetElements[l]==$(this).data("id")&&(c=!0);!c&&$(this).is(":visible")&&h.targetElements.push($(this).data("id"))}})}return h},swapContent:function(b,
c){var h=this,l=0;"time"!=b.trigger&&(l=b.time);var m=function(){h.performSwap(b,c)};0==l?m():c.pageTimeouts.push(setTimeout(m,l))},performSwap:function(b,c){var h=$("#content_"+b.targetElements[0]),l=function(){var c=0;b.target_assets&&!b.parameters.swapContent?c=1:b.parameters.swapClass&&(c=2);switch(c){case 0:c=b.parameters.swapContent;c=$("\x3cdiv\x3e").html(c);c.find(".dki-inline-variable").each(function(){var b=$(this);b.text(contentApi.getData(b.data("variable-id")))});c=c.html();b.originalContent||
(b.originalContent=h.html());h.html(c);h.attr("data-meta",c);break;case 1:c=b.target_assets[0].fullAssetUrl?b.target_assets[0].fullAssetUrl:settings.assetURL+b.target_assets[0].filename;b.originalContent||(b.originalContent=h.attr("src"));h.attr("src",c);h.attr("data-src",c);h.maskImage({preserveAspectRatio:settings.responsive?!1:"none"});break;case 2:var l=h.closest(".dki-authoring-element, .dki-authoring-element-element").data("elementtype"),c=b.parameters.swapClass;switch(l){case "panel":panel=
h.find(".panel");cls=panel.attr("class").match(/panel\-([^\s])+/);panel.removeClass(cls[0]).addClass(c);break;case "speechBubble":var n=h.attr("class").match(/(top|bottom|left|right|top\-left|top\-right|bottom\-left|bottom\-right)(\s|$)/),l=h.attr("class").match(/(triangle|thought)(\s|$)/),n=n[0]?[n[0].trim()]:[];l[0]?n.push(l[0].trim()):!1;h.removeClass(n.join(" ")).addClass(c)}}};b.parameters.effect&&""!=b.parameters.effect?("drop"==b.parameters.effect&&(b.parameters.effectOptions.direction="down"),
h.hide("oldSlide"===b.parameters.effect?"slide":b.parameters.effect,b.parameters.effectOptions,function(){l();h.show("oldSlide"===b.parameters.effect?"slide":b.parameters.effect,b.parameters.effectOptions)})):l()}}},q={init:function(b){},loadShapes:function(b){var c=this;$(".dki-shape-element",b.pageContainer).each(function(){var h=this.style.display;$(this).css({opacity:0,display:"block"});c.renderShapes(this,b);$(this).css({opacity:$(this).data("opacity"),display:h})})},loadHtmlShapes:function(b){$(".dki-shape-element",
b.pageContainer).each(this.renderShapeHtml)},renderShapeHtml:function(){var b=$(this),c=b.data("shapetype");if("rect"==c||"hline"==c||"vline"==c||"circle"==c||"ellipse"==c){var h=b.data("id"),l="";""!=b.data("title")&&(l="title\x3d'"+b.data("title")+"'");var m="solid";"."==b.data("bordertype")?m="dotted":"-"==b.data("bordertype")&&(m="dashed");var q="";if("rect"==c){var c=b.data("width")-2*parseInt(b.data("linethickness")),n=b.data("height")-2*parseInt(b.data("linethickness")),q=q+("width:"+c+"px;")+
("height:"+n+"px;")+("border:"+b.data("linethickness")+"px "+m+" "+b.data("linecolour")+";"),q=q+("background-color:"+b.data("fillcolour")+";");1==b.data("roundedcorners")&&(q+="-moz-border-radius: 15px; -webkit-border-radius: 15px;\tborder-radius: 15px;")}else if("hline"==c)q+="height:"+b.data("linethickness")+"px;",q+="width:"+b.data("width")+"px;",q+="border-top:"+b.data("linethickness")+"px "+m+" "+b.data("linecolour")+";";else if("vline"==c)q+="width:"+b.data("linethickness")+"px;",q+="height:"+
b.data("height")+"px;",q+="border-left:"+b.data("linethickness")+"px "+m+" "+b.data("linecolour")+";";else if("circle"==c||"ellipse"==c)c=b.data("width")-2*parseInt(b.data("linethickness")),n=b.data("height")-2*parseInt(b.data("linethickness")),q=q+("width:"+c+"px;")+("height:"+n+"px;")+("background-color:"+b.data("fillcolour")+";"),q+="border:"+b.data("linethickness")+"px "+m+" "+b.data("linecolour")+";",m=b.data("width")>b.data("height")?parseInt(b.data("width"))/2+"px":parseInt(b.data("height"))/
2+"px",q+="-moz-border-radius: "+m+"; -webkit-border-radius:"+m+";border-radius: "+m+";";c=m="";1==b.data("rollover")&&(m=m+" onmouseover\x3d'"+('this.style.backgroundColor \x3d "'+b.data("rollovercolour")+'";'),m+='this.style.borderColor \x3d "'+b.data("strokerollover")+'";',m+="' ",c=c+" onmouseout\x3d'"+('this.style.backgroundColor \x3d "'+b.data("fillcolour")+'";'),c+='this.style.borderColor \x3d "'+b.data("linecolour")+'";',c+="' ");$("#"+h+"_content_wrapper").append("\x3cdiv class\x3d'dki-element-overlay'\x3e\x3c/div\x3e\x3cdiv "+
l+" id\x3d'content_"+h+"' class\x3d'"+b.data("cssclass")+"' style\x3d'"+q+"' "+m+c+"\x3e\x3c/div\x3e")}},renderShapes:function(b,c){$(b).data("sourceHtml")?$(b).html($(b).data("sourceHtml")):$(b).data("sourceHtml",$(b).html());var h="null"===b.getAttribute("data-fillcolour")?null:b.getAttribute("data-fillcolour"),l="null"===b.getAttribute("data-fillgradient")?null:b.getAttribute("data-fillgradient"),m,q,n=1,u=1,x=b.getAttribute("data-lineColour");q=null==b.getAttribute("data-rollovercolour")||"none"==
b.getAttribute("data-rollovercolour")?b.getAttribute("data-fillcolour"):b.getAttribute("data-rollovercolour");var y=null==b.getAttribute("data-rollovergradient")||"null"==b.getAttribute("data-rollovergradient")?b.getAttribute("data-fillgradient"):b.getAttribute("data-rollovergradient"),B=null==b.getAttribute("data-strokerollover")||"none"==b.getAttribute("data-strokerollover")?b.getAttribute("data-linecolour"):b.getAttribute("data-strokerollover"),F={},C=b.getAttribute("data-linethickness"),I=parseInt(b.getAttribute("data-width"))-
C,J=parseInt(b.getAttribute("data-height"))-C,G=b.getAttribute("data-shapeType").split(":");c=$("#content_"+b.getAttribute("data-id"),c.pageContainer)[0];c=Raphael(c,0,0,"100%","100%");c.canvas.style.height=b.getAttribute("data-height")+"px";c.canvas.style.width=b.getAttribute("data-width")+"px";c.canvas.style.filter="inherit";c.canvas.style.display="block";c.width=b.getAttribute("data-height");c.height=b.getAttribute("data-width");c.canvas.id="content_"+b.getAttribute("data-id");if("transparent"===
l||null===h)l=h,n=0;"1"==b.getAttribute("data-filltype")?h=b.getAttribute("data-colourAngle")+"-"+b.getAttribute("data-fillcolour")+"-"+l+":"+b.getAttribute("data-stopPoint"):"2"==b.getAttribute("data-filltype")&&(h="r("+b.getAttribute("data-radialx")+","+b.getAttribute("data-radialy")+")"+b.getAttribute("data-fillcolour")+":"+b.getAttribute("data-stopPoint")+"-"+l);h="transparent"==h?"":h;if("transparent"===y||null===q)y=q,u=0;"0"==b.getAttribute("data-filltype")?m=q:"1"==b.getAttribute("data-filltype")?
m=b.getAttribute("data-colourAngle")+"-"+q+":"+b.getAttribute("data-stopPoint")+"-"+y:"2"==b.getAttribute("data-filltype")&&(m="r("+b.getAttribute("data-radialx")+","+b.getAttribute("data-radialy")+")"+q+":"+b.getAttribute("data-stopPoint")+"-"+y);m="transparent"==m?"":m;x="transparent"==b.getAttribute("data-lineColour")?"":b.getAttribute("data-lineColour");l={fill:h,stroke:x,"stroke-width":C,"stroke-dasharray":b.getAttribute("data-borderType"),"fill-opacity":n};dkiUA.ie&&8>=dkiUA.ieVersion&&(l.opacity=
b.getAttribute("data-opacity")/100);switch(G[0]){case "rect":l.r="true"==b.getAttribute("data-roundedCorners")?15:0;F=c.rect(C/2,C/2,I,J);break;case "circle":F=c.circle(J/2+C/2,J/2+C/2,J/2);break;case "ellipse":F=c.ellipse(I/2+C/2,J/2+C/2,I/2,J/2);break;case "vline":I=parseInt(C);F=c.path("M"+I/2+",0 L"+I/2+","+(J+I));break;case "hline":J=parseInt(C),F=c.path("M0,"+J/2+" L"+(I+J)+","+J/2)}F.attr(l);F.node.style.filter="inherit";"true"==b.getAttribute("data-rollover")&&($(b).mouseover(function(b){F.attr({fill:m,
stroke:B,"fill-opacity":u})}),$(b).mouseout(function(b){F.attr({fill:h,stroke:x,"fill-opacity":n})}))},canRenderShapes:function(){return dkiUA.android?2.3<dkiUA.androidVersion:dkiUA.blackberry?6<dkiUA.blackberryVersion:dkiUA.webOS?!1:!0}},x=function(c){var h=this;this.mediaPlayers={};this.autoPlayMedia=[];this.wayPoints=[];this.actions=c.actions;this.page=c.page;this.rootURL=c.player.rootURL;this.settings=c.player.settings;this.readyMediaCount=this.mediaCount=0;this.readyFired=!1;this.objectTags=
[];this.started=!1;this.startTime=0;this.isMuted=!c.player.audio;this.queue=new DKI.func.Queue;this.elements={};this.getClaroElementById=function(b){for(var c=function(b,h){if(b.elements)for(var k=0;k<b.elements.length;k++){if(b.elements[k].id==h)return b.elements[k];if(b.elements[k].elements&&(ret=c(b.elements[k],h)))return ret}return null},k=0;k<h.page.groups.length;k++)if(ret=c(h.page.groups[k],b))return ret};this.getGroupById=function(b){for(var c=0;c<h.page.groups.length;c++)if(h.page.groups[c].id==
b)return h.page.groups[c]};this.pageContainer="string"==typeof c.containerEl?document.getElementById(c.containerEl):c.containerEl;this.renderPage();b||(b=c.contentAPI);this.markElementsonlyShownByBreakpointActions();l.handleMedia(this);q.init(this);l.audioCC.init(this);this.actionAPI=u.init(DKI.clone(c.actions),this,this.settings.clickEvent);this.flagBreakpointElements();this.processElement=function(c,h){for(var k=this,l=$("#"+c.id+"_wrapper",k.pageContainer),m=l[0],p=l.find(".dki-authoring-content-wrapper").first(),
q=$("#content_"+l.data("id"),m),r=l.find(".dki-element-anchor:first"),v=r.data("tabindex"),w=l.find(".dki-text-action-link"),z=0;z<w.length;z++){var x=w[z],P=u.getTextLinkActionsForEvent("click",x,this);if(P.length){var P=P[0].parameters,M=window.location.hostname,R=(new URL(P.url,window.location.href)).hostname;M!=R&&$(x).attr("href",P.url)}}var fa=l.find("i.dki-element-content");h=h||function(){};var W=function(b,c,k){b.data("start_class",b.attr("class"));b.data("start_style",b.attr("style"));b.data("elementLoaded",
!0);b.trigger("elementLoaded");c.data("start_class",c.attr("class"));c.data("start_style",c.attr("style"));k.data("start_class",k.attr("class"));k.data("start_style",k.attr("style"));"multipleChoiceQuestion"==b.data("type")&&k.find(".dki-element-content").each(function(){$(this).data("start_class",$(this).attr("class"))});h(b)};l.data("elementLoaded",!1);$("iframe",m).each(function(){$(m).attr("data-src")||$(m).attr("data-src",m.src);m.src="about:blank"});var V=function(b){var c=$(b).closest(".dki-authoring-row.synchronize-heights"),
h=$(b).closest(".dki-contentCarousel-element"),k=$(b).find(".dki-tabset-element .dki-element-content \x3e .tabbable");if(0!=c.length||0!=h.length||0!=k.length)var l=0,m=setInterval(function(){l++;try{synchonizeRowHeight(c),h.each(function(){var b=$(this).find(".flickity");b&&b.flickity("resize")}),k.each(function(){$(this).data("dki.responsiveTabs").checkResize()})}catch(b){}24<=l&&clearInterval(m)},15)};l.data("accessibility-tabable")&&($("object.dki-element-content, iframe.dki-element-content, textarea.dki-element-content, map area, .dki-element-content iframe:first, .dki-element-content object:first, img.dki-element-content",
m).each(function(){this.tabIndex=-1}),l.hasClass("dki-table-element")||l.hasClass("dki-htm-element"))&&(DKI.makeFocusable(q,!1),DKI.makeFocusable($("table, a, .dki-glossary-link, .dki-citation-link sup.refSup",q),!1));if("html"==l.data("type")&&q.hasClass("adaptive")){var ba=function(){try{var b=q[0].contentDocument,c=$(b.getElementsByTagName("html")),h=$(b.getElementsByTagName("body")),k=h.height()/h.width()*100,l=c.height()/c.width()*100;p.css("padding-bottom",(k>l?k:l)+"%")}catch(m){}};q.on("load",
function(){"about:blank"==this.src?l.data("resizeInterval")&&(clearInterval(l.data("resizeInterval")),l.data("resizeInterval",null)):l.data("resizeInterval",setInterval(ba,100))})}"table"==l.data("type")&&c.parameters.config.sort.enabled&&requirejs(["tablesort"],function(){l.find("table").tablesorter()});if("btn"==l.data("type"))if(q.removeClass("btn-arrow-small"),q.removeClass("btn-arrow-medium"),q.removeClass("btn-arrow-large"),"btn-arrow-right"!=c.parameters.config.shape&&"btn-arrow-left"!=c.parameters.config.shape||
setTimeout(function(){22>q.height()?q.addClass("btn-arrow-small"):22<=q.height()&&50>q.height()?q.addClass("btn-arrow-medium"):q.addClass("btn-arrow-large")},100),"custom"==c.parameters.config.class_name){if("btn-arrow-right"==c.parameters.config.shape||"btn-arrow-left"==c.parameters.config.shape)q[0].style.setProperty("--boxAfterBackColor",c.parameters.config.colors.default.border),q[0].style.setProperty("--boxBeforeBackColor",c.parameters.config.colors.default.background);q.on("mouseenter",function(){q.css({color:c.parameters.config.colors.hover.foreground,
"border-color":c.parameters.config.colors.hover.border,"background-color":c.parameters.config.colors.hover.background});if("btn-arrow-right"==c.parameters.config.shape||"btn-arrow-left"==c.parameters.config.shape)q[0].style.setProperty("--boxAfterBackColor",c.parameters.config.colors.hover.border),q[0].style.setProperty("--boxBeforeBackColor",c.parameters.config.colors.hover.background)});q.on("mouseleave",function(){var b=c.parameters.config.colors.default.foreground,h=c.parameters.config.colors.default.border,
k=c.parameters.config.colors.default.background;q.hasClass("active")&&(b=c.parameters.config.colors.hover.foreground,h=c.parameters.config.colors.hover.border,k=c.parameters.config.colors.hover.background);q.css({color:b,"border-color":h,"background-color":k});if("btn-arrow-right"==c.parameters.config.shape||"btn-arrow-left"==c.parameters.config.shape)q[0].style.setProperty("--boxAfterBackColor",h),q[0].style.setProperty("--boxBeforeBackColor",k)})}else"advanced"==c.parameters.config.class_name&&
(q.on("mouseenter",function(){""!=c.parameters.config.hoverCSS&&q.attr("style",c.parameters.config.hoverCSS)}),q.on("mouseleave",function(){q.attr("style",c.parameters.config.backgroundCSS)}));"shape"==l.data("type")&&("custom"==c.parameters.config.class_name?(q.on("mouseenter",function(){var b={};c.parameters.config.colors.hover.border&&(b.stroke=c.parameters.config.colors.hover.border);c.parameters.config.colors.hover.background&&(b.fill=c.parameters.config.colors.hover.background);q.find(".shape \x3e svg \x3e *").css(b)}),
q.on("mouseleave",function(){q.find(".shape \x3e svg \x3e *").css({stroke:c.parameters.config.colors.default.border,fill:c.parameters.config.colors.default.background})})):"advanced"==c.parameters.config.class_name&&(q.on("mouseenter",function(){""!=c.parameters.config.hoverCSS&&q.find(".custom-shape-fill").attr("style",c.parameters.config.hoverCSS)}),q.on("mouseleave",function(){q.find(".custom-shape-fill").attr("style",c.parameters.config.backgroundCSS)})));if("divider"==c.elementtype&&"custom"==
c.parameters.config.class_name){var S=function(b,c,h){q.find("svg").css({color:b,stroke:h,fill:h});b={color:b,"border-color":c,"outline-color":c,background:h};q.filter(".divider_continue, .dividerStyle_full").find("\x3ediv").css(b);q.find(".dividerNumberBox").css(b)};q.on("mouseenter",function(){S(c.parameters.config.colors.hover.foreground,c.parameters.config.colors.hover.border,c.parameters.config.colors.hover.background)});w=function(){S(c.parameters.config.colors.default.foreground,c.parameters.config.colors.default.border,
c.parameters.config.colors.default.background)};q.on("mouseleave",w);w()}if("multipleChoiceQuestion"==l.data("type")||"trueFalseQuestion"==l.data("type")||"multiplePulldownQuestion"==l.data("type")||"fillInTheBlanksQuestion"==l.data("type")||"clickTheWordQuestion"==l.data("type")||"dragTheWordQuestion"==l.data("type")||"imageMap"==l.data("type")||"matchingQuestion"==l.data("type")||"sequencingQuestion"==l.data("type"))if(requirejs(["questionElement"],function(){var b=function(b,h){$(document).trigger(DKI.ContentPage.events.questionElementSubmitted,
{element:c,status:b,result:h,type:l.data("type")});k.actionAPI.onElementQuestionSubmittedEvent.call(k.actionAPI,l,"INLINE_QUESTION_"+b,k)};q.QuestionElement({outline:c,accessible:c.parameters.accessibility.tabable,clickEvent:settings.clickEvent,contentPage:k,feedback:c.parameters.config.useProjectDefault?settings.course.parameters.questionFeedback:c.parameters.config.feedback,responsive:settings.course.responsive,passingMark:100,strings:{correct:DKI.strings.doc["Feedback all correct"],incorrect:DKI.strings.doc["Feedback all incorrect"],
partial:DKI.strings.doc["Feedback partial"],tstchoicesLabel1:DKI.strings.runtime.tstchoicesLabel1,tstchoicesLabel2:DKI.strings.runtime.tstchoicesLabel2,showResult:DKI.strings.runtime.showResultText,showGiven:DKI.strings.runtime.showGivenText,confirmQuestionNoSelection:DKI.strings.runtime.confirmQuestionNoSelection,submit:DKI.strings.runtime.buttonLabelSubmit}}).on(QuestionElementEvents.attempted,function(c,h){b("ATTEMPT",h)}).on(QuestionElementEvents.submitted,function(c,h){b("SUBMITTED",h)}).on(QuestionElementEvents.correct,
function(c,h){b("CORRECT",h)}).on(QuestionElementEvents.partiallyCorrect,function(c,h){b("PARTIALLY_CORRECT",h)}).on(QuestionElementEvents.attemptPartiallyCorrect,function(c,h){b("ATTEMPT_PARTIALLY_CORRECT",h)}).on(QuestionElementEvents.incorrect,function(c,h){b("INCORRECT",h)}).on(QuestionElementEvents.attemptIncorrect,function(c,h){b("ATTEMPT_INCORRECT",h)}).on(QuestionElementEvents.retry,function(b,c){k.actionAPI.onElementQuestionSubmittedEvent.call(k.actionAPI,l,"INLINE_QUESTION_RETRIED",k)});
W(l,p,q)}),"imageMap"!=l.data("type")&&"matchingQuestion"!=l.data("type")&&"sequencingQuestion"!=l.data("type"))return!1;if("tabset"==l.data("type")){w=c.elements.length;"accordion"===c.parameters.config.orientation&&(c.parameters.config.collapseDisplayed=["lg","md","sm","xs"]);l.find("#content_"+l.data("id")+".dki-element-content \x3e .tabbable").ResponsiveTabs(c.parameters.config).on("shown.bs.tab",function(b){b.target&&($(b.target).closest("ul.nav").find("li \x3e a").attr("aria-selected","false").attr("tabindex",
"-1"),$(b.target).attr("aria-selected","true"),$(b.target).attr("tabindex","1"))});l.on("click","ul.nav \x3e li.active \x3e a",function(){$(this).trigger("shown.bs.tab")});l.find("ul.nav \x3e li \x3e a").on("keydown",function(b){var h=l.find("li.active"),k=!1;switch(b.key){case "ArrowLeft":k=h.prev().find("\x3e a");0==k.length&&(k=l.find("ul.nav \x3e li:last-child \x3e a"));break;case "ArrowRight":k=h.next().find("\x3e a");0==k.length&&(k=l.find("ul.nav \x3e li:first-child \x3e a"));break;case "Home":k=
l.find("ul.nav \x3e li:first-child \x3e a");break;case "End":k=l.find("ul.nav \x3e li:last-child \x3e a");break;case "ArrowUp":if("vertical"==c.parameters.config.orientation||"vertical-right"==c.parameters.config.orientation)k=h.prev().find("\x3e a"),0==k.length&&(k=l.find("ul.nav \x3e li:last-child \x3e a"));break;case "ArrowDown":if("vertical"==c.parameters.config.orientation||"vertical-right"==c.parameters.config.orientation)k=h.next().find("\x3e a"),0==k.length&&(k=l.find("ul.nav \x3e li:first-child \x3e a"))}if(k)return k.trigger("click").focus(),
b.stopPropagation(),b.preventDefault(),!1});l.find(".panel-group \x3e .panel \x3e .panel-heading \x3e .panel-title \x3e a").on("keydown",function(b){var c=$(this),h=!1;switch(b.key){case "Home":h=l.find(".panel-group \x3e .panel:first-child \x3e .panel-heading \x3e .panel-title \x3e a");break;case "End":h=l.find(".panel-group \x3e .panel:last-child \x3e .panel-heading \x3e .panel-title \x3e a");break;case "ArrowUp":h=c.closest(".panel").prev().find("\x3e .panel-heading \x3e .panel-title \x3e a");
0==h.length&&(h=l.find(".panel-group \x3e .panel:last-child \x3e .panel-heading \x3e .panel-title \x3e a"));break;case "ArrowDown":h=c.closest(".panel").next().find("\x3e .panel-heading \x3e .panel-title \x3e a"),0==h.length&&(h=l.find(".panel-group \x3e .panel:first-child \x3e .panel-heading \x3e .panel-title \x3e a"))}if(h)return h.focus(),b.stopPropagation(),b.preventDefault(),!1});l.find("#content_"+l.data("id")+".dki-element-content \x3e .tabbable").on("shown.bs.tab",function(){var b=$(this);
$(this).find("\x3e .tab-content \x3e .tab-pane img.dki-element-content").maskImage({preserveAspectRatio:settings.responsive?!1:"none"});$(this).find("\x3e ul \x3e li.active").data("id")&&$.each(k.getClaroElementById($(this).find("\x3e ul \x3e li.active").data("id")).elements,function(){k.setLabelWrapperPosition($("#"+this.id+"_wrapper"));k.scaleElementChildren(this)});if("outline"==c.parameters.config.custom_style){$(this).find("li \x3e a").attr("style","");if(c.parameters.background.class_name){var h=
c.parameters.background.class_name.split(" ");$.each(h,function(){b.find("a."+this.toString()).removeClass(this.toString())})}h=$(this).find("\x3e ul \x3e li.active \x3e a");h.addClass(c.parameters.background.class_name).attr("style",h.data("backgroundCSS"))}});l.data("tabCount",w);l.data("tabsVisited",[]);0<w&&("accordion"==c.parameters.config.orientation||l.find("\x3e.dki-authoring-content-wrapper\x3e.dki-element-content").hasClass("accordionPanel")?l.find(".tabbable \x3e .panel-group \x3e .panel.expanded \x3e .panel-collapse \x3e .panel-body").each(function(){var b=
$(this).attr("id").replace("tabContent_","tab_"),b=l.find(".tabbable li\x3ea#"+b).data("automaticSet",!0);l.data("currentTab",$(b).data("id"));k.actionAPI.onContentChangedEvent.call(k.actionAPI,b,k)}):c.parameters.config.startUnopened||(w=l.find(".tabbable li\x3ea[data-id\x3d'"+c.elements[0].id+"']").data("automaticSet",!0),l.data("currentTab",c.elements[0].id),k.actionAPI.onContentChangedEvent.call(k.actionAPI,w,k)));var Q=l.find(".nav").height(),w=c.parameters.config.verticalMaxHeight;settings.responsive?
$(".tab-pane[data-for\x3d"+l.data("id")+"]",l).each(function(){var b=$(this).css("width","100%");b.height()>Q&&(Q=b.height());$(this).css("width","")}):"horizontal"!=c.parameters.config.orientation&&"horizontal-bottom"!=c.parameters.config.orientation||l.find("#content_"+l.data("id")+" \x3e.tabbable \x3e .tab-content").css("height",c.height-Q+"px");c.parameters.config.normalizeHeight&&(("vertical"==c.parameters.config.orientation||"vertical-right"==c.parameters.config.orientation)&&""!=w&&Q>DKI.getViewPortHeight(w)?
(l.addClass("verticalMax"),l.find(".tab-content \x3e .tab-pane").addClass("dki-vpMinHeight-"+w),l.find(".tab-content \x3e .tab-pane").addClass("dki-vpMaxHeight-"+w)):(l.removeClass("verticalMax"),"accordion"==c.parameters.config.orientation||l.find("\x3e.dki-authoring-content-wrapper\x3e.dki-element-content").hasClass("accordionPanel")?l.find(".tab-content").css("min-height",Q):l.find(".tab-content \x3e .tab-pane").css("min-height",Q)));c.parameters.config.sequential&&(w="[data-idx\x3d'0']",c.parameters.config.startUnopened||
(w+=",[data-idx\x3d'1']"),l.find("a[data-for\x3d"+l.data("id")+"]:not("+w+")").each(function(){$(this).attr("data-toggle","");$(this).hasClass("accordion-toggle")?$(this).closest(".panel-heading").addClass("disabled"):$(this).addClass("disabled")}));l.on("shown.bs.tab",function(b){$(this).find($(b.target).attr("href")+".tab-pane").find("iframe").each(function(){$(this).attr("src",$(this).data("src"))})});l.on("hide.bs.tab",function(b){$(this).find($(b.target).attr("href")+".tab-pane").find("iframe").each(function(){$(this).data("src",
$(this).attr("src"));$(this).attr("src","")})});l.delegate(".panel-collapse","hide.bs.collapse",function(b){$(this).closest(".panel").removeClass("expanded");$(this).find("iframe").each(function(){$(this).data("src",$(this).attr("src"));$(this).attr("src","")});$(this).find(".dki-audio-element[data-narration\x3d1] .dki-element-content").jPlayer("stop");V(this);b.stopPropagation()});l.delegate(".panel-collapse","show.bs.collapse",function(b){$(this).closest(".panel").addClass("expanded");$(this).find("iframe").each(function(){$(this).attr("src",
$(this).data("src"))});$(this).closest(".dkiContentFrame").hasClass("current")&&$(this).find(".dki-audio-element[data-narration\x3d1] .dki-element-content").jPlayer("play",0);V(this);setTimeout(function(){k.reCalculateMediaControls()},360);b.stopPropagation()})}else if("image"==l.data("type")){q.data("assetwidth");l.data("original_src",q.data("src"));""!=c.parameters.config.caption.text&&(w={mode:c.parameters.config.caption.mode},settings.responsive&&(w.is_responsive=!0),q.data("caption",c.parameters.config.caption.text),
q.captionjs(w),l.find("figure").css("width","100%").css("height","100%"));var N=function(){var b=c.parameters.config.filters,h=q.data("assetwidth"),l=q.data("src"),m="",p={};if(0!=b.brightness||0!=b.contrast){var r={};0!=b.brightness&&(r.brightness=b.brightness);0!=b.contrast&&(r.contrast=b.contrast);m="brightness";p=r}0!=b.grayscale&&(m="desaturate",p={average:!0});0!=b.invert&&(m="invert");if(0!=b.saturation||0!=b.hueRotate||0!=b.lightness)r={},0!=b.saturation&&(r.saturation=b.saturation),0!=b.hueRotate&&
(r.hue=b.hueRotate),0!=b.lightness&&(r.lightness=b.lightness),m="hsl",p=r;0!=b.sepia&&(m="sepia");0!=b.blur&&(m="sepia",p={amount:b.blur});b.flipH&&(m="fliph");b.flipV&&(m="flipv");0!=b.sharpness&&(m="sharpen",p={amount:b.sharpness});0!=b.mosaic&&(m="mosaic",p={blockSize:b.mosaic});b.solarize&&(m="solarize");0!=b.posterize&&(m="posterize",p={levels:b.posterize});if(0!=b.glow.amount||0!=b.glow.radius)m="glow",p=b.glow;if(0!=b.noise.amount||0!=b.noise.strength||b.noise.mono)m="noise",p=b.noise;q.data("mask",
c.parameters.config.svg_mask);q.data("assetWidth",h);q.data("src",l);m&&requirejs(["pixastic"],function(){q=$(Pixastic.process(q[0],m,p))});q.is("img")||k.queue.dequeue({name:"loadFinished",id:q.attr("id")})};q.on("load",function(){N();k.scaleElementChildren(c)});q[0].complete&&N();w=l.find("map");w.length&&w.find("area").each(function(){$(this).data("coords",this.coords)});""!=c.parameters.config.svg_mask.type&&(q.addClass("masked"),q.data("mask",c.parameters.config.svg_mask))}else if("panel"==l.data("type"))l.on("show.bs.collapse",
function(b){var c=q.find("\x3e.panel");c.addClass("expanded");V(this);setTimeout(function(){k.reCalculateMediaControls();l.resize();if(!settings.responsive){var b=function(c,h,k,l,m){k=DKI.isDefined(k)?k:1;l=DKI.isDefined(l)?l:null;m=DKI.isDefined(m)?m:30;c=$(c);null===l&&(l=c.height(),c.children(".panel-heading, .panel-footer").each(function(){l-=$(this).outerHeight(!0)}),0>l&&(l=0));var n=Math.max(h-5*k,m),p=c.children().filter(function(){var b=$(this);return b.hasClass("flickity-viewport")||b.hasClass("panel-body")});
if(0<p.length){var q=l-k*n;0>q&&(q=0);p.each(function(){$(this).height(q)});k+=1}c.children().each(function(){b(this,h,k,l,m)})};c.each(function(){b(this,60)})}},360);b.stopPropagation()}),l.on("hide.bs.collapse",function(b){q.find("\x3e.panel").removeClass("expanded");V(this);b.stopPropagation()}),settings.responsive||p.find(".panel-body").css({height:p.height()-(p.find(".panel \x3e.panel-heading").first().outerHeight()+p.find(".panel \x3e.panel-footer").first().outerHeight()+2)});else{if("contentCarousel"==
l.data("type"))return requireFns.getFlickity(function(){var b=DKI.clone(c.parameters.config),h=b.responsive.cfg;h&&($.each(h,function(b){h[settings.flowBreakpoints[b].from]=this;delete h[b]}),b.responsive=h);b=DKI.apply(b,c.parameters.config.navigation.cfg);flickConfig={prevNextButtons:b.navigation&&"none"!=b.navigation.type,cellAlign:b.center?"center":"left",adaptiveHeight:!1,pageDots:b.dots,wrapAround:b.loop,autoPlay:b.autoplay,setGallerySize:settings.responsive||c.parent_element_id};$("html").hasClass("rtl")&&
(flickConfig.rightToLeft=!0);flickConfig.autoPlay&&(l.find(".flickity").addClass("flickity_autoPlay"),flickConfig.autoPlay=!1);l.find(".flickity").flickity(flickConfig).attr("tabindex","-1");$(l.find(".flickity").data("flickity").selectedCell.element).attr("data-viewed",!0);l.find(".flickity").on("select.flickity",function(b){$(this).find(" \x3e ol .dot.is-selected").attr("data-visited",!0);l.find(".flickity-slider \x3e .dki-panel-element \x3e .dki-authoring-content-wrapper \x3e .dki-element-content").attr("aria-selected",
!1);k.actionAPI.onContentChangedEvent.call(k.actionAPI,$(this).data("flickity").selectedCell.element,k);$($(this).data("flickity").selectedCell.element).find("\x3e .dki-authoring-content-wrapper \x3e .dki-element-content").attr("aria-selected",!0);$.each(k.getClaroElementById($($(this).data("flickity").selectedCell.element).data("id")).elements,function(){k.setLabelWrapperPosition($("#"+this.id+"_wrapper"));k.scaleElementChildren(this)});b=$(this).find(".dki-authoring-element-element.dki-marker-element");
var c=$($(this).data("flickity").selectedCell.element).data("id");b.each(function(){setTimeout(function(){var b=$(this).find("#content_"+$(this).data("id"));$(this).closest(".dki-panel-element.is-selected").length&&$(this).closest(".dki-panel-element.is-selected").data("id")==c||!b.tooltipster("instance").length||"open"!=b.tooltipster("instance").status().state||b.tooltipster("close")},300)})});l.find(".flickity-slider \x3e .dki-panel-element").each(function(b){$(this).data("flickity-index",b)});
l.find(".flickity-slider \x3e .dki-panel-element").on("keydown",function(c){if(9==c.keyCode){var h=$(this).data("flickity-index");c.shiftKey?h--:h++;l.find(".flickity").flickity("select",h,b.loop,!0)}});l.find(".flickity").on("dragStart.flickity",function(b){$(document).trigger(DKI.ContentPage.events.elementSwipeStart)});l.find(".flickity").on("dragEnd.flickity",function(b){$(document).trigger(DKI.ContentPage.events.elementSwipeEnd)});l.find(".flickity *[tabindex]").attr("tabindex","-1").data("tabindex",
"-1");l.find(".flickity .dki-authoring-element, .flickity .dki-authoring-element-element").data("accessibility-tabable",!1);l.find(".flickity .dki-panel-element .dki-authoring-element .dki-element-content, .flickity .dki-panel-element .dki-authoring-element-element .dki-element-content, .flickity .dki-authoring-element-element .dki-element-anchor").data("tabindex","-1").attr({tabindex:"-1",focusable:!1});l.find(".flickity-prev-next-button").attr("tabindex","-1").removeAttr("aria-label");l.find(".flickity-prev-next-button svg").attr({tabindex:"-1",
focusable:!1});l.find(".flickity-viewport").attr({role:"table"});l.find(".flickity-slider").attr({role:"row"});l.find(".flickity-slider \x3e .dki-panel-element \x3e .dki-authoring-content-wrapper \x3e .dki-element-content").attr({tabindex:"1","accessibility-tabable":!0,"aria-role":"cell"});l.find("\x3e .dki-authoring-content-wrapper \x3e .dki-element-content").attr("aria-busy",!1);W(l,p,q)}),!1;if("flipCard"==l.data("type")){var Y=c.parameters.config,w=!1;l.hasClass("hiddenOnLoad")&&(w=!0,l.removeClass("hiddenOnLoad"));
var ka=function(b){b=$(this).find(".face:not(.active)");$(this).find(".face.active").find(".dki-video-element, .dki-audio-element").each(function(){var b=k.mediaPlayers["content_"+$(this).data("id")];b&&b.jPlayer("pause")});$(this).find(".face").removeClass("active").attr({"aria-hidden":!0,tabindex:-1});b.addClass("active").attr({"aria-hidden":!1,tabindex:1});k.actionAPI.onContentChangedEvent.call(k.actionAPI,l,k)};dkiUA.edge?(z=l.find(".face"),z.css({"z-index":"1",height:"100%",width:"100%"}),z.filter(".front").addClass("active").css({visibility:"visible",
position:"relative"}),z.filter(".back").css({visibility:"hidden",position:"absolute"}),z.on("click",function(){var b=l.find(".face:not(.active)"),c=l.find(".face.active");b.css({visibility:"visible",position:"relative"});c.css({visibility:"hidden",position:"absolute"});ka.call(l)})):q.find("\x3e.flip").flip({trigger:l.data("fliptrigger")||"click"});q.find(".flipIcon").on("click",function(){q.find(".face.active").trigger("click")});w&&l.addClass("hiddenOnLoad");l.find(".front.face").attr("data-viewed",
!0);l.find(".flip").on("flip:done",ka);if(dkiUA.iOS)l.find(".flip").on("click","video,audio",function(b){b.stopPropagation();return!1})}else if("flipCardSet"==l.data("type"))l.find(".flip").flip({trigger:c.parameters.config.trigger}),l.find(".flip").on("flip:done",function(b){$(this).data("from-reset")?($(this).find(".front").addClass("seen").addClass("active"),$(this).find(".back").removeClass("seen").removeClass("active"),$(this).data("from-reset",!1)):(b=$(this).find(".face:not(.seen)"),b.addClass("seen"),
b=$(this).find(".face:not(.active)"),$(this).find(".face").removeClass("active"),b.addClass("active"),k.actionAPI.onContentChangedEvent.call(k.actionAPI,l,k))}),l.data("DKFlipCardSet",{reset:function(){l.data("allViewed",!1);l.find(".flip").data("from-reset",!0).flip(!1)}});else{if("flashCardSet"==l.data("type"))return requireFns.getFlickity(function(){var b={cellAlign:"center",adaptiveHeight:!1,imagesLoaded:!0,pageDots:c.parameters.config.showDots,prevNextButtons:c.parameters.config.prevNextButtons},
h=q.find(".flickity-carousel");h.flickity(b);DKI.makeFocusable(h,!1);DKI.makeFocusable(h.find(".flickity-prev-next-button"),!0);var m=h.data("flickity");h.data("resize",function(){m.slides.forEach(function(b){$(b.cells[0].element).find(".card").css("height","auto")});var b=Math.max.apply(Math,m.slides.map(function(b){return $(b.cells[0].element).height()}));m.slides.forEach(function(c){$(c.cells[0].element).find(".card").css("height",b)});h.flickity("resize")});h.on("select.flickity",function(b){b=
m.selectedCell.element;var c=$(this).find(".flashCardCont[tabindex\x3d'1']"),h=c.find("*[tabindex], *[aria-hidden]");DKI.makeFocusable(c,!1);DKI.makeFocusable(h,!1);DKI.makeFocusable($(b),!0);DKI.makeFocusable($(b).find("*[tabindex], *[aria-hidden]"),!0)});h.on("settle.flickity",function(){var b=m.selectedCell.element;b&&b.focus()});h.on("dragStart.flickity",function(b){$(document).trigger(DKI.ContentPage.events.elementSwipeStart)});h.on("dragEnd.flickity",function(b){$(document).trigger(DKI.ContentPage.events.elementSwipeEnd)});
h.on("keydown",function(b){if(37==b.which||39==b.which)return $(this).flickity(37==b.which?"previous":"next"),!1});l.data("reset",$.proxy(function(){this.find(".flashCardCont").attr("data-visited",!1).attr("data-viewed",!1);this.find(".dki-element-content").removeClass("finalScore").find(".flickity-carousel").flickity("select",0,!1,!0);this.find(".flickity-carousel").off("select.flickity.one");this.find(".flickity-page-dots .dot").attr("data-visited","false");this.find(".card").each(function(){$(this).removeClass("correct incorrect").attr("data-answered",
!1).find(".imgOverlay .fa").removeClass("fa-times fa-check");$(this).find(".resultText").html("");$(this).find(".btn").removeClass("disabled next").html("Submit");$(this).find("input").val("").attr("readonly",!1);$(this).data("score",null)})},l));h.find(".card").each(function(b,p){var r=function(b){return(c.parameters.config.caseSensitive?b:b.toLowerCase()).split("/,")},v=function(b,h){b=c.parameters.config.caseSensitive?b:b.toLowerCase();return{correct:-1<$.inArray(b,h),answers:h}},u=c.elements[b],
w=this;$(this).on(settings.clickEvent,".btn",function(){var b=this,p=function(){$(b).addClass("disabled").removeClass("next").html(DKI.strings.runtime.buttonLabelSubmit)};if(!$(b).hasClass("disabled")){if($(b).hasClass("next"))h.flickity("next");else{var z=$(b).siblings("input").first().val().trim(),x=v(z,r(u.txt));$(w).attr("data-answered",!0);h.find(".flickity-page-dots .is-selected").attr("data-visited","true");k.actionAPI.onContentChangedEvent.call(k.actionAPI,l,k);c.parameters.config.showCardFeedback&&
($(w).find(".resultText").html(x.answers.join(", ")),$(w).removeClass("correct incorrect").addClass(x.correct?"correct":"incorrect").find(".imgOverlay .fa").removeClass("fa-times fa-check").addClass("fa-"+(x.correct?"check":"times")));$(w).data("score",x);$(w).attr("data-givenAnswer",z);$(w).find(".resultText").html(x.answers.join(", "));$(b).addClass("next").html(DKI.strings.index.nextButtonLabel);$(b).siblings("input").attr("readonly",!0);h.one("select.flickity.one",p);$(document).trigger(DKI.ContentPage.events.flashCardSubmitted,
{outline:u,score:x.correct?1:0,response:c.parameters.config.caseSensitive?z:z.toLowerCase(),correctResponse:r(u.txt)})}m.cells.length-1==m.selectedIndex&&(h.off("select.flickity.one"),p());z=q.find(".card");if(0==z.filter(":not([data-answered\x3d'true'])").length&&c.parameters.config.showFinalFeedback){var x=z.length,B=0,E="",F=Handlebars.compile("\x3cdiv class\x3d'cardScore {{#if correct}}correct{{else}}incorrect{{/if}}'\x3e\x3cdiv tabindex\x3d'1' aria-label\x3d'{{el.title}}'class\x3d'cardInfo flex'\x3e\x3cdiv tabindex\x3d'1'class\x3d'fa fa-{{#if correct}}check{{else}}times{{/if}}' aria-label\x3d'{{#if correct}}{{pass}}{{else}}{{fail}}{{/if}}'\x3e\x3c/div\x3e\x3cdiv class\x3d'scoreItemImg' style\x3d\"background-image: url('{{getAssetUrl id\x3del.upload_id folderId\x3del.asset_uploadfolderid extension\x3del.asset_extension}}')\"\x3e\x3c/div\x3e\x3cdiv class\x3d'flex flexCol inline'\x3e\x3cdiv tabindex\x3d'1'\x3e{{{el.meta}}}\x3c/div\x3e{{#if givenAnswer}}\x3cdiv tabindex\x3d'1' class\x3d'answered'\x3e{{givenAnswer}}\x3c/div\x3e{{/if}}\x3c/div\x3e\x3c/div\x3e{{#unless correct}}\x3cdiv tabindex\x3d'1'style\x3d'padding-left:38px'\x3e{{correctString}} {{correctAnswers}}\x3c/div\x3e{{/unless}}\x3c/div\x3e"),
p=Handlebars.compile("\x3cdiv class\x3d'flashCard_feedback'\x3e\x3cdiv class\x3d'feedback_container flex flexCol'\x3e\x3cdiv tabindex\x3d'1' class\x3d'feedback_header'\x3e\x3cdiv class\x3d'flex totalScore'\x3e\x3cdiv class\x3d'flashcard_score'\x3e{{score}}%\x3c/div\x3e\x3cdiv class\x3d'flaschard_description flexAuto'\x3e{{description}}\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'feedback_cards flexAuto'\x3e{{{cards}}}\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e");z.each(function(b,h){b=c.elements[b];
$(this).data("score").correct&&(B+=1);E+=F({correctAnswers:b.txt.split("/,").join(", "),el:b,correct:$(this).data("score").correct,givenAnswer:$(this).data("givenAnswer"),correctString:DKI.strings.doc["Correct choice label"],fail:DKI.strings.runtime.failText,pass:DKI.strings.runtime.passText})});B=Math.round(B/x*100);z="Feedback all correct";0==B?z="Feedback all incorrect":100!==B&&(z="Feedback partial");DKI.PopupPanel.show({modal:!0,style:"flash_card_feedback",title:u.title,html:p({outline:u,score:B,
cards:E,description:DKI.strings.doc[z]}),popupType:{type:"pop",mod:""},onHide:function(){var b=l.find(".flashCardCont.is-selected");b[0]&&b[0].focus()}});$(".popup.flash_card_feedback").addClass("finalScore")}}});$(this).find("input").on("keydown",function(b){13==b.which&&$(this).siblings(".btn").first().trigger("click");b.stopPropagation()})});h.data("resize")();W(l,p,q)}),!1;if("matchCardSet"==l.data("type")){l.on("match.reset",function(){l.data("flipState",{elFlipped:!1,flipTries:0,score:0,success:[]});
l.find(".flipSet").removeClass("locked").find(".flip.flipped").flip(!1).removeClass("flipped matched")});var X=function(b,c,h){tpl=Handlebars.compile("{{#unless content}}\x3cdiv class\x3d'matchCard'\x3e\x3c/div\x3e{{else}}\x3cdiv tabindex\x3d'1'\x3e{{{content}}}\x3c/div\x3e{{/unless}}\x3cdiv class\x3d'match_description'\x3e{{{description}}}\x3c/div\x3e");q=c.find(".back\x3e *");isImage=q.hasClass("setImage");DKI.PopupPanel.show({modal:!0,style:"match_feedback",title:b.txt||"placeholder",html:tpl({description:b.meta||
"Placeholder",content:isImage?"":q.html()}),popupType:{type:"pop",mod:""},onHide:function(){var b=c.siblings(void 0==h.score?":not(.matched)":"").first();b[0]&&b.find(".face[tabindex\x3d1]")[0].focus()}});b=$(".popup.match_feedback");b.find(".matchCard").append(q.clone());b.find("h1")[0].focus()};l.on("match.resizeImmediate",function(){var b=$(this).find(".cardsContainer"),c=b.find(".flip"),h=b.parent().width(),k=c[0]?$(c[0]).outerWidth(!0):0;if(k){var l=c.toArray().reduce(function(b,l,m){return 0==
c.length%(m+1)&&k*(m+1)<h?m+1:b},1),m=1,n=1,p=[],q=[];c.each(function(b,c){m>l&&(p.push(q),q=[],m=1,n+=1);dkiUA.isIE()&&$(this).css({"-ms-grid-column":m.toString(),"-ms-grid-row":n.toString()});$(this).uniqueId();q.push($(this));m+=1});p.push(q);for(var r="",v=0;v<l;v++)r+="auto ";b.css({"grid-template-columns":r.trim(),"-ms-grid-columns":r.trim()});$(this).data("flipState").layout=p}});l.on("match.resize",DKI.func.debounce(function(){l.trigger("match.resizeImmediate")},50,!1));l.trigger("match.reset");
l.on("keyup",function(b){if(37==b.which||38==b.which||39==b.which||40==b.which){var c=l.find(".face:focus")[0]?l.find(".face:focus"):l.find(".flip.active, .flip.flipped").first().find(".face[tabindex\x3d'1']");if(c[0]){var h=l.data("flipState").layout;switch(b.which){case 37:var k="col",m=-1;break;case 39:k="col";m=1;break;case 38:k="row";m=-1;break;case 40:k="row",m=1}var n=function(b){ia=[];if("col"==b)for(var c in h)ia=ia.concat(h[c]);else for(var k in h[0])for(var l=0;l<h.length;l++)ia.push(h[l][k]);
l=0;return $(ia).map(function(){this.data("index",l);l+=1;return this.toArray()})};b=function(b,c,h){var k;c=n(c);var l=h=h.data("index");do k=l+b,l=0>k?c.length-1:k==c.length?0:k,k=$(c[l]).hasClass("matched")||$(c[l]).hasClass("flipped")?!1:$(c[l]);while(l!=h&&!k);return k}(m,k,c.parent());b[0]&&b.find(".face[tabindex\x3d'1']")[0].focus()}else c[0].focus();return!1}});var ia=l.find(".flip");ia.on("click",function(b){var h=l.data("flipState");if($(this).hasClass("flipped")||$(this).parent().hasClass("locked"))return b.stopImmediatePropagation(),
!1;b=k.getClaroElementById($(this).data("id"));$(this).find(".face.back span")[b.elements[0].upload_id?"addClass":"removeClass"]("hidden");$(this).addClass("flipped");if(h.elFlipped){$(this).parent().addClass("locked");var m=l.find(".flipped[data-id\x3d'"+h.elFlipped+"']").add(this);h.flipTries+=1;if($(this).data("id")!=h.elFlipped)$(this).one("flip:done",function(){setTimeout($.proxy(function(){m.flip(!1).removeClass("flipped");$(this).parent().removeClass("locked");$(this).one("flip:done",function(){$(this).find(".front")[0].focus()})},
this),500)});else{h.success.push(h.elFlipped);$(this).one("flip:done",function(){m.addClass("matched");k.actionAPI.onContentChangedEvent.call(k.actionAPI,l,k)});$(this).parent().removeClass("locked");var p=null;$.each(c.elements,function(){if(this.id===h.elFlipped)return p=this,!1});p&&p.txt&&c.parameters.config.showFeedback&&X(p,$(this),h)}h.success.length==c.elements.length&&(h.score=c.elements.length/h.flipTries*100);h.elFlipped=!1}else h.elFlipped=$(this).data("id")});ia.flip({trigger:"click"}).on("flip:done",
function(){if(!l.data("fromFirstVisibleFlip")){var b=k.getClaroElementById($(this).data("id")),c=b.elements[0].upload_id?b.elements[0].asset_title:b.elements[0].meta,h=this,m=$(this).find(".face").attr({tabindex:"-1","aria-hidden":"true"}).filter($(this).hasClass("flipped")?".back":".front");m.attr({tabindex:"1","aria-hidden":"false"});m.hasClass("back")&&setTimeout(function(){$(h).find(".face.back span").html(c);m[0].focus()},10)}})}else if("tileCard"==l.data("type"))l.on(settings.clickEvent,function(){""!=
c.parameters.config.variable_id&&contentApi.setData(c.parameters.config.variable_id,!0)});else if("slider"==l.data("type")){Y=DKI.clone(c.parameters.config.noUISlider);Y.behaviour=c.parameters.config.snap?"tap":"none";""!=c.parameters.config.pipsJSON?Y.pips=JSON.parse(c.parameters.config.pipsJSON):!1;var U=l.find(".slider")[0],na=l.find(".sliderLabel");Y.pips&&(Y.pips.filter=function(b,c){return 1!=c&&b%Y.step?0:1});if(playerBehaviour.enableSwiping)l.on("pointerup pointerdown",function(b){b.stopPropagation()});
!player.isSinglePage&&dataStorage.getContentVariable(c.parameters.config.variable_id)&&(Y.start=dataStorage.getContentVariable(c.parameters.config.variable_id));noUiSlider.create(U,Y);Y.disabled&&l.find(".slider")[0].setAttribute("disabled",!0);$(U).on("keyup",function(b){var h=parseFloat(this.noUiSlider.get()),k=c.parameters.config.noUISlider.step;switch(b.keyCode){case 39:h="ltr"==c.parameters.config.noUISlider.direction?h+k:h-k;break;case 37:h="ltr"==c.parameters.config.noUISlider.direction?h-
k:h+k;break;case 38:h+=k;break;case 40:h-=k;break;case 33:h+=10*k;break;case 34:h-=10*k}this.noUiSlider.set(h)});var la=!0;U.noUiSlider.on("update",function(){var b=parseFloat(this.get());na.text(b);$(U).attr("aria-valuenow",b);la?(la=!1,l.find(".dki-element-content").data("current-value",b)):contentApi.setData(c.parameters.config.variable_id,parseFloat(this.get()))});U.noUiSlider.on("change",function(){var b=l.find(".dki-element-content").data("current-value"),c=parseFloat(this.get());b!=c&&(l.find(".dki-element-content").data("current-value",
c),k.actionAPI.onContentChangedEvent.call(k.actionAPI,l.find(".slider")[0],k))})}else if("toggle"==l.data("type")){var ea=function(b,c){contentApi.setData(b,c)},ca=l.find('input[type\x3d"checkbox"]');null==contentApi.getData(c.parameters.config.variable_id)?ea(c.parameters.config.variable_id,ca.checked()):ea(c.parameters.config.variable_id,contentApi.getData(c.parameters.config.variable_id));ca.on("change",function(){var b=$(this).checked();l.find("label").attr("aria-checked",b);ea(c.parameters.config.variable_id,
b);k.actionAPI.onContentChangedEvent.call(k.actionAPI,this,k)})}else if("list"==l.data("type"))ca=l.find('input[type\x3d"checkbox"]'),ca.on("change",function(){var b=$(this).checked();l.find("label[for\x3d'"+$(this).attr("id")+"']").attr("aria-checked",b);k.actionAPI.onContentChangedEvent.call(k.actionAPI,this,k)});else if("selection"==l.data("type")){var ea=function(b,c,h,l){l||contentApi.setData(b,h,!1,!1,{text:c});setVariableText(b,c,k);setVariableText(b+"_text",c,k)},ra=function(){var b=c.parameters.config.variable_id,
h=b.split(",");if(1<h.length)for(var k=0;k<h.length;k++)if(-1==h[k].indexOf("_text")){b=h[k];break}return b},ca=l.find("select"),ja=ca[0]?ca.checked():1,va=ca[0]?ca.find("option:selected").text():l.find("ul.dropdown-menu li:first").text();l.find(".dki-element-content").data("val",ja);null==contentApi.getData(ra())&&ea(ra(),va,ja);$(document).on(DKI.ContentPage.events.started,function(b,h){c.pageid==h.page.id&&ca[0]&&(ja=ca.checked(),va=ca.find("option:selected").text(),ea(ra(),va,ja))});if(ca[0])ca.on("change",
function(){var b=$(this).val(),c=$(this).find("option:selected").text();ea(ra(),c,b);k.actionAPI.onContentChangedEvent.call(k.actionAPI,this,k)});else{var w=l.find("button"),Fa=null;1<w.length?(z=l.data("id")+"_selectionBtn",w.filter(":not(.dropdown-toggle)").attr("id",z),Fa=w.filter(".dropdown-toggle").attr("tabindex",v).attr("aria-labelledby",z)):Fa=w.attr("tabindex",v);l.find(".dropdown-menu li\x3ea").attr("tabindex",v);l.find(".dropdown-menu li\x3ea").on("keyup",function(b){if(32==b.which||13==
b.which)$(this).trigger("click"),b.preventDefault(),b.stopPropagation()});l.find(".dropdown-menu li\x3ea").on("click",function(b,c){b=l.find(".dki-element-content").data("val");var h=$(this).data("val"),m=$(this).text();b!=h&&(l.find("button .selectedCont").html($(this).html()),l.find(".dki-element-content").data("val",h),ea(ra(),m,h,c),k.actionAPI.onContentChangedEvent.call(k.actionAPI,this,k),Fa.focus())});w=l.find(".dropdown-menu");z=$(".pageElementsWrapper");l.offset().top+l.outerHeight()+w.outerHeight()>
z.innerHeight()&&w.parent().addClass("dropup");l.find(".dropdown-menu li\x3ea").each(function(){$(this).attr("aria-label",$(this).text()).attr("role","listItem")});w.attr("role","menu")}}else if("radioGroup"==l.data("type")){ea=function(b,c,h,l){l||contentApi.setData(b,h,!1,!1,{text:c,isRadio:!0});setVariableText(b,c,k);setVariableText(b+"_text",c,k)};ra=function(){var b=c.parameters.config.variable_id,h=b.split(",");if(1<h.length)for(var k=0;k<h.length;k++)if(-1==h[k].indexOf("_text")){b=h[k];break}return b};
if(c.parameters.config.sequential){var w=l.find("input:checked"),Aa=w.nextAll("input").first();"bs"==c.parameters.config.type&&(Aa=w.parent().next().find("input"));z=l.find("input:not(:checked)").prop("disabled",!0);l.find("label:not([for\x3d'"+w.attr("id")+"'])").addClass("disabled");Aa.prop("disabled",!1);l.find("label[for\x3d'"+Aa.attr("id")+"']").addClass("disabled");w[0]||(w=z.first(),w.prop("disabled",!1),l.find("label[for\x3d'"+w.attr("id")+"']").removeClass("disabled"));l.find("input").on("change",
function(){Aa="bs"==c.parameters.config.type?$(this).parent().next().find("input"):$(this).nextAll("input").first();Aa[0]&&(Aa.prop("disabled",!1),l.find("label[for\x3d'"+Aa.attr("id")+"']").removeClass("disabled"))})}l.find("input:checked").length&&(ja=l.find("input:checked").val(),w=l.find("input:checked").attr("id"),va=l.find(".dki-element-content label[for\x3d"+w+"]").html(),w=ra(),ea(w,va,ja));l.find(".dki-element-content label").on("click",function(b,c){if(!$(this).hasClass("disabled")){var h=
l.find(".dki-element-content").data("selected-index");b=$(".dki-element-content",this).html();var m=$(this).parent().find("\x3elabel").index(this)+1;h!=m&&(l.find(".dki-element-content").data("selected-index",m),$(this).closest(".dki-element-content").find("label").removeClass("active"),$(this).addClass("active"),h=ra(),ea(h,b,m,c),k.actionAPI.onContentChangedEvent.call(k.actionAPI,l,k))}});l.find(".dki-element-content input").change(function(){var b=$(this).parent().find("label[for\x3d'"+$(this).attr("id")+
"']");b.hasClass("active")||b.trigger("click")})}else if("progress"!=l.data("type")&&"callout"!=l.data("type"))if("radialGauge"==l.data("type"))l.data("outline",c),q=l.find(".radial"),q.RadialGauge({parentSelector:".dki-authoring-content-wrapper",startingPosition:c.parameters.config.startingPos,showText:""==c.meta&&"hidden"!==c.parameters.config.textClass?!1:c.meta,current:function(){return c.parameters.config.current}}),q.RadialGauge("resize"),q.on(DKI.ContentPage.events.shown,function(){q.RadialGauge("shown")});
else if("jumbotron"!=l.data("type"))if("likedislike"==l.data("type"))q.find("i").on(settings.clickEvent,function(){if(!$(this).isDisabled()){q.find("i").removeClass("toggled").disable();$(this).addClass("toggled");var b={id:"http://activitystrea.ms/schema/1.0/like",display:{"en-US":"liked"}};$(this).hasClass("fa-thumbs-down")&&(b={id:"http://activitystrea.ms/schema/1.0/dislike",display:{"en-US":"disliked"}});contentApi.sendAnalyticsStatement({verb:b,object:{id:settings.activityRootURL+"page/"+(settings.useExternalIdsForScorm?
contentApi.getData("sys.currentpage.external_id",!0):contentApi.getData("sys.currentpage.id",!0)),definition:{name:{"en-US":contentApi.getData("sys.currentpage.title",!0)},description:{"en-US":contentApi.getData("sys.currentpage.description",!0)}},objectType:"Activity"}});contentApi.setData("likedislike_"+contentApi.getData("sys.currentpage.id",!0),$(this).hasClass("fa-thumbs-up")?"like":"dislike",!0)}});else if("svg"==l.data("type")||"shape"==l.data("type")){if("shape"==l.data("type")&&""===c.meta.trim())return requirejs(["raphael"],
function(b){Raphael=b;b=Raphael(q.find(".shape")[0],0,0,"100%","100%");$(b.canvas).attr("height",c.height+"px");$(b.canvas).attr("width",c.width+"px");b.height=c.height;b.width=c.width;var h={"stroke-width":c.parameters.config.borderThickness?c.parameters.config.borderThickness:0,"stroke-dasharray":c.parameters.config.border,stroke:c.parameters.background.stroke?"transparent"==c.parameters.background.stroke?"":c.parameters.background.stroke:"",fill:c.parameters.background.color?"transparent"==c.parameters.background.color?
"":c.parameters.background.color:"","fill-opacity":""!==c.parameters.background.transparency?1-c.parameters.background.transparency/100:1,"stroke-opacity":""!==c.parameters.background.transparency?1-c.parameters.background.transparency/100:1},k=c.parameters.config.borderThickness?c.parameters.config.borderThickness:0;switch(c.parameters.config.type){case "rect":var m=b.rect(k/2,k/2,c.width-k,c.height-k,c.parameters.config.roundedCorners?5:0);break;case "circle":m=b.circle(c.height/2,c.height/2,(c.height-
k)/2);break;case "ellipse":m=b.ellipse(c.width/2,c.height/2,(c.width-k)/2,(c.height-k)/2);break;case "vline":m=c.parameters.config.borderThickness;m=b.path("M"+m/2+",0 L"+m/2+","+(c.height+parseInt(c.parameters.config.borderThickness)));break;case "hline":m=c.parameters.config.borderThickness,m=b.path("M0,"+m/2+" L"+(c.width+parseInt(c.parameters.config.borderThickness))+","+m/2)}m.attr(h);q.find("svg").attr("focusable","false");W(l,p,q)}),!1;if("svg"==l.data("type")&&""===c.meta.trim()&&0!=settings.course.legacy)return requirejs(["raphael"],
function(b){Raphael=b;b=Raphael(q.find(".shape")[0],0,0,"100%","100%");DKI.renderService.state.typeConfig[c.elementtype].renderRules[settings.responsive?"flow":"claro"].useDimensions?($(b.canvas).attr("height",c.height+"px"),$(b.canvas).attr("width",c.width+"px"),b.height=c.height,b.width=c.width):($(b.canvas).attr("height","100%"),$(b.canvas).attr("width","100%"),b.height="100%",b.width="100%");var h=c.parameters.config.atts;h.fill=c.parameters.background.color?"transparent"==c.parameters.background.color?
"":c.parameters.background.color:"";h.stroke=c.parameters.background.stroke?"transparent"==c.parameters.background.stroke?"":c.parameters.background.stroke:"";h["fill-opacity"]=""!==c.parameters.background.transparency?1-c.parameters.background.transparency/100:1;h["stroke-opacity"]=""!==c.parameters.background.transparency?1-c.parameters.background.transparency/100:1;h["stroke-linejoin"]="round";for(var k=c.parameters.config.paths,m=b.set(),r=0;r<k.length;r++){var v=k[r],u=b[v.type],w=DKI.apply(DKI.clone(h),
v.atts);m.push(u.apply(b,v.args).attr(w))}h=m.getBBox();k=(c.parameters.config.atts?c.parameters.config.atts["stroke-width"]:0)/2;r=settings.responsive?q.outerWidth():c.width;m=(settings.responsive?r/(h.width/h.height):c.height)/h.height;r/=h.width;h.x-=k/r;h.y-=k/m;h.width+=2*k/r;h.height+=2*k/m;b.setViewBox(h.x,h.y,h.width,h.height);b.canvas.setAttribute("preserveAspectRatio","none");q.find("path, circle, rect").attr("vector-effect","non-scaling-stroke");q.find("svg").attr("focusable","false");
W(l,p,q)}),!1;q.find("svg").attr("focusable","false")}}}if("textbox"==c.elementtype||"freeFormOption"==c.elementtype||"input"==c.elementtype)if(w="input"==c.elementtype?"input":"textarea",$(w,l).attr("tabIndex",v),""!=c.parameters.config.variable_id&&(ea=function(b,c){contentApi.setData(b,c)},l.on("change keyup input",w,function(){ea(c.parameters.config.variable_id,this.value)}),l.on("blur",w,function(){contentApi.setData(c.parameters.config.variable_id,this.value)})),l.on("keypress",function(b){b.stopPropagation()}),
"input"==c.elementtype||"textbox"==c.elementtype)l.on("change",w,function(b,c){k.actionAPI.onContentChangedEvent.call(k.actionAPI,this,k)});if("marker"==c.elementtype){var v="fade",H="top",w="hover",ma="dark";c.parameters.config&&(c.parameters.config.position&&(H=c.parameters.config.position),c.parameters.config.animation&&(v=c.parameters.config.animation),c.parameters.config.trigger&&(w=c.parameters.config.trigger),c.parameters.config.theme&&(ma=c.parameters.config.theme));r.on("focus",function(){fa.trigger("mouseover")});
r.on("blur",function(){fa.trigger("mouseout")});if("click"==w)r.on("click",function(){fa.trigger("click")});r.attr("role","button");fa.attr("data-position",H);l.on("click",function(){l.addClass("clickedOnce")});if(""!=c.meta){r.attr("aria-haspopup","dialog");c.meta=DKI.renderService.parseElementDataImagesInMeta(c);var ga=function(b){b.find("img").each(function(){for(var h=$(this).data("id"),k=b.css("max-width"),k=-1<k.indexOf("px")?parseInt(k.split("px")[0],10):400,l=0;l<c.parameters.config.elements_assets.length;l++)if(c.parameters.config.elements_assets[l].uploadid.toLowerCase()==
h.toLowerCase())if(""==this.style.width&&""==this.style.height){var m=c.parameters.config.elements_assets[l].w;m>k&&(m=k);var p=m/c.parameters.config.elements_assets[l].w;$(this).css("width",m);$(this).css("height",c.parameters.config.elements_assets[l].h*p)}else if(""==this.style.width)if(0>this.style.height.indexOf("%")){var q=$(this).height(),p=q/c.parameters.config.elements_assets[l].h;$(this).css("width",c.parameters.config.elements_assets[l].w*p)}else p=parseInt(this.style.height.split("%")[0])/
100,q=k*p,p=q/c.parameters.config.elements_assets[l].h,$(this).css("height",q),$(this).css("width",m*p);else""==this.style.height?this.style.width.indexOf("%")-1?(m=c.parameters.config.elements_assets[l].w,m>k&&(m=k),p=m/c.parameters.config.elements_assets[l].w,$(this).css("width",m),$(this).css("height",c.parameters.config.elements_assets[l].h*p)):(p=parseInt(this.style.width.split("%")[0])/100,m=k*p,p=m/c.parameters.config.elements_assets[l].w,$(this).css("height",c.parameters.config.elements_assets[l].h*
p),$(this).css("width",m)):-1<this.style.width.indexOf("%")&&-1<this.style.height.indexOf("%")&&(m=parseInt(this.style.width.split("%")[0])/100,p=parseInt(this.style.height.split("%")[0])/100,m*=k,q=k*p,$(this).css("height",q),$(this).css("width",m))})};q.tooltipster({content:c.meta,contentAsHTML:!0,functionBefore:function(b,h){$(h.tooltip);if(767>=window.innerWidth)return contentApi.showPopup({html:c.meta,modal:!1,autoFocus:!0,returnFocus:r,popupType:{type:"pop",mod:"noModal",modal:!1}}),k.actionAPI.onContentChangedEvent.call(k.actionAPI,
l,k),!1},functionReady:function(b,h){var m=$(h.tooltip);m.parent();ga(m);(function(){m.attr("role","dialog");m.find(".tooltipster-content").attr("id",m.attr("id")+"_content");m.find(".tooltipster-box").append("\x3ci id\x3d'"+m.attr("id")+"_close' class\x3d'fa fa-close dialog-close' tabindex\x3d'1' role\x3d'button' aria-label\x3d'"+DKI.strings.runtime.buttonLabelClose+"'\x3e\x3c/i\x3e");m.attr("aria-describedby",m.attr("id")+"_content");$(document).trigger(DKI.ContentPage.events.markerTriggered,{element:c});
setTimeout(function(){b.reposition();DKI.enforceFocus(m);m.find("#"+m.attr("id")+"_close")[0].focus()},100)})();(-1<ma.indexOf("branded")||"tooltipster-punk"==ma)&&m.append($("\x3cdiv/\x3e",{"class":"tooltip-branding",css:{"background-color":q.css("background-color")}}));k.actionAPI.onContentChangedEvent.call(k.actionAPI,l,k);b.on("close",function(){m.removeAttr("aria-describedby");DKI.enforceFocus(!1);r[0].focus()});h=k.getZIndex()+999;this._$tooltip.style("z-index",h)},functionPosition:function(b,
c,h){var k=c.tooltipClone.getBoundingClientRect(),l=H.split("-")[1];if(l){var m=0;switch(l){case "left":m=c.geo.origin.offset.left-k.width+c.geo.origin.size.width+15;0>m&&(m=c.geo.origin.offset.left-15);break;case "right":m=c.geo.origin.offset.left-15,m+k.width>c.geo.document.size.width&&(m=c.geo.origin.offset.left-k.width+c.geo.origin.size.width+15)}h.coord.left=m}switch(H.split("-")[0]){case "top":h.coord.top+c.geo.window.scroll.top<$("#contentFrame").offset().top&&b.option("side","bottom");break;
case "bottom":c.geo.window.scroll.top+h.coord.top+k.height+15>c.geo.document.size.height&&b.option("side","top");break;case "left":0>h.coord.left&&b.option("side","right");break;case "right":h.coord.left+k.width>c.geo.document.size.width&&b.option("side","left")}0>=h.coord.top+c.geo.window.scroll.top&&(h.coord.top=$("#contentFrame").offset().top);1!=settings.scale&&(b=h.coord.top/settings.scale,c=h.target/settings.scale,h.coord.left/=settings.scale,h.coord.top=b,h.target=c);return h},maxWidth:400,
side:[H.split("-")[0]],animation:v,trigger:w,theme:ma,trackOrigin:!0,restoration:"none"})}else k.actionAPI.onContentChangedEvent.call(k.actionAPI,l,k)}else if("capture"==c.elementtype){switch(c.parameters.config.type){case "showMe":var sa="showMe",ua=[sa];break;case "tryMe":sa="tryMe";ua=[sa];break;case "testMe":sa="testMe";ua=["tryMe","testMe"];break;default:sa=""}l.data("cap")&&l.capture("destroy");l.data("slidesViewed",l.data("slidesViewed")?l.data("slidesViewed"):[]);l.on("click",".dki-glossary-link",
function(){l.find(".capture").hasClass("capture-fullscreen-overflow")?(DKI.glossary.showPopup.call(this,[e],$(this).closest(".dki-capture-element")),l.data("cap").setPause(!0)):DKI.glossary.showPopup.call(this,[e]);return!1});if(c.parameters.config.showModes){var Ma=c.parameters.config.mode;l.find(".picksbarContainer li").on("click",function(){if($(this).hasClass("disabled-element"))return!1;var b=DKI.clone(c),h=$(this).data("captureType");if("testMe"==h)var m="Challenge"==Ma?"Challenge":"Practice";
b.parameters.config.type=h;b.parameters.config.mode=m;m=DKI.renderService.renderContent(b,{page:k.page});""!=m&&(l.capture("destroy"),l.data("cap",""),l.find(".dki-element-content").replaceWith(m),"tryMe"!=h&&"testMe"!=h||l.find(".picksbarContainer li:not(.active)").disable(),k.processElement(b),l.capture("setWaypoints"),k.resize())})}if(sa){var xa,Da;c.asset_parameters.config.overallAudioFileName&&(xa=c.asset_parameters.config.overallAudioFileName,Da=DKI.renderService.getAssetUrl({id:c.upload_id,
folderId:c.asset_uploadfolderid,extension:""})+"/"+xa);var T=function(){var h={container:l.find(".capture-project-container"),iconPath:DKI.renderService.state.renderEnvironment.export?"./css/images":"../player/css/capture/images",sections:c.asset_parameters.config.sections,stepDuration:c.asset_parameters.config.stepDuration,fileName:xa,m4aTag:Da,audioSprite:c.asset_parameters.config.audioSprite,performAudioFetch:!1,panAndZoom:c.asset_parameters.config.panAndZoom,uaSniffer:dkiUA,transformScale:function(){return settings.scale},
STRINGS:{INCORRECT_ATTEMPT:DKI.strings.doc["Feedback incorrect attempt"],CORRECT:DKI.strings.doc["Correct choice label"],CONTINUE:DKI.strings.endMod.learningLinkLabel,INCORRECT:DKI.strings.capture.incorrectAnswer,SHOW_HINT:DKI.strings.capture.showHint,FEEDBACK_STEP_LABEL:DKI.strings.capture.step,FEEDBACK_FEEDBACK_LABEL:DKI.strings.capture.feedback,PLAY:DKI.strings.runtime.media_play,OK:DKI.strings.capture.ok,NEXT:DKI.strings.runtime.buttonLabelNext,FINISH:DKI.strings.capture.finish,RESTART_TEXT:DKI.strings.capture.restart,
FEEDBACK_TYPED_YOU_TYPED:DKI.strings.capture.youTyped}};h.sections.forEach(function(b){DKI.isDefined(b.numberOfSteps)||(b.numberOfSteps=b.steps.length)});"testMe"==c.parameters.config.type&&c.parameters.config.mode&&(h.mode=c.parameters.config.mode);l.data("cap",new window[sa](h));c.parameters.config.showModes&&l.find(".picksbarContainer li").enable();h=l.find(".capture-project-container");h.on("tryMe.stepChanged showMe.stepChanged",function(b,h){b=$(this).closest(".dki-capture-element");var l=b.data("slidesViewed");
~$.inArray(h.y+1E3*h.x,l)||(l.push(h.y+1E3*h.x),k.actionAPI.onContentChangedEvent.call(k.actionAPI,b,k));c.parameters.config.variable_id&&contentApi.setData(c.parameters.config.variable_id,h.y,!1,!1,!1,{source:b});"showMe"==c.parameters.config.type&&b.find(".carousel-inner .item").attr("tab-index","-1").filter(".active").attr("tab-index","1")});var m=function(b,c){var h=$(b.target),k=h.hasClass(".dki-authoring-element")?h:h.closest(".dki-authoring-element-element:not(.dki-panel-element), .dki-authoring-element"),
l=h.data("automaticSet");if(!k.data("allViewed"))for(k.data("allViewed",!0),b=u.getActionsForEvent("allContentViewed",k.data("id"),c),$(document).trigger(DKI.ContentPage.events.elementAllContentViewed,{element:c.getClaroElementById(k.data("id")),pageInstance:c,setAutomatically:l}),l&&h.data("automaticSet",!1),h.trigger("contentViewed"),h=0;h<b.length;h++)u.actionHandlers[b[h].type](b[h],c),$(document).trigger("actionFired",[{pageContext:c,action:b[h]}])};if("tryMe"==c.parameters.config.type||"testMe"==
c.parameters.config.type)h.on(tryMe.EVENT.COMPLETE,function(b){m(b,k)});if("testMe"==c.parameters.config.type)h.on([testMe.EVENT.CORRECT,testMe.EVENT.INCORRECT].join(" "),function(b,h){b={element:c,assessment:h.assessment,section:h.testMe.getCurrentSectionFromOverallStep(h.testMe.getOverallStep()),stepIdx:h.testMe.getCurrentStepFromOverallStep(h.testMe.getOverallStep()),step:h.testMe.getCurrentStepObj()};DKI.isDefined(b.step.hotSpot)&&(b.hotspot=h.testMe.getHotspotForCurrentStep(!0));$(document).trigger(DKI.ContentPage.events.captureTestmeStepSubmitted,
b)}),h.on(testMe.EVENT.COMPLETE,function(b,h){$(document).trigger(DKI.ContentPage.events.captureTestmeSubmitted,{outline:c,score:h.score,testMe:h.testMe});m(b,k)});else if(h.on("tryMe.play",function(b,h){$(document).trigger(DKI.ContentPage.events.captureElementInteracted,{event:"start",el:c})}),h.on("tryMe.pause",function(b,h){$(document).trigger(DKI.ContentPage.events.captureElementInteracted,{event:"pause",el:c})}),h.on("tryMe.restart",function(b,h){$(document).trigger(DKI.ContentPage.events.captureElementInteracted,
{event:"restart",el:c})}),h.on("tryMe.stepChanged",function(b,h){$(document).trigger(DKI.ContentPage.events.captureElementInteracted,{event:"stepChanged",el:c})}),h.on("showMe.ended tryMe.ended",function(b,h){$(document).trigger(DKI.ContentPage.events.captureElementInteracted,{event:"ended",el:c})}),h.on("showMe.play",function(b,h){$(document).trigger(DKI.ContentPage.events.captureElementInteracted,{event:"play",el:c})}),h.on("showMe.pause",function(b,h){$(document).trigger(DKI.ContentPage.events.captureElementInteracted,
{event:"pause",el:c})}),"tryMe"==c.parameters.config.type)h.on("tryMe.ended",function(c,h){c=h.getAssessment();c=c=100*Math.min(c.steps.length/c.total.clicks,1);h=b.getCoursePassMark();null!==h&&(c>=h?l.trigger("capture_submitted",["CORRECT"]):l.trigger("capture_submitted",["INCORRECT"]),k.actionAPI.onElementCaptureAssessmentSubmittedEvent.call(k.actionAPI,this.closest(".dki-capture-element"),"CAPTURE_"+(c>=h?"CORRECT":"INCORRECT"),k))});W(l,p,q)};requirejs(["captureUtils"],function(){var b=function(c){requirejs([ua[c]],
c==ua.length-1?T:function(){b(c+1)})};b(0)});return!1}l.data("cap",function(){l.on("click","a[href^\x3d'#']",function(){l.capture("goToScene",[$(this).attr("href")]);return!1});var b=[];return{setWaypoints:$.proxy(function(){var h="captureGuide_"+$(this).data("id"),m=this;k.queue.deleteQueue(h);var p=function(){var h=$(".step",l).waypoint(DKI.apply(DKI.ContentPage.waypointDefaults,{handler:function(b){if("down"==b){b=$(this.element).closest(".stepsContainer").find("div:not(.row) .step").index(this.element)+
1;var h=m.data("slidesViewed");~$.inArray(b,h)||(h.push(b),k.actionAPI.onContentChangedEvent.call(k.actionAPI,m,k));c.parameters.config.variable_id&&contentApi.setData(c.parameters.config.variable_id,b,!1,!0)}},offset:"70%",context:$(k.pageContainer).closest(".fancybox-content")[0]||window}));b=h;this.wayPoints=this.wayPoints.concat(h)};k.queue.queue({name:h,callback:$.proxy(p,k)});var q=!1;$("img",l).each(function(){if(!$(this).attr("src")&&!$(this).data("src"))return!0;$(this).prop("complete")||
(q=!0,$(this).uniqueId(),k.queue.queue({name:h,id:$(this).attr("id")}),$(this).on("load error",function(){k.queue.dequeue({name:h,id:$(this).attr("id")})}))});q||p.call(k)},l),destroy:$.proxy(function(){$.each(b,function(){this.destroy()})},l)}}())}else{if("timer"==l.data("type"))return requirejs(["flipclock"],function(){var b=!0,h=DKI.applyIf({callbacks:{start:function(){this.stopped=!1;var b=r();h.countdown&&b+1E3==this.timeLimit||1E3>=b?k.actionAPI.onMediaStart.call(k.actionAPI,l.data("id"),k,
"timer_start"):k.actionAPI.onMediaPlay.call(k.actionAPI,l.data("id"),k,"timer_play")},stop:function(){if(!this.stopped&&(this.stopped=!0,!b)){var c=r();h.countdown&&0==c||!h.countdown&&c>=this.timeLimit?k.actionAPI.onMediaEnd.call(k.actionAPI,l.data("id"),k,"timer_end"):k.actionAPI.onMediaPause.call(k.actionAPI,l.data("id"),k,"timer_pause")}},interval:function(b,m,p){b=r();!h.countdown&&this.timeLimit<=b?this.stop():h.countdown&&0>=b&&(b=0,this.stop());k.actionAPI.onTimerTimeUpdate.call(k.actionAPI,
b,l.data("id"),k);c.parameters.config.variable_id&&contentApi.setData(c.parameters.config.variable_id,b)}}},c.parameters.config.clockCfg),m=l.find(".dki-element-content").FlipClock(0,h),r=$.proxy(function(){return h.countdown?this.timeLimit-this.getElapsed():this.getElapsed()},m.timer);m.getCurrentTime=r;l.data("timer",m);pI=k;m.restart=function(){var b=this,h=this.running;this.stop(function(){b.running=h;b.reset();c.parameters.config.variable_id&&contentApi.setData(c.parameters.config.variable_id,
b.getCurrentTime())},!0)};m.toggle=function(){this.running?this.stop():this.start()};b=!1;W(l,p,q)}),!1;if("videoPlaylist"==c.elementtype)return requirejs(["videoPlaylist"],function(){q.VideoPlaylist({completion:"undefined"!==typeof dataStorage?dataStorage.completion.elements:{},outline:c,type:c.parameters.config.type,responsive:settings.course.responsive,autoPlay:c.parameters.config.autoPlay,listeners:{play:function(){this.videoInterface.getUrl($.proxy(function(b){"undefined"!==typeof dataStorage&&
dataStorage.saveElementCompletion(this.getCompletion());$(document).trigger(DKI.ContentPage.events.media.played,{elementId:this.videoInterface.outline.id,url:b})},this))},pause:function(){this.videoInterface.getUrl($.proxy(function(b){"undefined"!==typeof dataStorage&&dataStorage.saveElementCompletion(this.getCompletion());$(document).trigger(DKI.ContentPage.events.media.paused,{elementId:this.videoInterface.outline.id,url:b})},this))},end:function(){this.videoInterface.getUrl($.proxy(function(b){"undefined"!==
typeof dataStorage&&dataStorage.saveElementCompletion(this.getCompletion());$(document).trigger(DKI.ContentPage.events.media.ended,{elementId:this.videoInterface.outline.id,url:b})},this))},start:function(){this.videoInterface.getUrl($.proxy(function(b){"undefined"!==typeof dataStorage&&dataStorage.saveElementCompletion(this.getCompletion());$(document).trigger(DKI.ContentPage.events.media.started,{elementId:this.videoInterface.outline.id,url:b})},this))},videoLoaded:function(){k.actionAPI.onContentChangedEvent.call(k.actionAPI,
l,k)}}});c.parameters.config.autoPlay&&q.isInViewport()&&k.autoPlayMedia.push(q);W(l,p,q)}),!1;if("scenario"==c.elementtype)return requirejs(["scenario"],function(){q.Scenario({accessible:!(dkiUA.android||dkiUA.iOS),outline:c,responsive:settings.responsive,characterBaseUrl:DKI.renderService.state.renderEnvironment.export?"assets":settings.baseUrl+"content/authoringtooldb/assetCollections",backgroundAsset:DKI.renderService.getAssetUrl({id:c.background_asset_id,folderId:c.background_asset_uploadfolderid,
extension:c.background_asset_extension}),strings:{audioPlay:DKI.strings.runtime.media_play,audioStop:DKI.strings.runtime.media_pause,scenarioStart:DKI.strings.runtime["theme start"],continue:DKI.strings.endTest.learningLinkLabel,restart:DKI.strings.capture.restart}}).on("scenario.optionSelected",function(b,c){$(document).trigger(DKI.ContentPage.events.scenarioOptionSelected,c);k.actionAPI.onContentChangedEvent.call(k.actionAPI,l,k)}).on("scenario.continue",function(b,c){}).on("scenario.end",function(b,
c){l.data("ended",!0);$(document).trigger(DKI.ContentPage.events.scenarioEnded,c);k.actionAPI.onContentChangedEvent.call(k.actionAPI,l,k)}).on("scenario.score",function(b,h){(b=c.parameters.config.variable_id)&&contentApi.setData(b,h.score)});W(l,p,q)}),!1;if("categoryCards"==c.elementtype){var Qa=c.parameters.config.showFeedback;q.CategoryCards({outline:c,accessible:c.parameters.accessibility.tabable&&!(dkiUA.android||dkiUA.iOS),responsive:settings.responsive,retries:c.parameters.config.attempts,
feedback:settings.responsive&&Qa?c.parameters.config.useProjectDefault?settings.course.parameters.questionFeedback:c.parameters.config.feedback:"",strings:{scoreLabel:DKI.strings.endMod.testingStatusLabel}}).on("answered",function(b,c){$(document).trigger(DKI.ContentPage.events.categoryCard.answered,c);k.actionAPI.onContentChangedEvent.call(k.actionAPI,l,k)}).on("completed",function(b,h){c.parameters.config.variable_id&&contentApi&&contentApi.setData(c.parameters.config.variable_id,h);if(Qa){b=c.parameters.config.useProjectDefault?
settings.course.parameters.questionFeedback:c.parameters.config.feedback;switch(h){case 100:b=b.correct;var m="success";break;case 0:b=b.incorrect;m="danger";break;default:b=b.partial,m="warning"}q.CategoryCards("getxAPICompleteData",function(b){$(document).trigger(DKI.ContentPage.events.categoryCard.completed,{xAPIData:b,score:h})});b&&!settings.responsive&&DKI.PopupPanel.show({modal:!0,style:m,title:"",html:b,popupType:{type:"pop",mod:""},onHide:function(){var b=[];b[0]&&b[0].focus()}})}l.data("completed",
!0);k.actionAPI.onContentChangedEvent.call(k.actionAPI,l,k);W(l,p,q)}).on(CategoryCardEvents.onAttempt,function(b,c){k.actionAPI.onElementQuestionSubmittedEvent.call(k.actionAPI,l,"INLINE_QUESTION_ATTEMPT",k)}).on(CategoryCardEvents.onSubmitted,function(b,c){k.actionAPI.onElementQuestionSubmittedEvent.call(k.actionAPI,l,"INLINE_QUESTION_SUBMITTED",k)}).on(CategoryCardEvents.onCorrect,function(b,c){k.actionAPI.onElementQuestionSubmittedEvent.call(k.actionAPI,l,"INLINE_QUESTION_CORRECT",k)}).on(CategoryCardEvents.onPartialCorrect,
function(b,c){k.actionAPI.onElementQuestionSubmittedEvent.call(k.actionAPI,l,"INLINE_QUESTION_PARTIALLY_CORRECT",k)}).on(CategoryCardEvents.onAttemptPartialCorrect,function(b,c){k.actionAPI.onElementQuestionSubmittedEvent.call(k.actionAPI,l,"INLINE_QUESTION_ATTEMPT_PARTIALLY_CORRECT",k)}).on(CategoryCardEvents.onIncorrect,function(b,c){k.actionAPI.onElementQuestionSubmittedEvent.call(k.actionAPI,l,"INLINE_QUESTION_INCORRECT",k)}).on(CategoryCardEvents.onAttemptIncorrect,function(b,c){k.actionAPI.onElementQuestionSubmittedEvent.call(k.actionAPI,
l,"INLINE_QUESTION_ATTEMPT_INCORRECT",k)}).on(CategoryCardEvents.onRetry,function(b,c){k.actionAPI.onElementQuestionSubmittedEvent.call(k.actionAPI,l,"INLINE_QUESTION_RETRIED",k)});q.CategoryCards("start")}}if("imageMap"==c.elementtype)return requirejs(["imageMap","questionElement"],function(){if(!settings.imageMapColourCorrect){var b=$("\x3cdiv class\x3d'marker correct' style\x3d'visibility:none;'\x3e\x3c/div\x3e").appendTo(q.parent());settings.imageMapColourCorrect=b.css("background-color");b.remove()}settings.imageMapColourIncorrect||
(b=$("\x3cdiv class\x3d'marker incorrect' style\x3d'visibility:none;'\x3e\x3c/div\x3e").appendTo(q.parent()),settings.imageMapColourIncorrect=b.css("background-color"),b.remove());var h=function(){q.ImageMap({outline:c,mapFillColour:{correct:settings.imageMapColourCorrect.replace("rgb","rgba").replace(")",", 0.3)"),incorrect:settings.imageMapColourIncorrect.replace("rgb","rgba").replace(")",", 0.3)")},mapStrokeColour:{correct:settings.imageMapColourCorrect,incorrect:settings.imageMapColourIncorrect},
autoPosition:settings.responsive,strings:{next:DKI.strings.index.nextButtonLabel,previous:DKI.strings.index.previousButtonLabel,finish:DKI.strings.endMod.learningLinkLabel,correct:DKI.strings.doc["Correct choice label"].replace(/(\s)*\:(\s)*/,""),incorrect:DKI.strings.doc["Feedback incorrect attempt"]}});k.setLabelWrapperPosition(l);W(l,p,q)};if(q.find("img").prop("complete"))h();else q.find("img").on("load",function(){h()})}),!1;if("matchingQuestion"==c.elementtype)return requirejs(["matchingQuestion"],
function(){requireFns.getFlickity(function(){q.MatchingQuestion({outline:c,accessible:!0,strings:{next:DKI.strings.index.nextButtonLabel,previous:DKI.strings.index.previousButtonLabel,finish:DKI.strings.endMod.learningLinkLabel,correct:DKI.strings.doc["Correct choice label"].replace(/(\s)*\:(\s)*/,""),incorrect:DKI.strings.doc["Feedback incorrect attempt"]}});W(l,p,q)})}),!1;if("sequencingQuestion"==c.elementtype)return requirejs(["sequencingQuestion","questionElement"],function(){q.SequencingQuestion({outline:c,
strings:{next:DKI.strings.index.nextButtonLabel,previous:DKI.strings.index.previousButtonLabel,finish:DKI.strings.endMod.learningLinkLabel,correct:DKI.strings.doc["Correct choice label"].replace(/(\s)*\:(\s)*/,""),incorrect:DKI.strings.doc["Feedback incorrect attempt"]}});W(l,p,q)}),!1;settings.enablePlugins&&""!=c.parameters.plugin.fn&&(Y={element:c,wrapper:l,content:q},c.parameters.plugin.extraContent&&$.each(c.parameters.plugin.extraContent,function(b,c){eval(c.processFn);processFn(Y)}),q[c.parameters.plugin.fn]($.parseJSON(c.parameters.plugin.config)));
"imageGallery"==l.data("type")&&$(".dki-element-content",m).owlCarousel($.parseJSON(c.parameters.config.options));if(0<l.find(".owl-carousel").length)l.find(".owl-carousel").on("initialized.owl.carousel resized.owl.carousel",this.resizeCarousels);W(l,p,q)};var m=function(){$(".dki-authoring-element",$(h.pageContainer).find(".pageElementsWrapper:not(.design-layout)")).each(function(){var b=this,c=function(b){h.processElement(b,function(){if(DKI.renderService.state.typeConfig[b.elementtype].fullDomSubElements)for(var h=
0;h<b.elements.length;h++)c(b.elements[h])})},k=h.getClaroElementById($(this).data("id"));c(k);$(this).find(".dki-citation-link sup.refSup").on(settings.clickEvent,function(b){DKI.reference.showReference(b.target.parentNode);return!1});$(this).find(".dki-glossary-link").on(settings.clickEvent,function(b){DKI.glossary.clearTermsUsageForAutolinkFirstMapped();$(this).closest(".capture").length&&$(this).closest(".capture").hasClass("capture-fullscreen-overflow")?DKI.glossary.showPopup.call(this,[b],$(this).closest(".dki-capture-element")):
DKI.glossary.showPopup.call(this,[b]);return!1});$(this).off(DKI.ContentPage.events.elementReviewClicked).on(DKI.ContentPage.events.elementReviewClicked,function(b,c){$(document).trigger(DKI.ContentPage.events[c.type||"elementReview"],{outline:h.getClaroElementById($(this).data("id")),domEl:$(this),extraContent:c.extraContent||""})});$(this).find(".element-feedback .comment").off(settings.clickEvent).on(settings.clickEvent,function(){$(b).trigger(DKI.ContentPage.events.elementReviewClicked,{type:"elementReview"});
return!1});$(this).find(".element-feedback .new").off(settings.clickEvent).on(settings.clickEvent,function(c,h){$(b).trigger(DKI.ContentPage.events.elementReviewClicked,{type:"elementReviewComment",extraContent:h});return!1});$(this).find(".element-feedback .accessibility").off(settings.clickEvent).on(settings.clickEvent,function(){$(b).trigger(DKI.ContentPage.events.elementAccessibilityClicked,{outline:h.getClaroElementById($(this).closest(".dki-authoring-element").data("id")),domEl:$(this)});return!1})})};
if(this.readyFired)m();else $(document).one(DKI.ContentPage.events.afterReady,m);$(this.pageContainer).on("mouseenter",".dki-citation-link sup.refSup",function(b){DKI.reference.hoverReference(b.target.parentNode,!0)});$(this.pageContainer).on("mouseleave",".dki-citation-link sup.refSup",function(b){0==$(b.relatedTarget).parents("#referencePopup").length&&DKI.reference.hoverReference(b.target.parentNode,!1)});$(this.pageContainer).on("focus",".tableFocusCatcher",function(b){var c=$("[tabindex\x3d1]",
this.pageContainer),h=c.index(this);c.index(b.relatedTarget)<h?c.eq(h+1).focus():c.eq(h-1).focus()});$(".dki-videoembed-element object, .dki-chart-element object, .dki-flash-element object",this.pageContainer).each(function(){if(dkiUA.ie)b={parentNode:this.parentNode,objTag:$(this.parentNode).html()},$(this).detach();else var b={parentNode:this.parentNode,objTag:$(this).detach()};h.objectTags.push(b)});c.player.behaviour&&c.player.behaviour.suppressAltTags&&$(".dki-authoring-element *[alt!\x3d''], .dki-authoring-element *[title!\x3d'']",
this.pageContainer).each(function(){var b=$(this);b.hasClass("dki-element-anchor")||b.removeAttr("alt").removeAttr("title")});for(var w in DKI.ContentPage.events)$(this.pageContainer).off(DKI.ContentPage.events[w]);this.settings.scrolling&&($(this.pageContainer).on(DKI.ContentPage.events.shown,function(){h.resize()}),$(this.pageContainer).on(DKI.ContentPage.events.hidden,function(){h.resize()}));$(".dki-authoring-group",this.pageContainer).each(function(){var b=$(this),c=h.getGroupById(b.data("id"));
b.data("start_class",b.attr("class"));b.data("start_style",b.attr("style"));if(settings.enablePlugins&&""!=c.parameters.plugin.fn)b[c.parameters.plugin.fn]($.parseJSON(c.parameters.plugin.config))});$(document).on("click",".tooltipster-capture .dki-glossary-link",function(){$(this).closest(".capture").length&&$(this).closest(".capture").hasClass("capture-fullscreen-overflow")?(DKI.glossary.showPopup.call(this,[e],$(this).closest(".dki-capture-element")),$(this).closest(".dki-capture-element").data("cap").setPause(!0)):
DKI.glossary.showPopup.call(this,[e]);return!1});$(".dki-text-tooltip",this.pageContainer).each(function(){var b=$(this);DKI.makeFocusable(b,!0);b.tooltipster({functionReady:function(c,h){c=$(h.tooltip);b.attr("aria-haspopup","dialog").attr("role","link").attr("aria-describedby",c.attr("id"));c.attr("role","tooltip");c.append($("\x3cdiv/\x3e",{"class":"tooltip-branding",css:{"background-color":b.css("color")}}))},functionPosition:function(b,c,h){1!=settings.scale&&(b=h.coord.top/settings.scale,c=
h.target/settings.scale,h.coord.left/=settings.scale,h.coord.top=b,h.target=c);return h},content:$("\x3cdiv/\x3e").html(b.data("tooltip-text")).text(),contentAsHTML:!0,trackOrigin:!0,theme:"tooltipster-branded-big",trigger:"custom",maxWidth:400,distance:15});var c=!1,h=function(){b.tooltipster("open");c=!0},k=function(){b.tooltipster("close");c=!1};b.click(function(b){h()});b.hover(h,k);b.focus(function(b){c||h()});b.blur(function(b){k()});b.keydown(function(b){c&&27==b.keyCode&&k()})});var v=0,z=
$(this.pageContainer).find("img").on("load error",function(){v++;v==z&&(h.resizeSections(),h.resizeCarousels(),h.resizeTabs())}).length;setTimeout(function(){v!=z&&(h.resizeSections(),h.resizeTabs())},1E3);dkiUA.mobile||this.fireReady();h.resizeSections();h.resizeSvgs();h.resizeTabs()};x.prototype.renderPage=function(){DKI.glossary.clearTermsUsageForAutolinkFirstMapped();$(this.pageContainer).html(DKI.renderService.renderPage(this.page,this.settings.course))};x.prototype.setMinHeight=DKI.func.debounce(function(b,
c){b=b?b:this.pageContainer;c=c?c:$(b).height();$(b).css("min-height","").css("min-height",c);Waypoint.refreshAll()},100);x.prototype.setAudio=function(b){m.setAudio(b,this)};x.prototype.pauseAll=function(){m.pauseAll(this)};x.prototype.resumeAll=function(){m.resumeAll(this)};x.prototype.resize=function(){$(document).trigger(DKI.ContentPage.events.resize,this.getScrollHeight())};x.prototype.getContentHeight=function(){var b=$(this.pageContainer).offset(),c=0;$(".dki-authoring-element",this.pageContainer).each(function(){var h=
$(this);h.is(":visible")&&(c=h.offset().top-b.top+h.height())});return c};x.prototype.getScrollHeight=function(){var b=$(this.pageContainer).offset(),c=this.settings.courseHeight;$(".dki-authoring-element",this.pageContainer).each(function(){var h=$(this);h.is(":visible")&&(h=h.offset().top-b.top+h.height(),h>c&&(c=h))});return c};x.prototype.start=function(b,c){var h=function(){var b=this,h=!1;if($(b.pageContainer).find(".pageElementsWrapper").data("pageid")==this.page.id){b.started=!0;b.startTime=
(new Date).getTime();b.resize();b.pageStartVariables={};var k=window.setTimeout(function(){b.showLoader()},200);$(document).one(DKI.ContentPage.events.loadFinished,function(c,h){clearTimeout(k);b.hideLoader();c=0;$("html").hasClass("csstransitions")&&(c=b.getPageTransitionTime());var l=!1;(player.isSinglePage||b.page.id==h.page.id)&&setTimeout(function(){$.each(b.autoPlayMedia,function(b,c){if(c.hasClass("dki-videoplaylist"))c.on("play",function(){l=!1});else c.bind($.jPlayer.event.play,function(){l=
!1})});l=m.startAutoPlay(b);setTimeout(function(){if(l){var c=$(".disablerWrapper:visible").data("disablerObj");if(!c||1!=b.autoPlayMedia.length||c.autoPlayMediaId!=b.autoPlayMedia[0].attr("id")){var h=new DKI.disabler({text:'\x3cdiv role\x3d"button" class\x3d"disabler-play"\x3e'+player.strings.autoPlayDisabler+"\x3c/div\x3e",textTagType:"span",title:player.strings.autoPlayDisabler,onClick:function(c){c.hide();m.startAutoPlay(b)}});h.autoPlayMediaId=b.autoPlayMedia[0].attr("id");var k=function(){h.hide()};
$.each(b.autoPlayMedia,function(b,c){if(c.hasClass("dki-videoplaylist"))c.on("play",function(){h.hide()});else c.bind($.jPlayer.event.play,k)});c&&c.hide();h.show();$(document).on(DKI.ContentPage.events.started,function(c,h){h.page.id!=b.page.id&&k()})}}},750);b.setAudio(player.audio)},c)});this.queue.queue({name:"loadFinished",callback:$.proxy(function(){$(document).trigger(DKI.ContentPage.events.loadFinished,b)},this)},b.page.id);u.start(b);var l=function(c,h){var k=$("#content_"+c.data("id"),c);
c.first(".dki-authoring-content-wrapper");var l=c.find(".dki-element-anchor:first"),m=b.getClaroElementById(c.data("id")),n=!c.hasClass("dki-contentCarousel-element")&&0<c.closest(".dki-contentCarousel-element").length,p=n?-1:l.data("tabindex")||-1;$("iframe",c).each(function(){"videoPlaylist"!==c.data("type")&&($(this).attr("data-src")||$(this).attr("data-src",this.src),c.is(":visible")?this.src=$(this).attr("data-src"):this.src="about:blank")});c.data("accessibility-tabable")&&$("object.dki-element-content, iframe.dki-element-content, textarea.dki-element-content, map area, .dki-element-content iframe:first, .dki-element-content object:first, img.dki-element-content#content_"+
c.data("id")+", .btn.dki-element-content",c).each(function(){DKI.makeFocusable($(this),p)});if(c.hasClass("dki-tab-element")||c.hasClass("dki-table-element")||c.hasClass("dki-htm-element")||c.hasClass("dki-plainText-element")||c.hasClass("dki-tab-element")&&dkiUA.ie||c.hasClass("dki-panelHeader-element")||c.hasClass("dki-panelFooter-element")||c.hasClass("dki-questionBody-element")||c.hasClass("dki-questionOpening-element")||c.hasClass("dki-tileCardTitle-element")||c.hasClass("dki-tileCardSubtitle-element"))c.hasClass("dki-panelHeader-element")||
c.hasClass("dki-tab-element")||(n?(k.attr({tabindex:p,"aria-hidden":"false"}),k.find(".dki-element-content").attr({"aria-hidden":"false"})):(DKI.makeFocusable(k,p),k.find("table.table").attr({"aria-hidden":"false"}))),$("a, .dki-glossary-link, .dki-citation-link sup.refSup, img",k).each(function(){DKI.makeFocusable($(this),p)}),$(".dki-glossary-link, .dki-citation-link sup.refSup",k).each(function(){$(this).attr({role:"button","aria-haspopup":"dialog"})});if(m.parameters.config.variable_id&&""!=m.parameters.config.variable_id){var q=
m.parameters.config.variable_id;b.pageStartVariables[q]=contentApi.getData(q)}""==m.parameters.accessibility.text&&(n?l.attr({tabindex:"-1","aria-hidden":"false"}):DKI.makeFocusable(l,!1));if(c.hasClass("dki-tab-element")||c.hasClass("dki-panelHeader-element")||c.hasClass("dki-panelFooter-element"))l.removeAttr("tabindex"),l.removeAttr("aria-hidden");m.parameters.accessibility.tabable&&!n&&("speechBubble"==m.elementtype||"label"==m.elementtype||"icon"==m.elementtype?DKI.makeFocusable(k.find(".dki-element-text"),
!0):"marker"==m.elementtype&&DKI.makeFocusable(l,!0));if("image"==m.elementtype){for(var q="",r=0;r<m.elements.length;r++)"label"==m.elements[r].elementtype&&(""!=q&&(q+=" "),q+="content_"+m.elements[r].id);k.attr("aria-labelledby",q);m.parameters.accessibility.tabable?n?k.attr({"aria-hidden":"false",alt:""!=m.txt?m.txt:null}):DKI.makeFocusable(k,!0):(DKI.makeFocusable(k,!1),k.attr("alt",null))}"svg"==m.elementtype&&(m.parameters.accessibility.tabable||n||(DKI.makeFocusable(k,!1),DKI.makeFocusable(l,
!1)),DKI.makeFocusable(k.find("svg, svg *"),!1));m.parameters.accessibility.tabable&&!n&&""==m.parameters.accessibility.text.toString().trim()&&"marker"!=m.elementtype&&"tab"!=m.elementtype&&"btn"==m.elementtype&&(DKI.makeFocusable(l,!1),DKI.makeFocusable(k,!0));"zoomRegion"==c.data("type")&&c.is(":visible")&&contentApi.zoomToElement(c.data("id"),b,0);"textbox"!=m.elementtype&&"freeFormOption"!=m.elementtype||""==m.parameters.config.variable_id||(k.val(contentApi.getData(m.parameters.config.variable_id)),
k.attr("data-variable-id",m.parameters.config.variable_id));"likedislike"==m.elementtype&&(k.find("i").removeClass("toggled").enable(),n=contentApi.getData("likedislike_"+contentApi.getData("sys.currentpage.id",!0),!0),"like"==n?(k.find(".fa-thumbs-up").addClass("toggled"),k.find("i").disable()):"dislike"==n&&(k.find(".fa-thumbs-down").addClass("toggled"),k.find("i").disable()));"input"==m.elementtype&&""!=m.parameters.config.variable_id&&(r=k.find("input"),r.val(contentApi.getData(m.parameters.config.variable_id)),
r.attr("data-variable-id",m.parameters.config.variable_id));if("radioGroup"==m.elementtype){DKI.makeFocusable($("input",k),p);for(var n=function(c,h,k,l){l||contentApi.setData(c,k,!1,!0,{text:h});setVariableText(c,h,b);setVariableText(c+"_text",h,b)},q="",r=m.parameters.config.variable_id,v=r.split(","),r=0;r<v.length;r++)if(-1==v[r].indexOf("_text")){q=v[r];break}""!=q&&(r=k.find("input[value\x3d'"+contentApi.getData(q)+"']"),v=k.find("label[for\x3d'"+r.attr("id")+"']"),r.prop("checked",!0),v.addClass("active"),
k.attr("data-variable-id",q));k.find("input:checked").length&&""!=q&&(v=contentApi.getData(q),r=k.find("input[value\x3d'"+contentApi.getData(q)+"']"),r=k.find("label[for\x3d'"+r.attr("id")+"']")[0].innerText,n(q,r,v))}"toggle"==m.elementtype&&(""==m.meta&&DKI.makeFocusable(l,!1),$("label",k).attr("role","checkbox").attr("aria-checked",!1),DKI.makeFocusable($("label",k),p),""!=m.parameters.config.variable_id&&(k.find("input").prop("checked",contentApi.getData(m.parameters.config.variable_id)),k.attr("data-variable-id",
m.parameters.config.variable_id),$("label",k).attr("aria-checked",contentApi.getData(m.parameters.config.variable_id))));if("selection"==m.elementtype){n=function(c,h,k,l){l||contentApi.setData(c,k,!1,!0,{text:h});setVariableText(c,h,b);setVariableText(c+"_text",h,b)};q="";r=m.parameters.config.variable_id;v=r.split(",");for(r=0;r<v.length;r++)if(-1==v[r].indexOf("_text")){q=v[r];break}""!=q&&(r=contentApi.getData(q),k.find("button .selectedCont").html(k.find("li a[data-val\x3d'"+r+"']").html()),
k.data("val",r),k.attr("data-variable-id",q),v=contentApi.getData(q),r=k.find("li a[data-val\x3d'"+r+"']").text(),n(q,r,v))}"marker"==c.data("type")&&(n="hover",m.parameters.config&&m.parameters.config.trigger&&(n=m.parameters.config.trigger),""==m.meta||"custom"!=n||!c.is(":visible")||c.hasClass("hiddenOnLoad")||c.hasClass("hiddenUntilInView")||0!=c.closest(".flipCardPanel.face:not(.active)").length||0!=c.closest(".flickity .dki-panel-element.contentContainer:not(.is-selected)").length||k.tooltipster("open"));
if("progress"==c.data("type")||"radialGauge"==c.data("type")){var q=m.parameters.config.max,n=m.parameters.config.current,q="string"==typeof q?contentApi.getData(q):parseInt(q,10),n="string"==typeof n?contentApi.getData(n):parseInt(n,10),u=n/q*100,u=parseFloat(u.toFixed(2),10);"radialGauge"==c.data("type")?c.find(".radial").data("dki.RadialGauge")?c.find(".radial").RadialGauge("setRotation",u,function(b,c){isNaN(parseInt(m.parameters.config.current,10))||(m.parameters.config.current=c.state.current);
contentApi.setData(m.parameters.config.variable_id,u)}):b.processElement(c):(DKI.makeFocusable(k,p),c.find(".progress-bar").css(m.parameters.config.dim,u+"%"),c.find(".progress-bar").attr("aria-valuenow",u),c.find(".progress-bar").attr("aria-valuetext",u+"%"),c.find(".progress-bar-display, .sr-only").html(Math.floor(u)+"%"))}"contentCarousel"==c.data("type")&&(k.attr({tabindex:"-1","aria-hidden":"false"}),c.find(".flickity-slider\x3e.dki-panel-element\x3e.dki-authoring-content-wrapper\x3e.dki-element-content").attr({tabindex:p,
"aria-hidden":"false"}),c.find(".flickity").attr({tabindex:-1,"aria-hidden":"false"}),DKI.makeFocusable(c.find(".element-feedback"),!1),c.find(".flickity.flickity_autoPlay").flickity("playPlayer"));"timeline"==c.data("type")&&(m.parameters.config.enableEntrance?b.wayPoints=b.wayPoints.concat($(".cd-timeline-block",c).waypoint(DKI.apply(DKI.ContentPage.waypointDefaults,{handler:function(h){"down"==h?($(this.element).find(".cd-timeline-img, .cd-timeline-content").removeClass("is-hidden").addClass("bounce-in"),
b.actionAPI.onContentChangedEvent.call(b.actionAPI,c,b)):$(this.element).find(".cd-timeline-img, .cd-timeline-content").addClass("is-hidden").removeClass("bounce-in")},offset:"90%",context:c.closest(".fancybox-content")[0]||window}))):b.actionAPI.onContentChangedEvent.call(b.actionAPI,c,b));"capture"==c.data("type")&&(c.data("slidesViewed",[]),c.capture("setWaypoints"));"timer"==c.data("type")&&(n=m.parameters.config.timeLimit,n="string"===typeof n?contentApi.getData(n):parseInt(n,10),c.data("timer").timer.timeLimit=
n,c.data("timer").setTime(m.parameters.config.clockCfg.countdown?n/1E3:0),q="MinuteCounter",36E5<=n&&(q="HourCounter"),c.data("timer").loadClockFace(q,null,!0,!0),m.parameters.config.clockCfg.countdown&&(c.data("timer").timer.factory.original=n/1E3),m.parameters.config.autoStart&&c.data("timer").start());"matchCardSet"==c.data("type")&&(c.find(".match_hidden").removeClass("match_hidden"),c.trigger("match.resizeImmediate"),m.parameters.config.startShown&&(c.data("fromFirstVisibleFlip",!0),c.find(".match_manual_start").addClass("show center nobg").attr("aria-hidden",
!1).find(".match_manual_start_container").html("\x3cdiv role\x3d'button' tabindex\x3d'1' class\x3d'btn btn-primary start' style\x3d'font-size:1.3em; padding: 20px; border-radius: 3px;'\x3eStart\x3c/div\x3e"),c.find(".match_manual_start_container").StayInView({scrollParent:c.find(".match_manual_start")}),c.find(".cardsContainer").attr("aria-hidden",!0).find(".front").attr("tabindex","-1"),c.find(".flipSet").addClass("locked delayStart").one("click",".start",$.proxy(function(){var b=$(this).find(".flip");
c.find(".match_manual_start").attr("aria-hidden",!0).removeClass("show center nobg").find(".match_manual_start_container").html("").StayInView("destroy");b.flip(!0);setTimeout(function(){b.one("flip:done",function(h,k){c.data("fromFirstVisibleFlip")&&(DKI.makeFocusable($(this).find(".front"),!0),$(this).is(b.last())&&(c.find(".cardsContainer").attr("aria-hidden",!1),setTimeout(function(){b.first().find(".front")[0].focus()},0),c.data("fromFirstVisibleFlip",!1)))}).flip(!1);c.find(".flipSet").removeClass("locked")},
3E3)},c))));"flashCardSet"==c.data("type")&&c.find(".flickity-carousel").data("resize")();"videoPlaylist"==c.data("type")&&c.find(".dki-element-content").VideoPlaylist("sizeVideo");"scenario"==c.data("type")&&c.is(":visible")&&(c.find(".dki-element-content").Scenario("sceneWindowResize"),c.find(".dki-element-content").Scenario("start"));"list"==c.data("type")&&(DKI.makeFocusable(k,p).attr({role:"list"}),DKI.makeFocusable(l,""!=m.parameters.accessibility.text),$("li",k).attr("role","listitem"));"slider"==
c.data("type")&&(n=m.parameters.config.noUISlider.start,m.parameters.config.variable_id&&(n=contentApi.getData(m.parameters.config.variable_id),$(".slider",k)[0].noUiSlider.set(n)),$(".sliderLabel",k).attr("id",c.attr("id")+"_sliderLabel"),DKI.makeFocusable($(".slider",k),p).attr({role:"slider","aria-valuemin":m.parameters.config.noUISlider.range.min,"aria-valuemax":m.parameters.config.noUISlider.range.max,"aria-valuenow":n,"aria-labelledby":c.attr("id")+"_sliderLabel"}));"hotspot"==m.elementtype&&
l.attr("role","button");"tileCard"==m.elementtype&&(l=contentApi.getData(m.parameters.config.variable_id),n=c.find(".tileCard").data("visitedIcon"),q=c.find(".dki-icon-element i"),r=q.data("class"),l?q.addClass(n).removeClass(r):q.addClass(r).removeClass(n));"categoryCards"==m.elementtype&&k.CategoryCards("elementStart");"multipleChoiceQuestion"!=m.elementtype&&"trueFalseQuestion"!=m.elementtype&&"multiplePulldownQuestion"!=m.elementtype&&"fillInTheBlanksQuestion"!=m.elementtype&&"clickTheWordQuestion"!=
m.elementtype&&"dragTheWordQuestion"!=m.elementtype&&"matchingQuestion"!=m.elementtype&&"sequencingQuestion"!=m.elementtype&&"imageMap"!=m.elementtype||k.QuestionElement("elementStart");b.scaleElementChildren(m);h&&b.queue.dequeue({name:"loadFinished",id:c.attr("id")+"_element"})};$(".pageElementsWrapper:not(.design-layout) .dki-authoring-element, .pageElementsWrapper:not(.design-layout) .dki-authoring-element-element",b.pageContainer).each(function(){var c=$(this);c.data("elementLoaded")?l(c):(h=
!0,b.queue.queue({name:"loadFinished",id:$(this).attr("id")+"_element"}),c.off("elementLoaded").on("elementLoaded",function(){l(c,!0)}))});$(this.pageContainer).find(".dki-flipCard-element .dki-element-content .flip *[tabindex]:not(.flipCardPanel), .dki-flipCard-element .dki-element-content .flip a").attr("tabindex","-1").data("tabindex","-1").attr("aria-hidden","false");$(this.pageContainer).find("a.accordion-toggle div.dki-element-anchor").attr({tabindex:"-1","aria-hidden":"false"});$(this.pageContainer).find("a.accordion-toggle .dki-tab-element .dki-element-content").attr({tabindex:"-1",
"aria-hidden":"false"});$(this.pageContainer).find(".panel-collapse").attr("aria-label"," ");for(var r=0;r<b.objectTags.length;r+=1)dkiUA.ie?$(b.objectTags[r].parentNode).html(b.objectTags[r].objTag):b.objectTags[r].objTag.appendTo(b.objectTags[r].parentNode);$(".dki-image-element[data-extension\x3d'gif'] img",this.pageContainer).each(function(){this.src=$(this).attr("data-src")+"?rand\x3d"+Math.floor(500*Math.random())});dkiUA.iOS&&$(this.pageContainer).find(".dki-video-element .dki-element-content[data-autoplay\x3d'true'] video").attr("autoplay",
"");dkiUA.ie&&8>=dkiUA.ieVersion&&q.init(b);$("img",b.pageContainer).each(function(){if(!$(this).attr("src")&&!$(this).data("src"))return!0;$(this).prop("complete")||(h=!0,$(this).uniqueId(),b.queue.queue({name:"loadFinished",id:$(this).attr("id")}),$(this).on("load error",function(){b.queue.dequeue({name:"loadFinished",id:$(this).attr("id")})}))});dkiUA.iOS||$("video",b.pageContainer).each(function(){$(this).uniqueId();3>this.readyState&&(h=!0,b.queue.queue({name:"loadFinished",id:$(this).attr("id")}),
$(this).on("canplay",function(){b.queue.dequeue({name:"loadFinished",id:$(this).attr("id")})}))});h||$(document).trigger(DKI.ContentPage.events.loadFinished,b);u.checkBreakPointThreshold("breakpoint",b);u.checkDeviceAdaptation("device",b);b.resizeSections();b.reCalculateMediaControls();b.resizeSvgs();b.resizeCarousels();b.resizeTabs();b.resizeDropTargets();b.resizeSelectionDropdowns();b.repositionMultiplePulldownQuestion();c||$(document).trigger(DKI.ContentPage.events.started,b)}};this.isStandalonePage||
contentApi.hideAllPopups(!0);var w=this,v=0;b?v=b:$("html").hasClass("csstransitions")&&(v=this.getPageTransitionTime());v+=settings.pageStartDelay;$(w.pageContainer).css("transition-duration",v+"ms").removeClass($(w.pageContainer).data("current_player_background")).addClass(w.page.parameters.player_background).data("current_player_background",w.page.parameters.player_background);0==w.autoPlayMedia.length||l.canAutoplay()?(u.updateInlineVariables(w.pageContainer),setTimeout(function(){h.call(w)},
v)):h.call(w);settings.responsive&&($(".pageElementsWrapper .dki-image-element img",w.pageContainer).on("load error",function(){var b=$(this).closest(".dki-image-element");w.setLabelWrapperPosition(b);var c=b.data("resizeMap",$.proxy(function(){var c=this.find("map");if(c.length){var h=c.data("asset-width"),k=b.find("img").width(),l=1-(h-k)/h;c.find("area").each(function(){for(var b=$(this).data("coords").split(","),c=0;c<b.length;c++)b[c]=parseInt(b[c],10)*l;this.coords=b.join(",")})}},b)).data("resizeMap");
"function"===typeof c&&c()}).each(function(){this.complete&&$(this).load()}),$(".pageElementsWrapper .dki-video-element",w.pageContainer).each(function(){w.setLabelWrapperPosition($(this))}))};x.prototype.reset=function(b){b=DKI.applyIf(b?b:{},{timeout:0,fromAction:!1});var c=this;$(".dki-marker-element",c.pageContainer).each(function(){var b=$(this);if("marker"==b.data("type")&&""!=b.data("meta")){var c=b.find(".dki-element-content"),h=c.tooltipster("option","animation");c.tooltipster("option","animation",
!1).tooltipster("close",function(){c.tooltipster("option","animation",h)})}});$(".dki-text-tooltip",c.pageContainer).tooltipster("close");var h=function(){if($(c.pageContainer).find(".pageElementsWrapper").data("pageid")==c.page.id){c.started=!1;c.startTime=0;m.stopAll(c,b.fromAction);this.contentPage&&this.contentPage.randomizeOptions&&this.contentPage.randomizeOptions();var h=$(".dki-authoring-element,.dki-authoring-element-element",c.pageContainer);$(c.pageContainer).trigger(DKI.ContentPage.events.reset);
u.reset(c,b.fromAction);$(".dki-authoring-group",c.pageContainer).each(function(){var b=$(this);c.getGroupById(b.data("id"));b.attr("class",b.data("start_class"));b.attr("style",b.data("start_style"))});h.each(function(){var b=$(this),h=b.first(".dki-authoring-content-wrapper"),k=$("#content_"+b.data("id"),this),l=c.getClaroElementById(b.data("id"));b.stop(!0,!0);b.removeAttr("data-viewed");c.settings.responsive||(b.css("left",b.data("x")+"px"),b.css("top",b.data("y")+"px"));$("iframe",this).each(function(){"videoPlaylist"!==
b.data("type")&&($(this).attr("data-src")||$(this).attr("data-src",this.src),this.src="about:blank")});$("object.dki-element-content, iframe.dki-element-content, textarea.dki-element-content, map area, .dki-element-content iframe:first, .dki-element-content object:first, img.dki-element-content, .btn.dki-element-content",this).each(function(){this.tabIndex=-1});"html"==$(this).data("type")&&k.hasClass("adaptive")&&$(this).data("resizeInterval")&&(clearInterval($(this).data("resizeInterval")),$(this).data("resizeInterval",
null));"multipleChoiceQuestion"!=$(this).data("type")&&"trueFalseQuestion"!=$(this).data("type")&&"multiplePulldownQuestion"!=$(this).data("type")&&"fillInTheBlanksQuestion"!=$(this).data("type")&&"clickTheWordQuestion"!=$(this).data("type")&&"dragTheWordQuestion"!=$(this).data("type")&&"sequencingQuestion"!=$(this).data("type")&&"imageMap"!=$(this).data("type")&&"matchingQuestion"!=$(this).data("type")||$(this).find("#content_"+$(this).data("id")).QuestionElement("reset");"categoryCards"==$(this).data("type")&&
$(this).find("#content_"+$(this).data("id")).CategoryCards("reset");if("slider"==$(this).data("type")){var m=$(".slider",this);m[0]&&(m.data("automaticSet",!0),!player.isSinglePage&&dataStorage.getContentVariable(m.data("variable-id"))?m[0].noUiSlider.set(dataStorage.getContentVariable(m.data("variable-id"))):m.data("variable-id")?m[0].noUiSlider.set(contentApi.getData(m.data("variable-id"))):m[0].noUiSlider.set(l.parameters.config.noUISlider.start))}"contentCarousel"==b.data("type")&&(b.find(".flickity.flickity_autoPlay").flickity("stopPlayer"),
b.find(".flickity").flickity("selectCell",0),b.find(".flickity-page-dots li.dot:not(.is-selected)").attr("data-visited","false"));"timer"==b.data("type")&&b.data("timer").stop(function(){b.data("timer").reset()});"matchCardSet"==b.data("type")&&b.trigger("match.reset");"flipCardSet"==b.data("type")&&b.data("DKFlipCardSet").reset();"scenario"==$(this).data("type")&&$(this).find(".dki-element-content").Scenario("reset");if("tabset"==$(this).data("type")){l=c.getClaroElementById($(b).data("id"));$(b).find("a[data-viewed\x3d'true']").data("viewed",
"");$(b).find(".dki-authoring-content-wrapper\x3e.dki-element-content \x3e .tabbable \x3e .tab-content \x3e .tab-pane.active, .dki-authoring-content-wrapper\x3e.dki-element-content \x3e .tabbable \x3e ul \x3e li").removeClass("active");$(b).find(".dki-authoring-content-wrapper\x3e.dki-element-content \x3e .tabbable \x3e .panel-group \x3e .panel \x3e .panel-collapse").trigger("hide.bs.collapse");var q="accordion"==l.parameters.config.orientation||b.find("\x3e.dki-authoring-content-wrapper\x3e.dki-element-content").hasClass("accordionPanel");
if(q){l=l.parameters.config.accordionStart;m=b.find(".panel-group\x3e.panel");"first"==l?m=m.slice(1):"open"==l&&(m=$());if("first"==l||"open"==l)b.find(".panel-group\x3e.panel"+("first"==l?":first":"")).addClass("expanded").find("\x3e.panel-collapse").trigger("show.bs.collapse").addClass("in"),b.find(".panel-group\x3e.panel"+("first"==l?":first":"")).find("\x3e.panel-heading .accordion-toggle").attr("data-viewed","true");m.removeClass("expanded").find(".panel-collapse").removeClass("in").trigger("hide.bs.collapse")}else l.parameters.config.startUnopened||
(firstTab=b.find(".nav \x3e li:first \x3ea"),firstTab.trigger("click.bs.tab.data-api"),b.data("currentTab",$(firstTab).data("id")),c.actionAPI.onContentChangedEvent.call(c.actionAPI,firstTab,c))}b.attr("class",b.data("start_class"));b.attr("style",b.data("start_style"));b.data("allViewed",!1);b.data("slidesViewed")&&b.data("slidesViewed",[]);"capture"==$(this).data("type")&&$(this).capture("reset",[!0]);"flashCardSet"==$(this).data("type")&&$(this).data("reset")&&$(this).data("reset")();h.attr("class",
h.data("start_class"));h.attr("style",h.data("start_style"));k.attr("class",k.data("start_class"));"tabset"==$(this).data("type")&&(q?k.addClass("accordionPanel"):k.removeClass("accordionPanel"));k.attr("style",k.data("start_style"))});u.checkBreakPointThreshold("breakpoint",c);u.checkDeviceAdaptation("device",c);$(".dki-videoembed-element object, .dki-chart-element object, .dki-flash-element object",c.pageContainer).each(function(){$(this).detach()});dkiUA.iOS&&$(this.pageContainer).find(".dki-video-element .dki-element-content[data-autoplay\x3d'true'] video").removeAttr("autoplay");
contentApi.zoomOut(c,0);c.actionAPI.resetWaypoints(c);c.readyFired=!1;c.fireReady()}};0<b.timeout?setTimeout(h,b.timeout):h()};x.prototype.scaleElementChildren=function(b){if(!settings.responsive)return!1;var c=this;if(settings.responsive&&("video"==b.elementtype||"image"==b.elementtype)){var h=function(b,h){var k=b.find("#content_"+b.data("id")),l=k.width()/k.data("assetwidth"),m=l;h=k.height();var q=k.width(),q=k.data("assetheight")*l;h>q?(k.css("aspect-ratio","auto"),q=k.width(),m=l=q/k.data("assetwidth"),
h=k.data("assetheight")*l,k.css("aspect-ratio","")):h=q;b.find(".dki-authoring-element-element").each(function(){var b=c.getClaroElementById($(this).data("id")),b=DKI.clone(b);b.$=$(this);b.$contentWrapper=$(this).find(".dki-authoring-content-wrapper");if(settings.elementTypeConfig[b.elementtype].scaleWhenStacked){b.$.css("width",b.width*l);b.$.css("height",b.height*m);if("icon"==b.elementtype){var h=b.$.find("i"),q=2*parseInt(b.$.find("#"+b.id+"_content_wrapper").css("padding"),10);h.css({height:b.height*
m-q,width:b.width*m-q,"font-size":b.height*m-q-2*parseInt(h.css("padding"),10)})}"svg"==b.elementtype&&b.$.find("svg").attr("width",b.width*m).attr("height",b.height*m);if(settings.elementTypeConfig[b.elementtype].scaleTextWhenStacked&&(h=parseFloat($("body").css("font-size"),10),q=b.$.find(".dki-element-text"),q.length)){q.css("font-size","");var r=parseFloat(q.css("font-size"),10),h=10<=h*l?l:10/h;1<h&&(h=1);q.css({"font-size":r*h})}$(this).css("transform-origin","center")}else settings.elementTypeConfig[b.elementtype].scaleTextWhenStacked&&
(b.$.find(".dki-element-text"),h=parseFloat($("body").css("font-size"),10),h=10<=h*l?l:10/h,1<h&&(h=1),q=(q=b.$contentWrapper.css("transform"))&&0<q.indexOf("scale")?q.replace(/scale\([^)]+\)/,"scale("+h+")"):"none"!==q&&q?q+" scale("+h+")":"scale("+h+")",b.$contentWrapper.css({transform:q,"transform-origin":0==b.rotation?"top left":""}),b.$.data("transformRatio",h));b.$.css("top",b.y/(k.data("assetwidth")/k.width()));b.$.css("left",b.x/(k.data("assetwidth")/k.width()))})},l=function(b){var k=$(".dki-authoring-element[data-id\x3d"+
b.id+"]",c.pageContainer);0==k.length&&(k=$(".dki-authoring-element-element[data-id\x3d"+b.id+"]",c.pageContainer));"video"==b.elementtype&&(300>k.width()?k.find(".jp-video").removeClass("vid-md vid-lg").addClass("vid-sm"):600>k.width()?k.find(".jp-video").removeClass("vid-sm vid-lg").addClass("vid-md"):k.find(".jp-video").removeClass("vid-sm vid-md").addClass("vid-lg"));for(var m=0;m<b.elements.length;m++){var q=$("#"+b.elements[m].id+"_wrapper");if(("marker"==b.elements[m].elementtype||"label"==
b.elements[m].elementtype||"speechBubble"==b.elements[m].elementtype||"image"==b.elements[m].elementtype||"hotspot"==b.elements[m].elementtype)&&"label"==b.elements[m].elementtype&&"none"!=b.elements[m].parameters.config.response){q.hasClass("tooltipstered")||q.tooltipster({content:b.elements[m].meta,contentAsHTML:!0,trigger:"click",maxWidth:400,theme:"tooltipster-branded-big",functionReady:function(b,c){$(c.tooltip).append($("\x3cdiv/\x3e",{"class":"tooltip-branding",css:{"background-color":content.find(".iconContainer i").css("background-color")}}))}});
var u=settings.flowBreakpoints[b.elements[m].parameters.config.response].to;$(window).width()<=u?q.tooltipster("enable").addClass("labelResponded"):q.tooltipster("disable").removeClass("labelResponded")}h(k,b.elements[m]);b.elements[m].elements&&l(b.elements[m])}};l(b)}};x.prototype.isPaused=m.isPaused;x.prototype.fireReady=function(){this.readyFired||(this.readyFired=!0,settings.responsive&&$(".dki-authoring-element",this.pageContainer).each(function(){var b=$(this).position();$(this).data("x",b.left).data("y",
b.top)}),$("html").hasClass("showAudioCaptions")&&($(".responsive .bgRepeater").css("overflow-y","initial"),$el=$("html.showAudioCaptions .dki-audio-closed-caption-container"),$el.css("display","none"),$el[0].offsetHeight,$el.css("display","")),$(document).trigger(DKI.ContentPage.events.ready,[this.page,this.pageContainer]),$(document).trigger(DKI.ContentPage.events.afterReady,[this.page,this.pageContainer,this]))};x.prototype.resizeCarousels=function(b){b=b?b:$(".flickity, .flip, .flickity-enabled",
this.pageContainer);b.each(function(){var b=$(this),c=b.data("vertical-alignment");b.find(".panel-collapse.collapse:not(.in)").css({height:"auto",display:"block",visibility:"hidden"});var h=b.find("\x3e .flickity-viewport \x3e .flickity-slider \x3e .dki-panel-element \x3e .dki-authoring-content-wrapper \x3e .dki-element-content \x3e .panel,\x3e .face \x3e .dki-panel-element \x3e .dki-authoring-content-wrapper \x3e .dki-element-content \x3e .panel");h.css({"padding-top":"","padding-bottom":""});h.find(".panel-body").css({"padding-top":"",
"padding-bottom":""});b.data("flickity")&&b.flickity("resize");var k=h.map(function(){return $(this).outerHeight()}),l=Math.max.apply(null,k);h.each(function(){var b=$(this).find(".panel-body:first"),h=b.css("height"),k=l-b.css("height","").outerHeight();$("body").hasClass("responsive")||b.css("height",h);0<k&&("top"==c?b.css({"padding-top":"","padding-bottom":parseInt(b.css("padding-bottom").split("px")[0],10)+k}):"bottom"==c?b.css({"padding-bottom":"","padding-top":parseInt(b.css("padding-bottom").split("px")[0],
10)+k}):b.css({"padding-top":parseInt(b.css("padding-top").split("px")[0],10)+k/2,"padding-bottom":parseInt(b.css("padding-bottom").split("px")[0],10)+k/2}))});b.find(".panel-collapse.collapse:not(.in)").css({height:"0px",display:"",visibility:""})})};x.prototype.resizeSvgs=function(){dkiUA.isIE()&&settings.responsive&&$(".dki-svg-element svg",this.pageContainer).each(function(){var b=this.attributes.viewBox.value.split(" "),b=b[3]/b[2],c=$(this).width();$(this).height(c*b)})};x.prototype.resizeTabs=
function(){var b=this;settings.responsive&&$($(".dki-tabset-element",this.pageContainer).get().reverse()).each(function(){var c=$(this),h=b.getClaroElementById(c.data("id"));if(h&&h.parameters.config.normalizeHeight){var l=c.find(".nav").outerHeight(),m=h.parameters.config.verticalMaxHeight;$(".tab-pane",c).each(function(){var b=$(this).css({width:"100%",height:"auto"});b.outerHeight()>l&&(l=b.outerHeight());b.css({width:"",height:""})});("vertical"==h.parameters.config.orientation||"vertical-right"==
h.parameters.config.orientation)&&""!=m&&l>DKI.getViewPortHeight(m)?(c.addClass("verticalMax"),c.find(".tab-content \x3e .tab-pane").addClass("dki-vpMinHeight-"+m),c.find(".tab-content \x3e .tab-pane").addClass("dki-vpMaxHeight-"+m)):(c.removeClass("verticalMax"),"accordion"==h.parameters.config.orientation||c.find("\x3e.dki-authoring-content-wrapper\x3e.dki-element-content").hasClass("accordionPanel")?c.find(".tab-content").css("min-height",l):c.find(".tab-content \x3e .tab-pane").css("min-height",
l))}})};x.prototype.resizeDropTargets=function(){$("div.dropTarget[data-height]",this.pageContainer).each(function(){var b=$(this);b.style("min-height",b.width()*b.data("height")/100+"px");if("undefined"!=typeof b.data("align")){b.css({"padding-top":""});var c=parseInt(b.css("padding-top").split("px")[0],10),h=b.find(".dropTargetTextWrapper").height(),l=parseInt(b.data("align"),10)/100,c=(b.height()-h)*l+c+"px";b.css("padding-top",c)}})};x.prototype.resizeSelectionDropdowns=function(){var b=this;
$(".dki-selection-element",this.pageContainer).each(function(){var c=$(this);c.find(".dropdown-menu").style("max-width",$(b.pageContainer).width()-c.offset().left-15+"px")})};x.prototype.resizeSection=function(b){b=$(b);if(b.hasClass("dki-section-height")){b.css({"padding-top":""});var c=parseInt(b.css("padding-top").split("px")[0],10);if(!b.hasClass("super-section")){var h=b.height(),l=0;b.find(".dki-authoring-row").each(function(){l+=$(this).height()});var m=parseInt(b.data("vertical-align"),10)/
100;b.css("padding-top",(h-l)*m+c+"px")}}else b.css({"padding-top":""})};x.prototype.resizeSections=function(){var b=this;$(".dki-iframe-element",this.pageContainer).each(function(){var b=$(this),c=b.data("height")/b.data("width")*100;b.find(".dki-authoring-content-wrapper").css("padding-bottom",c+"%")});var c=dkiUA.isIE()?"*":"[data-vertical-align\x3d'25'],.dki-authoring-section[data-vertical-align\x3d'75']";$(".dki-authoring-row.synchronize-heights",this.pageContainer).each(function(){var b=$(this);
synchonizeRowHeight(b)});$(".dki-authoring-section",this.pageContainer).each(function(){var h=$(this);h.is(c)&&b.resizeSection(this);h.hasClass("has-top-decoration")&&h.prev().addClass("before-decoration");h.hasClass("has-bottom-decoration")&&h.next().addClass("after-decoration");h.is(".super-section")&&(h.width(),h.find(".dki-authoring-group").each(function(){var b=$(this),c=b.find(".dki-authoring-group-elements-wrapper"),k=[{elements:[],tallest_height:0}],l=b.width(),m=0;c.css({"padding-top":"",
"padding-bottom":""});b.find(".dki-authoring-element").each(function(){var b=$(this);m+=b.width();m>l&&(k.push({elements:[],tallest_height:0}),m=b.width());b.height()>k[k.length-1].tallest_height&&(k[k.length-1].tallest_height=b.height());k[k.length-1].elements.push(b)});var p=0;$.each(k,function(){p+=this.tallest_height});var b=parseInt(h.data("vertical-align"),10)/100,b=(h.height()-p)*b,q=h.height()-p-b;c.css({"padding-top":b+"px","padding-bottom":q+"px"})}))});$(".dki-image-element img.dki-element-content, .dki-image-element canvas.dki-element-content",
this.pageContainer).maskImage({preserveAspectRatio:settings.responsive?!1:"none"});$(".dki-contentCarousel-element",this.pageContainer).each(function(){$(this).flickity&&$(this).find(".flickity-enabled").flickity("resize")})};x.prototype.onWindowScroll=function(b){var c=b?b.scrollTop:window.pageYOffset;$(".bg-parallax",this.pageContainer).each(function(){var b=.25*(c-$(this).offset().top);$(this).css("background-position-y",b)});$(".bg-parallaxer",this.pageContainer).each(function(){var b=.5*(c-$(this).offset().top);
$(this).css("background-position-y",b)});$(".bg-parallaxest",this.pageContainer).each(function(){var b=.814*(c-$(this).offset().top);$(this).css("background-position-y",b)})};x.prototype.setLabelWrapperPosition=function(b){var c=function(c,h){var l=b.data("id"),l=b.find("#content_"+l).width(),m=$("#"+b.data("id")+"_content_wrapper"),p="0%",q=0,r=0,u=parseFloat(b.find(".dki-authoring-content-wrapper").css("padding-left"),10),x=parseFloat(b.find(".dki-authoring-content-wrapper").css("padding-right"),
10);parseFloat(b.find(".dki-authoring-content-wrapper").css("padding-bottom"),10);var C=parseFloat(b.find(".dki-authoring-content-wrapper").css("padding-top"),10),I="video"==b.data("type");h&&(p="calc(0% + "+u+"px)");I&&(r=-1*C);m.hasClass("align-left")?I&&(q-=u):m.hasClass("align-center")?(p="50%",q=I?-1*(l/2+u):(l+u+x)/2*-1):m.hasClass("align-right")&&(p="100%",h&&(p="calc(100% - "+u+"px)"),q=I?-1*(l+u):-1*(l+u+x));c.css({top:r,left:p,"margin-left":q})};if("image"!=b.data("type")&&"video"!=b.data("type")||
!b.find("#content_"+b.data("id")).width()){var h=this;(c=h.getClaroElementById(b.find(".dki-authoring-element-element").data("id")))&&c.elements&&$.each(c.elements,function(){h.setLabelWrapperPosition($("#"+this.id+"_wrapper"));h.scaleElementChildren(this)})}else c(b.find(".dki-authoring-element-elements-wrapper"))};x.prototype.setTabsetTabSize=function(b){dkiUA.isIE()&&(b=b.find(".dki_chevron_tab \x3e ul.nav \x3e li"),resizeChevronTab=function(b,c){var h=$(b).find("a").first(),k=Math.min($(b).height(),
$(b).width())/4.75;h.css("padding-left",k-10);h.css("padding-right",k+5);1>c&&resizeChevronTab(b,c+1)},b.each(function(){$(this).find("a").first().css({"padding-left":"","padding-right":""});resizeChevronTab(this,0)}))};x.prototype.repositionMultiplePulldownQuestion=function(){if(settings.responsive){var b=$('.pageElementsWrapper .dki-authoring-element[data-elementtype\x3d"multiplePulldownQuestion"]',this.pageContainer),c=b.length;b.each(function(){$(this).css("z-index",c);c--})}};x.prototype.repositionElements=
function(){var b=this;$(".dki-authoring-element",this.pageContainer).each(function(){var c=function(c){c=$(c);var h=b.getClaroElementById(c.data("id"));if(h){"radialGauge"==c.data("type")&&c.find(".radial").RadialGauge("resize");if("image"==c.data("type")||"video"==c.data("type"))b.setLabelWrapperPosition(c),"image"==c.data("type")&&c.data("resizeMap")&&c.data("resizeMap")();"imageMap"==c.data("type")&&b.setLabelWrapperPosition(c);if("selection"==c.data("type")){var l=c.find(".dropdown-menu");c.offset().top+
c.outerHeight()+l.outerHeight()>$(b.pageContainer).innerHeight()?l.parent().addClass("dropup"):l.parent().removeClass("dropup")}"matchCardSet"==c.data("type")&&c.trigger("match.resize");"tabset"==c.data("type")&&b.setTabsetTabSize(c);b.scaleElementChildren(h)}};c(this);$.each($(this).find(".dki-authoring-element-element"),function(){c(this)})});this.repositionMultiplePulldownQuestion()};x.prototype.onWindowResize=function(){var b=this;u.checkBreakPointThreshold("breakpoint",this);this.repositionElements();
$(".pageBackground:visible",this.pageContainer).each(function(){var b=$(this).data("forPage"),b=$("#"+b,this.pageContainer).width();$(this).width(b)});this.resizeSvgs();this.resizeSections();this.resizeCarousels();this.resizeDropTargets();this.reCalculateMediaControls();this.resizeSelectionDropdowns();this.resizeTabs();this.flagBreakpointElements();setTimeout(function(){b.resizeCarousels();b.resizeTabs()},250)};x.prototype.reCalculateMediaControls=function(){settings.responsive&&($(".dki-audio-element",
this.pageContainer).each(function(){var b=$(this).width();143>b?($(this).find(".jp-time").css("display","none"),$(this).find(".jp-mute").css("display","none")):230>b?($(this).find(".jp-duration").css("display","none"),$(this).find(".jp-time-slash").css("display","none"),$(this).find(".jp-mute").css("display","none")):($(this).find(".jp-time").css("display",""),$(this).find(".jp-duration").css("display",""),$(this).find(".jp-time-slash").css("display",""),$(this).find(".jp-mute").css("display",""))}),
$(".dki-video-element",this.pageContainer).each(function(){var b=$(this).width();200>b?($(this).find(".jp-time").css("display","none"),$(this).find(".jp-transcript").css("display","none"),$(this).find(".jp-cc").css("display","none"),$(this).find(".subClass").css("display","none")):(300>b?$(this).find(".jp-time").css("display","none"):$(this).find(".jp-time").css("display",""),$(this).find(".jp-transcript").css("display",""),$(this).find(".jp-cc").css("display",""),$(this).find(".subClass").css("display",
""))}))};x.prototype.getPageTransitionTime=function(){var b=$(".dkiContentFrame.current").css("transition-duration").toLowerCase();return-1<b.indexOf("ms")?parseFloat(b):1E3*parseFloat(b)};x.prototype.destroy=function(){$.each(this.wayPoints,function(){this.destroy()});$(".dki-capture-element",this.pageContainer).each(function(){$(this).capture("destroy")});$(".dki-matchCardSet-element .match_feedback_container.dki-stayInView",this.pageContainer).each(function(){$(this).StayInView("destroy")});$(".dki-scenario-element .dki-element-content",
this.pageContainer).each(function(){$(this).Scenario("destroy")});$(".dki-categoryCards-element .dki-element-content",this.pageContainer).each(function(){$(this).CategoryCards("destroy")});$(".dki-multipleChoiceQuestion-element .dki-element-content,.dki-trieFalseQuestion-element .dki-element-content,.dki-multiplePulldown-element .dki-element-content, .dki-clickTheWord-element .dki-element-content",this.pageContainer).each(function(){$(this).CategoryCards("destroy")})};x.prototype.showLoader=function(){var b=
$(this.pageContainer).find(".pageLoader"),c=window.outerHeight/2-$("#navbar_header").outerHeight()-15;b[0]||(b=$("\x3cdiv class\x3d'pageLoader disabler disablerWrapper' style\x3d'cursor:default;'\x3e\x3cdiv class\x3d'disabler spinner' style\x3d'display:block;top:"+c+"px'\x3e\x3c/div\x3e\x3c/div\x3e").appendTo(this.pageContainer));b.show()};x.prototype.hideLoader=function(){var b=$(this.pageContainer).find(".pageLoader");b[0]&&b.hide()};x.prototype.getZIndex=function(){return 0};x.prototype.jumpToGroup=
function(b,c){var h=$(".dki-authoring-group[data-id\x3d'"+b+"']",this.pageContainer);h[0]&&("undefined"==typeof c?h.velocity("scroll"):setTimeout(function(){h.velocity("scroll")},c))};x.prototype.getNarrationPlayer=function(){var b=$(".dki-authoring-element.dki-audio-element[data-narration\x3d1]",this.pageContainer);return b.length&&(b=this.mediaPlayers["content_"+b.data("id")])?b:null};x.prototype.pauseNarration=function(){var b=this.getNarrationPlayer();b&&b.jPlayer("pause")};x.prototype.playNarration=
function(){var b=this.getNarrationPlayer();b&&b.jPlayer("play")};x.prototype.muteNarration=function(){var b=this.getNarrationPlayer();b&&b.jPlayer("mute")};x.prototype.unmuteNarration=function(){var b=this.getNarrationPlayer();b&&b.jPlayer("unmute")};x.prototype.replayNarration=function(){var b=this.getNarrationPlayer();b&&l.play(b,this,0)};x.prototype.markElementsonlyShownByBreakpointActions=function(){var b=this;$(".dki-authoring-element:not(.dki-placeholder-element), .dki-authoring-element-element:not(.dki-placeholder-element)",
this.pageContainer).each(function(){var c=$(this).data("id");u.elementIsonlyShownByBreakpointActions(c,b)&&$(this).addClass("onlyShownByBreakpointActions")})};x.prototype.flagBreakpointElements=function(){var b=$(".dki-authoring-element:not(.dki-placeholder-element), .dki-authoring-element-element:not(.dki-placeholder-element)",this.pageContainer).filter(".hidden-lg, .hidden-md, .hidden-sm, .hidden-xs"),c=window.innerWidth;b.removeClass("hiddenByBreakpoint");b.each(function(){($(this).hasClass("hidden-lg")&&
1200<=c||$(this).hasClass("hidden-md")&&992<=c&&1199>=c||$(this).hasClass("hidden-sm")&&768<=c&&991>=c||$(this).hasClass("hidden-xs")&&767>=c)&&$(this).addClass("hiddenByBreakpoint")})};x.prototype.setDividerProgress=function(b,c){var h=100*c,l=$("#"+b+"_wrapper",this.pageContainer);$(".progress",l).each(function(){$(this).closest(".dki-divider-element");l.find(".progress-bar").css("width",h+"%");l.find(".progress-bar").attr("aria-valuenow",h);l.find(".progress-bar").attr("aria-valuetext",h+"%");
l.find(".progress-bar-display, .sr-only").html(Math.floor(h)+"%")});$(".radial",l).each(function(){$(this).RadialGauge("setRotation",Math.round(h));$(this).RadialGauge("resize")})};return x}();
DKI.ContentPage.events={resize:"PAGE_RESIZE",shown:"ELEMENT_SHOWN",hidden:"ELEMENT_HIDDEN",reset:"PAGE_RESET",ready:"PAGE_READY",afterReady:"AFTER_PAGE_READY",loadFinished:"PAGE_LOADED",started:"PAGE_STARTED",elementDragStarted:"ELEMENT_DRAG_STARTED",elementDragStopped:"ELEMENT_DRAG_STOPPED",elementDragReverted:"ELEMENT_DRAG_REVERTED",elementDragDropped:"ELEMENT_DRAG_DROPPED",elementDropOut:"ELEMENT_DROP_OUT",elementDropOver:"ELEMENT_DROP_OVER",elementDropDropped:"ELEMENT_DROP_DROPPED",elementContentChanged:"ELEMENT_CONTENT_CHANGED",
elementContentViewed:"ELEMENT_CONTENT_VIEWED",elementAllContentViewed:"ELEMENT_ALL_CONTENT_VIEWED",questionElementSubmitted:"ELEMENT_QUESTION_SUBMITTED",questionElementFeedbackShown:"ELEMENT_QUESTION_FEEDBACK_SHOWN",markerTriggered:"ELEMENT_MARKER_TRIGGERED",actionFired:"actionFired",media:{started:"PAGE_MEDIA_STARTED",ended:"PAGE_MEDIA_ENDED",paused:"PAGE_MEDIA_PAUSED",played:"PAGE_MEDIA_PLAYED"},elementSwipeStart:"ELEMENTSWIPESTART",elementSwipeEnd:"ELEMENTSWIPEEND",elementReviewClicked:"ELEMENTREVIEWCLICKED",
elementReview:"ELEMENTREVIEW",elementReviewComment:"ELEMENTREVIEWCOMMENT",rootElementClicked:"ROOTELEMENTCLICKED",elementAccessibilityClicked:"ELEMENTACCESSIBILITYCLICKED",captureElementInteracted:"CAPTUREELEMENTINTERACTED",captureTestmeStepSubmitted:"CAPTURETESTMESTEPSUBMITTED",captureTestmeSubmitted:"CAPTURETESTMESUBMITTED",flashCardSubmitted:"FLASHCARDSUBMITTED",flashCardSetSubmitted:"FLASHCARDSETSUBMITTED",sectionBottomInView:"SECTIONBOTTOMINVIEW",scenarioOptionSelected:"SCENARIOOPTIONSELECTED",
scenarioEnded:"SCENARIOENDED",categoryCard:{completed:"CATEGORYCARDCOMPLETED",answered:"CATEGORYCARDANSWERED"},imageMaps:{refresh:"IMAGEMAPSREFRESH"}};DKI.applyIf(DKI.ContentPage,{waypointDefaults:{}});
DKI.StandalonePage=function(b){var c=this;this.isStandalonePage=!0;b.fancyboxInstance&&(this.fancyboxInstance=b.fancyboxInstance);this.groups=b.page.groups;this.parameters=b.page.parameters;this.superClass=DKI.ContentPage;this.superClass.apply(this,[b]);$(this.pageContainer).find(".pageElementsWrapper").on("scroll",function(){c.onWindowScroll($(this))})};DKI.StandalonePage.prototype=Object.create(DKI.ContentPage.prototype);DKI.StandalonePage.prototype.resize=function(){};
DKI.StandalonePage.prototype.getPageTransitionTime=function(){return 0};DKI.StandalonePage.prototype.renderPage=function(){$(this.pageContainer).html(DKI.renderService.renderPage(this.page,this.settings.course,!0))};DKI.StandalonePage.prototype.setMinHeight=function(){var b=$(this.pageContainer).find(".pageElementsWrapper")[0];this.superClass.prototype.setMinHeight.apply(this,[b,b.scrollHeight])};
DKI.StandalonePage.prototype.getZIndex=function(){return parseInt($(this.pageContainer).closest(".fancybox-container").css("z-index"),10)};function showElement(b,c){null!=b&&void 0!=b&&""!=b&&(b=b.split(","),player.contentPage.current.actionAPI.actionHandlers.show({id:null,targetElements:b,trigger:"click",parameters:{effect:c,effectOptions:{direction:"",duration:1E3}}},player.contentPage.current))}
function setVariableText(b,c,h){$(".dki-inline-variable[data-variable-id\x3d'"+b+"']",h.pageContainer).html(c.toString());$("textarea.dki-element-content[data-variable-id\x3d'"+b+"']",h.pageContainer).val(c.toString());$(".dki-input-element input[data-variable-id\x3d'"+b+"']",h.pageContainer).val(c.toString())}
function hideElement(b,c){null!=b&&void 0!=b&&""!=b&&(b=b.split(","),player.contentPage.current.actionAPI.actionHandlers.hide({id:null,targetElements:b,trigger:"click",parameters:{effect:c,effectOptions:{direction:"",duration:1E3}}},player.contentPage.current))}
function showHideElement(b,c,h){null!=b&&void 0!=b&&""!=b&&(b=b.split(","),player.contentPage.current.actionAPI.actionHandlers.toggle({id:null,targetElements:b,trigger:"click",parameters:{showEffect:c,hideEffect:h,showEffectOptions:{direction:"",duration:1E3},hideEffectOptions:{direction:"",duration:1E3}}},player.contentPage.current))}
function processHrefTarget(b,c){try{b=b.toString();var h=b.split(",");for(c=0;c<h.length;c++){var l=h[c];$("#"+l+"_wrapper").addClass("dki-event-target");$("#"+l+"_wrapper").addClass("dki-imagemap-target");$("#"+l+"_wrapper").data("eventtargets",b)}}catch(m){l=b,$("#"+l+"_wrapper").addClass("dki-event-target"),$("#"+l+"_wrapper").addClass("dki-imagemap-target"),$("#"+l+"_wrapper").data("eventtargets",b)}}
function hideAllEventElements(){$(".dki-imagemap-target").addClass("hidden");$(document).trigger("imageMapFired",{message:"All image map targets hidden."})}function processHttpEvent(b){b=$(b).data("href");window.open(b,"hrefWindow","");$(document).trigger("imageMapFired",{message:"'"+b+"' was opened in a new window"})}
function synchonizeRowHeight(b){var c=b.width(),h=[{groups:[],tallest_height:0}],l=0;b.find("\x3e .dki-authoring-group").each(function(){var b=$(this);b.find(".dki-authoring-group-elements-wrapper").css({"padding-top":"","padding-bottom":""});l+=b.width();l>c&&(h.push({groups:[],tallest_height:0}),l=b.width());b.height()>h[h.length-1].tallest_height&&(h[h.length-1].tallest_height=b.height());h[h.length-1].groups.push(b)});$.each(h,function(){var c=this;$.each(c.groups,function(){var h=this.find(".dki-authoring-group-elements-wrapper"),
l=parseInt(b.data("vertical-align"),10)/100,l={"padding-top":(c.tallest_height-this.height())*l+parseInt(this.css("padding-top").replace("px",""),10)};l["padding-bottom"]=c.tallest_height-(this.height()+l["padding-top"]);l["padding-top"]+=parseFloat(h.css("padding-top"));l["padding-bottom"]+=parseFloat(h.css("padding-bottom"));h.css(l)})})}
jQuery.fn.extend({capture:function(b,c){var h=$(this).data("cap");if(h){if(h[b])return h[b].apply(h,c);!$(this).hasClass("dki-capture-element")||"goToOverallStep"!==b&&"goToScene"!==b||(h=function(b){b[0]&&(settings.responsive?b.velocity("scroll",{duration:200,offset:-75}):b.velocity("scroll",{duration:200,offset:-75,container:b.closest(".dki-element-content")}))},"goToScene"===b?(b=$($(this).find(c[0])).closest(".panel"),h(b)):"goToOverallStep"===b&&(b=$($(this).find(".step").get(c[0]-1)),c=b.closest(".col-sm-12"),
c.css("position","static"),h(b),c.css("position","")))}}});DKI||(DKI={});
DKI.Scene=function(){var b=function(){var b=this;(new DKI.disabler({text:b.strings.clickToShow,onClick:function(c){c.hide();$(".pageElementsWrapper",b.pageContainer).append(b.narrationElement);b.mousePointer.show();h.stepForward.call(b)}})).show()},c=function(){var b=this;(new DKI.disabler({text:b.strings.clickToTry,onClick:function(c){c.hide();h.stepForward.call(b);$(".dki-hotspot-element",b.pageContainer).on("click",function(){h.stepForward.call(b)});$(".pageElementsWrapper",b.pageContainer).append(b.narrationElement)}})).show()},
h={start:function(){this.groups.hide();this.page.start();"show"==this.parameters.scene.type?b.call(this):c.call(this)},reset:function(b){b=DKI.applyIf(b,{timeout:0});var c=this,h=function(){c.currentGroup=null;c.currentGroupIndex=-1;c.highlightInterval&&clearInterval(c.highlightInterval);b.timeout=0;c.page.reset(b)};0<b.timeout?setTimeout(h,b.timeout):h()},onWindowResize:function(){this.page.onWindowResize()},stepForward:function(){var b=this;this.highlightInterval&&clearInterval(this.highlightInterval);
this.currentGroup&&this.currentGroup.hide();this.currentGroupIndex++;if(this.currentGroupIndex>=this.groups.length)this.currentGroup=null,this.currentGroupIndex=-1,this.mousePointer.hide(),contentApi.contentGoNext();else{this.currentGroup=$(this.groups[this.currentGroupIndex]);this.currentGroup.show();var c=$(".dki-hotspot-element",this.currentGroup);if("try"==this.parameters.scene.type)c.length?this.highlightInterval=setInterval(function(){c.effect("highlight",{},1500)},3500):h.stepForward.call(this);
else{var l=function(){if(c.length){this.mousePointer.show();var h={left:parseInt(c.css("left").split("px")[0],10),top:parseInt(c.css("top").split("px")[0],10)};h.top+=c.height()/2;h.left+=c.width()/2;this.mousePointer.animate(h,b.parameters.scene.stepDuration-1500,function(){c.effect("highlight",{color:"#FFCC66"},1500)})}};c.length||this.mousePointer.hide();var x=$(".dki-audio-element[data-narration\x3d1] .dki-element-content",this.currentGroup);if(x.length){var k=function(c){setTimeout(function(){h.stepForward.call(b)},
500);x.off($.jPlayer.event.ended,k)},p=function(c){l.call(b);x.off($.jPlayer.event.play,p)};x.on($.jPlayer.event.ended,k);x.on($.jPlayer.event.play,p)}else l.call(b),setTimeout(function(){h.stepForward.call(b)},b.parameters.scene.stepDuration)}}},stepBack:function(){this.currentGroup&&this.currentGroup.hide();this.currentGroupIndex--; -1==this.currentGroupIndex?(this.currentGroup=null,this.currentGroupIndex=-1):(this.currentGroup=$(this.groups[this.currentGroupIndex]),this.currentGroup.show())}},
l=function(b,c){var h=this;this.player=b;this.strings={clickToShow:"Click to start the simulation.",clickToTry:"Click to try the simulation."};this.page=c;this.parameters=c.page.parameters;DKI.applyIf(this.parameters,{scene:{stepDuration:2500}});this.behaviour=this.player.behaviour;this.inReview=this.player.inReview;this.settings=this.player.settings;this.pageContainer=this.page.pageContainer;this.mousePointer=$("\x3cdiv class\x3d'scene-mouse-pointer'\x3e\x3c/div\x3e");$(".pageElementsWrapper",this.pageContainer).append(this.mousePointer);
this.groups=$(".dki-authoring-group",this.pageContainer);this.currentGroup=null;this.currentGroupIndex=-1;this.highlightInterval=null;$.each(this.page,function(b){"undefined"==typeof h[b]&&DKI.isFunction(this)&&(h[b]=$.proxy(h.page[b],h.page))})};DKI.applyIf(l.prototype,h);return l}();DKI.Scene.events={finished:"SCENE_FINISHED",started:"SCENE_STARTED"};
(function(b){function c(b,c,h,k){h=null!=h?h:c;for(var l in b)b.hasOwnProperty(l)&&(h[l]=m.rewrite(l,b,c,k));return c}function h(b){return"[object Function]"===v.call(b)}var l=!1,m,u="_Class"+(new Date).getTime()+"_",q="_"+u+"_",x="_"+q+"_",k=/\b_parent\b/.test(function(){this._parent()}),p=k?/\b_parent\b/:/.*/,r=k?/\b_parent\b\./:/.*/,w=RegExp.prototype.test,v=Object.prototype.toString,z=function(){function b(c){if(this instanceof b)!1===l&&h(this.init)&&this.init.apply(this,"object"===typeof c&&
null!==c&&c.callee?c:arguments);else return new b(arguments)}b[q]=!0;return b},n=z();n.extend=function(b,h){var k=z(),n,p=this,q,r=p.prototype;"boolean"!==typeof b&&(h=b);h="object"===typeof h&&null!==h?h:{};q=h.prototype;for(n in p)p.hasOwnProperty(n)&&(k[n]=p[n]);if(!0===b||"object"===typeof q&&null!=q)c(h,p,k,m.initPopulator(p)),h=q;k.constructor=k;l=!0;q=new p;l=!1;h=h||{};c(h,r,q,m.initPopulator(r));k.prototype=q;k.prototype.constructor=k;k.inherits=function(b){return b===p||p.inherits(b)};return k};
n.addMethods=function(b){return c(b,this.prototype)};n.inherits=function(){return!1};n.prototype={addMethods:function(b){return c(b,this)}};r.test=function(b){return w.call(r,b)||!0===b[x]};m=function(b,c){return n.extend(b,c)};m.fnSearch=p;m.parentFnSearch=r;m.log_prefix="_Class";m.errors={logic_parent_call:"Logic error, unable to call the parent function since it isn't defined..",invalid_$:"Invalid data-type of the global '$' property"};m.makeClass=z;m.rewrite=function(b,c,k,l){return!h(c[b])||
!h(k[b])&&b in k||m.is(c[b])||!p.test(c[b])?c[b]:function(b,c,k){c||(c=function(){throw m.log_prefix+m.errors.logic_parent_call;});var l=!(!h(k)||!r.test(b)),n=function(){var h="_parent"in this,m=this._parent,n;if(!0===l){l=!1;n=k();for(var p in n)n.hasOwnProperty(p)&&(c[p]=n[p])}this._parent=c;this._parent[u]=this;n=b.apply(this,arguments);if(h)this._parent=m;else try{delete this._parent}catch(q){}return n};n[x]=l;return n}(c[b],k[b],l)};m.is=function(b){return!(!b||!0!==b[q])};m.initPopulator=function(b){var c;
return function(){if(null==c){c={};for(var k in b)h(b[k])&&(c[k]=function(b){return function(){return b.apply(this[u],arguments)}}(b[k]))}return c}};if(!b.$){if("$"in b)throw m.log_prefix+m.errors.invalid_$;b.$={}}b.$.Class=m})(this);
!function(){var b=function(c){var h=new b.Index;return h.pipeline.add(b.trimmer,b.stopWordFilter,b.stemmer),c&&c.call(h,h),h};b.version="0.5.4";b.utils={};b.utils.warn=function(b){return function(b){}}(this);b.EventEmitter=function(){this.events={}};b.EventEmitter.prototype.addListener=function(){var b=Array.prototype.slice.call(arguments),h=b.pop();if("function"!=typeof h)throw new TypeError("last argument must be a function");b.forEach(function(b){this.hasHandler(b)||(this.events[b]=[]);this.events[b].push(h)},
this)};b.EventEmitter.prototype.removeListener=function(b,h){this.hasHandler(b)&&(h=this.events[b].indexOf(h),this.events[b].splice(h,1),this.events[b].length||delete this.events[b])};b.EventEmitter.prototype.emit=function(b){if(this.hasHandler(b)){var h=Array.prototype.slice.call(arguments,1);this.events[b].forEach(function(b){b.apply(void 0,h)})}};b.EventEmitter.prototype.hasHandler=function(b){return b in this.events};b.tokenizer=function(b){if(!arguments.length||null==b||void 0==b)return[];if(Array.isArray(b))return b.map(function(b){return b.toLowerCase()});
for(var h=b.toString().replace(/^\s+/,""),l=h.length-1;0<=l;l--)if(/\S/.test(h.charAt(l))){h=h.substring(0,l+1);break}return h.split(/(?:\s+|\-)/).map(function(b){return b.toLowerCase()})};b.Pipeline=function(){this._stack=[]};b.Pipeline.registeredFunctions={};b.Pipeline.registerFunction=function(c,h){h in this.registeredFunctions&&b.utils.warn("Overwriting existing registered function: "+h);c.label=h;b.Pipeline.registeredFunctions[c.label]=c};b.Pipeline.warnIfFunctionNotRegistered=function(c){c.label&&
c.label in this.registeredFunctions||b.utils.warn("Function is not registered with pipeline. This may cause problems when serialising the index.\n",c)};b.Pipeline.load=function(c){var h=new b.Pipeline;return c.forEach(function(c){var m=b.Pipeline.registeredFunctions[c];if(!m)throw Error("Cannot load un-registered function: "+c);h.add(m)}),h};b.Pipeline.prototype.add=function(){Array.prototype.slice.call(arguments).forEach(function(c){b.Pipeline.warnIfFunctionNotRegistered(c);this._stack.push(c)},
this)};b.Pipeline.prototype.after=function(c,h){b.Pipeline.warnIfFunctionNotRegistered(h);c=this._stack.indexOf(c)+1;this._stack.splice(c,0,h)};b.Pipeline.prototype.before=function(c,h){b.Pipeline.warnIfFunctionNotRegistered(h);c=this._stack.indexOf(c);this._stack.splice(c,0,h)};b.Pipeline.prototype.remove=function(b){b=this._stack.indexOf(b);this._stack.splice(b,1)};b.Pipeline.prototype.run=function(b){for(var h=[],l=b.length,m=this._stack.length,u=0;l>u;u++){for(var q=b[u],x=0;m>x&&(q=this._stack[x](q,
u,b),void 0!==q);x++);void 0!==q&&h.push(q)}return h};b.Pipeline.prototype.reset=function(){this._stack=[]};b.Pipeline.prototype.toJSON=function(){return this._stack.map(function(c){return b.Pipeline.warnIfFunctionNotRegistered(c),c.label})};b.Vector=function(){this._magnitude=null;this.list=void 0;this.length=0};b.Vector.Node=function(b,h,l){this.idx=b;this.val=h;this.next=l};b.Vector.prototype.insert=function(c,h){var l=this.list;if(!l)return this.list=new b.Vector.Node(c,h,l),this.length++;for(var m=
l,l=l.next;void 0!=l&&!(c<l.idx);)m=l,l=l.next;return m.next=new b.Vector.Node(c,h,l),this.length++};b.Vector.prototype.magnitude=function(){if(this._magniture)return this._magnitude;for(var b,h=this.list,l=0;h;)b=h.val,l+=b*b,h=h.next;return this._magnitude=Math.sqrt(l)};b.Vector.prototype.dot=function(b){var h=this.list;b=b.list;for(var l=0;h&&b;)h.idx<b.idx?h=h.next:h.idx>b.idx?b=b.next:(l+=h.val*b.val,h=h.next,b=b.next);return l};b.Vector.prototype.similarity=function(b){return this.dot(b)/(this.magnitude()*
b.magnitude())};b.SortedSet=function(){this.length=0;this.elements=[]};b.SortedSet.load=function(b){var h=new this;return h.elements=b,h.length=b.length,h};b.SortedSet.prototype.add=function(){Array.prototype.slice.call(arguments).forEach(function(b){~this.indexOf(b)||this.elements.splice(this.locationFor(b),0,b)},this);this.length=this.elements.length};b.SortedSet.prototype.toArray=function(){return this.elements.slice()};b.SortedSet.prototype.map=function(b,h){return this.elements.map(b,h)};b.SortedSet.prototype.forEach=
function(b,h){return this.elements.forEach(b,h)};b.SortedSet.prototype.indexOf=function(b,h,l){h=h||0;l=l||this.elements.length;var m=l-h,u=h+Math.floor(m/2),q=this.elements[u];return 1>=m?q===b?u:-1:b>q?this.indexOf(b,u,l):q>b?this.indexOf(b,h,u):q===b?u:void 0};b.SortedSet.prototype.locationFor=function(b,h,l){h=h||0;l=l||this.elements.length;var m=l-h,u=h+Math.floor(m/2),q=this.elements[u];if(1>=m){if(q>b)return u;if(b>q)return u+1}return b>q?this.locationFor(b,u,l):q>b?this.locationFor(b,h,u):
void 0};b.SortedSet.prototype.intersect=function(c){var h=new b.SortedSet,l=0,m=0,u=this.length,q=c.length,x=this.elements;for(c=c.elements;!(l>u-1||m>q-1);)x[l]!==c[m]?x[l]<c[m]?l++:x[l]>c[m]&&m++:(h.add(x[l]),l++,m++);return h};b.SortedSet.prototype.clone=function(){var c=new b.SortedSet;return c.elements=this.toArray(),c.length=c.elements.length,c};b.SortedSet.prototype.union=function(b){var h,l,m;return this.length>=b.length?(h=this,l=b):(h=b,l=this),m=h.clone(),m.add.apply(m,l.toArray()),m};
b.SortedSet.prototype.toJSON=function(){return this.toArray()};b.Index=function(){this._fields=[];this._ref="id";this.pipeline=new b.Pipeline;this.documentStore=new b.Store;this.tokenStore=new b.TokenStore;this.corpusTokens=new b.SortedSet;this.eventEmitter=new b.EventEmitter;this._idfCache={};this.on("add","remove","update",function(){this._idfCache={}}.bind(this))};b.Index.prototype.on=function(){var b=Array.prototype.slice.call(arguments);return this.eventEmitter.addListener.apply(this.eventEmitter,
b)};b.Index.prototype.off=function(b,h){return this.eventEmitter.removeListener(b,h)};b.Index.load=function(c){c.version!==b.version&&b.utils.warn("version mismatch: current "+b.version+" importing "+c.version);var h=new this;return h._fields=c.fields,h._ref=c.ref,h.documentStore=b.Store.load(c.documentStore),h.tokenStore=b.TokenStore.load(c.tokenStore),h.corpusTokens=b.SortedSet.load(c.corpusTokens),h.pipeline=b.Pipeline.load(c.pipeline),h};b.Index.prototype.field=function(b,h){h=h||{};return this._fields.push({name:b,
boost:h.boost||1}),this};b.Index.prototype.ref=function(b){return this._ref=b,this};b.Index.prototype.add=function(c,h){var l={},m=new b.SortedSet,u=c[this._ref];h=void 0===h?!0:h;this._fields.forEach(function(h){var k=this.pipeline.run(b.tokenizer(c[h.name]));l[h.name]=k;b.SortedSet.prototype.add.apply(m,k)},this);this.documentStore.set(u,m);b.SortedSet.prototype.add.apply(this.corpusTokens,m.toArray());for(var q=0;q<m.length;q++){var x=m.elements[q],k=this._fields.reduce(function(b,c){var h=l[c.name].length;
if(!h)return b;var k=l[c.name].filter(function(b){return b===x}).length;return b+k/h*c.boost},0);this.tokenStore.add(x,{ref:u,tf:k})}h&&this.eventEmitter.emit("add",c,this)};b.Index.prototype.remove=function(b,h){var l=b[this._ref];h=void 0===h?!0:h;if(this.documentStore.has(l)){var m=this.documentStore.get(l);this.documentStore.remove(l);m.forEach(function(b){this.tokenStore.remove(b,l)},this);h&&this.eventEmitter.emit("remove",b,this)}};b.Index.prototype.update=function(b,h){h=void 0===h?!0:h;this.remove(b,
!1);this.add(b,!1);h&&this.eventEmitter.emit("update",b,this)};b.Index.prototype.idf=function(b){var h="@"+b;if(Object.prototype.hasOwnProperty.call(this._idfCache,h))return this._idfCache[h];b=this.tokenStore.count(b);var l=1;return 0<b&&(l=1+Math.log(this.tokenStore.length/b)),this._idfCache[h]=l};b.Index.prototype.search=function(c){c=this.pipeline.run(b.tokenizer(c));var h=new b.Vector,l=[],m=this._fields.reduce(function(b,c){return b+c.boost},0);if(!c.some(function(b){return this.tokenStore.has(b)},
this))return[];c.forEach(function(c,q,x){var k=1/x.length*this._fields.length*m,p=this;q=this.tokenStore.expand(c).reduce(function(l,m){var q=p.corpusTokens.indexOf(m),z=p.idf(m),n=1,x=new b.SortedSet;m!==c&&(n=1/Math.log(Math.max(3,m.length-c.length)));return-1<q&&h.insert(q,k*z*n),Object.keys(p.tokenStore.get(m)).forEach(function(b){x.add(b)}),l.union(x)},new b.SortedSet);l.push(q)},this);return l.reduce(function(b,c){return b.intersect(c)}).map(function(b){return{ref:b,score:h.similarity(this.documentVector(b))}},
this).sort(function(b,c){return c.score-b.score})};b.Index.prototype.documentVector=function(c){for(var h=this.documentStore.get(c),l=h.length,m=new b.Vector,u=0;l>u;u++){var q=h.elements[u],x=this.tokenStore.get(q)[c].tf,k=this.idf(q);m.insert(this.corpusTokens.indexOf(q),x*k)}return m};b.Index.prototype.toJSON=function(){return{version:b.version,fields:this._fields,ref:this._ref,documentStore:this.documentStore.toJSON(),tokenStore:this.tokenStore.toJSON(),corpusTokens:this.corpusTokens.toJSON(),
pipeline:this.pipeline.toJSON()}};b.Index.prototype.use=function(b){var h=Array.prototype.slice.call(arguments,1);h.unshift(this);b.apply(this,h)};b.Store=function(){this.store={};this.length=0};b.Store.load=function(c){var h=new this;return h.length=c.length,h.store=Object.keys(c.store).reduce(function(h,m){return h[m]=b.SortedSet.load(c.store[m]),h},{}),h};b.Store.prototype.set=function(b,h){this.store[b]=h;this.length=Object.keys(this.store).length};b.Store.prototype.get=function(b){return this.store[b]};
b.Store.prototype.has=function(b){return b in this.store};b.Store.prototype.remove=function(b){this.has(b)&&(delete this.store[b],this.length--)};b.Store.prototype.toJSON=function(){return{store:this.store,length:this.length}};b.stemmer=function(){var b={ational:"ate",tional:"tion",enci:"ence",anci:"ance",izer:"ize",bli:"ble",alli:"al",entli:"ent",eli:"e",ousli:"ous",ization:"ize",ation:"ate",ator:"ate",alism:"al",iveness:"ive",fulness:"ful",ousness:"ous",aliti:"al",iviti:"ive",biliti:"ble",logi:"log"},
h={icate:"ic",ative:"",alize:"al",iciti:"ic",ical:"ic",ful:"",ness:""};return function(l){var m,u,q,x,k,p;if(3>l.length)return l;if(q=l.substr(0,1),"y"==q&&(l=q.toUpperCase()+l.substr(1)),x=/^(.+?)(ss|i)es$/,u=/^(.+?)([^s])s$/,x.test(l)?l=l.replace(x,"$1$2"):u.test(l)&&(l=l.replace(u,"$1$2")),x=/^(.+?)eed$/,u=/^(.+?)(ed|ing)$/,x.test(l)){var r=x.exec(l);x=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*/;x.test(r[1])&&(x=/.$/,l=l.replace(x,""))}else u.test(l)&&(r=u.exec(l),m=r[1],u=/^([^aeiou][^aeiouy]*)?[aeiouy]/,
u.test(m)&&(l=m,u=/(at|bl|iz)$/,k=/([^aeiouylsz])\1$/,p=/^[^aeiou][^aeiouy]*[aeiouy][^aeiouwxy]$/,u.test(l)?l+="e":k.test(l)?(x=/.$/,l=l.replace(x,"")):p.test(l)&&(l+="e")));if(x=/^(.+?[^aeiou])y$/,x.test(l))r=x.exec(l),m=r[1],l=m+"i";if(x=/^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/,x.test(l))r=x.exec(l),m=r[1],u=r[2],x=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*/,x.test(m)&&(l=m+b[u]);if(x=
/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/,x.test(l))r=x.exec(l),m=r[1],u=r[2],x=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*/,x.test(m)&&(l=m+h[u]);(x=/^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/,u=/^(.+?)(s|t)(ion)$/,x.test(l))?(r=x.exec(l),m=r[1],x=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*[aeiouy][aeiou]*[^aeiou][^aeiouy]*/,x.test(m)&&(l=m)):u.test(l)&&(r=u.exec(l),m=r[1]+r[2],u=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*[aeiouy][aeiou]*[^aeiou][^aeiouy]*/,
u.test(m)&&(l=m));if(x=/^(.+?)e$/,x.test(l))r=x.exec(l),m=r[1],x=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*[aeiouy][aeiou]*[^aeiou][^aeiouy]*/,u=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*([aeiouy][aeiou]*)?$/,k=/^[^aeiou][^aeiouy]*[aeiouy][^aeiouwxy]$/,(x.test(m)||u.test(m)&&!k.test(m))&&(l=m);return x=/ll$/,u=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*[aeiouy][aeiou]*[^aeiou][^aeiouy]*/,x.test(l)&&u.test(l)&&(x=/.$/,l=l.replace(x,"")),"y"==q&&(l=q.toLowerCase()+
l.substr(1)),l}}();b.Pipeline.registerFunction(b.stemmer,"stemmer");b.stopWordFilter=function(c){return-1===b.stopWordFilter.stopWords.indexOf(c)?c:void 0};b.stopWordFilter.stopWords=new b.SortedSet;b.stopWordFilter.stopWords.length=119;b.stopWordFilter.stopWords.elements=" a able about across after all almost also am among an and any are as at be because been but by can cannot could dear did do does either else ever every for from get got had has have he her hers him his how however i if in into is it its just least let like likely may me might most must my neither no nor not of off often on only or other our own rather said say says she should since so some than that the their them then there these they this tis to too twas us wants was we were what when where which while who whom why will with would yet you your".split(" ");
b.Pipeline.registerFunction(b.stopWordFilter,"stopWordFilter");b.trimmer=function(b){return b.replace(/^\W+/,"").replace(/\W+$/,"")};b.Pipeline.registerFunction(b.trimmer,"trimmer");b.TokenStore=function(){this.root={docs:{}};this.length=0};b.TokenStore.load=function(b){var h=new this;return h.root=b.root,h.length=b.length,h};b.TokenStore.prototype.add=function(b,h,l){l=l||this.root;var m=b[0];b=b.slice(1);return m in l||(l[m]={docs:{}}),0===b.length?(l[m].docs[h.ref]=h,void(this.length+=1)):this.add(b,
h,l[m])};b.TokenStore.prototype.has=function(b){if(!b)return!1;for(var h=this.root,l=0;l<b.length;l++){if(!h[b[l]])return!1;h=h[b[l]]}return!0};b.TokenStore.prototype.getNode=function(b){if(!b)return{};for(var h=this.root,l=0;l<b.length;l++){if(!h[b[l]])return{};h=h[b[l]]}return h};b.TokenStore.prototype.get=function(b,h){return this.getNode(b,h).docs||{}};b.TokenStore.prototype.count=function(b,h){return Object.keys(this.get(b,h)).length};b.TokenStore.prototype.remove=function(b,h){if(b){for(var l=
this.root,m=0;m<b.length;m++){if(!(b[m]in l))return;l=l[b[m]]}delete l.docs[h]}};b.TokenStore.prototype.expand=function(b,h){var l=this.getNode(b),m=l.docs||{};h=h||[];return Object.keys(m).length&&h.push(b),Object.keys(l).forEach(function(l){"docs"!==l&&h.concat(this.expand(b+l,h))},this),h};b.TokenStore.prototype.toJSON=function(){return{root:this.root,length:this.length}};(function(b,h){"function"==typeof define&&define.amd?define(h):"object"==typeof exports?module.exports=h():b.lunr=h()})(this,
function(){return b})}();DKI||(DKI={});
DKI.EndModule=function(){var b,c,h,l,m,u,q,x,k,p,r,w=Handlebars.compile(DKI.templates.endScreenTestItem),v,z=function(){objects={};if(showScore=k&&l.showObjectTestSummary&&!m.forcePassed)$.each(k.answered,function(){objects[this.objectid]||(objects[this.objectid]={questions:[],object:h.findObject(this.objectid),showScore:l.showObjectTestSummary});objects[this.objectid].questions.push(this)}),$.each(k.unanswered,function(){objects[this.objectid]||(objects[this.objectid]={questions:[],object:h.findObject(this.objectid),
showScore:l.showObjectTestSummary});this.points=0;objects[this.objectid].questions.push(this)});$.each(m.objects,function(b,c){objects[this.objectid]||(b=this.subeos.reduce(function(b,c){return b+(c.complete?1:0)},0)/this.subeos.length*100,b={completion:b,isComplete:100==b,object:this},l.showObjectTestSummary&&0<this.questions.length&&this.testing&&(b.showScore=!0,b.questions=this.questions),objects[this.objectid]=b)});var b=[];$.each(objects,function(){b.push(this)});b.sort(function(b,c){return b.object.eoorder-
c.object.eoorder});return b},n=function(){r.data("flickity")||(flickConfig={cellAlign:"left",wrapAround:!1,autoPlay:!1,prevNextButtons:!1},$("html").hasClass("rtl")&&(flickConfig.rightToLeft=!0),r.flickity(flickConfig).attr("tabindex","-1"))},E=function(){return r.find(".objectTestItem").toArray().reduce(function(b,c){return b+$(c).outerWidth()},0)},D=DKI.func.debounce(function(){E()>r.width()||768>=window.innerWidth?(n(),r.flickity("resize")):r.data("flickity")&&r.flickity("destroy");r.find(".testItemContentContainer").each(function(){var b=
$(this).width()-2*parseInt($(this).find(".gaugecont").css("padding-left"));if($(this).find(".gaugecont").outerWidth()>b||124>$(this).find(".radial").width())b=Math.min(b-$(this).find(".scoreDisp").outerWidth(),124),$(this).find(".radial").RadialGauge("resize",b).parent().css({height:b,width:b})})},50),y=function(){requireFns.getFlickity($.proxy(function(){var b=r;$.each(z(),function(h,l){h={strings:DKI.strings,responsive:settings.responsive,object:{name:l.object.name,linkSubeoId:""}};var m=l.completion;
if(l.showScore){var n=0,p=0;$.each(l.questions,function(){n+=this.weight;this.points&&(p+=this.points)});h.object.score=Math.floor(p/n*100);h.object.totalWeight=n;h.object.points=parseFloat(p.toFixed(1),10);h.forTesting=!0;m=h.object.score}else h.isComplete=l.isComplete,h.gaugeLabel=DKI.strings.endMod.learningStatusLabel+": "+l.completion+"%";0<l.object.subeos.length&&!c&&(h.object.linkSubeoId=l.object.subeos[0].subeoid);h.strings=q;var r=$(w(h));b.append(r);var v=r.find(".radial");v.RadialGauge({width:124,
asPercent:!0});v.RadialGauge("resize");h.forTesting&&k&&2!=l.object.testing||!h.forTesting&&l.completion?v.data("setValue",$.proxy(function(){v.RadialGauge("setRotation",m)},this)):(v.RadialGauge("setText",DKI.strings.runtime.txtNotAvailableShort),r.find(".scoreDisp").remove());flickConfig={cellAlign:"left",wrapAround:!1,autoPlay:!1,prevNextButtons:!1,adaptiveHeight:!0};$("html").hasClass("rtl")&&(flickConfig.rightToLeft=!0)});(E()>b.width()||768>=window.innerWidth)&&n();if(settings.responsive)$(window).off("resize",
D).on("resize",D);D();setTimeout(function(){$(".radial",r).each(function(){$(this).data("setValue")&&$(this).data("setValue")()})},100)},this))};return{init:function(n,p,r){b=n;h=b.dataStorage;c=b.course.testonly;l=b.behaviour;q=n.strings;b.inAssessment||b.inReview?(k=h.assessment,b.inReview&&(k=k.test),x=h.assessment.prepost,m=k.module):(x="content",m=r?r:h.currentModule,k=m.lastAssessment?m.lastAssessment:null);p&&(n=Handlebars.compile(DKI.templates.endModule)({strings:DKI.strings,module:m,responsive:settings.responsive}),
$(p).html(n));$(document).trigger(DKI.EndModule.events.ready)},start:function(){b.stopContentTimer(!0);var n=b.pageFrames.current,w=m.passing_mark&&""!=m.passing_mark?m.passing_mark:b.course.passmark,z,E,D;v=$(".endScreen",n);$(".status",n);z=$(".endMod_revisitLink",n);E=$(".endMod_reviewLink",n);r=$("#endMod_testScoreDetails",n);D=$("#endMod_actions",n);var G=m;$(document).trigger(DKI.ContentPage.events.resize,b.settings.courseHeight);p=$(".endMod_testingLink",n);E.hide();D.on(settings.clickEvent,
".endMod_revisitLink a",function(){b.jumpToModule(G)});u=h.getModuleCompletion(G);D="content"===x?h.getModuleScoringDetails(G):{score:k.getScore(),points:k.getPoints(),weight:k.getWeight()};h.moduleHasPages(G)?z.show():z.hide();h.moduleHasTest(G)&&0!=h.remainingPostAttempts(G)&&l.enablePostTest?"pre"!==x&&0<h.remainingPostAttempts(G)&&(k&&G.post&&0<G.post.attempts&&(p.find("a").text(q.retakeTest),p.addClass("endMod_retakeTest")),p.find("a").removeClass("disabled"),p.find("a").on(settings.clickEvent,
function(){p.find("a").off(settings.clickEvent);b.launchTest(G.loid,"post")})):p.hide();if(k&&!m.forcePassed&&("pre"==k.prepost&&l.enablePreTestReview||"post"==k.prepost&&l.enablePostTestReview)){E.find("a").on(settings.clickEvent,function(){if($(this).hasClass("disabled"))return!1;b.launchReview(k)});E.show();settings.responsive&&p.removeClass("col-xs-12").addClass("col-xs-6");var K=D.score>=w;if("pre"==k.prepost){var L=playerBehaviour.reviewPreLimit;L&&!K&&E.find("a").addClass("disabled")}"post"==
k.prepost&&(L=playerBehaviour.reviewPostLimit)&&!K&&E.find("a").addClass("disabled")}$(".endMod_learningLink",n).on(settings.clickEvent,function(){b.resume("pre"===x)});c?($("#endMod_learningLine",n).hide(),z.hide()):$("#endMod_learningStatus",n).text(Math.floor(u)+" %");isNaN(parseInt(D.score,"10"))?($("#endMod_testScore",n).text(q.txtNotAvailableShort),$("#endMod_testPoints",n).text(""),$("#endMod_scoreLine",n).hide(),$("#endMod_learningStatus_container").removeClass("squareSide"),$(".passCont",
n).attr("tab-index","-1")):($("#endMod_testScore",n).html(Math.floor(D.score)+" %"),$("#endMod_testPoints",n).html(" ("+parseFloat(D.points,10)+" / "+D.weight+" "+q.txtPoints+")"),l.displayPass&&l.passModules&&0<D.weight&&(z=D.score>=w?q.passText:q.failText,E=D.score>=w?"pass":"fail",v.addClass("showPassing"),$(".passCont",n).addClass(E),$(".endMod_passingScore",n).text(DKI.strings.endMod.passingScoreLabel+" "+Math.floor(w)+"%"),$(".endMod_passStatus",n).text(z),$(".endMod_testScore",n).text(Math.floor(D.score)+
"%")),$("#endMod_learningStatus_container").addClass("squareSide"),$("#endMod_scoreLine").addClass("squareSide"));y();r.on(settings.clickEvent,".subeoLink",function(){var b=$(this).data("subeoid");contentApi.jumpToSubeo(b)});c&&r.find(".subeoLink").remove();$(n).removeClass($(n).data("current_player_background")).addClass("player_background_summary").data("current_player_background","player_background_summary");$(document).trigger(DKI.EndModule.events.started)},destroy:function(){$(window).off("resize",
D);if(r&&r.data("flickity"))try{r.flickity("destroy")}catch(b){}}}}();DKI.EndModule.events={ready:"END_MODULE_READY",started:"END_MODULE_STARTED"};DKI||(DKI={});
DKI.EndTest=function(){var b,c,h,l,m,u,q,x,k;return{init:function(h,r){b=h.course;c=h.dataStorage;l=c.assessment;u=h.behaviour;m=l.module.name;k=h;$("#endTest_moduleName",r).text(m);$("#endTest_learningLink",r).on(settings.clickEvent,function(){h.resume()});$("#endTest_reviewLink",r).on(settings.clickEvent,function(){h.launchReview(l)});$("#endTest_revisitLink",r).on(settings.clickEvent,function(){h.jumpToModule(l.module)});x=$("#endTest_retakeTest",r).on(settings.clickEvent,function(){h.launchTest(l.module,
"post")});q=h.strings;$(document).trigger(DKI.EndTest.events.ready)},start:function(){var m,r;m=l.module;var w=$(".status",void 0),v=m.passMark?m.passMark:k.course.passMark;$(document).trigger(DKI.ContentPage.events.resize,k.settings.courseHeight);(b.testonly||"pre"===l.prepost)&&$("#endTest_revisitLink",void 0).css("display","none");"pre"===l.prepost?x.css("display","none"):0===c.remainingPostAttempts(l.module)&&x.unbind().addClass("disabled");h=c.getAssessmentScoringDetails();$("#endTest_testScore",
void 0).text(Math.floor(h.score)+"% ("+h.points+"/"+h.weight+" "+q.txtPoints+")");("pre"==l.prepost&&u.enablePreTestReview||"post"==l.prepost&&u.enablePostTestReview)&&$("#endTest_reviewLink",void 0).css("display","");u.displayPass&&u.passModules&&(m=h.score>=v?q.passText:q.failText,r=h.score>=v?"pass":"fail",w.addClass("showPassing"),$(".endMod_passingScore",void 0).text(v+"%"),$(".endMod_passStatus",void 0).text(" - "+m+" - ").addClass(r),$("#endTest_testScore",void 0).removeClass("dki-themeTextColor").addClass(r));
$(document).trigger(DKI.EndTest.events.started)}}}();DKI.EndTest.events={ready:"END_TEST_READY",started:"END_TEST_STARTED"};DKI||(DKI={});
DKI.EndCourse=function(){var b,c,h,l,m,u,q,x,k,p,r,w,v,z,n=Handlebars.compile(DKI.templates.CourseEndScreenTestItem),E,D,y=function(){E.data("flickity")||(flickConfig={cellAlign:"left",wrapAround:!1,autoPlay:!1,prevNextButtons:!1},$("html").hasClass("rtl")&&(flickConfig.rightToLeft=!0),E.flickity(flickConfig).attr("tabindex","-1"))},B=function(){return E.find(".objectTestItem").toArray().reduce(function(b,c){return b+$(c).outerWidth()},0)},F=DKI.func.debounce(function(){B()>E.width()||768>=window.innerWidth?
(E.removeClass("flex flexrow"),y(),E.flickity("resize")):E.data("flickity")&&(E.flickity("destroy"),E.addClass("flex flexrow"));E.find(".testItemContentContainer").each(function(){var b=$(this).width()-2*parseInt($(this).find(".gaugecont").css("padding-left"));if($(this).find(".gaugecont").outerWidth()>b||124>$(this).find(".radial").width())b=Math.min(b-$(this).find(".scoreDisp").outerWidth(),124),$(this).find(".radial").RadialGauge("resize",b).parent().css({height:b,width:b})})},50),C=function(){requireFns.getFlickity($.proxy(function(){var b=
c.getModuleSummaryData();$.each(b,function(){if(playerBehaviour.showCompletedModules||!this.module.complete||0!=this.module.weight){void 0!==this.weight&&(this.showWeight=!0);playerBehaviour.passModules&&this.failed&&(this.requiresPass=!0,h.displayPass&&(this.showPass=!0));this.responsive=settings.responsive;this.strings=DKI.strings;var b=this.completion;this.showScore?b=this.score:this.gaugeLabel=DKI.strings.endMod.learningStatusLabel+": "+this.completion+"%";var k=$(n(this));!this.noAttempts&&this.showScore||
k.find(".retake").remove();c.moduleHasPages(this.module)||k.find(".view").remove();E.append(k);var l=k.find(".radial");l.RadialGauge({width:124,asPercent:!0});l.RadialGauge("resize");this.text?l.RadialGauge("setText",this.text):l.data("setValue",$.proxy(function(){l.RadialGauge("setRotation",b)},this));this.showScore&&h.displayPass?l.addClass("fill-"+(this.failed?"fail":"pass")):l.addClass("fill-primary")}});$(".objectTestItem",v).delegate(".retake",settings.clickEvent,function(){x.launchTest($(this).attr("data-moduleid"),
"post")});$(".objectTestItem",v).delegate(".view",settings.clickEvent,function(){x.jumpToModule($(this).data("moduleid"))});takeTestLink.on(x.settings.clickEvent,function(){x.launchTest($(this).attr("data-moduleid"),"post")});B()>E.width()||768>=window.innerWidth?(E.removeClass("flex flexrow"),y()):E.addClass("flex flexrow");if(settings.responsive)$(window).off("resize",F).on("resize",F);F();setTimeout(function(){$(".radial",E).each(function(){$(this).data("setValue")&&$(this).data("setValue")()})},
100);$(document).trigger(DKI.EndCourse.events.scoringDetailsRendered)},this))};return{init:function(b,k){c=b.dataStorage;q=b.course;h=b.behaviour;l=c.currentModule;x=b;w=b.strings;if(v=k)b=Handlebars.compile(DKI.templates.endCourse)({strings:DKI.strings,course:q,responsive:settings.responsive}),$(k).html(b);$(document).trigger(DKI.EndCourse.events.ready)},start:function(){var n,y;$(document).trigger(DKI.ContentPage.events.resize,x.settings.courseHeight);z=$("#endCourse_bibliographyLink a",v);b=$("#endCourse_certificateLink a",
v);$("#endCourse_exitLink a",v);k=$("#endCourse_testing",v);takeTestLink=$("#endCourse_takeTestLink a");E=$("#endCourse_testScoreDetails");$("div",k[0]);m=c.getCourseScoringDetails();u=c.getCourseCompletion();c.remainingPostAttempts(l);D=$(".endScreen",v);h.displayPass&&0<m.weight&&D.addClass("showPassing");h.enablePostTest?C():k.hide();q.testonly&&($("#endCourse_learningLine",v).hide(),$("#testingLine").removeClass("squareSide"));isNaN(parseInt(u,10))&&($("#endCourse_learningLine",v).hide(),$("#testingLine").removeClass("squareSide"));
!isNaN(parseInt(m.score,10))&&c.hasTesting()&&(h.enablePreTest||h.enablePostTest)&&(p=$(".endCourse_testScore",v),r=$(".endCourse_passStatus",v),p.html(Math.floor(m.score)+"%"),p.text(Math.floor(m.score)+"%"),h.displayPass&&0<m.weight?($(".objectTestItem.requiresPass",v)[0]&&playerBehaviour.passModules?$(".endCourse_passingScore",v).remove():$(".endCourse_passingScore",v).text(DKI.strings.endMod.passingScoreLabel+" "+Math.floor(c.courseStructure.passmark)+"%"),"passed"===c.lessonStatus?($(".passCont",
v).addClass("pass"),n=w.passText,""!==q.passText&&(n=q.passText),y="pass"):"failed"===c.lessonStatus?($(".passCont",v).addClass("fail"),n=w.failText,""!==q.failText&&(n=q.failText),y="fail"):($(".passCont",v).addClass("incomplete"),n=w.incompleteText,y="incomplete",p.remove()),r.text(n).addClass(y),$(".endScreen",v).addClass("showStatusText")):($(".endMod_passingScore",v).remove(),$(".endMod_passStatus",v).remove(),$(".passCont",v).attr("tabindex","-1")));h.completionCertificate&&($(".endScreen",
v).addClass("showCertificate"),b.attr("tabindex","-1"));h.showBibliography&&DKI.reference.courseHasReferences()&&($(".endScreen",v).addClass("showBibliography"),z.on(x.settings.clickEvent,function(){DKI.reference.showBibliography()}));if("complete"===c.lessonStatus||"passed"===c.lessonStatus)b.removeClass("disabled").attr("tabindex","1"),b.on(settings.clickEvent,function(){x.loadCertificate()});$("#endCourse_testLink",v).on(settings.clickEvent,function(){this.contentFrame.attr("src",this.settings.endCourseURL);
x.launchTest(l.loid,"post")});$("#endCourse_exitLink",v).on(settings.clickEvent,function(){x.exitCourse()});$(v).removeClass($(v).data("current_player_background")).addClass("player_background_summary").data("current_player_background","player_background_summary");$(document).trigger(DKI.EndCourse.events.started)},destroy:function(){$(window).off("resize",F);if(E&&E.data("flickity"))try{E.flickity("destroy")}catch(b){}}}}();
DKI.EndCourse.events={ready:"END_COURSE_READY",started:"END_COURSE_STARTED",scoringDetailsRendered:"END_COURSE_SCORING_DETAILS_RENDERED"};DKI||(DKI={});
DKI.CompletionCertificate=function(){var b,c=function(c){var l=Handlebars.compile(DKI.templates.certificate.body)({strings:DKI.strings});$(c).html(l);var m=document.getElementById("certificate_studentName"),u=document.getElementById("certificate_courseName"),q=document.getElementById("certificate_date"),x=document.getElementById("certificate_print"),k=function(b,c){try{b.innerHTML=c}catch(h){b.innerText=c}};b.getStudentName(function(c){k(m,c);k(u,b.getCourseName());k(q,(new Date).toLocaleDateString());
$(x).on(settings.clickEvent,function(c){b.printPage();return!1})})};return{init:function(h,l){b=h.contentAPI;l&&c(l);$(document).trigger(DKI.CompletionCertificate.events.ready)},start:function(){$(document).trigger(DKI.CompletionCertificate.events.started)}}}();DKI.CompletionCertificate.events={ready:"COMPLETION_CERTIFICATE_READY",started:"COMPLETION_CERTIFICATE_STARTED"};
DKI.Modal=function(){var b,c={method:"GET",display:"modal",name:"modalWindowName"},h={},l=null,m=null,u={appendDataToUrl:function(b){var c=u.getData();b=null===b.match(/\?/)?b+"?":b+"\x26";return b+c},getData:function(){var b="courseID\x3d"+contentApi.getCourseID()+"\x26pageID\x3d"+contentApi.getPageID()+"\x26objectID\x3d"+contentApi.getObjectID()+"\x26userID\x3d"+contentApi.getUserID();if("object"==typeof h.parameters)for(var c in h.parameters)h.parameters.hasOwnProperty(c)&&(b+="\x26"+c+"\x3d"+
h.parameters[c]);return b},loadModalGET:function(c){var h=null,l=null,m=!0,q=DKI.func.debounce(function(){z()},75,!1),z=function(){var b=$(".fancybox-item.fancybox-close",l),c=$(".fancybox-stage .fancybox-content",l),h=c.offset().top/settings.scale-window.pageYOffset-29,c=c.offset().left/settings.scale+c.outerWidth()-$(window).width()/settings.scale-29;b.css({top:h+"px",left:c+"px"});b.addClass("persistant-modal")};$.fancybox.open({type:"iframe",src:u.appendDataToUrl(c.url),iframe:{preload:!1},btnTpl:{close:'\x3cdiv class\x3d"fancybox-item fancybox-close"data-fancybox-close aria-label\x3d"'+
player.strings.buttonLabelClose+'" role\x3d"button" tabindex\x3d"1"\x3e\x3c/div\x3e'},afterShow:function(){m=!1;z();b=this;modalFrame=this.$iframe;modalFrame.attr("tabindex","1");0==$("div.popup.modal:visible").length&&DKI.enforceFocus(l);modalFrame.focus();c.callback&&c.callback();setTimeout(function(){m=!0},400)},beforeShow:function(b,c,k){c=this.$slide.closest(".fancybox-inner");h=b;l=c;h.$refs.container.on("onUpdate.fb",q)},afterClose:function(){h.$refs.container.off("onUpdate.fb",null,q);l=h=
null},beforeClose:function(){m&&$(".fancybox-item.fancybox-close",l).fadeOut();return m}})},loadModalPOST:function(b){u.postURL(modalFrame.attr("name"))},loadWindowGET:function(c){b=window.open(u.appendDataToUrl(c.url));b.focus()},loadWindowPOST:function(c){b=window.open("about:blank");u.postURL(b.name);b.focus()},postURL:function(c){null===l?(l=document.createElement("form"),l.className="modalPoster",l.method="POST",body.append(l)):l.innerHTML="";c&&(m=c);l.target=m;l.action=h.url;l.appendChild(u.buildHiddenInput("courseID",
contentApi.getCourseID()));l.appendChild(u.buildHiddenInput("userID",contentApi.getUserID()));l.appendChild(u.buildHiddenInput("objectID",contentApi.getObjectID()));l.appendChild(u.buildHiddenInput("pageID",contentApi.getPageID()));if("object"==typeof h.parameters)for(var p in h.parameters)h.parameters.hasOwnProperty(p)&&l.appendChild(u.buildHiddenInput(p,h.parameters[p]));$.fancybox({type:"inline",content:l,tpl:DKI.templates.popupPanel,afterShow:function(){b=this;l.submit()}})},buildHiddenInput:function(b,
c){var h=document.createElement("input");h.type="hidden";h.name=b;h.value=c;return h}},q={onPageLoaded:function(){modalOpen&&!h.persist?x.hide():!0===modalOpen?"GET"===h.method.toUpperCase()?modalFrame.attr("src",u.appendDataToUrl(h.url)):u.postURL():b&&!b.closed?"GET"===h.method.toUpperCase()?u.loadWindowGET(h):u.postURL():contentApi.playerEvent.remove("pageLoaded",q.onPageLoaded)},onPostCompleteModal:function(b){modalFrame.on("load.modalPost",function(){modalFrame[0].contentWindow.document.write(b.responseText)});
modalFrame.attr("src","about:blank")},onPostCompleteWindow:function(c){b.document.write(c.responseText)}},x={show:function(b){b&&(h=DKI.applyIf(b,c));"modal"===h.display.toLowerCase()?"GET"==h.method.toUpperCase()?u.loadModalGET(h):u.loadModalPOST(h):"GET"==h.method.toUpperCase()?u.loadWindowGET(h):u.loadWindowPOST(h);if(!0===h.persist)contentApi.playerEvent.on("pageLoaded",q.onPageLoaded)},hide:function(){b.close()}};return x}();
DKI.PopupPanel=function(){var b=function(){return{html:"",autoFocus:!1,modal:!1,returnFocus:null,effect:settings.design.parameters.config.defaultEffects.popup.effect,zIndex:0,style:"",domStyles:"",tabContent:!0,autoResize:settings.responsive?!0:!1,autoCenter:settings.responsive?!0:!1,id:"dki_"+Math.random().toString(36).substr(2,9),addClass:"",role:"dialog",strings:{close:playerStrings&&playerStrings.buttonLabelClose?playerStrings.buttonLabelClose:"Close"},onHide:function(){}}},c=null,h={setVariables:function(b){b.find(".dki-inline-variable").each(function(){var b=
contentApi.getData($(this).data("variable-id"));$(this).html(b)})},adjustHeight:function(b){var c=DKI.utility.getScale(),h=b.show().find(".modal-header").css("height").replace("px","")*c,k=b.find(".modal-header").css("height").replace("px","")*c,h=window.innerHeight-parseInt(h,10)-parseInt(k,10),h=0<h?h:100;b.find(".modal-body").css({"max-height":h/c+"px","overflow-y":"auto"})}},l={show:function(m){contentApi.hideAllPopups();if(m){var q=DKI.applyIf(m,b());"themeDefault"==q.effect&&(q.effect=settings.design.parameters.config.defaultEffects.popup.effect)}if(q.popupType){var x=
$("#action_popup_"+q.id);x[0]&&x.remove();var k=DKI.templates.alertPanel,p=q.title?"h1.modal-title":"div.modal-body",x="hidden.bs.modal";switch(q.popupType.type){case "notification":k=DKI.templates.notificationPanel,p=q.title?"span.modal-title":"div.alert-content",x="closed.bs.alert"}m.alignMiddle="middle"==m.popupType.mod.replace(/fill/g,"").trim();m.exit=!("banner"==m.popupType.type&&"middle"==m.popupType.mod);var r=$(k(m));r.addClass(m.addClass);r.data("contentFocus",p?r.find(p):r);h.setVariables(r);
$("body").append(r);$(".fancybox-container").length&&(k=parseInt($(".fancybox-container").css("z-index"))+parseInt(r.css("z-index")),r.css("z-index",k));r.on(x,function(){var b=$("div.popup.modal:visible, .fancybox-inner:visible").last();b.length?(DKI.enforceFocus(b),b=b.find("*[tabindex\x3d'1']:not(.close):not(.fancybox-close)"),b.length&&b[0].focus()):m.returnFocus&&setTimeout(function(){m.returnFocus.focus()},10);q.onHide.apply(r)});r.hasClass("modal")?(r.on("shown.bs.modal",function(){$(document).off("focusin.bs.modal");
h.adjustHeight($(this));if(q.autoFocus){var b=this;setTimeout(function(){$(b).is(":visible")&&(DKI.enforceFocus($(b)),$(b).data("contentFocus")[0].focus())},50)}}),DKI.enforceFocus(!1),x=m.popupType.modal,"string"==typeof x&&(x="true"===x),r.modal({show:!0,backdrop:x})):r.hasClass("alert")?(setTimeout(function(){r.addClass("in");q.autoFocus&&r.data("contentFocus")[0].focus()},0),r.alert()):(r.show(),setTimeout(function(){r.addClass("in");q.autoFocus&&r.data("contentFocus")[0].focus()},0));m.zIndex&&
(r.data("bs.modal")&&r.data("bs.modal").$backdrop&&r.data("bs.modal").$backdrop.css("z-index",m.zIndex+1),r.css("z-index",m.zIndex+2));r.find(".dki-glossary-link").on(settings.clickEvent,function(b){DKI.glossary.showPopup.call(this,[b])});r.on(settings.clickEvent,function(b){if(!$((b.originalEvent||b).target).is("a"))return!1});r.find("button.dismiss,button.close").on("click",function(b){r.hasClass("modal")?r.modal("hide"):r.hasClass("alert")?r.alert("close"):r.hide()});q.afterShow&&q.afterShow.apply(r)}else $.fancybox({type:"html",
content:'\x3cdiv class\x3d"popup-content" tabIndex\x3d"0"\x3e'+q.html+"\x3c/div\x3e",title:""!=q.title?q.title:null,tpl:DKI.templates.popupPanel,modal:q.modal,autoCenter:q.autoCenter,autoResize:q.autoResize,helpers:{title:{position:"top",type:"inside"}},beforeShow:function(){c=this;q.modal||$(".fancybox-overlay").css("background-image","none");settings.responsive||(this.wrap.draggable({handle:".fancybox-title"}),this.wrap.resizable({handles:"se",alsoResize:".fancybox-inner"}));this.outer.addClass(q.style);
q.autoResize?this.wrap.addClass("auto-resize"):this.wrap.removeClass("auto-resize");c.wrap.find(".popup-title").html(q.title);this.wrap.show()},openEffect:function(){var b=q.effect;""==b?b="none":"themeDefault"==b&&(b=settings.design.parameters.config.defaultEffects.popup.effect);return b}(),closeEffect:function(){var b=q.effect;""==b?b="none":"themeDefault"==b&&(b=settings.design.parameters.config.defaultEffects.popup.effect);return b}(),openMethod:"zoomIn",closeMethod:"zoomOut",afterShow:function(){var b=
c.wrap.find(".fancybox-title"),h=c.wrap.find(".fancybox-close");c.outer.before(b.detach());b.after(h.detach());b.attr("tabindex",0);q.autoFocus&&c.wrap.find(".popup-content")[0].focus();settings.responsive||$(".fancybox-title").css("cursor","pointer");q.autoCenter||q.autoResize||$(window).unbind("resize.fb");c.wrap.find(".popup-close").on(settings.clickEvent,function(){l.hide()});q.afterShow&&q.afterShow.apply(this)},afterClose:function(){this.outer.removeClass(q.style);q.returnFocus&&setTimeout(function(){q.returnFocus.focus()},
10);c=null}})},hide:function(b){$(document).find(".modal-backdrop").remove();b=DKI.applyIf(b?b:{},{forceClose:!1},!0);c&&$.fancybox.close(b.forceClose);b.id&&(b=$("#action_popup_"+b.id),0<b.length&&(b.hasClass("modal")?(b.modal("hide"),b.off("show.bs.modal")):b.hide()))},destroy:function(b){b.id&&(b=$("#action_popup_"+b.id,"body"),0<b.length&&(b.hasClass("popup modal")&&b.off().data("bs.modal").removeBackdrop(),b.remove()))}},m=function(){l.hide({forceClose:!0})};$(document).on(DKI.ContentPage.events.started,
m);$(document).on(DKI.EndModule.events.started,m);$(document).on(DKI.EndCourse.events.started,m);$(document).on(DKI.EndTest.events.started,m);return l}();
DKI.PresentationPlayer=function(b){this.dataStorage=b.dataStorage;this.course=b.dataStorage.courseStructure;this.behaviour=b.behaviour;this.settings=b.settings;this.strings=b.strings;this.rootURL=b.rootURL;this.transitions=Modernizr.csstransitions?{page:this.dataStorage.courseStructure.pagetransition,jump:this.dataStorage.courseStructure.jumptransition,end:this.dataStorage.courseStructure.endscreentransition}:{page:"none",jump:"none",end:"none"};this.currentPage=null;this.contentPage={previous:null,
current:null,next:null};this.currentTest=this.currentObject=this.currentModule=null;this.currentPageIndex=this.currentObjectIndex=this.currentModuleIndex=0;this.contentFrame=$("#contentFrame");this.pageFrames={};this.pageFrames.previous=document.createElement("div");$(this.pageFrames.previous).css("visibility","hidden");this.pageFrames.previous.className="dkiContentFrame previous dk-hidden";this.pageFrames.current=document.createElement("div");this.pageFrames.current.className="dkiContentFrame current";
this.pageFrames.next=document.createElement("div");$(this.pageFrames.next).css("visibility","hidden");this.pageFrames.next.className="dkiContentFrame next dk-hidden";this.contentFrame.append([this.pageFrames.previous,this.pageFrames.current,this.pageFrames.next]);this.menu=this.contentAPI=null;this.navigation=new DKI.PlayerNavigation(this);this.headerContainer=$("#navbar_header, #headerContainer");this.footerContainer=$("#footerContainer");this.store=DKI.courseStore;this.audio=!0;this.isMobile=$(document.body).hasClass("mobile");
this.isAdminPreview=$(document.body).hasClass("adminPreview");this.questionFeedbackClosed=this.assessmentState=null;this.reachedEnd=!1;this.forward=this.contentForward;this.back=this.contentBack;this.reload=this.contentReload;this.events={pageLoaded:"pageLoaded",contentPageLoaded:"contentPageLoaded",questionPageLoaded:"questionPageLoaded",playerResized:"playerResized",playerTranscriptShown:"playerTranscriptShown",bypassForceSequential:"bypassForceSequential",allPageContentViewed:"allPageContentViewed"};
this.inReview=this.inEndScreen=this.inAssessment=!1;this.loadState={previous:"done",current:"done",next:"done"};this.submitButtonPosition="popup";this.queuedAction=null;this.notesWin=!1;this.contentFrame.addClass("loading");this.navigation.hideForwardButton();this.navigation.hideBackButton();$(this.pageFrames.previous).addClass(this.transitions.page);$(this.pageFrames.current).addClass(this.transitions.page);$(this.pageFrames.next).addClass(this.transitions.page);this.initEvents();this.onbeforeunload=
function(){};dkiUA.mobile?$("html").addClass("on-device"):$("html").addClass("on-desktop");dkiUA.iOS&&"tablet"!=dkiUA.getUAProperties().platform&&scormInterface&&$("html").addClass("iOS-iframe");dkiUA.isIE()&&$("html").addClass("isIE");this.behaviour.enableTextHighlight&&$("html").addClass("enableTextHighlight");$(".pageElementsWrapper.design").attr("aria-hidden","true");this.settings.responsive&&(b=function(b){b=$("\x3cdiv/\x3e",{"class":b});$("body").append(b);var h="none"!=b.css("display");b.remove();
return h},b("submitButtonPopup")&&(this.submitButtonPosition="popup"),b("submitButtonBelowOptions")&&(this.submitButtonPosition="belowQuestionOptions"),b("submitButtonBelowPage")&&(this.submitButtonPosition="belowPage"))};DKI.PresentationPlayer.prototype.applyTransitionClass=function(b,c){b=$(this.pageFrames[b]);b.removeClass(DKI.PresentationPlayer.transitionClasses);b.addClass(c)};
DKI.PresentationPlayer.prototype.initHeadersAndFooters=function(){var b=this;this.headers={primary:{el:$("\x3cdiv/\x3e",{"class":"headerPage hidden clearfix"})},secondary:{el:$("\x3cdiv/\x3e",{"class":"headerPage hidden clearfix"})}};this.footers={primary:{el:$("\x3cdiv/\x3e",{"class":"footerPage hidden clearfix"})},secondary:{el:$("\x3cdiv/\x3e",{"class":"footerPage hidden clearfix"})}};this.contentFrame.prepend([this.headers.primary.el,this.headers.secondary.el]);this.contentFrame.append([this.footers.primary.el,
this.footers.secondary.el]);this.course.header_primary_page&&(this.headers.primary.el.append($(DKI.renderService.renderPage(this.course.header_primary_page,this.course))),this.headers.primary.contentPage=new DKI.ContentPage({contentAPI:b.contentAPI,containerEl:this.headers.primary.el,actions:this.course.header_primary_page.actions,page:this.course.header_primary_page,player:b}));this.course.header_secondary_page&&(this.headers.secondary.el.append($(DKI.renderService.renderPage(this.course.header_secondary_page,
this.course))),this.headers.secondary.contentPage=new DKI.ContentPage({contentAPI:b.contentAPI,containerEl:this.headers.secondary.el,actions:this.course.header_secondary_page.actions,page:this.course.header_secondary_page,player:b}));this.course.footer_primary_page&&(this.footers.primary.el.append($(DKI.renderService.renderPage(this.course.footer_primary_page,this.course))),this.footers.primary.contentPage=new DKI.ContentPage({contentAPI:b.contentAPI,containerEl:this.footers.primary.el,actions:this.course.footer_primary_page.actions,
page:this.course.footer_primary_page,player:b}));this.course.footer_secondary_page&&(this.footers.secondary.el.append($(DKI.renderService.renderPage(this.course.footer_secondary_page,this.course))),this.footers.secondary.contentPage=new DKI.ContentPage({contentAPI:b.contentAPI,containerEl:this.footers.secondary.el,actions:this.course.footer_secondary_page.actions,page:this.course.footer_secondary_page,player:b}));$(document).on(DKI.ContentPage.events.started,function(c,l){l.page.pageid!=b.course.header_primary_page_id&&
l.page.pageid!=b.course.header_secondary_page_id&&l.page.pageid!=b.course.footer_primary_page_id&&l.page.pageid!=b.course.footer_secondary_page_id&&(l.page.parameters.layout.headers.primary_enabled&&b.headers.primary.contentPage?(b.headers.primary.el.removeClass("hidden"),b.headers.primary.contentPage.reset(),b.headers.primary.contentPage.start(0,!0)):b.headers.primary.el.addClass("hidden"),l.page.parameters.layout.headers.secondary_enabled&&b.headers.secondary.contentPage?(b.headers.secondary.el.removeClass("hidden"),
b.headers.secondary.contentPage.reset(),b.headers.secondary.contentPage.start(0,!0)):b.headers.secondary.el.addClass("hidden"),l.page.parameters.layout.footers.primary_enabled&&b.footers.primary.contentPage?(b.footers.primary.el.removeClass("hidden"),b.footers.primary.contentPage.reset(),b.footers.primary.contentPage.start(0,!0)):b.footers.primary.el.addClass("hidden"),l.page.parameters.layout.footers.secondary_enabled&&b.footers.secondary.contentPage?(b.footers.secondary.el.removeClass("hidden"),
b.footers.secondary.contentPage.reset(),b.footers.secondary.contentPage.start(0,!0)):b.footers.secondary.el.addClass("hidden"))});var c=function(){b.headers.primary.el.addClass("hidden");b.headers.secondary.el.addClass("hidden");b.footers.primary.el.addClass("hidden");b.footers.secondary.el.addClass("hidden")};$(document).on(DKI.EndModule.events.started,c);$(document).on(DKI.EndCourse.events.started,c);$(document).on(DKI.EndTest.events.started,c)};
DKI.PresentationPlayer.prototype.openSlideNotes=function(){var b=this;if(!this.notesWin||this.notesWin.closed)this.notesWin=window.open(settings.slideNotesURL,"_blank","height\x3d400,width\x3d600,toolbar\x3d0,location\x3d0,menubar\x3d0"),$(window).on("beforeunload",function(){b.notesWin.close()})};
DKI.PresentationPlayer.prototype.initEvents=function(){var b=this;if(this.behaviour.preventRightClick)$(document).on("contextmenu",function(){return!1});if(this.behaviour.enableBypassForceSequential){var c=function(h){h.ctrlKey&&h.altKey&&70==h.keyCode&&(b.behaviour.forceSequential=!1,$(document).off("keyup",c),$(b).trigger(b.events.bypassForceSequential))};$(document).on("keyup",c)}$(document).on(DKI.ContentPage.events.ready,function(c,l,m){b.resetContentHeight();b.applyCssEffects.init(m)});$(this.dataStorage).on(DKI.DataStorage.events.ready,
function(){"desktop"==dkiUA.getUAProperties().platform&&b.behaviour.pageNotes&&b.openSlideNotes();b.headerContainer=$("#navbar_header, #headerContainer");b.footerContainer=$("#footerContainer");b.initHeadersAndFooters();b.initSearch();b.setPlayerSize();settings.preventResume||b.resumeBookmark();b.contentFrame.removeClass("loading");var c=[];b.course.course_introduction_page_id&&(this.courseStructure.introDisplayed||c.push(b.course.course_introduction_page));b.course.module_introduction_page_id&&(this.courseStructure.introDisplayed||
b.settings.preventResume||c.push(b.course.module_introduction_page));c.length&&(this.doSetIntroCourseDisplayed(),this.doSetIntroModuleDisplayed(this.currentModule,!b.settings.preventResume),setTimeout(function(){b.showPage(c,null,1<c.length,0,!0);$(".fancybox-container").css("z-index",1E6)},500))});$(this.dataStorage).on(DKI.DataStorage.events.changeObject,function(){b.setObjectDisplay()});$(this.dataStorage).on(DKI.DataStorage.events.changeModule,function(c){b.checkIntroModule()});$(this.dataStorage).on(DKI.DataStorage.events.courseEnd,
function(){b.reachedEnd=!0});$(this.dataStorage).on(DKI.DataStorage.events.questionSubmitted,function(c,l,m){b.contentPage.current.setScore(l,m)});$(this.dataStorage).on(DKI.DataStorage.events.assessmentReady,function(){b.initBarsAssessment();b.navigation.setCurrentScreen(b.dataStorage.getCurrentQuestionCount());b.loadCurrentQuestion();b.pageFrames.previous.innerHTML="";b.inReview||(b.onbeforeunload=function(c){var l=b.strings.quitTestWarning;if(c=c||window.event)c.returnValue=l;return l});$("html").addClass("in-assessment")});
$(this.dataStorage).on(DKI.DataStorage.events.assessmentCompleted,function(){b.onbeforeunload=function(){};$("html").removeClass("in-assessment")});$(this.dataStorage).on(DKI.DataStorage.events.pageCompleted,function(){$(document).trigger(contentApi.events.dataSet,{id:"sys.learner.completion",newValue:contentApi.getData("sys.learner.completion")})});$(this.navigation).on(DKI.PlayerNavigation.events.forward,function(){b.forward()});$(this.navigation).on(DKI.PlayerNavigation.events.back,function(){b.back()});
$(this.navigation).on(DKI.PlayerNavigation.events.reload,function(){b.reload()});$(this.navigation).on(DKI.PlayerNavigation.events.menuToggle,function(){b.toggleOutline()});$(this.navigation).on(DKI.PlayerNavigation.events.menuClose,function(){b.hideTree()});$(this.navigation).on(DKI.PlayerNavigation.events.glossaryToggle,function(b,c){c?DKI.glossaryBrowse.show():DKI.glossaryBrowse.hide()});$(this.navigation).on(DKI.PlayerNavigation.events.resourceToggle,function(b,c){c?DKI.resourceBrowser.show():
DKI.resourceBrowser.hide()});$(this.navigation).on(DKI.PlayerNavigation.events.exit,function(){b.exitCourse.call(b)});$(this.navigation).on(DKI.PlayerNavigation.events.audioToggle,function(c,l){b.toggleAudio(l)});$(this.navigation).on(DKI.PlayerNavigation.events.transcriptToggle,function(){b.toggleTranscript()});$(document).on(DKI.Events.TestQuestion.nextClicked,function(){b.forward()});$(document).on(DKI.Events.TestQuestion.forceEnd,function(){b.forceEnd()});$(document).on(DKI.PlayerMenu.events.pageClicked,
function(c,l){b.onPageClicked(l)});$(document).on(DKI.ContentPage.events.resize,$.proxy(this.onPageResize,this));$(document).on(DKI.Events.TestQuestion.feedbackShown,function(){b.contentPage.current.question&&b.contentPage.current.numAttempts>=b.contentPage.current.question.attempts&&b.navigation.showForwardButton()});$(document).on(DKI.ContentPage.events.ready,$.proxy(this.onPageReady,this));$(document).on(DKI.EndModule.events.ready,$.proxy(this.onEndReady,this));$(document).on(DKI.EndCourse.events.ready,
$.proxy(this.onEndReady,this));$(document).on(DKI.EndTest.events.ready,$.proxy(this.onEndReady,this));$(window).on(settings.resizeEvent,$.proxy(this.onWindowResize,this));$(window).on("scroll",$.proxy(this.onWindowScroll,this));$(document).on(DKI.PlayerMenu.events.initialized,function(c,l){b.menu=l;b.menuWidth=b.menu.getWidth();b.menuLeft=b.menu.getLeft();$(b.menu).on(DKI.PlayerMenu.events.closed,function(){b.hideTree()})})};DKI.PresentationPlayer.prototype.initMenu=function(){};
DKI.PresentationPlayer.prototype.initSearch=function(){dkiUA.isIE()&&8>=dkiUA.ieVersion?$(".dki-WestPanel .menuHeader a.courseSearchOpen").remove():playerBehaviour.enableCourseSearch&&DKI.search.isSupportedLanguage()||$(".dki-WestPanel .menuHeader a.courseSearchOpen").remove()};
DKI.PresentationPlayer.prototype.checkPreTest=function(){var b;b=this.dataStorage.moduleIsTestOnly()?"undefined"==typeof this.dataStorage.getModuleScoringDetails(this.dataStorage.currentModule).assessment:0===this.dataStorage.getModuleCompletion(this.dataStorage.currentModule);return this.behaviour.enablePreTest&&!this.dataStorage.currentModule.forcePassed&&0<this.dataStorage.currentModule.weight&&b&&"object"!==typeof this.dataStorage.currentModule.pre&&(this.behaviour.forcePreTest||this.behaviour.preTestPrompt&&
window.confirm(this.strings.pretestQuestLabel+" ("+this.dataStorage.currentModule.loname+")"))?!0:!1};
DKI.PresentationPlayer.prototype.checkIntroModule=function(){var b=this;setTimeout(function(){!b.course.module_introduction_page_id||b.dataStorage.currentModule.introDisplayed||b.dataStorage.courseStructure.introDisplayed&&0==b.dataStorage.currentModuleIndex&&!b.settings.preventResume||(b.dataStorage.doSetIntroModuleDisplayed(b.dataStorage.currentModule,!0),b.showPage([b.course.module_introduction_page],null,!1,0,!0))},400)};
DKI.PresentationPlayer.prototype.displayURL=function(b,c,h){var l=function(){},m=function(){},u=function(){};h&&("function"==typeof h?l=h:(h.success&&(l=h.success),h.error&&(m=h.error),h.complete&&(u=h.complete)));$.get(b,function(b){c.innerHTML=b},"html").success(l).error(m).complete(u)};DKI.PresentationPlayer.prototype.getCurrentTestScore=function(){return this.dataStorage.getAssessmentScore()};
DKI.PresentationPlayer.prototype.getModuleScreenCount=function(b){for(var c=0,h=0;h<b.objects.length;h++)c+=b.objects[h].pages.length;return c};
DKI.PresentationPlayer.prototype.initBars=function(){if(null!=this.dataStorage.currentPage){var b=this.dataStorage.currentPage.page,c=this.dataStorage.previousPage;this.navigation.contentMode();this.setModuleDisplay();this.setObjectDisplay();this.navigation.setCurrentScreen(this.dataStorage.currentModulePage);this.behaviour.transcripts?b.transcript?this.navigation.enableTranscriptButton():this.navigation.disableTranscriptButton():this.navigation.hideTranscriptButton();b.disableaudio?this.navigation.hideAudioButton():
this.navigation.showAudioButton();this.dataStorage.pageDisablesNext(b)&&this.navigation.hideForwardButton();b.disableback&&this.navigation.hideBackButton();c||this.navigation.hideBackButton();DKI.glossaryBrowse.isEmpty()&&this.navigation.disableGlossaryButton();!DKI.resourceBrowser.isEmpty()&&this.behaviour.enableResourcesButton||this.navigation.disableResourceButton()}};
DKI.PresentationPlayer.prototype.initBarsAssessment=function(){var b=this.dataStorage.getCurrentQuestion().page,c=!1;if(this.inReview||this.behaviour.enableForwardInTesting&&this.dataStorage.getCurrentQuestionCount()<this.dataStorage.getTotalQuestions())c=!0;this.navigation.testMode(c);b.disableAudio?this.navigation.hideAudioButton():this.navigation.showAudioButton();this.navigation.hideBackButton();this.navigation.setTotalScreens(this.dataStorage.getTotalQuestions());this.navigation.setCurrentScreen(this.dataStorage.getCurrentQuestionCount());
this.behaviour.transcripts?b.transcript?this.navigation.enableTranscriptButton():this.navigation.disableTranscriptButton():this.navigation.hideTranscriptButton()};DKI.PresentationPlayer.prototype.initBarsEndScreen=function(){this.inEndScreen=!0;this.behaviour.transcripts&&this.navigation.disableTranscriptButton();this.navigation.endMode()};
DKI.PresentationPlayer.prototype.jumpTo=function(b){var c=null;this.contentPage.current&&(this.contentPage.current.page&&this.contentPage.current.page.pageid?c=this.contentPage.current.page.pageid:this.contentPage.current.question&&this.contentPage.current.question.page_id&&(c=this.contentPage.current.question.page_id));this.resetContentHeight();b==c?this.contentReload():(this.dataStorage.jumpToPage(b),this.jumpComplete())};
DKI.PresentationPlayer.prototype.jumpToModule=function(b){var c=this.dataStorage.moduleIsTestOnly(b);if(c&&this.behaviour.skipEnd)return!1;this.dataStorage.jumpToModule(b);c?(this.inEndScreen=!1,this.loadModuleEnd(),this.startModuleEnd()):this.jumpComplete();return!0};
DKI.PresentationPlayer.prototype.jumpComplete=function(){this.inEndScreen=this.inAssessment=!1;this.contentAPI.hideBoth();this.initBars();this.reachedEnd=!1;this.checkIntroModule();this.checkPreTest()?this.launchTest(this.dataStorage.currentModule.loid,"pre"):(this.applyTransitionClass("next",this.transitions.jump),this.loadPage("next",this.dataStorage.currentPage,function(){this.dataStorage.setCurrentPageComplete();this.reload=this.contentReload;this.shuffleForward(!0);this.initBars();this.dataStorage.previousPage&&
(this.applyTransitionClass("previous",this.transitions.page),this.contentPage.previous&&this.contentPage.previous.page&&this.dataStorage.previousPage.page_id==this.contentPage.previous.page.id||this.loadPage("previous",this.dataStorage.previousPage));playerBehaviour.nonLinearCompletion&&!this.dataStorage.courseStructure.complete||!this.dataStorage.isEndOfCourse(this.behaviour.skipEnd)?!this.behaviour.skipEnd&&this.dataStorage.isEndOfModule()?this.loadModuleEnd():this.dataStorage.nextPage?playerBehaviour.nonLinearCompletion&&
!this.dataStorage.currentModule.isRevisiting?this.dataStorage.courseStructure.complete?this.loadCourseEnd():!this.behaviour.skipEnd&&this.dataStorage.currentModule.complete?this.loadModuleEnd():(this.applyTransitionClass("next",this.transitions.page),this.contentPage.next&&this.contentPage.next.page&&this.dataStorage.nextPage.page_id==this.contentPage.next.page.id||this.loadPage("next",this.dataStorage.nextPage),this.dataStorage.nextPage.complete&&this.dataStorage.currentPage.objectid!=this.dataStorage.nextPage.objectid&&
(this.forward=this.jumpToNextIncompletePage)):(this.applyTransitionClass("next",this.transitions.page),this.contentPage.next&&this.contentPage.next.page&&this.dataStorage.nextPage.page_id==this.contentPage.next.page.id||this.loadPage("next",this.dataStorage.nextPage),this.forward=this.contentForward):playerBehaviour.nonLinearCompletion&&!this.dataStorage.currentModule.isRevisiting&&(this.dataStorage.courseStructure.complete?this.loadCourseEnd():!this.behaviour.skipEnd&&this.dataStorage.currentModule.complete?
this.loadModuleEnd():(this.applyTransitionClass("next",this.transitions.page),this.forward=this.jumpToNextIncompletePage,this.navigation.showForwardButton())):this.loadCourseEnd();$(this).trigger(this.events.contentPageLoaded);$(this).trigger(this.events.pageLoaded);this.back=this.contentBack}))};
DKI.PresentationPlayer.prototype.launchReview=function(b){this.inReview=!0;this.inEndScreen=!1;this.forward=this.assessmentForward;this.forceEnd=this.assessmentForceEnd;this.back=this.assessmentBack;this.reload=this.loadCurrentQuestion;this.dataStorage.createReview(b);this.hideTree()};
DKI.PresentationPlayer.prototype.launchTest=function(b,c,h){this.inAssessment||(this.inAssessment=!0,this.inEndScreen=!1,this.forward=this.assessmentForward,this.forceEnd=this.assessmentForceEnd,this.back=this.assessmentBack,this.reload=this.loadCurrentQuestion,this.dataStorage.createTest(b,c,h),this.hideTree())};
DKI.PresentationPlayer.prototype.loadCertificate=function(){var b=this;this.course.certificate_page?this.loadPage("next",{subeotype:0,page:this.course.certificate_page},function(){b.shuffleForward()}):(this.contentPage.next&&this.contentPage.next.destroy&&this.contentPage.next.destroy(),this.contentPage.next=DKI.CompletionCertificate,this.applyTransitionClass("next",this.transitions.end),DKI.CompletionCertificate.init(b,b.pageFrames.next),b.shuffleForward())};
DKI.PresentationPlayer.prototype.loadCompletion=function(){this.dataStorage.loadCompletion();if(publish_filters&&publish_filters.length){var b=settings.publish_filters.filter(function(b){return 1==b.type});this.dataStorage.publishFilter&&(!this.dataStorage.publishFilter||"all"===this.dataStorage.publishFilter&&0===b.length||b.length&&(!b.length||this.dataStorage.publishFilter==b[0].id)||contentApi.changePublishFilter({publishFilterId:this.dataStorage.publishFilter}))}};
DKI.PresentationPlayer.prototype.loadCourseEnd=function(){var b=!1,c=this;this.reachedEnd||this.behaviour.skipEnd||(b=!0);this.reachedEnd=!0;b?this.loadModuleEnd():this.course.course_summary_page?this.loadPage("next",{subeotype:0,page:this.course.course_summary_page},function(){c.forward=c.startCourseEnd;c.onEndReady()}):(this.contentPage.next&&this.contentPage.next.destroy&&this.contentPage.next.destroy(),this.contentPage.next=DKI.EndCourse,this.applyTransitionClass("next",this.transitions.end),
DKI.EndCourse.init(c,c.pageFrames.next),this.forward=this.startCourseEnd)};
DKI.PresentationPlayer.prototype.loadCurrentPage=function(b){var c=this,h=this.dataStorage.currentPage;this.forward=this.contentForward;this.back=this.contentBack;this.checkIntroModule();this.checkPreTest()?this.launchTest(this.dataStorage.currentModule.loid,"pre"):(this.applyTransitionClass("current",this.transitions.page),this.loadPage("current",h,function(){this.reload=this.contentReload;this.contentPage.current.start();this.dataStorage.setCurrentPageComplete();this.navigation.setCurrentScreen(this.dataStorage.currentModulePage);
this.initBars();$(this).trigger(this.events.contentPageLoaded);$(this).trigger(this.events.pageLoaded);if(b&&this.settings.responsive){var h=c.dataStorage.lastSection,m=c.dataStorage.groupBookmark;if(dataStorage.resumeFromBookmark)var u=function(){m?c.contentPage.current.jumpToGroup(m):c.contentPage.current.jumpToGroup(h);$(document).off(DKI.ContentPage.events.loadFinished,u)};$(document).on(DKI.ContentPage.events.loadFinished,u)}}),this.dataStorage.previousPage&&(this.applyTransitionClass("previous",
this.transitions.page),this.loadPage("previous",this.dataStorage.previousPage)),this.dataStorage.isEndOfCourse(this.behaviour.skipEnd)?this.loadCourseEnd():!this.behaviour.skipEnd&&this.dataStorage.isEndOfModule()?this.loadModuleEnd():this.dataStorage.nextPage&&(playerBehaviour.nonLinearCompletion&&!this.dataStorage.currentModule.isRevisiting?this.dataStorage.courseStructure.complete?this.loadCourseEnd():!this.behaviour.skipEnd&&this.dataStorage.currentModule.complete?this.loadModuleEnd():(this.applyTransitionClass("next",
this.transitions.page),this.loadPage("next",this.dataStorage.nextPage),this.forward=this.jumpToNextIncompletePage):(this.applyTransitionClass("next",this.transitions.page),this.loadPage("next",this.dataStorage.nextPage))))};
DKI.PresentationPlayer.prototype.loadPage=function(b,c,h){var l=this,m=this.pageFrames[b],u=c.page.actions;this.loadState[b]="loading";(function(){if(null!==u){l.contentPage[b]&&l.contentPage[b].destroy&&l.contentPage[b].destroy();l.contentPage[b]=new DKI.ContentPage({contentAPI:l.contentAPI,containerEl:m,actions:u,page:c.page,player:l});var q=function(){l.contentAPI.closePopupPage();l.loadState[b]="done";h&&h.call(l);l.queuedAction&&("forward"===l.queuedAction&&"next"===b?l.forward():"resume"===
l.queuedAction&&"next"===b?l.resume():"back"===l.queuedAction&&"previous"===b&&l.back(),l.queuedAction=null);$(document).on(DKI.ContentPage.events.loadFinished+".startTimer",function(b,h){h.page.id==c.page.id&&($(document).off(DKI.ContentPage.events.loadFinished+".startTimer"),(!l.inAssessment||l.inAssessment&&!l.dataStorage.assessment.countdownTimer)&&l.startContentTimer())})};7==c.subeotype?requirejs(["testing"],function(){l.contentPage[b]=new DKI.TestQuestion(l,l.contentPage[b],c.question,!0);
q()}):(8==c.subeotype&&(l.contentPage[b]=new DKI.Scene(l,l.contentPage[b])),q())}})()};DKI.PresentationPlayer.prototype.loadQuestion=function(b,c,h){var l=this;this.loadPage(b,c,function(){requirejs(["testing"],function(){l.contentPage[b]=new DKI.TestQuestion(l,l.contentPage[b],c);h&&h.call(l)})})};
DKI.PresentationPlayer.prototype.loadCurrentQuestion=function(){var b=this,c=this.dataStorage.getCurrentQuestion(),h=this.dataStorage.getNextQuestion();this.applyTransitionClass("next",this.transitions.jump);this.navigation.setTotalScreens(this.dataStorage.getTotalQuestions());this.navigation.setCurrentScreen(this.dataStorage.getCurrentQuestionCount());this.loadQuestion("next",c,function(){b.shuffleForward();b.initBarsAssessment();b.inReview&&b.questionPage.showReview(b.dataStorage.assessment.prepost,
b.dataStorage.getCurrentQuestion().userChoices,b.dataStorage.getCurrentQuestion().options,b.dataStorage.getCurrentQuestion());b.applyTransitionClass("current",b.transitions.page);b.behaviour.transcripts?c.page.transcript?b.navigation.enableTranscriptButton():b.navigation.disableTranscriptButton():b.navigation.hideTranscriptButton();b.menu.selectQuestion(c);b.assessmentState="next";b.questionFeedbackClosed="false";h?(b.applyTransitionClass("next",b.transitions.page),b.loadQuestion("next",h,function(){$(b).trigger(b.events.pageLoaded);
$(b).trigger(b.events.questionPageLoaded)})):b.loadModuleEnd(function(){});$(b).trigger(b.events.questionPageLoaded);$(b).trigger(b.events.pageLoaded)})};
DKI.PresentationPlayer.prototype.loadModuleEnd=function(b){var c=this,h=dataStorage.currentModule;if(this.inEndScreen){var l=dataStorage.getNextModule();l&&(h=l)}this.applyTransitionClass("next",this.transitions.end);this.course.module_summary_page?this.loadPage("next",{subeotype:0,page:this.course.module_summary_page},function(){c.forward=c.startModuleEnd;c.onEndReady();b&&b.call(c)}):h&&(c.contentPage.next=DKI.EndModule,DKI.EndModule.init(c,this.pageFrames.next,h),b&&b.call(c),this.forward=this.startModuleEnd)};
DKI.PresentationPlayer.prototype.loadPageActions=function(b,c){b=this.settings.actionsURL+b+this.settings.actionsPrefix;var h=function(){},l=function(){},m=function(){};c&&("function"==typeof c?h=c:(c.success&&(h=c.success),c.error&&(l=c.error),c.complete&&(m=c.complete)));$.get(b,function(){},"json").success(h).error(l).complete(m)};
DKI.PresentationPlayer.prototype.resume=function(b){var c=this,h=function(h){c.inAssessment=!1;c.inEndScreen=!1;if("loading"===c.loadState.next)return c.queuedAction||(c.queuedAction="resume"),!0;if(c.reachedEnd)c.startCourseEnd();else{var m=this.dataStorage.getModuleScoringDetails(this.dataStorage.currentModule);if(!h||playerBehaviour.pretestSkipContent&&m.passed){if(b&&playerBehaviour.pretestSkipContent&&m.passed){c.jumpToModule(c.dataStorage.getNextModule());return}this.dataStorage.nextModuleIsTestOnly()&&
(c.inEndScreen=!0,c.loadModuleEnd(),c.inEndScreen=!1);c.dataStorage.goNextPage()}else c.dataStorage.resume();c.checkIntroModule();!this.dataStorage.moduleIsTestOnly()&&c.checkPreTest()?c.launchTest(c.dataStorage.currentModule.loid,"pre"):(c.applyTransitionClass("next",c.transitions.page),c.forward(!0),setTimeout(function(){c.dataStorage.previousPage&&(c.applyTransitionClass("previous",c.transitions.page),c.loadPage("previous",c.dataStorage.previousPage))},500))}};this.course.testonly?function(){var b=
c.dataStorage.lessonStatus;"passed"===b||"failed"===b||c.dataStorage.allTestsAttempted()?c.startCourseEnd():c.dataStorage.goNextModule()?c.launchTest(c.dataStorage.currentModule.loid,"post"):(c.dataStorage.onCourseComplete(),c.startCourseEnd())}():h(b)};
DKI.PresentationPlayer.prototype.resumeBookmark=function(){var b=this,c=this.dataStorage.bookmark,h=this.dataStorage.lessonStatus;this.course.testonly?"passed"===h||"failed"===h||this.dataStorage.allTestsAttempted()?(this.dataStorage.onCourseComplete(),this.resumeToCourseEnd()):c&&""!==c&&this.dataStorage.jumpToModule(c)?this.launchTest(c,"post"):this.dataStorage.jumpToModule(this.course.modules[0].loid)&&this.launchTest(this.course.modules[0].loid,"post"):this.dataStorage.moduleHasPages(this.dataStorage.currentModule)?
(this.dataStorage.resume(this.behaviour.autoResume),this.dataStorage.assessmentBookmark&&this.dataStorage.resumeFromBookmark&&playerBehaviour.enableAssessmentBookmarking?this.launchTest(this.dataStorage.assessmentBookmark.moduleid,this.dataStorage.assessmentBookmark.prepost,!0):(this.setModuleDisplay(),this.loadCurrentPage(!0)),this.dataStorage.assessmentBookmark=null):this.loadModuleEnd(function(){b.startModuleEnd()})};
DKI.PresentationPlayer.prototype.resumeToCourseEnd=function(){var b=this;this.course.course_summary_page?this.loadPage("current",{subeotype:0,page:this.course.course_summary_page},function(){b.initBarsEndScreen();b.hideTree();b.contentPage.current.start()}):(this.contentPage.current=DKI.EndCourse,DKI.EndCourse.init(this,this.pageFrames.current),b.initBarsEndScreen(),b.hideTree(),DKI.EndCourse.start())};
DKI.PresentationPlayer.prototype.resumeToModuleEnd=function(){var b=this;this.course.module_summary_page?this.loadPage("current",{subeotype:0,page:this.module_summary_page},function(){b.initBarsEndScreen();b.hideTree();b.contentPage.current.start()}):(this.contentPage.current=DKI.EndModule,DKI.EndModule.init(this,this.pageFrames.current),b.initBarsEndScreen(),b.hideTree(),DKI.EndModule.start())};
DKI.PresentationPlayer.prototype.shuffleForward=function(b){var c=this.pageFrames.previous;this.contentFrame.removeClass("back").addClass("forward");this.pageFrames.previous=this.pageFrames.current;this.pageFrames.current=this.pageFrames.next;this.pageFrames.next=c;this.contentPage.previous&&this.contentPage.previous.destroy&&this.contentPage.previous.destroy();this.contentPage.previous=this.contentPage.current;this.contentPage.current=this.contentPage.next;this.contentPage.next=null;c.innerHTML=
"";this.settings.responsive&&($("html").hasClass("showAudioCaptions")?($(".responsive .bgRepeater").css("overflow-y","initial"),$el=$("html.showAudioCaptions .dki-audio-closed-caption-container"),$el.css("display","none"),$el[0].offsetHeight,$el.css("display","")):$(".responsive .bgRepeater").css("overflow-y","hidden"));$(this.pageFrames.previous).removeClass("current dk-hidden").addClass("previous").css("top",$(".headerPage:not(.hidden)").outerHeight());$(this.pageFrames.current).removeClass("next dk-hidden").addClass("current").css({visibility:"",
top:""});$(this.pageFrames.next).removeClass("previous dk-hidden").addClass("next").css("top",$(".headerPage:not(.hidden)").outerHeight());var h=this,c=function(){$(h.pageFrames.previous).css("visibility","hidden").addClass("dk-hidden");$(h.pageFrames.next).css("visibility","hidden").addClass("dk-hidden")};b?c():setTimeout(c,500);this.settings.responsive||($(h.pageFrames.previous).height(this.course.height),$(h.pageFrames.next).height(this.course.height));if($(document.body).hasClass("mobile")){this.headerContainer.css("position",
"relative");$("body, html, #contentFrame").scrollTop(0);try{$(parent.document).scrollTop(0)}catch(l){}this.headerContainer.css("position","fixed")}else if(this.settings.responsive){$("body, html, #contentFrame").scrollTop(0);try{$(parent.document).scrollTop(0)}catch(l){}}null!==this.contentPage.previous&&this.contentPage.previous.reset&&this.contentPage.previous.reset({timeout:500});null!=this.contentPage.current&&this.contentPage.current.start()};
DKI.PresentationPlayer.prototype.shuffleBack=function(b){var c=this.pageFrames.next;this.contentFrame.removeClass("forward").addClass("back");this.pageFrames.next=this.pageFrames.current;this.pageFrames.current=this.pageFrames.previous;this.pageFrames.previous=c;this.contentPage.next&&this.contentPage.next.destroy&&this.contentPage.next.destroy();this.contentPage.next=this.contentPage.current;this.contentPage.current=this.contentPage.previous;this.contentPage.previous=null;c.innerHTML="";this.settings.responsive&&
($("html").hasClass("showAudioCaptions")?($(".responsive .bgRepeater").css("overflow-y","initial"),$el=$("html.showAudioCaptions .dki-audio-closed-caption-container"),$el.css("display","none"),$el[0].offsetHeight,$el.css("display","")):$(".responsive .bgRepeater").css("overflow-y","hidden"));$(this.pageFrames.next).removeClass("current dk-hidden").addClass("next").css("top",$(".headerPage:not(.hidden)").outerHeight());$(this.pageFrames.current).removeClass("previous dk-hidden").addClass("current").css({visibility:"",
top:""});$(this.pageFrames.previous).removeClass("next dk-hidden").addClass("previous").css("top",$(".headerPage:not(.hidden)").outerHeight());var h=this,c=function(){$(h.pageFrames.previous).css("visibility","hidden").addClass("dk-hidden");$(h.pageFrames.next).css("visibility","hidden").addClass("dk-hidden")};b?c():setTimeout(c,500);this.settings.responsive||($(h.pageFrames.previous).height(this.course.height),$(h.pageFrames.next).height(this.course.height));if($(document.body).hasClass("mobile")){this.headerContainer.css("position",
"relative");$("body, html, #contentFrame").scrollTop(0);try{$(parent.document).scrollTop(0)}catch(l){}this.headerContainer.css("position","")}else if(this.settings.responsive){$("body, html, #contentFrame").scrollTop(0);try{$(parent.document).scrollTop(0)}catch(l){}}this.contentPage.next.reset&&this.contentPage.next.reset({timeout:500});null!=this.contentPage.current&&this.contentPage.current.start()};
DKI.PresentationPlayer.prototype.startModuleEnd=function(){if(playerBehaviour.nonLinearCompletion&&!this.dataStorage.currentModule.complete&&this.jumpToNextIncompletePage())return!1;if(""==this.pageFrames.next.innerHTML)$(document).on(DKI.EndModule.events.ready,$.proxy(function(){this.startModuleEnd()},this));else{var b=this.inAssessment||this.inReview;this.inAssessment=this.inReview=!1;this.dataStorage.assessment&&(this.dataStorage.assessment.currentQuestion=null);$(".questionScoreDisplay").hide();
$(".submitButton").hide();$("#countDownTimer").remove();var c=b&&"pre"===this.dataStorage.assessment.prepost;b&&(this.course.testonly&&this.dataStorage.allTestsAttempted()||!this.course.testonly&&!this.dataStorage.nextPage&&"pre"!==this.dataStorage.assessment.prepost&&this.dataStorage.isEndOfCourse(this.behaviour.skipEnd))&&(this.reachedEnd=!0);if(this.dataStorage.isEndOfCourse(!1,c)||this.dataStorage.nextModuleIsTestOnly()&&this.dataStorage.allTestsAttempted())this.reachedEnd=!0;this.setModuleDisplay();
this.clearObjectDisplay();this.initBarsEndScreen();this.hideTree();this.forward=this.contentForward;this.shuffleForward();if(this.reachedEnd)this.loadCourseEnd();else if(this.applyTransitionClass("next",this.transitions.page),!this.course.testonly&&!this.dataStorage.nextModuleIsTestOnly()||c)playerBehaviour.nonLinearCompletion&&!this.inEndScreen&&this.dataStorage.jumpToEndOfModule(),b=this.dataStorage.getModuleScoringDetails(this.dataStorage.currentModule),!c||playerBehaviour.pretestSkipContent&&
b.passed?(c=this.dataStorage.getNextPage())?(this.applyTransitionClass("next",this.transitions.page),this.loadPage("next",c),this.forward=this.contentForward,this.back=this.contentBack):this.dataStorage.isEndOfCourse(this.behaviour.skipEnd)?this.loadCourseEnd():!this.behaviour.skipEnd&&this.dataStorage.isEndOfModule()&&(this.dataStorage.moduleIsTestOnly()||this.loadModuleEnd()):(this.loadPage("next",this.dataStorage.currentPage),this.forward=this.contentForward,this.back=this.contentBack)}};
DKI.PresentationPlayer.prototype.startCourseEnd=function(){if(playerBehaviour.nonLinearCompletion&&!this.dataStorage.currentModule.complete&&this.jumpToNextIncompletePage())return!1;if(""==this.pageFrames.next.innerHTML)$(document).on(DKI.EndCourse.events.ready,$.proxy(function(){this.startCourseEnd()},this));else this.initBarsEndScreen(),this.navigation.showMenuButton(),this.hideTree(),this.shuffleForward(),this.pageFrames.next.innerHTML=""};
DKI.PresentationPlayer.prototype.setPlayerSize=function(){var b=0,c=this.course.width,h=this,l=function(){h.barHeight=(h.headerContainer.is(":visible")?h.headerContainer.outerHeight():0)+(h.footerContainer.is(":visible")?h.footerContainer.outerHeight():0);b=h.barHeight+parseInt(h.course.height,10)};l();if((this.behaviour.resizeWindow||this.isAdminPreview)&&!settings.responsive){if(scormInterface)scormInterface.process("onPlayerResize",[{barHeight:this.barHeight,totalHeight:b,totalWidth:c}],function(b){l();
h.setPageHeight(b);$("#contentFrame").height(b);$(h).trigger(h.events.playerResized)});else{var m=c-$(window).width(),u=b-$(window).height();DKI.canAccessIframe(top)&&($(top.window).one("resize",DKI.func.debounce(function(){m=c-$(window).width();top.window.resizeBy(m,0)},100)),top.window.resizeBy(m,u));800>=screen.availHeight&&(u=function(){l();if(b>$(window).height()){var c=$(window).height()-h.barHeight;h.setPageHeight(c);$("#contentFrame").height(c);$(window).off(settings.resizeEvent,this);$(h).trigger(h.events.playerResized)}},
$(window).on(settings.resizeEvent,$.proxy(u,u)))}$(this).trigger(this.events.playerResized)}this.resetContentHeight()};DKI.PresentationPlayer.prototype.onEndReady=function(){var b=this.dataStorage.currentPage;!b||this.inAssessment||this.inEndScreen||this.dataStorage.pageDisablesNext(b.page)||this.navigation.showForwardButton()};
DKI.PresentationPlayer.prototype.onWindowResize=DKI.func.debounce(function(){if(this.contentPage.current&&this.contentPage.current.onWindowResize)this.contentPage.current.onWindowResize();if(this.contentPage.previous&&this.contentPage.previous.onWindowResize)this.contentPage.previous.onWindowResize();if(this.contentPage.next&&this.contentPage.next.onWindowResize)this.contentPage.next.onWindowResize();if(this.headers.primary.contentPage&&this.headers.primary.contentPage.onWindowResize)this.headers.primary.contentPage.onWindowResize();
if(this.headers.secondary.contentPage&&this.headers.secondary.contentPage.onWindowResize)this.headers.secondary.contentPage.onWindowResize();if(this.footers.primary.contentPage&&this.footers.primary.contentPage.onWindowResize)this.footers.primary.contentPage.onWindowResize();if(this.footers.secondary.contentPage&&this.footers.secondary.contentPage.onWindowResize)this.footers.secondary.contentPage.onWindowResize();settings.responsive&&this.resetContentHeight();this.setCountdownTimerPosition();this.setContentTimerPosition()},
75,!1);DKI.PresentationPlayer.prototype.resetContentHeight=function(){if(settings.responsive){var b=2,c=$(".headerPage:not(.hidden)").outerHeight(),h=$("#contentFrame").offset().top,l=$(".footerPage:not(.hidden)").outerHeight(),m=$("#footerContainer").height();c&&(b+=c);h&&(b+=h);l&&(b+=l);m&&(b+=m);b/=settings.scale;$(".dkiContentFrame, .bgRepeater, .dkiContentFrame\x3e.pageElementsWrapper").css({"min-height":""}).css({"min-height":$(window).height()-b})}};
DKI.PresentationPlayer.prototype.onWindowScroll=function(){if(this.contentPage.current&&this.contentPage.current.onWindowScroll)this.contentPage.current.onWindowScroll();if(this.contentPage.previous&&this.contentPage.previous.onWindowScroll)this.contentPage.previous.onWindowScroll();if(this.contentPage.next&&this.contentPage.next.onWindowScroll)this.contentPage.next.onWindowScroll();if(this.headers.primary.contentPage&&this.headers.primary.contentPage.onWindowScroll)this.headers.primary.contentPage.onWindowScroll();
if(this.headers.secondary.contentPage&&this.headers.secondary.contentPage.onWindowScroll)this.headers.secondary.contentPage.onWindowScroll();if(this.footers.primary.contentPage&&this.footers.primary.contentPage.onWindowScroll)this.footers.primary.contentPage.onWindowScroll();if(this.footers.secondary.contentPage&&this.footers.secondary.contentPage.onWindowScroll)this.footers.secondary.contentPage.onWindowScroll()};
DKI.PresentationPlayer.prototype.onQuestionLoaded=function(b){this.navigation.setCurrentScreen(this.currentTest.currentQuestionDisplay);this.displayURL(b,this.currentFrame);return!0};DKI.PresentationPlayer.prototype.onQuestionFeedbackClosed=function(){"next"===this.assessmentState?this.loadCurrentQuestion():"complete"===this.assessmentState?this.loadModuleEnd():this.questionFeedbackClosed=!0};
DKI.PresentationPlayer.prototype.onPageClicked=function(b,c,h){"undefined"===typeof c&&(c=!1);"undefined"===typeof h&&(h=!1);h&&!this.canJump(b)?window.alert(this.strings.noNavLabel):(this.hideTree(),c&&this.dataStorage.completePreviousPages(b),this.jumpTo(b))};DKI.PresentationPlayer.prototype.onPageReady=function(b,c){if(this.inAssessment||this.inReview)this.onQuestionPageReady(c);else this.onContentPageReady(c)};
DKI.PresentationPlayer.prototype.onPageResize=function(b,c){this.isMobile&&this.settings.scrolling&&this.setPageHeight(c)};
DKI.PresentationPlayer.prototype.onContentPageReady=function(b){var c=this.dataStorage.nextPage?parseInt(this.dataStorage.nextPage.page.pageid,"10"):null,h=this.dataStorage.previousPage?parseInt(this.dataStorage.previousPage.page.pageid,"10"):null;b=parseInt(b.pageid,10);var l=this.dataStorage.currentPage,m=this;b!==c||this.inEndScreen||this.dataStorage.pageDisablesNext(l.page)?b!==h||this.inEndScreen||l.page.disableback||this.navigation.showBackButton():setTimeout(function(){m.navigation.showForwardButton()},
50);player.behaviour.pageNotes&&player.openSlideNotes()};DKI.PresentationPlayer.prototype.onQuestionPageReady=function(){};
DKI.PresentationPlayer.prototype.contentBack=function(){$(".capture").length&&$(".capture").hasClass("capture-fullscreen-overflow")&&(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)&&(document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen());var b=this;this.reachedEnd=
!1;this.contentAPI.hideBoth();if("loading"===this.loadState.previous)return this.queuedAction||(this.queuedAction="back"),!0;this.dataStorage.goPreviousPage();this.shuffleBack();this.initBars();this.dataStorage.setCurrentPageComplete();this.navigation.setCurrentScreen(this.dataStorage.currentModulePage);this.forward=this.contentForward;this.reload=this.contentReload;$(this).trigger(this.events.contentPageLoaded);$(this).trigger(this.events.pageLoaded);setTimeout(function(){b.dataStorage.isEndOfCourse(b.behaviour.skipEnd)?
b.loadCourseEnd():!b.behaviour.skipEnd&&b.dataStorage.isEndOfModule()&&b.loadModuleEnd()},500);this.dataStorage.previousPage&&(this.applyTransitionClass("previous",this.transitions.page),this.loadPage("previous",this.dataStorage.previousPage));return!0};
DKI.PresentationPlayer.prototype.contentForward=function(b){$(".capture").length&&$(".capture").hasClass("capture-fullscreen-overflow")&&(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)&&(document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen());var c=this.dataStorage.currentModule,
h=this.transitions.page+" next";this.contentAPI.hideBoth();if("loading"===this.loadState.next)return this.queuedAction||(this.queuedAction="forward"),!0;b||(this.behaviour.skipEnd?this.dataStorage.goNextValidPage():this.dataStorage.goNextPage());c!==this.dataStorage.currentModule&&this.checkPreTest(this.dataStorage.currentModule)?this.launchTest(this.dataStorage.currentModule.loid,"pre"):(this.applyTransitionClass(h),this.shuffleForward(),this.dataStorage.setCurrentPageComplete(),this.navigation.setCurrentScreen(this.dataStorage.currentModulePage),
this.reload=this.contentReload,$(this).trigger(this.events.contentPageLoaded),$(this).trigger(this.events.pageLoaded),this.dataStorage.isEndOfCourse(this.behaviour.skipEnd)?this.loadCourseEnd():!this.behaviour.skipEnd&&this.dataStorage.isEndOfModule()?this.loadModuleEnd():this.dataStorage.nextPage&&(playerBehaviour.nonLinearCompletion&&!this.dataStorage.currentModule.isRevisiting?this.dataStorage.courseStructure.complete?this.loadCourseEnd():!this.behaviour.skipEnd&&this.dataStorage.currentModule.complete?
this.loadModuleEnd():(this.applyTransitionClass("next",this.transitions.page),this.loadPage("next",this.dataStorage.nextPage),this.dataStorage.nextPage.complete&&this.dataStorage.currentPage.objectid!=this.dataStorage.nextPage.objectid&&(this.forward=this.jumpToNextIncompletePage)):(this.applyTransitionClass("next",this.transitions.page),this.loadPage("next",this.dataStorage.nextPage))),this.initBars());return!0};
DKI.PresentationPlayer.prototype.contentReload=function(){this.contentPage.current.reset();this.contentPage.current.start()};DKI.PresentationPlayer.prototype.assessmentForceEnd=function(){this.loadModuleEnd();this.startModuleEnd()};
DKI.PresentationPlayer.prototype.assessmentForward=function(){var b;b=this.transitions.page+" next";var c=this;if("loading"===this.loadState.next)return this.queuedAction||(this.queuedAction="forward"),!0;this.dataStorage.goNextQuestion();this.applyTransitionClass(b);this.contentAPI.hideBoth();this.shuffleForward();this.initBarsAssessment();this.navigation.setTotalScreens(this.dataStorage.getTotalQuestions());this.navigation.setCurrentScreen(this.dataStorage.getCurrentQuestionCount());this.inReview&&
this.questionPage.showReview(this.dataStorage.assessment.prepost,this.dataStorage.getCurrentQuestion().userChoices,this.dataStorage.getCurrentQuestion().options,this.dataStorage.getCurrentQuestion());(b=this.dataStorage.getNextQuestion())?(this.applyTransitionClass("next",this.transitions.page),this.loadQuestion("next",b,function(){$(c).trigger(c.events.pageLoaded);$(c).trigger(c.events.questionPageLoaded)})):this.loadModuleEnd(function(){});return!0};
DKI.PresentationPlayer.prototype.assessmentBack=function(){var b;this.applyTransitionClass(this.transitions.page+" previous");this.contentAPI.hideBoth();if("loading"===this.loadState.previous)return this.queuedAction||(this.queuedAction="back"),!0;this.dataStorage.goPreviousQuestion();this.shuffleBack();if(b=this.dataStorage.getPreviousQuestion())this.applyTransitionClass("previous",this.transitions.previous),this.loadQuestion("previous",b),this.contentAPI.showBoth();$(this).trigger(this.events.pageLoaded);
$(this).trigger(this.events.questionPageLoaded);return!0};DKI.PresentationPlayer.prototype.hideTree=function(){this.menu.hide();this.navigation.setMenuState(!1)};DKI.PresentationPlayer.prototype.showTree=function(){this.menu.show();this.menu.scrollToSelected();this.navigation.setMenuState(!0)};DKI.PresentationPlayer.prototype.toggleAudio=function(b){this.audio="on"===b?!0:!1;this.contentPage.current.setAudio&&this.contentPage.current.setAudio(this.audio)};
DKI.PresentationPlayer.prototype.showTranscript=function(){dataStorage.currentPage.page.transcript&&""!=dataStorage.currentPage.page.transcript.body&&(contentApi.showPopup({html:dataStorage.currentPage.page.transcript.body,effect:"fade",style:"gray-light",autoFocus:!0,popupType:{modal:!0,mod:"middle fill",type:"banner"}}),$(this).trigger(this.events.playerTranscriptShown))};DKI.PresentationPlayer.prototype.hideTranscript=function(){this.hideTree()};
DKI.PresentationPlayer.prototype.toggleTranscript=function(){"transcriptTab"!==this.menu.selectedTab()||this.menu.tabSet.isHidden()?this.showTranscript():this.hideTranscript()};DKI.PresentationPlayer.prototype.hideOutline=function(){this.hideTree()};DKI.PresentationPlayer.prototype.showOutline=function(){this.showTree();this.menu.selectedTab("outlineTab")};
DKI.PresentationPlayer.prototype.toggleOutline=function(){"outlineTab"!==this.menu.selectedTab()||this.menu.tabSet.isHidden()?this.showOutline():this.hideOutline()};
DKI.PresentationPlayer.prototype.jumpToNextIncompletePage=function(){for(var b=function(b){var c=!1;$.each(b.subeos,function(){if(!this.complete)return c=this.page.pageid,!1});return c},c=function(c){for(var h=!1,l=0;l<c.objects.length&&!(h=b(c.objects[l]));l++);return h},h=!1,l=this.dataStorage.currentObjectIndex;l<this.dataStorage.currentModule.objects.length&&!(h=b(this.dataStorage.currentModule.objects[l]));l++);if(!h)for(l=0;l<this.dataStorage.currentObjectIndex&&!(h=b(this.dataStorage.currentModule.objects[l]));l++);
if(!h&&this.behaviour.skipEnd){for(l=this.dataStorage.currentModuleIndex;l<this.dataStorage.courseStructure.modules.length&&!(h=c(this.dataStorage.courseStructure.modules[l]));l++);if(!h)for(l=0;l<this.dataStorage.currentModuleIndex&&!(h=c(this.dataStorage.courseStructure.modules[l]));l++);}h&&this.jumpTo(h);return h};
DKI.PresentationPlayer.prototype.jumpToSubeo=function(b,c,h){"undefined"===typeof c&&(c=!0);"undefined"===typeof h&&(h=!1);if(b=this.dataStorage.getPageFromSubeo(b))this.initBars(),player.onPageClicked(b.pageid,c,h)};DKI.PresentationPlayer.prototype.setCurrentObjectComplete=function(){this.dataStorage.setCurrentObjectComplete()};DKI.PresentationPlayer.prototype.setModuleDisplay=function(){this.navigation.setModuleName(this.dataStorage.currentModule.name);this.navigation.setTotalScreens(this.dataStorage.currentModulePageTotal)};
DKI.PresentationPlayer.prototype.setObjectDisplay=function(){this.navigation.setObjectName(this.dataStorage.currentObject?this.dataStorage.currentObject.name:"")};DKI.PresentationPlayer.prototype.setPageHeight=function(b){$(this.pageFrames.current).height(b);this.contentFrame.height(b);dkiUA.blackberry&&parent&&parent.setContentHeight&&parent.setContentHeight(b)};DKI.PresentationPlayer.prototype.clearObjectDisplay=function(){this.navigation.setObjectName("")};
DKI.PresentationPlayer.prototype.canJump=function(b){return this.behaviour.forceSequential?(b=this.dataStorage.getPrecedingPage(b),!b||b.complete?!0:!1):!0};
DKI.PresentationPlayer.prototype.applyCssEffects={allowed:function(){return dkiUA.ie&&6<dkiUA.ieVersion||!dkiUA.ie}(),init:function(b){var c,h;if(this.allowed)for(h=$(".cssFX-slctr-Reflect",b),c=0;c<h.length;c++){var l=$($(".cssFX-slctr-Reflect",b)[c]).find("img");if(2==l.length&&null!==$(h[c]).data("rolloverassetid")){var m="#"+$(l[1]).attr("id");$(m).show();$(m).reflect({height:1/3,opacity:.5,attr:{cls:"dki-image-rollover-reflected",style:"filter:inherit;left: 0px;top: 0px;width: inherit !important;height: inherit !important;right:0px;bottom:0px;overflow: hidden;position: absolute;display:none;z-index:2"}});
$(m).attr("class","reflected")}$(l[0]).data("preReflectedClass")||$(l[0]).data("preReflectedClass",$(l[0]).attr("class"));$(l[0]).reflect({height:1/3,opacity:.5,attr:{cls:$(l[0]).data("preReflectedClass")+" dki-image-root-reflected",style:"filter:inherit; left: 0px; top: 0px; width: inherit !important; height: inherit !important; right:0px; bottom:0px; overflow: hidden; z-index: 1; position: absolute;cursor: "+$(l[0]).css("cursor")}})}else for(h=$(".cssFX-slctr-Reflect",b),c=0;c<h.length;c++)$(h[c]).removeClass("cssFX-slctr-Reflect"),
$(h[c]).removeClass("cssFX-Reflect"),$(h[c]).removeClass("cssFX-MirrorRounded"),$(h[c]).height(Math.round(.7*$(h[c]).height()))}};DKI.PresentationPlayer.prototype.openModal=function(b,c){DKI.Modal.show({url:b,callback:c})};DKI.PresentationPlayer.prototype.exitCourse=function(){var b=!0;this.inAssessment&&(window.confirm(this.strings.quitTestWarning)?(window.onbeforeunload=function(){},this.dataStorage.checkCourseComplete()):b=!1);b&&dataStorage.doExit()};
DKI.PresentationPlayer.prototype.startContentTimer=function(b){var c=$("#content-timer-div"),h=dataStorage.currentModule;if(h.hasContentTimer){var l=this;requirejs(["flipclock"],function(){if(l.contentTimer)if(!c.data("forModule")||c.data("forModule")!==h.loid||b){m=dataStorage.currentModule.parameters.content_time;l.contentTimer.stop();l.contentTimer.setTime(m/1E3);var u="MinuteCounter";36E5<=m&&(u="HourCounter");l.contentTimer.loadClockFace(u,null,!0,!0);m=c.outerWidth(!0);l.contentTimer.start();
c.show();c.width(m+1)}else c.data("forModule")!=h.loid||c.is(":visible")||(m=c.outerWidth(!0),l.contentTimer.start(),c.show(),c.width("auto"),c.width(m+1));else{var m={countdown:!0,clockFace:"MinuteCounter",callbacks:{start:function(){},stop:function(){if(c.data("forModule")===dataStorage.currentModule.loid){var b=1E3*this.factory.time.time;setTimeout($.proxy(function(){0==b&&(dataStorage.currentModule.contentTime=0,$(document).trigger(contentApi.events.dataSet,{id:"sys.currentModule.contentTime",
newValue:0,oldValue:1E3}),$(document).trigger(contentApi.events.dataSet,{id:"sys.modules."+(dataStorage.currentModule.loorder-1)+".contentTime",newValue:0,oldValue:b+1E3}))},this),1E3)}},interval:function(b,h,k){c.data("forModule")===dataStorage.currentModule.loid&&(b=1E3*this.factory.time.time,dataStorage.currentModule.parameters.content_time=b,0<b&&($(document).trigger(contentApi.events.dataSet,{id:"sys.currentModule.contentTime",newValue:b,oldValue:b+1E3}),$(document).trigger(contentApi.events.dataSet,
{id:"sys.modules."+(dataStorage.currentModule.loorder-1)+".contentTime",newValue:b,oldValue:b+1E3})))}}};36E5<h.parameters.content_time&&(m.clockFace="HourCounter");l.contentTimer=c.FlipClock(h.parameters.content_time/1E3,m);m=c.outerWidth(!0);c.show();c.width(m+1);l.setContentTimerPosition();c.draggable({containment:DKI.utility.getDragContainment($("#contentFrame"),c.outerWidth(),c.outerHeight()),drag:function(b,c){DKI.utility.dragFix(c)},stop:function(b,c){c.helper.addClass("userDropped")}});$(window).on("resize",
function(){c.draggable("option","containment",DKI.utility.getDragContainment($("#contentFrame"),c.outerWidth(),c.outerHeight()))})}c.data("forModule",h.loid)})}else this.contentTimer&&this.stopContentTimer(!0)};DKI.PresentationPlayer.prototype.stopContentTimer=function(b){this.contentTimer&&this.contentTimer.stop();b&&$("#content-timer-div").hide()};DKI.PresentationPlayer.prototype.setCountdownTimerPosition=function(){var b=$("#countdown-timer-div");b.length&&0<b.width()&&this.setTimerPosition(b)};
DKI.PresentationPlayer.prototype.setTimerPosition=function(b){var c=$(".bgRepeater").width()+parseInt($(".bgRepeater").style("margin-left")),h=c-b.width()-50*DKI.utility.getScale();if(!b.hasClass("userDropped")||parseInt(b.css("left"),10)+b.width()>c)b.css("left",h+"px"),b.removeClass("userDropped")};DKI.PresentationPlayer.prototype.setContentTimerPosition=function(){this.contentTimer&&this.setTimerPosition(this.contentTimer.$el)};
DKI.PresentationPlayer.prototype.showMultiplePages=function(b,c){for(var h=0;h<b.length;h++)this.showPage(b[h],c,!0)};
DKI.PresentationPlayer.prototype.showPage=function(b,c,h,l,m){var u=m?b[l].id:b[l];player.forceCloseLightBox=!1;if("undefined"!==typeof dataStorage){player.contentPage.lightBoxPage&&(player.forceCloseLightBox=!0,$.fancybox.close());var u=m?b[l]:dataStorage.findPage(u),q=DKI.clone(u);q.notes=u.notes;if(q){var x=null,k=null,p=null,r=null,w=!0,v=DKI.func.debounce(function(){player.contentPage.lightBoxPage.onWindowResize();z()},75,!1),z=function(){var b=$(".fancybox-item.fancybox-close",p),c=$(".fancybox-stage .fancybox-content",
p);if(settings.responsive){var h=c.offset().top-window.pageYOffset-9;dkiUA.iOS&&"tablet"!=dkiUA.getUAProperties().platform&&window.matchMedia("(orientation: landscape)").matches&&(h=c.offset().top-9);var k=c.offset().left+c[0].clientWidth-$(window).width()-b.width()/2+9}else{var h=c.offset().top-18,k=($("body").width()-c.outerWidth()*settings.claroLightboxScaling+36)/2*-1,l=($("body").width()-c.outerWidth())/2;c.css({left:l+"px"})}b.css({top:h+"px",left:k+"px"})},n=function(){r.$refs.container.on("onUpdate.fb",
v);r.$refs.container.one("onUpdate.fb",function(){p.removeClass("loading")});r.update();$(window).on("reposition-fancybox-close-button",function(){z()})},E=function(){w=!0},D,y,B=function(b){if("Tab"===b.key){b.preventDefault();b.stopPropagation();var c=$(b.target).closest(".fancybox-container"),h=function(){var b=c.find(".fancybox-navigation .fancybox-button");b.length&&b.each(function(){this.setAttribute("aria-hidden","false");this.setAttribute("tabindex",1)});c.find(".dki-course-max-width *[tabindex\x3d'-2']:visible").each(function(){this.setAttribute("tabindex",
1)})};b.shiftKey?(h(),setTimeout(function(){y(!0)},0)):(c.find(".dki-course-max-width *[tabindex\x3d'-2']:visible").each(function(){this.setAttribute("tabindex",1)}),y(!1),h())}},F=function(b){"Tab"===b.key&&(b.shiftKey&&(b.preventDefault(),b.stopPropagation(),y(!0,!0)),$(document).off("keydown",F))},u={},u=settings.responsive?{"max-height":"100%",width:"100%",position:"relative","overflow-y":"auto","margin-bottom":"0",padding:"0"}:{height:settings.course.height,width:settings.course.width,transfrom:"scale("+
settings.claroLightboxScaling+")",position:"absolute",left:"0","margin-bottom":"0px",padding:"0px","transition-duration":"0ms"},C=$('\x3cdiv class\x3d"dki-course-max-width"\x3e\x3c/div\x3e').css(u).attr({role:"document"}),I=this;$(dataStorage).one(DKI.DataStorage.events.pageSelected,function(){$.fancybox.close()});var J=c||document.activeElement;$.fancybox.open(C,{animationEffect:!1,wrapCSS:"ignore_enter",closeBtn:!1,padding:0,margin:[20,60,20,60],scrolling:"no",buttons:["close"],arrows:["arrowLeft",
"arrowRight"],keyboard:dkiUA.iOS,infobar:!1,smallBtn:!1,touch:!1,autoFocus:!1,backFocus:!1,trapFocus:!1,lang:"en",i18n:{en:{CLOSE:DKI.strings.runtime.buttonLabelClose,NEXT:DKI.strings.runtime.buttonLabelNext,PREV:DKI.strings.index.previousButtonLabel}},baseTpl:'\x3cdiv class\x3d"fancybox-container ignore_enter" tabindex\x3d"-1"\x3e\x3cdiv class\x3d"fancybox-bg"\x3e\x3c/div\x3e\x3cdiv class\x3d"fancybox-inner"\x3e\x3cdiv class\x3d"fancybox-infobar"\x3e\x3cspan data-fancybox-index\x3e\x3c/span\x3e\x26nbsp;/\x26nbsp;\x3cspan data-fancybox-count\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"fancybox-navigation"\x3e{{arrows}}\x3c/div\x3e\x3cdiv class\x3d"fancybox-toolbar"\x3e{{buttons}}\x3c/div\x3e\x3cdiv class\x3d"fancybox-stage"\x3e\x3c/div\x3e\x3cdiv class\x3d"fancybox-caption"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e',
btnTpl:{close:'\x3cdiv style\x3d"opacity:0;" class\x3d"fancybox-item fancybox-close"data-fancybox-close aria-label\x3d"'+I.strings.buttonLabelClose+'" role\x3d"button" tabindex\x3d"1" \x3e\x3c/div\x3e'},afterLoad:function(b){this.$slide.closest(".fancybox-container").attr("aria-label","Popup").css("opacity",0)},afterShow:function(n,v,u){w=!1;var J=dataStorage.getSubeoFromPage(q.id);x=$("#page_"+q.id);x.length?(k=x.parent(),k.length?x.detach():k=x=null):k=x=null;player.contentPage.lightBoxPage=new DKI.StandalonePage({contentAPI:I.contentAPI,
containerEl:C[0],actions:q.actions,page:q,player:I,fancyboxInstance:r});player.lightboxPagesCurrent={idArray:b,returnFocus:c,showMultiple:h,index:l,close:function(){$.fancybox.close(C)}};var M=this,R=n.current.$slide,fa=function(){z();D=function(){$(M.src).removeClass("loading");var c=M.$slide.closest(".fancybox-container");c.css("opacity",1);setTimeout(function(){$(".fancybox-close").css("opacity",1);h&&!m&&($(".fancybox-button--arrow_left, .fancybox-button--arrow_right").removeClass("disabled").css({opacity:"1",
visibility:"visible",cursor:"pointer"}),0==l?$(".fancybox-button--arrow_left").addClass("disabled").attr("aria-disabled","true"):l==b.length-1&&$(".fancybox-button--arrow_right").addClass("disabled").attr("aria-disabled","true"),$(".fancybox-button--arrow_left:not(.disabled)").on("click touchstart",DKI.func.debounce(function(){player.showPrevLightboxPage()},10)),$(".fancybox-button--arrow_right:not(.disabled)").on("click touchstart",DKI.func.debounce(function(){player.showNextLightboxPage()},10)));
c.focus();var k=c.find(".fancybox-navigation"),n=c.find(".fancybox-toolbar"),k=k.find(".fancybox-button"),n=n.find(".fancybox-item.fancybox-close");k.length&&k.each(function(){this.setAttribute("aria-hidden","false");this.setAttribute("tabindex","-1");this.setAttribute("aria-label",this.getAttribute("title"))});var q=c.find(".fancybox-navigation .fancybox-button");q.length&&q.each(function(){this.setAttribute("aria-hidden","false");this.setAttribute("tabindex",1)});y=function(b,c){var h=R.find(".dki-course-max-width *[tabindex\x3d'1']:visible"),
k=b?h.last():h.first(),l=null,l=!k[0]||b&&q.length&&!c?q.length?q[q.length-1]:$(".fancybox-item.fancybox-close",p)[0]:k[0];setTimeout(function(){l.focus()},50);if(k.length)R.find(".dki-html-element iframe").on("load",function(){k[0].focus()});$(document).off("keydown",B)};0==$("div.popup.modal:visible").length&&y(!1,!1);n.focus(function(){q.length&&q.each(function(){this.setAttribute("aria-hidden","true");this.setAttribute("tabindex",-1)});R.find(".dki-course-max-width *[tabindex\x3d'1']:visible").each(function(){this.setAttribute("tabindex",
-2)});$(document).keydown(B)});n.blur(function(){setTimeout(function(){$(document).off("keydown",B)},1)});q.length&&($(q[0]).on("focus",function(){setTimeout(function(){$(document).keydown(F)},50)}),$(q[0]).on("blur",function(){setTimeout(function(){$(document).off("keydown",F)},1)}));setTimeout(function(){c.find(".dki-imageMap-element")&&($(document).trigger(DKI.ContentPage.events.imageMaps.refresh),$(".fancybox-content").on("scroll",DKI.func.debounce(function(){$(document).trigger(DKI.ContentPage.events.imageMaps.refresh)},
50)))},1E3)},75)};$(document).on(DKI.ContentPage.events.loadFinished,D);player.contentPage.lightBoxPage.start(0,!0);setTimeout(E,1E3);$(dataStorage).one(DKI.DataStorage.events.changePage,E);$(document).trigger(DKI.PresentationPlayer.events.targetPageShown,q)};J&&7==J.subeotype?requirejs(["testing"],function(){player.contentPage.lightBoxPage=new DKI.TestQuestion(I,player.contentPage.lightBoxPage,J.question,!0);fa()}):fa()},beforeClose:function(){$(document).off("keydown",B);$(document).off("keydown",
F);(w||player.forceCloseLightBox&&player.contentPage.lightBoxPage)&&player.contentPage.lightBoxPage.reset();var b=w||player.forceCloseLightBox;player.forceCloseLightBox=!1;player.lightboxPagesCurrent=null;return b},afterClose:function(){$(document).off(DKI.ContentPage.events.loadFinished,null,n);$(document).off(DKI.ContentPage.events.loadFinished,null,D);$(dataStorage).off(DKI.DataStorage.events.changePage,null,E);r.$refs.container.off("onUpdate.fb",null,v);player.contentPage.lightBoxPage.destroy();
C.remove();p=r=player.contentPage.lightBoxPage=null;x&&k&&k.length&&x.length&&k.append(x);x=k=null;$(document).trigger(DKI.PresentationPlayer.events.targetPageHidden,q);$("html").removeClass("popupPageOpen");setTimeout(function(){DKI.enforceFocus(!1);DKI.reference.hideReference();DKI.reference.hideBibliography();var k=$("div.popup.modal:visible, .fancybox-inner:visible").last();k.length&&(DKI.enforceFocus(k),k=k.find("*[tabindex\x3d'1']:not(.close):not(.fancybox-close)"),k.length&&k[0].focus());J.focus();
h&&m&&setTimeout(function(){player.showPage(b,c,!1,1,!0)},10)},1)},beforeShow:function(b,c,h){$("html").addClass("popupPageOpen");c=this.$slide.closest(".fancybox-inner");c.after("\x3cdiv tabindex\x3d'1' style\x3d'position:absolute; bottom:1px; right:1px; height:1px; width:1px; opacity:0;'\x3e\x26nbsp;\x3c/div\x3e");r=b;p=c;settings.responsive||c.find(".fancybox-slide").style("overflow","hidden");c.attr("role","dialog").attr("aria-label",q.title).find(".dki-course-max-width").attr("role","document");
0==$("div.popup.modal:visible").length&&DKI.enforceFocus(c);c.addClass("loading");$(document).on(DKI.ContentPage.events.loadFinished,n)}})}}};
DKI.PresentationPlayer.prototype.showNextLightboxPage=function(b){if(DKI.isDefined(player.lightboxPagesCurrent)){var c=player.lightboxPagesCurrent.index+1;c>=player.lightboxPagesCurrent.idArray.length?b&&player.lightboxPagesCurrent.close():player.showPage(player.lightboxPagesCurrent.idArray,player.lightboxPagesCurrent.returnFocus,player.lightboxPagesCurrent.showMultiple,c)}};
DKI.PresentationPlayer.prototype.showPrevLightboxPage=function(){if(DKI.isDefined(player.lightboxPagesCurrent)){var b=player.lightboxPagesCurrent.index-1;0>b||player.showPage(player.lightboxPagesCurrent.idArray,player.lightboxPagesCurrent.returnFocus,player.lightboxPagesCurrent.showMultiple,b)}};DKI.PresentationPlayer.transitionClasses="none slide fade flip pop";DKI.PresentationPlayer.events={targetPageShown:"playerTargetPageShow",targetPageHidden:"playerTargetPageHidden"};
DKI.DataStorage=$.Class({init:function(b,c,h,l,m,u){var q=this;this.ready=this.courseTime=this.eventsInitialized=this.resumeFromBookmark=this.loadingLMSCompletionData=!1;this.courseStructure=this.initStructure(b);this.behaviour=c;this.strings=h;this.currentPageIndex=this.currentObjectIndex=this.currentModuleIndex=0;this.store={assets:{},groups:{},elements:{},resources:{},relationships:{glossaryElement:{},assetElement:{},citationGlossary:{}}};this.completion={dataChunk:{},elements:{},progress:""};
l?this.bookmark=l:m&&(b=this.getPageFromSubeo(m))&&(this.bookmark=b.id);this.bookmark&&u&&(this.groupBookmark=u);this.assessmentBookmark=null;this.storeAssessment=!1;this.currentPage=(this.currentObject=(this.currentModule=this.courseStructure.modules[this.currentModuleIndex])&&DKI.isDefined(this.currentModule.objects)?this.currentModule.objects[this.currentObjectIndex]:null)&&DKI.isDefined(this.currentObject.subeos)?this.currentObject.subeos[this.currentPageIndex]:null;this.moduleCount=this.courseStructure.modules.length;
this.currentObjectCount=this.currentModule&&DKI.isDefined(this.currentModule.objects)?this.currentModule.objects.length:0;this.currentPageCount=this.currentObject&&DKI.isDefined(this.currentObject.subeos)?this.currentObject.subeos.length:0;this.previousPage=null;this.currentPage||this.goNextPage();0<this.currentPageIndex&&(this.previousPage=this.getPreviousPage());this.nextPage=this.getNextPage();this.currentModulePageTotal=this.countModulePages(this.currentModule);this.currentModulePage=this.currentPageIndex+
1;this.passMark=this.courseStructure.passmark;this.assessment=null;this.lessonStatus="incomplete";this.contentVariables={};this.contentVariableMeta={};this.pagesNextEnabled={};$.each(settings.course.content_variables,function(b,c){"number"==c.type?c.default=parseFloat(c.default):"boolean"==c.type&&(c.default="true"==c.default.toString());q.contentVariables[c.id]=c.default;q.contentVariableMeta[c.id]=c.default});this.contentVariables["contentVariablesLastUpdated_"+this.courseStructure.courseid]=(new Date).getTime();
this.indexAssets();$(document).on(DKI.resourceBrowser.events.resourceRegistered,$.proxy(function(b,c){c.isResource=!0;this.store.assets[c.id]||(this.store.assets[c.id]=c);this.store.resources[c.id]||(this.store.resources[c.id]=c)},this));$(document).on(DKI.courseStore.events.groupRegistered,$.proxy(function(b,c){this.store.groups[c.id]=c},this));$(document).on(DKI.courseStore.events.elementRegistered,$.proxy(function(b,c){this.store.elements[c.elementid]=c;c.upload_id&&this.setRelationship("assetElement",
c.upload_id,c.elementid);if("htm"==c.elementtype||"table"==c.elementtype||"authoringButton"==c.elementtype){var h=this;$("\x3cdiv\x3e"+c.meta.replace(/src=/g,"")+"\x3c/div\x3e").find(".dki-glossary-link").each(function(){var b=$(this).data("id");h.setRelationship("glossaryElement",b,c.elementid)})}},this));$(document).one(DKI.ContentPage.events.loadFinished,$.proxy(function(){this.startCourseTimer()},this))}});
DKI.DataStorage.prototype.getRelationship=function(b,c){var h=[];return this.store.relationships[b]?this.store.relationships[b][c]?this.store.relationships[b][c]:h:h};DKI.DataStorage.prototype.setRelationship=function(b,c,h){this.store.relationships[b]||(this.store.relationships[b]={});this.store.relationships[b][c]?0>$.inArray(h,this.store.relationships[b][c])&&this.store.relationships[b][c].push(h):this.store.relationships[b][c]=[h]};
DKI.DataStorage.prototype.indexAssets=function(){for(var b=this,c=0;c<DKI.assets.length;c++){var h=DKI.assets[c];this.store.assets[h.id]||(h.labels="",this.store.assets[h.id]=h,$(document).trigger(DKI.DataStorage.events.assetRegistered,[h]))}if(playerBehaviour.preloadImages&&!settings.inPreview){var l=function(){$.each(b.store.assets,function(){var b=this;if("image"==b.type&&!b.preloaded)return $("\x3clink /\x3e",{as:"image",href:b.filePath,rel:"preload"}).on("load",function(){b.preloaded=!0;l()}).appendTo("head"),
!1})};l()}};DKI.DataStorage.prototype.allTestsAttempted=function(){var b,c;return this.hasTesting()&&(this.behaviour.enablePreTest||this.behaviour.enablePostTest)?(b=this.modulesWithTesting().length,c=this.modulesTestAttempted().length,c==b):!0};DKI.DataStorage.prototype.createAssessment=function(b,c,h){return new DKI.Assessment(b,c,h)};DKI.DataStorage.prototype.checkObjectComplete=function(b){for(var c=b.subeos.length,h=0,l=0;l<c;l++)b.subeos[l].complete&&(h+=1);h===c&&this.markObjectComplete(b)};
DKI.DataStorage.prototype.checkModuleComplete=function(b){for(var c=b.objects.length,h=0,l=0;l<c;l++)b.objects[l].complete&&(h+=1);h===c&&this.markModuleComplete(b)};DKI.DataStorage.prototype.checkCourseComplete=function(){for(var b=0,c=0,h=0;h<this.courseStructure.modules.length;h++)this.courseStructure.modules[h].invalidated||(b+=1,this.courseStructure.modules[h].complete&&(c+=1));c===b&&(this.courseStructure.complete||$(this).trigger(DKI.DataStorage.events.courseCompleted),this.doSetCourseComplete())};
DKI.DataStorage.prototype.countCoursePages=function(){for(var b=0,c=0;c<this.courseStructure.modules.length;c+=1)this.courseStructure.modules[c].invalidated||(b+=this.countModulePages(this.courseStructure.modules[c]));return b};DKI.DataStorage.prototype.countModulePages=function(b){var c=0;if(b)for(var h=0;h<b.objects.length;h++)c+=b.objects[h].subeos.length;return c};
DKI.DataStorage.prototype.moduleIsTestOnly=function(b){b||(b=this.currentModule);"object"!==typeof b&&(b=this.findModule(b));return b?this.moduleHasPages(b)?!1:this.moduleHasTest(b):!1};DKI.DataStorage.prototype.nextModuleIsTestOnly=function(){return this.currentModuleIndex<this.courseStructure.modules.length-1?this.moduleIsTestOnly(this.courseStructure.modules[this.currentModuleIndex+1]):!1};DKI.DataStorage.prototype.createPreTest=function(b){this.createTest(b,"pre")};
DKI.DataStorage.prototype.createPostTest=function(b){this.createTest(b,"post")};
DKI.DataStorage.prototype.createTest=function(b,c,h){b="object"===typeof b?b:this.findModule(b);b.loid!=this.currentModule.loid&&this.loadModule(b);var l=this.loadTest(b,!1,h),m=!0;"pre"===c?0<this.remainingPreAttempts(b)?b.pre={attempts:1,weight:null,points:0,score:0}:m=h:0<this.remainingPostAttempts(b)?b.post?h||b.post.attempts++:b.post={attempts:1,weight:null,points:0,score:0}:m=!1;m?(this.assessment=this.createAssessment(b,c,l),playerBehaviour.enableAssessmentBookmarking&&(this.storeAssessment=
!0),h&&this.assessment.import(this.assessmentBookmark),$(this).trigger(DKI.DataStorage.events.assessmentReady),$(this).trigger(DKI.DataStorage.events.questionSelected,this.assessment.currentQuestion)):$(this).trigger(DKI.DataStorage.events.attemptsMaxed)};DKI.DataStorage.prototype.createReview=function(b){b.test&&(b=b.test);this.assessment=new DKI.AssessmentReview(b);$(this).trigger(DKI.DataStorage.events.assessmentReady);$(this).trigger(DKI.DataStorage.events.questionSelected,this.assessment.currentQuestion)};
DKI.DataStorage.prototype.getElement=function(b){return this.store.elements[b]};DKI.DataStorage.prototype.getElementByDragDropId=function(b){var c=null;$.each(this.store.elements,function(){if(this.dragdrop_id.toLowerCase()==b.toLowerCase())return c=this,!1});return c};DKI.DataStorage.prototype.getGroup=function(b){return this.store.groups[b]};DKI.DataStorage.prototype.getAsset=function(b){return this.store.assets[b]};
DKI.DataStorage.prototype.findPage=function(b){for(var c,h,l=0;l<this.courseStructure.modules.length;l++){c=this.courseStructure.modules[l];for(var m=0;m<c.objects.length;m++){h=c.objects[m];for(var u=0;u<h.subeos.length;u++)if(h.subeos[u].page.pageid==b)return h.subeos[u].page}}if(this.courseStructure.resourcePages)for(l=0;l<this.courseStructure.resourcePages.length;l++)if(this.courseStructure.resourcePages[l].pageid==b)return this.courseStructure.resourcePages[l]};
DKI.DataStorage.prototype.findSubeo=function(b){for(var c,h,l=0;l<this.courseStructure.modules.length;l++){c=this.courseStructure.modules[l];for(var m=0;m<c.objects.length;m++){h=c.objects[m];for(var u=0;u<h.subeos.length;u++)if(h.subeos[u].subeoid==b)return h.subeos[u]}}};
DKI.DataStorage.prototype.findQuestion=function(b){for(var c,h,l=0;l<this.courseStructure.modules.length;l++){c=this.courseStructure.modules[l];for(var m=0;m<c.objects.length;m++){h=c.objects[m];for(var u=0;u<h.questions.length;u++)if(h.questions[u].id==b)return h.questions[u]}}};
DKI.DataStorage.prototype.findQuestionForPage=function(b){for(var c,h,l=0;l<this.courseStructure.modules.length;l++){c=this.courseStructure.modules[l];for(var m=0;m<c.objects.length;m++){h=c.objects[m];for(var u=0;u<h.questions.length;u++)if(h.questions[u].page.pageid==b)return h.questions[u]}}};
DKI.DataStorage.prototype.getSubeoFromPage=function(b){for(var c,h,l=0;l<this.courseStructure.modules.length;l++){c=this.courseStructure.modules[l];for(var m=0;m<c.objects.length;m++){h=c.objects[m];for(var u=0;u<h.subeos.length;u++)if(h.subeos[u].page.pageid==b)return h.subeos[u]}}};
DKI.DataStorage.prototype.findQuestionForPage=function(b){for(var c,h,l=0;l<this.courseStructure.modules.length;l++){c=this.courseStructure.modules[l];for(var m=0;m<c.objects.length;m++){h=c.objects[m];for(var u=0;u<h.questions.length;u++)if(h.questions[u].page.pageid==b)return h.questions[u]}}};
DKI.DataStorage.prototype.getPageFromSubeo=function(b){for(var c,h,l=0;l<this.courseStructure.modules.length;l++){c=this.courseStructure.modules[l];for(var m=0;m<c.objects.length;m++){h=c.objects[m];for(var u=0;u<h.subeos.length;u++)if(h.subeos[u].subeoid==b)return h.subeos[u].page}}};
DKI.DataStorage.prototype.getPageFromExternalId=function(b){for(var c,h,l=0;l<this.courseStructure.modules.length;l++){c=this.courseStructure.modules[l];for(var m=0;m<c.objects.length;m++){h=c.objects[m];for(var u=0;u<h.subeos.length;u++)if(h.subeos[u].page.external_id==b)return h.subeos[u].page}}};DKI.DataStorage.prototype.getModuleEnd=function(b){var c;if("string"===typeof b||"number"===typeof b)b=this.findModule(b);c=b.objects.length-1;return b.objects[c].subeos[b.objects[c].subeos.length-1]};
DKI.DataStorage.prototype.getUserID=function(){return"N/A"};DKI.DataStorage.prototype.findObject=function(b){for(var c,h=0;h<this.courseStructure.modules.length;h++){c=this.courseStructure.modules[h];for(var l=0;l<c.objects.length;l++)if(c.objects[l].objectid==b)return c.objects[l]}};DKI.DataStorage.prototype.findModule=function(b){for(var c=0;c<this.courseStructure.modules.length;c++)if(this.courseStructure.modules[c].loid==b)return this.courseStructure.modules[c]};
DKI.DataStorage.prototype.getModuleByIndex=function(b){return this.courseStructure.modules[b]};DKI.DataStorage.prototype.findModuleIndex=function(b){"object"===typeof b&&(b=b.loid);for(var c=0;c<this.courseStructure.modules.length;c++)if(this.courseStructure.modules[c].loid==b)return c};DKI.DataStorage.prototype.getFirstNonInvalidatedModule=function(){for(var b=0;b<this.courseStructure.modules.length;b++)if(!this.courseStructure.modules[b].invalidated)return this.courseStructure.modules[b];return null};
DKI.DataStorage.prototype.getAssessmentScore=function(){return this.assessment?this.assessment.getScore():null};DKI.DataStorage.prototype.getAssessmentScoringDetails=function(){return this.assessment?{score:this.assessment.getScore(),points:this.assessment.getPoints(),weight:this.assessment.getWeight()}:null};
DKI.DataStorage.prototype.getCourseCompletion=function(b){var c=0,h=0,l,m;if(this.courseStructure.complete&&!b||"1"==this.courseStructure.testOnly&&this.allTestsAttempted()&&this.isPassed()||(this.courseStructure.complete||"testing"==this.behaviour.completionCriteria)&&b&&this.allTestsAttempted()&&this.isPassed())return 100;for(var u=0;u<this.courseStructure.modules.length;u++)if(!this.courseStructure.modules[u].invalidated){l=this.courseStructure.modules[u];for(var q=0;q<l.objects.length;q++)if(m=
l.objects[q],c+=m.subeos.length,m.complete||l.complete)h+=m.subeos.length;else for(var x=0;x<m.subeos.length;x++)m.subeos[x].complete&&h++;(b||"1"==this.courseStructure.testOnly)&&this.moduleHasTest(l)&&(m=this.getModuleScoringDetails(l),l=this.loadTest(l).questions.length,c+=l,m.passed&&(h+=l))}if(b||"1"==this.courseStructure.testOnly)for("testing"==this.behaviour.completionCriteria&&(h=c=0),u=0;u<this.courseStructure.modules.length;u++)this.courseStructure.modules[u].invalidated||(l=this.courseStructure.modules[u],
this.moduleHasTest(l)&&(m=this.getModuleScoringDetails(l),l=this.loadTest(l).questions.length,c+=l,m.passed&&(h+=l)));return 0==c&&0==h?0:Math.round(h/c*1E5)/1E3};DKI.DataStorage.prototype.getCourseScore=function(){return this.hasTesting()?this.getCourseScoringDetails().score:null};
DKI.DataStorage.prototype.getCourseScoringDetails=function(){for(var b=parseFloat(0,"10"),c=0,h,l=0;l<this.courseStructure.modules.length;l++)this.courseStructure.modules[l].invalidated||(h=this.getModuleScoringDetails(this.courseStructure.modules[l]),c+=h.weight,b+=h.points);b=parseFloat(b.toFixed(1),10);return{score:0<b&&0<c?parseInt(b/c*100,10):0,weight:c,points:b}};DKI.DataStorage.prototype.getCourseScoreAvg=function(){return this.hasTesting?this.getCourseScoringDetails().score:null};
DKI.DataStorage.prototype.getContentVariable=function(b){var c=this,h=null;"undefined"!=typeof this.contentVariables[b]?h=this.contentVariables[b]:$.each(this.courseStructure.content_variables,function(){b==this.name&&(h=c.contentVariables[this.id])});return h};DKI.DataStorage.prototype.getVariableIdForName=function(b){var c=b;"undefined"==typeof this.contentVariables[c]&&$.each(this.courseStructure.content_variables,function(){c==this.name&&(c=this.id)});return c};
DKI.DataStorage.prototype.setContentVariable=function(b,c,h){"undefined"==typeof this.contentVariables[b]&&$.each(this.courseStructure.content_variables,function(){if(b==this.name)return b=this.id,!1});this.contentVariables[b]=c;h&&(h.value=c,this.contentVariableMeta[b]=h);this.contentVariables["contentVariablesLastUpdated_"+this.courseStructure.courseid]=(new Date).getTime()};
DKI.DataStorage.prototype.getContentVariableMeta=function(b){"undefined"!=typeof this.contentVariableMeta[b]&&$.each(this.courseStructure.content_variables,function(){if(b==this.name)return b=this.id,!1});return this.contentVariableMeta[b]};DKI.DataStorage.prototype.getCourseDurationSeconds=function(){return this.courseStructure.durationSeconds};DKI.DataStorage.prototype.getCourseDurationMinutes=function(){return Math.floor(this.courseStructure.durationSeconds/60)};
DKI.DataStorage.prototype.getCourseDurationString=function(){var b=parseInt(this.getCourseDurationSeconds(),10),b=parseInt(b/60,10),c=parseInt(b/60,10),h=parseInt(c/24,10),b=b-60*c,c=c-24*h;timeString="";return timeString+=h.toString().padStart(2,"0")+":"+c.toString().padStart(2,"0")+":"+b.toString().padStart(2,"0")};DKI.DataStorage.prototype.getCurrentQuestion=function(){if(this.assessment&&this.assessment.currentQuestion)return this.assessment.currentQuestion};
DKI.DataStorage.prototype.getNextQuestion=function(){if(this.assessment)return this.assessment.nextQuestion};DKI.DataStorage.prototype.getPreviousQuestion=function(){if(this.assessment)return this.assessment.previousQuestion};DKI.DataStorage.prototype.getCurrentQuestionCount=function(){if(this.assessment)return this.assessment.currentQuestionCount};
DKI.DataStorage.prototype.getModuleCompletion=function(b){var c=0,h=0;if("number"===typeof b||"string"===typeof b)b=this.findModule(b);if(b.complete)return 100;for(var l=0;l<b.objects.length;l++)if(c+=b.objects[l].subeos.length,b.objects[l].complete)h+=b.objects[l].subeos.length;else for(var m=0;m<b.objects[l].subeos.length;m++)b.objects[l].subeos[m].complete&&h++;return Math.round(h/c*1E5)/1E3};
DKI.DataStorage.prototype.getModuleScore=function(b){var c=null;if("number"===typeof b||"string"===typeof b)b=this.findModule(b);b.pre&&(c=b.pre.score);b.post&&(c&&b.post.score>c||!c)&&(c=b.post.score);return c};DKI.DataStorage.prototype.getAverageQuestionScore=function(b){var c=0;if(!b.lastAssessment||0==b.lastAssessment.answered.length)return 0;for(var h=0;h<b.lastAssessment.answered.length;h++)c+=b.lastAssessment.answered[h].score;return Math.floor(c/b.lastAssessment.answered.length*1E3)/1E3};
DKI.DataStorage.prototype.getModuleScoringDetails=function(b){var c=null,h=0,l=null,m,u=null;if("number"===typeof b||"string"===typeof b)b=this.findModule(b);b.pre&&!b.forcePassed&&(c=b.pre.score,h=b.pre.points,l=b.pre.weight,u=this.courseStructure.passmark,b.parameters.useProjectScore||""==b.parameters.pretestScore||(u=b.parameters.pretestScore));if(b.post&&!b.forcePassed){if(c&&b.post.score>c||!c)c=b.post.score,h=b.post.points,l=b.post.weight;u=b.useProjectScore?this.courseStructure.passmark:b.passing_mark}b.forcePassed&&
(l=0);m=0===l?!0:c>=u;return{score:c,points:parseFloat(h.toFixed(1),10),weight:l,passed:m,assessment:b.lastAssessment,passMark:u}};
DKI.DataStorage.prototype.getModuleSummaryData=function(){var b=this,c={};$.each(dataStorage.modulesWithTesting(),function(){var h=dataStorage.getModuleScoringDetails(this);c[this.loid]={module:this,showScore:!0};null===h.score?c[this.loid].text=" \x26nbsp;":(c[this.loid].score=Math.floor(h.score),c[this.loid].points=h.points,c[this.loid].weight=h.weight);null!==h.passMark&&(h.score<h.passMark||null===h.score)&&(c[this.loid].failed=!0,b.behaviour.displayPass&&(c[this.loid].passMark=DKI.strings.endMod.passingScoreLabel+
" "+h.passMark+"%"));if(0<h.weight||null===h.weight){c[this.loid].attempts=b.remainingPostAttempts(this);c[this.loid].retakeText=b.strings.txtTakeTest;c[this.loid].retakeButtonClassExtra="endCourse_takeTest";if(this.pre||this.post)c[this.loid].retakeText=DKI.strings.endTest.retakeTestButton,c[this.loid].retakeButtonClassExtra="endCourse_retakeTest";0<c[this.loid].attempts&&(c[this.loid].showRetake=!0)}else c[this.loid].noAttempts=!0,c[this.loid].attempts=b.strings.txtNotAvailableShort});$.each(dataStorage.courseStructure.modules,
function(){if(!c[this.loid]){var b=this.objects.reduce(function(b,c){return b+(c.complete?1:0)},0)/this.objects.length*100;c[this.loid]={module:this,completion:b,isComplete:100==b}}});var h=[];$.each(c,function(){h.push(this)});h.sort(function(b,c){return b.module.loorder-c.module.loorder});return h};DKI.DataStorage.prototype.getPreviousModule=function(){if(0<this.currentModuleIndex)return this.courseStructure.modules[this.currentModuleIndex-1]};
DKI.DataStorage.prototype.getPrecedingPage=function(b){var c,h;b?(h=this.locatePage(b),b=h.page,c=h.object,h=h.module):(b=this.currentPageIndex,c=this.currentObjecIndex,h=this.currentModuleIndex);return 0<b?this.courseStructure.modules[h].objects[c].subeos[b-1]:0<c?(c--,b=this.courseStructure.modules[h].objects[c].subeos.length-1,this.courseStructure.modules[h].objects[c].subeos[b]):0<h?(h--,c=this.courseStructure.modules[h].objects.length-1,b=this.courseStructure.modules[h].objects[c].subeos.length-
1,this.courseStructure.modules[h].objects[c].subeos[b]):null};
DKI.DataStorage.prototype.getProceedingPage=function(b){var c,h;b?(h=this.locatePage(b),b=h.page,c=h.object,h=h.module):(b=this.currentPageIndex,c=this.currentObjecIndex,h=this.currentModuleIndex);return b<this.courseStructure.modules[h].objects[c].subeos.length-1?this.courseStructure.modules[h].objects[c].subeos[b+1]:c<this.courseStructure.modules[h].objects.length-1?(c++,this.courseStructure.modules[h].objects[c].subeos[0]):h<this.courseStructure.modules[h].length-1?(h++,this.courseStructure.modules[h].objects[0].subeos[0]):
null};DKI.DataStorage.prototype.getTotalQuestions=function(){if(this.assessment)return this.assessment.totalQuestions};DKI.DataStorage.prototype.getPreviousModuleWithPage=function(){for(var b=this.currentModuleIndex-1;0<=b;b--)if(!this.moduleIsTestOnly(this.courseStructure.modules[b]))return b;return null};DKI.DataStorage.prototype.getIndexLastObjectWithPage=function(b){for(var c=b.objects.length-1;0<=c;c--)if(0<b.objects[c].subeos.length)return c;return null};
DKI.DataStorage.prototype.getIndexFirstObjectWithPage=function(b){for(var c=0;c<b.objects.length;c++)if(0<b.objects[c].subeos.length)return c;return null};
DKI.DataStorage.prototype.getNextPage=function(){var b;if(this.currentPageIndex<this.currentPageCount-1)return this.currentObject.subeos[this.currentPageIndex+1];for(var c=this.currentObjectIndex+1;c<this.currentObjectCount;c++)if(0<this.currentModule.objects[c].subeos.length)return this.currentModule.objects[c].subeos[0];for(c=this.currentModuleIndex+1;c<this.moduleCount;c++){b=this.courseStructure.modules[c];for(var h=0;h<b.objects.length;h++)if(0<b.objects[h].subeos.length)return b.objects[h].subeos[0]}return null};
DKI.DataStorage.prototype.getPreviousPage=function(){var b,c;if(0<this.currentPageIndex)return this.currentObject.subeos[this.currentPageIndex-1];for(var h=this.currentObjectIndex-1;0<=h;h--)if(b=this.currentModule.objects[h].subeos.length,0<b)return this.currentModule.objects[h].subeos[b-1];for(h=this.currentModuleIndex-1;0<=h;h--){c=this.courseStructure.modules[h];for(var l=c.objects.length-1;0<=l;l--)if(b=c.objects[l].subeos.length,0<b)return c.objects[l].subeos[b-1]}return null};
DKI.DataStorage.prototype.goNextPage=function(b){this.currentPageIndex<this.currentPageCount-1?(this.currentPageIndex++,this.currentPage=this.currentObject.subeos[this.currentPageIndex],this.currentModulePage++,$(this).trigger(DKI.DataStorage.events.changePage,"forward"),$(this).trigger(DKI.DataStorage.events.pageSelected,this.currentPage)):this.goNextObject(b);this.previousPage=this.getPreviousPage();this.nextPage=this.getNextPage()};DKI.DataStorage.prototype.goNextValidPage=function(){this.goNextPage(!0)};
DKI.DataStorage.prototype.goPreviousPage=function(){0<this.currentPageIndex?(this.currentPageIndex--,this.currentPage=this.currentObject.subeos[this.currentPageIndex],this.currentModulePage--,$(this).trigger(DKI.DataStorage.events.changePage,"back"),$(this).trigger(DKI.DataStorage.events.pageSelected,this.currentPage)):this.goPreviousObject();this.previousPage=this.getPreviousPage();this.nextPage=this.getNextPage()};
DKI.DataStorage.prototype.goNextObject=function(b){if(this.currentObjectIndex<this.currentObjectCount-1){this.currentPageIndex=0;var c;do this.currentObjectIndex+=1,c=this.currentModule.objects[this.currentObjectIndex];while(0==c.subeos.length&&this.currentObjectIndex<this.currentObjectCount-1);0==c.subeos.length?this.goNextModule(b):(this.currentObject=this.currentModule.objects[this.currentObjectIndex],null!=this.currentPageIndex&&(this.currentPage=this.currentObject.subeos[this.currentPageIndex],
this.currentModulePage++,this.currentPageCount=this.currentObject.subeos.length,$(this).trigger(DKI.DataStorage.events.pageSelected,this.currentPage)),$(this).trigger(DKI.DataStorage.events.changeObject,"forward"))}else this.goNextModule(b)};
DKI.DataStorage.prototype.goPreviousObject=function(){if(0<this.currentObjectIndex&&0<this.currentModulePage){var b;do--this.currentObjectIndex,b=this.currentModule.objects[this.currentObjectIndex];while(0==b.subeos.length&&0<this.currentObjectIndex);0==b.subeos.length?this.goPreviousModule():(this.currentObject=this.currentModule.objects[this.currentObjectIndex],this.currentModulePage--,this.currentPageCount=this.currentObject.subeos.length,this.currentPageIndex=this.currentPageCount-1,this.currentPage=
this.currentObject.subeos[this.currentPageIndex],$(this).trigger(DKI.DataStorage.events.pageSelected,this.currentPage));$(this).trigger(DKI.DataStorage.events.changeObject,"back")}else this.goPreviousModule()};
DKI.DataStorage.prototype.goNextModule=function(b){var c=!1;if(this.currentModuleIndex<this.moduleCount-1){this.currentModuleIndex++;this.currentModule=this.courseStructure.modules[this.currentModuleIndex];if(b)for(;this.moduleIsTestOnly(this.currentModule);)if(this.currentModuleIndex<this.moduleCount-1)this.currentModuleIndex++,this.currentModule=this.courseStructure.modules[this.currentModuleIndex];else return this.currentObjectIndex=0,this.currentPageIndex=null,this.currentObject=this.currentModule.objects[0],
this.currentPage=null,this.currentObjectCount=this.currentModule.objects.length,this.currentPageCount=0,this.currentModulePage=null,this.currentModulePageTotal=0,this.currentModuleIndex==this.courseStructure.modules.length-1&&this.moduleHasTest(this.currentModule)&&(c=!0),$(this).trigger(DKI.DataStorage.events.courseEnd,c),!1;this.moduleIsTestOnly(this.currentModule)?(this.currentObjectIndex=0,this.currentPageIndex=null,this.currentObject=this.currentModule.objects[0],this.currentPage=null,this.currentObjectCount=
this.currentModule.objects.length,this.currentPageCount=0,this.currentModulePage=null,this.currentModulePageTotal=0):(this.currentObjectIndex=this.getIndexFirstObjectWithPage(this.currentModule),this.currentPageIndex=0,this.currentObject=this.currentModule.objects[this.currentObjectIndex],this.currentPage=this.currentObject.subeos[this.currentPageIndex],this.currentObjectCount=this.currentModule.objects.length,this.currentPageCount=this.currentObject.subeos.length,this.currentModulePage=1,this.currentModulePageTotal=
this.countModulePages(this.currentModule));this.currentModule.complete&&(this.currentModule.isRevisiting=!0);$(this).trigger(DKI.DataStorage.events.changeModule,"forward");this.currentPage&&null!=this.currentPage&&$(this).trigger(DKI.DataStorage.events.pageSelected,this.currentPage);return!0}this.currentModuleIndex==this.courseStructure.modules.length-1&&this.moduleHasTest(this.currentModule)&&(c=!0);$(this).trigger(DKI.DataStorage.events.courseEnd,c);return!1};
DKI.DataStorage.prototype.getNextModule=function(b){var c=this.currentModuleIndex;b&&(c=this.findModuleIndex(b));return c<this.moduleCount-1?this.courseStructure.modules[c+1]:null};
DKI.DataStorage.prototype.goPreviousModule=function(){if(0<this.currentModuleIndex){var b=this.getPreviousModuleWithPage();null!=b&&(this.currentModuleIndex=b,this.currentModule=this.courseStructure.modules[this.currentModuleIndex],this.currentModulePage=this.currentModulePageTotal=this.countModulePages(this.currentModule),this.currentObjectCount=this.currentModule.objects.length,this.currentObjectIndex=this.getIndexLastObjectWithPage(this.currentModule),this.currentObject=this.currentModule.objects[this.currentObjectIndex],
this.currentPageCount=this.currentObject.subeos.length,this.currentPageIndex=this.currentPageCount-1,this.currentPage=this.currentObject.subeos[this.currentPageIndex],$(this).trigger(DKI.DataStorage.events.changeModule,"back"),$(this).trigger(DKI.DataStorage.events.pageSelected,this.currentPage))}};
DKI.DataStorage.prototype.navigateToModule=function(b){b=this.findModule(b);var c=-1;b&&(c=this.findModuleIndex(b));return 0<=c?(this.currentModuleIndex=c,this.currentPageIndex=this.currentObjectIndex=0,this.currentModule=this.courseStructure.modules[this.currentModuleIndex],this.currentObject=this.currentModule.objects[this.currentObjectIndex],this.currentPage=this.currentObject.subeos[this.currentPageIndex],this.currentObjectCount=this.currentModule.objects.length,this.currentPageCount=this.currentObject.subeos.length,
this.currentModulePage=1,this.currentModulePageTotal=this.countModulePages(this.currentModule),$(this).trigger(DKI.DataStorage.events.changeModule,"forward"),this.currentPage&&$(this).trigger(DKI.DataStorage.events.pageSelected,this.currentPage),!0):!1};
DKI.DataStorage.prototype.goNextQuestion=function(){this.assessment&&this.assessment.goNextQuestion();this.assessment.currentQuestion?$(this).trigger(DKI.DataStorage.events.questionSelected,this.assessment.currentQuestion):(null!==this.assessment.test&&void 0!==this.assessment.test&&(this.assessment=this.assessment.test),$(this).trigger(DKI.DataStorage.events.assessmentCompleted))};
DKI.DataStorage.prototype.goPreviousQuestion=function(){this.assessment&&this.assessment.goPreviousQuestion();this.assessment.currentQuestion?$(this).trigger(DKI.DataStorage.events.questionSelected,this.assessment.currentQuestion):(null!==this.assessment.test&&void 0!==this.assessment.test&&(this.assessment=this.assessment.test),$(this).trigger(DKI.DataStorage.events.assessmentCompleted))};
DKI.DataStorage.prototype.hasTesting=function(){for(var b=0;b<this.courseStructure.modules.length;b++)if(!this.courseStructure.modules[b].invalidated&&!this.courseStructure.modules[b].forcePassed&&0<this.courseStructure.modules[b].weight)return!0;return!1};
DKI.DataStorage.prototype.initEvents=function(){var b=this;this.eventsInitialized||($(this).bind(DKI.DataStorage.events.courseCompleted,function(){b.onCourseComplete()}),$(this).on(DKI.DataStorage.events.assessmentCompleted,function(c){b.onAssessmentComplete(c)}),$(player.navigation).on(DKI.PlayerNavigation.events.nextButtonEnabled,function(){b.nextButtonEnabled()}),this.eventsInitialized=!0)};
DKI.DataStorage.prototype.initStructure=function(b){var c=this;this.courseStructure=b;var h=function(b){if(0==settings.publish_filters.length)return!0;var c=0==settings.publish_filters.filter(function(b){return 1==b.type}).length,h=b.filter(function(b){return 2==b.type}),l=b.filter(function(b){return 1==b.type}),m=0==h.length?!0:!1,q=0==l.length?!0:c;$.each(settings.publish_filters,function(){for(var b=l.length-1;0<=b;b--)l[b].id==this.id&&l[b].type==this.type&&(q=!0);for(b=h.length-1;0<=b;b--)h[b].id==
this.id&&h[b].type==this.type&&(m=!0)});return m&&q},l=function(b){for(var c=b.length-1;0<=c;c--){var m=b[c];h(m.publish_filters)?(m.elements&&0<m.elements.length&&l(m.elements),$(document).trigger(DKI.DataStorage.events.element_structure_init,m)):b.splice(c,1)}},m=function(b){for(var c=b.groups.length-1;0<=c;c--){var h=b.groups[c];l(h.elements);$(document).trigger(DKI.DataStorage.events.group_structure_init,h)}for(c=b.actions.length-1;0<=c;c--)h=b.actions[c],$(document).trigger(DKI.DataStorage.events.action_structure_init,
h);$(document).trigger(DKI.DataStorage.events.page_structure_init,b);$(document).trigger(DKI.DataStorage.events.page_structure_after_init,b)};(function(k){for(var l=k.length-1;0<=l;l--){var q=k[l];if(h(q.publish_filters)){c.moduleHasTest(q)?q.weight=1:q.weight=0;c.moduleHasPages(q)||c.markModuleComplete(q);0!=q.parameters.content_time&&"undefined"!==typeof q.parameters.content_time&&(q.hasContentTimer=!0,c.courseTime+=q.parameters.content_time,q.parameters.content_time_original=q.parameters.content_time);
for(var u=q.objects,v=u.length-1;0<=v;v--){var z=u[v];if(h(z.publish_filters)){for(var n=u[v].subeos,x=n.length-1;0<=x;x--){var D=n[x];"question"==D.page.pagetype&&(D.page.question=D.question);h(D.page.publish_filters)?(m(D.page),$(document).trigger(DKI.DataStorage.events.subeo_structure_init,D)):n.splice(x,1)}n=u[v].questions;for(x=n.length-1;0<=x;x--)D=n[x],D.page.question=D,h(D.page.publish_filters)?(m(D.page),$(document).trigger(DKI.DataStorage.events.question_structure_init,D)):n.splice(x,1);
0==u[v].subeos.length&&0==u[v].questions.length?u.splice(v,1):$(document).trigger(DKI.DataStorage.events.object_structure_init,z)}else u.splice(v,1)}0==q.objects.length?b.modules.splice(l,1):$(document).trigger(DKI.DataStorage.events.module_structure_init,q)}else k.splice(l,1)}})(b.modules);$.each(b.resourcePages,function(){m(this)});""!=b.course_summary_page_id&&m(b.course_summary_page);""!=b.module_summary_page_id&&m(b.module_summary_page);""!=b.certificate_page_id&&m(b.certificate_page);""!=b.course_introduction_page_id&&
m(b.course_introduction_page);""!=b.module_introduction_page_id&&m(b.module_introduction_page);""!=b.header_primary_page_id&&m(b.header_primary_page);""!=b.header_secondary_page_id&&m(b.header_secondary_page);""!=b.footer_primary_page_id&&m(b.footer_primary_page);""!=b.footer_secondary_page_id&&m(b.footer_secondary_page);$.each(settings.course.content_variables,function(){$(document).trigger(DKI.DataStorage.events.content_variable_structure_init,this)});if(DKI.Actions)for(var u=DKI.Actions.length-
1;0<=u;u--){var q=DKI.Actions[u];$(document).trigger(DKI.DataStorage.events.action_structure_init,q)}if(0==b.modules.length){var u="",u=0<settings.publish_filters.length,x=[];settings.publish_filters.forEach(function(b){x.push(b.title)});x=x.join(", ");u=u?settings.inPreview?"This Project is currently showing no content because its content has been set to specific Publish Targets.":"This Project is showing no content because of content filtering settings chosen when it was published.":"This project has no content as a result of some content filtering.";
settings.inPreview&&(u+="\x3cbr\x3e\x3cbr\x3eYou can use the Publish Targets dropdown in the preview bar above to view the content for each Publish Target.");(new DKI.disabler({text:u,clickable:!1,className:"textMessage"})).show()}$(document).trigger(DKI.DataStorage.events.project_structure_init,b);return b};
DKI.DataStorage.prototype.isEndOfModule=function(b){var c=this.getModuleScoringDetails(this.currentModule);return 0==this.currentModulePageTotal||this.currentModulePage==this.currentModulePageTotal||b&&playerBehaviour.pretestSkipContent&&c.passed};
DKI.DataStorage.prototype.isEndOfCourse=function(b,c){if(b){if(this.isEndOfModule()){for(b=this.currentModuleIndex+1;b<this.moduleCount;b++)if(!this.moduleIsTestOnly(this.courseStructure.modules[b]))return!1;return!0}return!1}return this.isEndOfModule(c)&&this.currentModuleIndex===this.moduleCount-1};
DKI.DataStorage.prototype.isMaxedOut=function(b){var c=1;if("string"===typeof b||"number"===typeof b)b=this.findModule(b);this.behaviour.allowRetesting&&(c+=parseInt(this.behaviour.retestAttempts,"10"));return!(!b.post||b.post.attempts<c||this.behaviour.allowRetesting&&0===this.behaviour.retestAttempts)};
DKI.DataStorage.prototype.isPassed=function(b){b||(b=this.getCourseScoringDetails());var c=!1,h=!0;if(b.score>=this.passMark&&this.allTestsAttempted())if(this.behaviour.passModules){for(c=0;c<this.courseStructure.modules.length;c+=1)if(!this.courseStructure.modules[c].invalidated&&(b=this.getModuleScoringDetails(this.courseStructure.modules[c]),0<this.courseStructure.modules[c].weight&&!b.passed)){h=!1;break}c=h}else c=!0;return c};
DKI.DataStorage.prototype.isFailed=function(b){b||(b=this.getCourseScoringDetails());b=b.score<this.passMark&&this.testMaxedOut();if(!b&&this.behaviour.passModules)for(var c=0;c<this.courseStructure.modules.length;c+=1)if(!this.courseStructure.modules[c].invalidated&&(moduleDetails=this.getModuleScoringDetails(this.courseStructure.modules[c]),0<this.courseStructure.modules[c].weight&&!moduleDetails.passed&&this.isMaxedOut(this.courseStructure.modules[c]))){b=!0;break}return b};
DKI.DataStorage.prototype.loadModule=function(b){"object"!==typeof b&&(b=this.findModule(b));if(!b)return!1;this.currentModule=b;this.currentModuleIndex=this.findModuleIndex(b);this.courseStructure.testonly?(this.currentObject=this.currentModule.objects[0],this.currentPageIndex=this.currentPage=this.currentObjectIndex=null):(b.complete&&(b.isRevisiting=!0),this.moduleIsTestOnly(b)?(this.currentObject=b.objects[0],this.currentObjectIndex=0,this.currentPageIndex=this.currentPage=null,this.currentObjectCount=
this.currentModule.objects.length,this.currentModulePageTotal=this.currentModulePage=this.currentPageCount=0):(this.currentObjectIndex=this.getIndexFirstObjectWithPage(b),this.currentObject=b.objects[this.currentObjectIndex],this.currentObjectCount=this.currentModule.objects.length,this.currentPageCount=this.currentObject.subeos.length,this.currentPageIndex=-1,this.currentModulePage=0,this.assessment&&this.assessment.currentQuestion&&(this.assessment.currentQuestion=null),this.currentModulePageTotal=
this.countModulePages(this.currentModule)))};DKI.DataStorage.prototype.jumpToModule=function(b){this.loadModule(b);"object"!==typeof b&&(b=this.findModule(b));if(!b)return!1;this.courseStructure.testonly||this.moduleIsTestOnly(b)||(this.goNextPage(),$(this).trigger(DKI.DataStorage.events.pageSelected,this.currentPage));$(this).trigger(DKI.DataStorage.events.changeModule,"jump");return!0};
DKI.DataStorage.prototype.jumpToEndOfModule=function(b){"undefined"===typeof b&&(b=this.currentModule);this.jumpToPage(b.objects[b.objects.length-1].subeos[b.objects[b.objects.length-1].subeos.length-1].page.pageid)};
DKI.DataStorage.prototype.jumpToPage=function(b){for(var c,h,l="object"===typeof b?b.pageid:b,m=0;m<this.courseStructure.modules.length;m++){b=this.courseStructure.modules[m];for(var u=h=0;u<b.objects.length;u++){c=b.objects[u];for(var q=0;q<c.subeos.length;q++)if(h++,c.subeos[q].page.pageid==l)return this.currentPageIndex=q,this.currentPage=c.subeos[q],this.currentObjectIndex=u,this.currentObject=c,this.currentModuleIndex=m,this.currentModule=b,this.currentModulePageTotal=this.countModulePages(this.currentModule),
this.currentModulePage=h,this.currentObjectCount=this.currentModule.objects.length,this.currentPageCount=this.currentObject.subeos.length,this.currentModule.complete&&(this.currentModule.isRevisiting=!0),this.previousPage=this.getPreviousPage(),this.nextPage=this.getNextPage(),$(this).trigger(DKI.DataStorage.events.changeModule,"jump"),$(this).trigger(DKI.DataStorage.events.pageSelected,this.currentPage),$(player.pageFrames.current).trigger(DKI.ContentPage.events.reset),!0}}};
DKI.DataStorage.prototype.loadCompletion=function(){var b=DKI.uri.decodeCurrentLocation();""!==window.location.hash&&"#"!=window.location.hash?this.bookmark=window.location.hash.replace("#page",""):b.pageID&&(this.bookmark=b.pageID);b.groupid&&(this.groupBookmark=b.groupid);this.initEvents();$(this).trigger(DKI.DataStorage.events.beforeReady);$(document).trigger(DKI.DataStorage.events.beforeReady);this.ready=!0;$(this).trigger(DKI.DataStorage.events.ready);$(document).trigger(DKI.DataStorage.events.ready)};
DKI.DataStorage.prototype.getElementCompletion=function(){return!1};DKI.DataStorage.prototype.saveElementCompletion=function(b,c){(c||function(){})()};
DKI.DataStorage.prototype.completePreviousPages=function(b){if("string"===typeof b||"number"===typeof b)b=this.findPage(b);for(var c,h,l=0;l<this.courseStructure.modules.length;l++){c=this.courseStructure.modules[l];for(var m=0;m<c.objects.length;m++){h=c.objects[m];for(var u=0;u<h.subeos.length;u++)if(h.subeos[u].page.pageid!=b.pageid)this.markSubeoComplete(h.subeos[u]);else return null;this.markObjectComplete(h)}this.markModuleComplete(c)}};
DKI.DataStorage.prototype.pageDisablesNext=function(b){if(player.behaviour.keepForwardEnabled){var c=this.pagesNextEnabled[b.pageid];return"undefined"==typeof c?b.disablenext:!c}return b.disablenext};DKI.DataStorage.prototype.nextButtonEnabled=function(b){if("undefined"==typeof b)if(this.assessment&&this.assessment.currentQuestion)b=this.assessment.currentQuestion.page;else if(this.currentPage)b=this.currentPage.page;else return;this.pagesNextEnabled[b.pageid]=!0};
DKI.DataStorage.prototype.invalidateModule=function(b){if("string"===typeof b||"number"===typeof b)b=this.findModule(b);"undefined"!==typeof b&&(b.invalidated=!0);$(document).trigger(DKI.DataStorage.events.moduleInvalidated,b.loid)};
DKI.DataStorage.prototype.revalidateModule=function(b){if("string"===typeof b||"number"===typeof b)b=this.findModule(b);"undefined"!==typeof b&&(b.invalidated=!1,b.complete=!1,$.each(b.objects,function(){this.complete=!1;$.each(this.subeos,function(){this.complete=!1});$.each(this.questions,function(){this.complete=!1})}));$(document).trigger(DKI.DataStorage.events.moduleRevalidated,b.loid)};
DKI.DataStorage.prototype.markSubeoComplete=function(b,c){var h;if("string"===typeof b||"number"===typeof b)b=this.findSubeo(b);"undefined"!==typeof b&&(this.doSetPageComplete(b),b.complete=!0,h=this.findObject(b.objectid),h.started=!0,$(this).trigger(DKI.DataStorage.events.pageCompleted,b.page.pageid),this.checkObjectComplete(h),c&&this.doSetIntroModuleDisplayedBySubeo(b,c))};
DKI.DataStorage.prototype.markObjectComplete=function(b,c){if("string"===typeof b||"number"===typeof b)b=this.findObject(b);if("undefined"!==typeof b){var h=!b.complete&&!c;this.doSetObjectComplete(b,c);c=this.findModule(b.moduleid);c.started=!0;h&&$(this).trigger(DKI.DataStorage.events.objectCompleted,b.objectid);this.checkModuleComplete(this.findModule(b.moduleid))}};
DKI.DataStorage.prototype.markModuleComplete=function(b,c){if("string"===typeof b||"number"===typeof b)b=this.findModule(b);if("undefined"!==typeof b){var h=!b.complete;this.doSetModuleComplete(b,c);h&&$(this).trigger(DKI.DataStorage.events.moduleCompleted,b.loid);this.checkCourseComplete()}};
DKI.DataStorage.prototype.markModulePassed=function(b){if("string"===typeof b||"number"===typeof b)b=this.findModule(b);if("undefined"!==typeof b){b.forcePassed=!0;b.showRetake=!1;for(var c=0;c<b.objects.length;c++)b.objects[c].randQuest=0,b.objects[c].testing=0;player.inAssessment&&this.assessment.module.loid==b.loid&&(b.forceTestEnd=!0,$(this).trigger(DKI.DataStorage.events.assessmentCompleted),$(document).trigger(DKI.Events.TestQuestion.forceEnd))}};
DKI.DataStorage.prototype.markCoursePassed=function(){for(var b=0;b<this.courseStructure.modules.length;b++)this.markModulePassed(this.courseStructure.modules[b])};DKI.DataStorage.prototype.markCourseComplete=function(b){this.doSetCourseComplete(b);this.checkCourseComplete()};DKI.DataStorage.prototype.moduleHasTest=function(b){for(var c=0;c<b.objects.length;c++)if(0!==b.objects[c].randQuest&&0<b.objects[c].questions.length&&!b.forcePassed)return!0;return!1};
DKI.DataStorage.prototype.moduleHasPages=function(b){if(b)for(var c=0;c<b.objects.length;c++)if(0<b.objects[c].subeos.length)return!0;return!1};DKI.DataStorage.prototype.modulesTestAttempted=function(){for(var b=this.modulesWithTesting(),c=[],h=0;h<b.length;h++)if("object"==typeof b[h].pre||"object"==typeof b[h].post)c[c.length]=b[h];return c};
DKI.DataStorage.prototype.modulesWithTesting=function(){for(var b=[],c=0;c<this.courseStructure.modules.length;c++)this.courseStructure.modules[c].invalidated||this.courseStructure.modules[c].forcePassed||0<this.courseStructure.modules[c].weight&&(b[b.length]=this.courseStructure.modules[c]);return b};
DKI.DataStorage.prototype.remainingPreAttempts=function(b){if(this.behaviour.enablePreTest){if("string"===typeof b||"number"===typeof b)b=this.findModule(b);if(0===b.weight||b.pre)return 0}else return 0;return 1};
DKI.DataStorage.prototype.remainingPostAttempts=function(b){var c,h=0;if(this.behaviour.enablePostTest){if("string"===typeof b||"number"===typeof b)b=this.findModule(b);if(0===b.weight)return 0;c=this.behaviour.allowRetesting?parseInt(this.behaviour.retestAttempts,10)+1:1;b.post&&(h=b.post.attempts);c-=h;0>c&&(c=0);this.behaviour.allowRetesting&&"0"==this.behaviour.retestAttempts&&(c=1);return c}return 0};
DKI.DataStorage.prototype.resume=function(b){this.bookmark&&("on"===b||"prompt"===b&&window.confirm(this.strings.iResume))?(isNaN(this.bookmark)&&settings.useExternalIdsForScorm&&(this.bookmark=this.getPageFromExternalId(this.bookmark).pageid),this.jumpToPage(this.bookmark),this.resumeFromBookmark=!0):$(this).trigger(DKI.DataStorage.events.pageSelected,this.currentPage)};DKI.DataStorage.prototype.setCurrentPageComplete=function(){this.markSubeoComplete(this.currentPage)};
DKI.DataStorage.prototype.setCurrentObjectComplete=function(){this.markObjectComplete(this.currentObject)};DKI.DataStorage.prototype.setPageComplete=function(b){(b=this.getSubeoFromPage(b))&&this.markSubeoComplete(b)};DKI.DataStorage.prototype.setObjectComplete=function(b){(b=this.findObject(b))&&this.markObjectComplete(b)};DKI.DataStorage.prototype.setModuleComplete=function(b,c){(b=this.findModule(b))&&this.markModuleComplete(b,c)};
DKI.DataStorage.prototype.setModulePassed=function(b){(b=this.findModule(b))&&this.markModulePassed(b)};
DKI.DataStorage.prototype.submitCurrentQuestion=function(b,c,h,l){c="undefined"===typeof c?0:c;if(this.assessment){var m=this.assessment.currentQuestion;c=DKI.Marker.scoreQuestion(m,b.options,c,l);this.assessment.scoreQuestion(m,b,c,h,l);this.currentModule.forceEndPre=!1;if("pre"===this.assessment.prepost&&this.behaviour.enableExitPreOnFail){b=this.passMark;this.currentModule.parameters.useProjectScore||""==this.currentModule.parameters.pretestScore||(b=this.currentModule.parameters.pretestScore);
for(m=l=0;m<this.assessment.unanswered.length;m++)l+=this.assessment.unanswered[m].weight;(l+this.assessment.getPoints())/this.assessment.totalWeight*100<b&&(this.currentModule.forceEndPre=!0)}if(this.assessment.currentQuestion)$(this).trigger(DKI.DataStorage.events.questionSelected,this.assessment.currentQuestion);else if(0===this.assessment.unanswered.length||h||this.currentModule.forceEndPre)"pre"===this.assessment.prepost?(this.assessment.module.pre.score=this.assessment.getScore(),this.assessment.module.pre.points=
parseFloat(this.assessment.getPoints(),"10"),this.assessment.module.pre.weight=this.assessment.getWeight(),h=this.getModuleScoringDetails(this.assessment.module),this.behaviour.pretestSkipContent&&h.passed&&this.setModuleComplete(this.currentModule.loid,!0)):(this.assessment.module.post.score=this.assessment.getScore(),this.assessment.module.post.points=parseFloat(this.assessment.getPoints(),"10"),this.assessment.module.post.weight=this.assessment.getWeight()),$(this).trigger(DKI.DataStorage.events.assessmentCompleted);
$(this).trigger(DKI.DataStorage.events.questionSubmitted,c)}return c};
DKI.DataStorage.prototype.testMaxedOut=function(){var b=0,c=0,h=1,l=parseInt(this.behaviour.retestAttempts,10),m;if(!this.hasTesting()||!this.behaviour.enablePreTest&&!this.behaviour.enablePostTest)return!0;if(this.hasTesting())if(this.behaviour.enablePreTest&&!this.behaviour.enablePostTest)for(m=0;m<this.courseStructure.modules.length;m++)!this.courseStructure.modules[m].invalidated&&0<this.courseStructure.modules[m].weight&&(b++,(this.courseStructure.modules[m].pre||0<this.getModuleCompletion(this.courseStructure.modules[m]))&&
c++);else for(this.behaviour.allowRetesting&&(h+=l),m=0;m<this.courseStructure.modules.length;m++)!this.courseStructure.modules[m].invalidated&&0<this.courseStructure.modules[m].weight&&(b++,this.courseStructure.modules[m].post&&this.courseStructure.modules[m].post.attempts>=h&&(!this.behaviour.allowRetesting||0!==l)&&c++);return b===c};
DKI.DataStorage.prototype.loadTest=function(b,c,h){"undefined"==typeof c&&(c=this.courseStructure.isDebug);var l={questions:[]},m=b.objects.slice();b=m.length;var u=playerBehaviour.enableShuffleLoOrder;if(h)$.each(this.assessmentBookmark.question_ids,function(){for(var b=0;b<m.length;b++)for(var c=m[b],h=0;h<c.questions.length;h++)if(c.questions[h].id==this){l.questions.push(c.questions[h]);return}});else if(u)for(u=0;u<b;u++)l.questions=l.questions.concat(this.randomQuestions(m[u],c));else for(u=
0;u<b;u++)h=Math.floor(Math.random()*m.length),l.questions=l.questions.concat(this.randomQuestions(m.splice(h,1)[0],c));return l};DKI.DataStorage.prototype.randomQuestions=function(b,c){var h=[],l=b.questions.slice();if(b.randQuest>=l.length&&(1===parseInt(b.preserve_question_order,10)||!0===b.preserve_question_order)||c)return l;for(var m=1;m<=b.randQuest;m++)if(0<l.length)c=Math.floor(Math.random()*l.length),h[h.length]=l.splice(c,1)[0];else break;return h};
DKI.DataStorage.prototype.locatePage=function(b){for(var c={page:0,object:0,module:0},h,l,m=0;m<this.courseStructure.modules.length;m++){h=this.courseStructure.modules[m];for(var u=0;u<h.objects.length;u++){l=h.objects[u];for(var q=0;q<l.subeos.length;q++)if(l.subeos[q].page.pageid===b)return c.page=q,c.object=u,c.module=m,c}}return c};
DKI.DataStorage.prototype.locateObject=function(b){for(var c={object:0,module:0},h,l,m=0;m<this.courseStructure.modules.length;m++){h=this.courseStructure.modules[m];for(var u=0;u<h.objects.length;u++)if(l=h.objects[u],l.objectid===b)return c.object=u,c.module=m,c}};DKI.DataStorage.prototype.locateModule=function(b){for(var c={module:0},h,l=0;l<this.courseStructure.modules.length;l++)if(h=this.courseStructure.modules[l],h.loid===b)return c.module=l,c};
DKI.DataStorage.prototype.doSetCourseComplete=function(b){this.courseStructure.complete=!0;this.courseStructure.started=!0;for(var c=0;c<this.courseStructure.modules.length;c+=1)this.doSetModuleComplete(this.courseStructure.modules[c],b)};DKI.DataStorage.prototype.doSetIntroCourseDisplayed=function(){this.courseStructure.introDisplayed=!0};DKI.DataStorage.prototype.doSetIntroModuleDisplayed=function(b,c,h){h?b.introDisplayed=c:setTimeout(function(){b.introDisplayed=c},0)};
DKI.DataStorage.prototype.doSetIntroModuleDisplayedBySubeo=function(b,c){b=this.findObject(b.objectid);this.doSetIntroModuleDisplayed(this.findModule(b.moduleid),!0,c)};DKI.DataStorage.prototype.doSetModuleComplete=function(b,c){b.complete=!0;this.doSetModuleStarted(b);for(var h=0;h<b.objects.length;h+=1)this.doSetObjectComplete(b.objects[h],c)};
DKI.DataStorage.prototype.doSetModuleStarted=function(b){b.started||(b.started=!0,this.courseStructure.started=!0,$(this).trigger(DKI.DataStorage.events.moduleStarted,b.loid))};DKI.DataStorage.prototype.doSetObjectComplete=function(b,c){b.complete=!0;this.doSetObjectStarted(b);for(var h=0;h<b.subeos.length;h+=1)this.doSetPageComplete(b.subeos[h],c);c&&$(this).trigger(DKI.DataStorage.events.objectCompleted,b.objectid)};
DKI.DataStorage.prototype.doSetObjectStarted=function(b){var c=!b.started,h=this.findModule(b.moduleid);c&&(b.started=!0);this.doSetModuleStarted(h);c&&$(this).trigger(DKI.DataStorage.events.objectStarted,b.objectid)};
DKI.DataStorage.prototype.doSetPageComplete=function(b,c){var h=this.findObject(b.objectid);this.findModule(h.loid);b.complete=!0;b.started=!0;!this.loadingLMSCompletionData||this.bookmark==b.page.pageid&&"incomplete"==this.lessonStatus||(this.pagesNextEnabled[b.page.pageid]=!0);this.doSetObjectStarted(h);c&&$(this).trigger(DKI.DataStorage.events.pageCompleted,b.page.pageid)};
DKI.DataStorage.prototype.onCourseComplete=function(){this.lessonStatus="incomplete";var b;this.hasTesting()&&(this.behaviour.enablePreTest||this.behaviour.enablePostTest)?(b=this.getCourseScoringDetails(),this.isPassed(b)?this.lessonStatus="passed":this.isFailed(b)&&(this.lessonStatus="failed")):this.lessonStatus="complete"};
DKI.DataStorage.prototype.onAssessmentComplete=function(){this.assessment.removeTimer();this.storeAssessment=!1;("both"==this.behaviour.completionCriteria&&100===this.getCourseCompletion()||"testing"==this.behaviour.completionCriteria&&this.allTestsAttempted()||5==this.courseStructure.model_id&&this.allTestsAttempted())&&$(this).trigger(DKI.DataStorage.events.courseCompleted)};DKI.DataStorage.prototype.doExit=function(){""!==this.behaviour.exitFunction?eval(this.behaviour.exitFunction):top.window.close()};
DKI.DataStorage.prototype.startCourseTimer=function(){if(this.courseTime&&!this.courseTimer){var b=$.proxy(function(){this.courseTimer=setInterval($.proxy(function(){this.courseTimerPause||(this.courseTime-=1E3,0==this.courseTime&&(clearInterval(this.courseTimer),delete this.courseTimer),$(document).trigger(contentApi.events.dataSet,{id:"sys.course.contentTime",newValue:this.courseTime,oldValue:this.courseTime+1E3}))},this),1E3)},this);this.overallCourseTime=this.courseTime;if(this.ready)b();else $(this).on(DKI.DataStorage.events.ready,
function(){$(document).trigger(contentApi.events.dataSet,{id:"sys.course.contentTime",newValue:this.courseTime,oldValue:this.courseTime});b()})}else this.courseTimerPause=!1};DKI.DataStorage.prototype.stopCourseTimer=function(){this.courseTimerPause=!0};
DKI.DataStorage.prototype.resetCourseTimer=function(){if(!1!==this.courseTime){this.stopCourseTimer();var b=this,c=this.courseTime,h=0;$.each(courseStructure.modules,function(){b.resetModuleTimer(this);h+=this.parameters.content_time});this.courseTime=h;$(document).trigger(contentApi.events.dataSet,{id:"sys.course.contentTime",newValue:this.courseTime,oldValue:c});this.courseTimerPause=!1;this.startCourseTimer()}};
DKI.DataStorage.prototype.resetModuleTimer=function(b){var c=b.parameters.content_time;b.parameters.content_time=b.parameters.content_time_original;this.courseTime+=b.parameters.content_time-c;b.loid==this.currentModule.loid?(player.stopContentTimer(),player.startContentTimer(!0),$(document).trigger(contentApi.events.dataSet,{id:"sys.currentModule.contentTime",newValue:b.parameters.content_time,oldValue:c})):$(document).trigger(contentApi.events.dataSet,{id:"sys.modules."+(b.loorder-1)+".contentTime",
newValue:b.parameters.content_time,oldValue:c})};DKI.DataStorage.prototype.updatePublishFilter=function(b,c){c()};
DKI.DataStorage.events={courseEnd:"courseEnd",testEnd:"testEnd",changePage:"changePage",changeObject:"changeObject",changeModule:"changeModule",pageCompleted:"pageCompleted",objectCompleted:"objectCompleted",moduleCompleted:"moduleCompleted",courseCompleted:"courseCompleted",pageSelected:"pageSelected",questionSelected:"questionSelected",questionSubmitted:"questionSubmitted",questionScored:"questionScored",assessmentCompleted:"assessmentCompleted",assessmentReady:"assessmentReady",attemptsMaxed:"attemptsMaxed",
beforeReady:"beforeReady",ready:"ready",assetRegistered:"assetRegistered",moduleStarted:"moduleStarted",objectStarted:"objectStarted",beforeUnload:"beforeUnload",moduleInvalidated:"moduleInvalidated",moduleRevalidated:"moduleRevalidated",project_structure_init:"project_structure_init",module_structure_init:"module_structure_init",object_structure_init:"object_structure_init",question_structure_init:"question_structure_init",subeo_structure_init:"subeo_structure_init",page_structure_init:"page_structure_init",
page_structure_after_init:"page_structure_after_init",group_structure_init:"group_structure_init",element_structure_init:"element_structure_init",content_variable_structure_init:"content_variable_structure_init",action_structure_init:"action_structure_init"};
DKI.PlayerMenu=function(b){var c={element:"westPanel",dataStorage:dataStorage,behaviour:playerBehaviour,strings:playerStrings,player:player,animation:{effect:"slide",options:{direction:$("html").hasClass("ltr")?"left":"right"}}};this.config=b=DKI.applyIf(b,c);this.container=$("#"+b.element);this.behaviour=b.behaviour;this.dataStorage=b.dataStorage;this.strings=b.strings;this.clickEvent=b.player.settings.clickEvent;this.store=DKI.courseStore;this.tabSet=new DKI.TabSet({elementID:"westPanel",player:b.player});
this.tabSet.selectTab("outlineTab",!0);this.outlineTab=document.getElementById("outlineTab");this.tree=DKI.PlayerTree;DKI.PlayerTree.init(b.player,"outlineContent",DKI.courseStore);this.behaviour.transcripts&&(this.transcript=this.tabSet.createTab(this.strings.transcriptLabel,"transcriptTab").content,this.transcriptTab=document.getElementById("transcriptTab"),this.transcriptContent=document.createElement("div"),this.transcriptContent.tabIndex=-1,this.transcriptContent.className="transcript-content",
this.transcript.appendChild(this.transcriptContent),this.transcriptPosition=0);this.behaviour.pageNotes&&(this.notes=this.tabSet.createTab(this.strings.notesLabel,"notesTab").content,this.notesTab=document.getElementById("notesTab"),this.notesContent=document.createElement("div"),this.notesContent.tabIndex=-1,this.notesContent.className="notes-content",this.notes.appendChild(this.notesContent),this.notesPosition=0);this.close=$(".buttonClose");this.pageClicked="menuPageClicked";this.closed="menuClosed";
this.initEvents()};
DKI.PlayerMenu.prototype.initEvents=function(){var b=this;$(this.close).on(this.clickEvent,function(c){c.stopPropagation();b.onCloseClicked()});this.tree.pageClicked=function(b,h){$(document).trigger(DKI.PlayerMenu.events.pageClicked,h)};$(this.dataStorage).on(DKI.DataStorage.events.pageCompleted,function(c,h){b.tree.setComplete({type:b.store.NodeType.page,id:h})});$(this.dataStorage).on(DKI.DataStorage.events.objectCompleted,function(c,h){b.tree.setComplete({type:b.store.NodeType.object,id:h})});
$(this.dataStorage).on(DKI.DataStorage.events.moduleCompleted,function(c,h){b.tree.setComplete({type:b.store.NodeType.module,id:h})});$(this.dataStorage).on(DKI.DataStorage.events.courseCompleted,function(c){b.tree.setComplete({type:b.store.NodeType.course,id:b.dataStorage.courseStructure.courseid})});$(this.dataStorage).on(DKI.DataStorage.events.pageSelected,function(c,h){b.selectPage(h.page)});$(document).on(DKI.EndTest.events.started,$.proxy(function(){this.transcriptContent&&(this.transcriptContent.innerHTML=
"");this.notesContent&&(this.notesContent.innerHTML="")},this));$(document).on(DKI.EndModule.events.started,$.proxy(function(){this.transcriptContent&&(this.transcriptContent.innerHTML="");this.notesContent&&(this.notesContent.innerHTML="")},this));$(document).on(DKI.EndCourse.events.started,$.proxy(function(){this.transcriptContent&&(this.transcriptContent.innerHTML="");this.notesContent&&(this.notesContent.innerHTML="")},this));$(".dki-WestPanel .menuHeader").delegate(".courseSearchOpen",this.clickEvent,
function(b){contentApi.hideMenu();contentApi.toggleCourseSearch();b.stopPropagation()});$(".dki-WestPanel .menuHeader").delegate(".buttonClose",this.clickEvent,function(c){b.onCloseClicked();c.stopPropagation();return!1});$(".dki-WestPanel .innerBlockScroll .content").delegate(".page",this.clickEvent,function(c){c.stopPropagation();b.onCloseClicked();b.dataStorage.jumpToPage($(this).attr("page-id"));return!1});return null};DKI.PlayerMenu.prototype.getLeft=function(){return 0};
DKI.PlayerMenu.prototype.getWidth=function(){return $(this.container).width()};DKI.PlayerMenu.prototype.setCourse=function(b){this.tree.setCourse(b)};DKI.PlayerMenu.prototype.setCourseComplete=function(){};DKI.PlayerMenu.prototype.setHeight=function(b){$(this.container).height(b)};DKI.PlayerMenu.prototype.setModuleComplete=function(b){};DKI.PlayerMenu.prototype.setObjectComplete=function(b){};DKI.PlayerMenu.prototype.setPageComplete=function(b){};
DKI.PlayerMenu.prototype.selectPage=function(b){"string"==typeof b&&(b=this.dataStorage.findPage(b));this.tree.selectPage(b.pageid);$("div.content div.active",this.container).each(function(b){$(this).removeClass("active")});$(this.outlineTab).removeClass("disabled");this.behaviour.transcripts&&b.transcript?(this.transcript.scrollTop=0,this.transcriptContent.innerHTML=b.transcript.body):this.transcriptContent&&(this.transcriptContent.innerHTML="");this.behaviour.pageNotes&&b.pageNote?(this.notesContent.innerHTML=
b.pageNote.body,$(this.notesTab).removeClass("disabled")):this.notesContent&&(this.notesContent.innerHTML="");playerBehaviour.enableCourseSearch&&$(".dki-WestPanel .menuHeader a.courseSearchOpen").show();return null};
DKI.PlayerMenu.prototype.selectQuestion=function(b){"string"==typeof b&&(b=this.dataStorage.findQuestion(b));this.behaviour.transcripts&&b.page.transcript?(this.transcriptContent.innerHTML=b.page.transcript.body,$(this.outlineTab).addClass("disabled"),this.notesTab&&$(this.notesTab).addClass("disabled")):this.transcriptContent&&(this.transcriptContent.innerHTML="");$(".dki-WestPanel .menuHeader a.courseSearchOpen").hide()};DKI.PlayerMenu.prototype.scrollToSelected=function(){this.tree.scrollToSelected()};
DKI.PlayerMenu.prototype.selectedTab=function(b){if(b)this.tabSet.selectTab(b);else return this.tabSet.selectedTab().id};DKI.PlayerMenu.prototype.onCloseClicked=function(b){$(this).trigger(DKI.PlayerMenu.events.closed)};DKI.PlayerMenu.prototype.hide=function(){$(this.container).hide(this.config.animation.effect,this.config.animation.options).addClass("hidden")};
DKI.PlayerMenu.prototype.show=function(){var b=dkiUA.iOS?screen.availHeight-43:$("html").css("height").replace("px","");600>b?$(this.container).css("max-height",.85*b+"px"):$(this.container).css("max-height","600px");$(this.container).show(this.config.animation.effect,this.config.animation.options).removeClass("hidden");player.inAssessment||player.inReview||!playerBehaviour.enableCourseSearch?$(".dki-WestPanel .menuHeader a.courseSearchOpen").hide():$(".dki-WestPanel .menuHeader a.courseSearchOpen").show()};
DKI.PlayerMenu.events={closed:"MENU_CLOSED",pageClicked:"MENU_PAGE_CLICKED",initialized:"PLAYER_MENU_INITIALIZED"};$(document).on(DKI.DataStorage.events.beforeReady,function(){var b=new DKI.PlayerMenu;$(document).trigger(DKI.PlayerMenu.events.initialized,b)});DKI||(DKI={});
DKI.TabSet=function(b){var c=b.elementID;this.config=b;this.container=$("#"+c);this.tabStrip=$(".tabStrip",this.container)[0];null==this.tabStrip&&(this.tabStrip=document.createElement("ul"),this.tabStrip.id=c+"_tabStrip",this.tabStrip.role="tablist",$(this.tabStrip).addClass("tabStrip menuTabs"),0<this.container.length&&(0<this.container[0].childNodes.length?this.container[0].insertBefore(this.container[0].firstChild):this.container[0].appendChild(this.tabStrip)));b=this.tabStrip.childNodes;for(var h,
l=[],m=0;m<b.length;m++)if("LI"===b[m].tagName){l[l.length]=b[m];b[m].id||(b[m].id="tab_"+DKI.TabSet.tabCounter);c=$(b[m]).attr("data-contentid");if(void 0===c||null===c||""===c)c=b[m].id+"Content",b[m].setAttribute("data-contentid",c);b[m].tabIndex="0";b[m].role||(b[m].role="tab");b[m]["aria-controls"]||(b[m]["aria-controls"]=c);h=$("#"+c).addClass("tabContent")[0];null===h||void 0===h?this.createTabContent(c):h.role||(h.role="tabpanel");DKI.TabSet.tabCounter+=1}0<l.length&&this.selectTab(l[0].id,
!0);this.initEvents()};DKI.TabSet.prototype.initEvents=function(){var b=this;this.tabSelected="tabSelected";$(this.tabStrip).delegate(".tab",clickEvent,function(c){c.stopPropagation();$(this).hasClass("disabled")||b.selectTab(this.id);return!1})};DKI.TabSet.tabCounter=0;
DKI.TabSet.prototype.createTab=function(b,c){var h=document.createElement("li"),l={tab:h};h.className="tab";h.role="tab";h.tabIndex=0;b||(b="Tab "+DKI.TabSet.tabCounter);h.innerHTML="\x3ca\x3e"+b+"\x3c/a\x3e";h.id=null!==c&&void 0!==c?c:"tab_"+DKI.TabSet.tabCounter;b=h.id+"Content";h.setAttribute("data-contentid",b);h["aria-controls"]=b;this.tabStrip.appendChild(h);l.content=this.createTabContent(b);return l};
DKI.TabSet.prototype.createTabContent=function(b){var c=document.createElement("div");c.id=b;c.role="tabpanel";c.classList?(c.classList.add("tabContent"),c.classList.add("innerBlockScroll"),c.classList.add("hidden")):$(c).addClass("tabContent hidden innerBlockScroll");this.container.append(c);return c};DKI.TabSet.prototype.removeTab=function(b){(b="string"===typeof b?document.getElementById(b):b)&&this.tabStrip.removeChild(b)};
DKI.TabSet.prototype.selectTab=function(b,c){b="string"==typeof b?$("#"+b):$(b);$(this.tabStrip).children().each(function(){$(this).removeClass("selected");var b=$("#"+this.getAttribute("data-contentid")).addClass("hidden");$("*[tabindex]",b).attr("tabIndex","-1")});b.addClass("selected");b=$("#"+b.attr("data-contentid")).removeClass("hidden");b=$("*[tabIndex]",b).attr("tabIndex","0");!c&&0<b.length&&b[0].focus();return!0};
DKI.TabSet.prototype.selectedTab=function(){return this.tabStrip.querySelector?this.tabStrip.querySelector(".selected"):$(".selected",this.tabStrip)[0]};DKI.TabSet.prototype.hide=function(){$(this.container).hide()};DKI.TabSet.prototype.show=function(){$(this.container).show()};DKI.TabSet.prototype.isHidden=function(){return $(this.container).hasClass("hidden")};DKI||(DKI={});
DKI.PlayerTree=function(){var b=null,c=null,h=null,l=null,m,u=function(b,c,h,k){var l="";switch(b){case "module":l=c;break;case "object":l=c+"."+h;break;case "page":l=c+"."+h+"."+k}return l},q=function(){$(b).delegate(".module,.object,.course,.page","click",function(b){var h=$(this);b=l.get(this.id);if(b.nodeType==l.NodeType.page)h.hasClass("disabled")||(k(b.page.pageid),DKI.PlayerTree.pageClicked(DKI.PlayerTree.pageClicked,b.page.pageid));else if(b.nodeType==l.NodeType.object&&c){for(var h=null,
m=b.childKeys.length-1;0<=m;m--){var p=l.get(b.childKeys[m]);if(p.nodeType==l.NodeType.page&&p.complete&&m==b.childKeys.length-1){h=l.get(b.childKeys[0]).page.pageid;break}if(p.nodeType==l.NodeType.page&&p.complete){h=p.page.pageid;break}}h||(h=l.get(b.childKeys[0]).page_id);k(h);DKI.PlayerTree.pageClicked(DKI.PlayerTree.pageClicked,h)}else h.toggleClass("collapse"),$(h.children()[0]).toggleClass("collapse");return!1});$(m).on(m.events.bypassForceSequential,function(){$(b).find(".treeNode.disabled").removeClass("disabled")});
return null},x=function(k,p,v){m=k;if(null!=p&&null!=v&&void 0!=p&&void 0!=v){b=$("#"+p);b.addClass("dki-PlayerTree");l=v;b.html("");k=playerBehaviour.forceSequential;c=playerBehaviour.hidePagesFromMenu;h=playerBehaviour.enablePageNumbering;if(void 0!==l&&null!==l){p=l.course.get();v=document.createElement("div");v.id=p.key;v.className="treeNode collapse "+l.NodeType.course;var z=v.appendChild(document.createElement("a"));z.setAttribute("tabindex",0);z.innerHTML+="\x3cspan class\x3d'tree-icon collapse'\x3e\x3c/span\x3e\x3cspan title\x3d\""+
p.coursename+"\"\x3e\x3cspan class\x3d'tree-icon status'\x3e\x3c/span\x3e\x3cspan class\x3d'label'\x3e"+p.coursename+"\x3c/span\x3e\x3c/span\x3e";z.className=p.complete?"finished":p.started?"started":"unstarted";z.className+=" collapse";z.id=p.key+"link";var n=1,x;for(x in p.childKeys){var D=l.module.get(p.childKeys[x]),y=h?u("module",n):"",B=document.createElement("div");B.id=D.key;B.className="treeNode collapse "+l.NodeType.module;z=B.appendChild(document.createElement("a"));z.setAttribute("tabindex",
0);z.innerHTML="\x3cspan class\x3d'tree-icon collapse'\x3e\x3c/span\x3e\x3cspan title\x3d\""+y+" "+D.name+"\"\x3e\x3cspan class\x3d'tree-icon status'\x3e\x3c/span\x3e\x3cspan class\x3d'label'\x3e"+y+" "+D.name+"\x3c/span\x3e\x3c/span\x3e";z.className=D.complete?"finished":D.started?"started":"unstarted";z.className+=" collapse";z.id=D.key+"link";v.appendChild(B);var y=1,F;for(F in D.childKeys){var C=l.get(D.childKeys[F]),I=h?u("object",n,y):"",J=document.createElement("div");J.className="treeNode collapse "+
l.NodeType.object;J.id=C.key;c&&(J.className+=" pagesHidden");z=J.appendChild(document.createElement("a"));z.setAttribute("tabindex",0);z.innerHTML="\x3cspan class\x3d'tree-icon collapse'\x3e\x3c/span\x3e\x3cspan title\x3d\""+I+" "+C.name+"\"\x3e\x3cspan class\x3d'tree-icon status'\x3e\x3c/span\x3e\x3cspan class\x3d'label'\x3e"+I+" "+C.name+"\x3c/span\x3e\x3c/span\x3e";z.className=C.complete?"finished":C.started?"started":"unstarted";z.className+=" collapse";z.id=C.key+"link";B.appendChild(J);var I=
1,G;for(G in C.childKeys){var K=l.get(C.childKeys[G]),L=h?u("page",n,y,I):"";if(K.nodeType==l.NodeType.page&&!c){var P=document.createElement("div");P.id=K.key;P.className="treeNode "+l.NodeType.page+(k&&!K.complete?" disabled":"");z=P.appendChild(document.createElement("a"));z.setAttribute("tabindex",0);z.innerHTML='\x3cspan title\x3d"'+L+" "+K.page.title+"\"\x3e\x3cspan class\x3d'tree-icon status'\x3e\x3c/span\x3e\x3cspan class\x3d'label'\x3e"+L+" "+K.page.title+"\x3c/span\x3e\x3c/span\x3e";z.className=
K.complete?"finished":"unstarted";z.id=K.key+"link";J.appendChild(P);I++}}y++}n++}b.append(v)}else b.html("No outline available");q();return null}},k=function(h){var k=null;c?((k=l.object.get(l.NodeType.object+h))||(k=l.object.getForPage(l.NodeType.page+h)),k=$("#"+l.NodeType.object+k.id+"link")):k=$("#"+l.NodeType.page+h+"link");var m=$("#outlineContent");$(".treeNode.course",m);$("a.selected",b).each(function(b){$(this).removeClass("selected")});k.addClass("selected");k.parent().removeClass("disabled");
p();$("div.object a",b).each(function(b){$(this).removeClass("active")});$($("#"+l.NodeType.page+h).parent().children()[0]).addClass("active");for(h=k.parent();null!=h;)h.hasClass("treeNode")?(h.removeClass("collapse"),$(h.children()[0]).removeClass("collapse"),h=h.parent()):h=null;return null},p=function(){var b=$(document.getElementById("outlineContent")),c=$("a.selected",b);if(c.length){var h=$(".treeNode.course",b);b.scrollTop(c.offset().top-h.offset().top)}};return{init:x,scrollToSelected:p,
setComplete:function(b){function c(b){var h=$($("#"+b.key).children()[0]);h.removeClass("unstarted").removeClass("finished").removeClass("started");h.addClass(b.complete?"finished":"started");return b.parentId}var h=$("#"+b.type+b.id+"link");h.removeClass("unstarted");h.removeClass("started");h.addClass("finished");b.type==l.NodeType.page&&(b=l.page.get(b.type+b.id),c(l.module.get(c(l.object.get(b.parentId)))),c(l.course.get()))},selectPage:k,setCourse:x,pageClicked:null}}();
DKI.Assessment=$.Class({prototype:{init:function(b,c,h){this.module=b;this.unanswered=h.questions.concat();this.answered=[];this.prepost=c;this.currentQuestionIndex=0;this.currentQuestion=this.unanswered[this.currentQuestionIndex];this.nextQuestion=this.getNextQuestion();this.previousQuestion=this.getPreviousQuestion();this.totalQuestions=this.unanswered.length;this.currentQuestionCount=1;for(var l=this.totalWeight=0;l<h.questions.length;l++)this.totalWeight+=parseInt(h.questions[l].weight,10);this.module.lastAssessment=
this;this.submissions=[];this.countdownTimer=null;if(settings.enableTimerQuestions&&("post"==c&&playerBehaviour.enableTestTime||"pre"==c&&playerBehaviour.enablePreTestTime)&&"undefined"!==typeof b.parameters&&"undefined"!==typeof b.parameters.test_time&&""!=b.parameters.test_time){var m=this;requirejs(["flipclock"],function(){var c=$("#countdown-timer-div"),h={countdown:!0,clockFace:"MinuteCounter",callbacks:{start:function(){this.getElapsed()},stop:function(){var b=l-this.getElapsed();setTimeout($.proxy(function(){0==
b&&(contentApi.setData("sys.assessment.timeRemaining",0),contentApi.setData("sys.assessment.timeRemainingInMS",0),dataStorage.currentModule.forceTestEnd=!0,contentApi.submitQuestion())},m),1E3)},interval:function(b,c,h){b=l-this.getElapsed();c=DKI.utility.timeFunctions.convertMsToTime(b);contentApi.setData("sys.assessment.timeRemaining",c.h+":"+c.m+":"+c.s);contentApi.setData("sys.assessment.timeRemainingInMS",b)}}};dataStorage.currentModule.forceTestEnd=!1;var l=b.parameters.test_time;36E5<b.parameters.test_time&&
(h.clockFace="HourCounter");m.countdownTimer=c.FlipClock(b.parameters.test_time/1E3,h);h=c.outerWidth(!0);c.show();c.width(h+1);m.setCountdownTimerPosition();c.draggable({containment:DKI.utility.getDragContainment($("#contentFrame"),c.outerWidth(),c.outerHeight()),drag:function(b,c){DKI.utility.dragFix(c)},stop:function(b,c){c.helper.addClass("userDropped")}});$(window).on("resize",function(){c.draggable("option","containment",DKI.utility.getDragContainment($("#contentFrame"),c.outerWidth(),c.outerHeight()))})})}},
setCountdownTimerPosition:function(){if(this.countdownTimer){var b=this.countdownTimer.$el,c=$(".bgRepeater").width()+parseInt($(".bgRepeater").style("margin-left")),h=c-b.width()-50*DKI.utility.getScale();if(!b.hasClass("userDropped")||parseInt(b.css("left"),10)+b.width()>c)b.css("left",h+"px"),b.removeClass("userDropped")}},removeTimer:function(){var b=!1;this.countdownTimer&&(b=this.countdownTimer.$el,this.countdownTimer.timer._destroyTimer($.proxy(function(){delete this.countdownTimer;this.countdownTimer=
null},this)));b&&(b.empty(),b.hide())},getScore:function(){var b=0;if(0<this.answered.length){for(var c=0;c<this.answered.length;c++)var h=parseInt(this.answered[c].weight,10),b=b+parseFloat(this.answered[c].score,10)*h;b=0==b&&0==this.totalWeight?0:b/this.totalWeight}return Math.floor(1E3*b)/1E3},getPoints:function(){var b=parseFloat(0,"10");if(0<this.answered.length)for(var c=0;c<this.answered.length;c++)b+=parseFloat(this.answered[c].points,"10");return parseFloat(b.toFixed(1),10)},getWeight:function(){return this.totalWeight},
getNextQuestion:function(){var b=this.currentQuestionIndex+1;if(1===this.unanswered.length)return null;b>=this.unanswered.length&&(b=0);return this.unanswered[b]},getPreviousQuestion:function(){var b=this.currentQuestionIndex-1;if(1===this.unanswered.length)return null;0>b&&(b=this.unanswered.length-1);return this.unanswered[b]},getTotalQuestions:function(){return this.totalQuestions},goNextQuestion:function(){null!==this.currentQuestion&&this.currentQuestionIndex++;this.currentQuestionIndex>=this.unanswered.length&&
(this.currentQuestionIndex=0);0<this.unanswered.length?(this.currentQuestion=this.unanswered[this.currentQuestionIndex],this.nextQuestion=this.getNextQuestion(),this.previousQuestion=this.getPreviousQuestion()):this.previousQuestion=this.nextQuestion=this.currentQuestion=null},goPreviousQuestion:function(){0<this.currentQuestionIndex?this.currentQuestionIndex--:this.currentQuestionIndex=this.unanswered.length-1;this.currentQuestion=this.unanswered[this.currentQuestionIndex];this.nextQuestion=this.getNextQuestion();
this.previousQuestion=this.getPreviousQuestion()},scoreQuestion:function(b,c,h,l,m,u){"undefined"==typeof u&&(u=!0);var q=DKI.clone(c);this.submissions.push({id:b.id,questionObject:q,score:h,forceEnd:l});for(var x,q=0;q<this.unanswered.length;q++)this.unanswered[q].id===b.id&&(x=this.unanswered[q].page,this.unanswered.splice(q,1),x={choices:c.options,score:h,body:c.body,page:x,points:parseFloat(parseFloat(h*b.weight/100,10).toFixed(1),10),data:c.data,timedOut:l?!0:!1},this.answered[this.answered.length]=
DKI.applyIf(x,b),this.currentQuestionIndex=q);0<this.unanswered.length&&this.currentQuestionCount++;this.currentQuestion=null;$(dataStorage).trigger(DKI.DataStorage.events.questionScored,{question:b,questionObject:c,score:h,test:m,recordInteraction:u})},export:function(){var b=this,c={moduleid:this.module.loid,currentQuestionCount:this.currentQuestionCount,currentQuestionIndex:this.currentQuestionIndex,prepost:this.prepost,question_ids:function(){var c=[];$.each(b.answered,function(){c.push(this.id)});
$.each(b.unanswered,function(){c.push(this.id)});return c}(),submissions:this.submissions};this.countdownTimer&&(c.time=this.countdownTimer.getTime());return c},import:function(b){var c=this;this.countdownTimer&&this.countdownTimer.setTime(b.time);$.each(b.submissions,function(){var b=this;$.each(c.unanswered,function(){this.id==b.id&&c.scoreQuestion(this,b.questionObject,b.score,b.forceEnd,null,!1)})});this.goNextQuestion()}}});DKI||(DKI={});
DKI.AssessmentReview=$.Class({init:function(b){this.module=b.module;this.prepost=b.prepost;this.totalQuestions=b.answered.length+b.unanswered.length;this.questions=[];this.test=b;for(var c=0;c<b.answered.length;c++){var h={id:b.answered[c].id,pageid:b.answered[c].pageid,userChoices:b.answered[c].choices,options:b.answered[c].options,score:parseFloat(b.answered[c].score,10),page:b.answered[c].page,weight:b.answered[c].weight,points:parseFloat(b.answered[c].points,"10")};this.questions[c]=DKI.applyIf(h,
b.answered[c])}for(c=0;c<b.unanswered.length;c++)this.questions[this.questions.length]=DKI.applyIf({id:b.unanswered[c].id,pageid:b.unanswered[c].pageid,userChoices:[],correctChoices:b.unanswered[c].options,score:0,page:b.unanswered[c].page,weight:b.unanswered[c].weight,points:0},b.unanswered[c]);this.currentQuestionIndex=0;this.currentQuestionCount=1;this.currentQuestion=this.questions[this.currentQuestionIndex];this.nextQuestion=this.getNextQuestion();this.previousQuestion=this.getPreviousQuestion()},
getScore:function(){for(var b=0,c=0,h=0;h<this.questions.length;h++)b+=parseFloat(this.questions[h].score,"10")*this.questions[h].weight,c+=parseInt(this.questions[h].weight,"10");return 0==b&&0==c?0:Math.floor(b/c*1E3)/1E3},getPoints:function(){for(var b=parseFloat(0,"10"),c=0;c<this.questions.length;c++)b+=parseFloat(this.questions[c].points,"10");return parseFloat(b.toFixed(1),10)},getWeight:function(){return this.test.totalWeight},goNextQuestion:function(){this.currentQuestionIndex<this.totalQuestions-
1&&(this.currentQuestionIndex++,this.currentQuestionCount++,this.currentQuestion=this.questions[this.currentQuestionIndex],this.nextQuestion=this.getNextQuestion(),this.previousQuestion=this.getPreviousQuestion())},goPreviousQuestion:function(){0<this.currentQuestionIndex&&(this.currentQuestionIndex--,this.currentQuestionCount--,this.currentQuestion=this.questions[this.currentQuestionIndex],this.nextQuestion=this.getNextQuestion(),this.previousQuestion=this.getPreviousQuestion())},getNextQuestion:function(){return this.currentQuestionIndex<
this.totalQuestions?this.questions[this.currentQuestionIndex+1]:null},getPreviousQuestion:function(){return 0<this.currentQuestionIndex?this.questions[this.currentQuestionIndex-1]:null},export:function(){return{}},import:function(){return!1}});DKI||(DKI={});
DKI.prompt=function(b,c,h){var l=playerStrings&&playerStrings.buttonLabelOK?playerStrings.buttonLabelOK:"OK",m=playerStrings&&playerStrings.buttonLabelCancel?playerStrings.buttonLabelCancel:"Cancel",u=playerStrings&&playerStrings.buttonLabelClose?playerStrings.buttonLabelClose:"Close",q,x,k=function(b){b=!1;var k="";$(this).hasClass("prompt_ok")&&(b=!0,k=x.val());c.call(h,b,k);q.modal("hide");return!1};h||(h=window);(function(){q=$(Handlebars.compile(DKI.templates.prompt)({strings:{ok:l,cancel:m,
close:u,message:b}}));x=q.find("#DKI_prompt_input");x[0].addEventListener("keydown",function(b){b.stopPropagation?b.stopPropagation():b.cancelBubble=!0;13==b.keyCode&&q.find(".prompt_ok").trigger(settings.clickEvent)},!0);$("body").append(q);q.on("shown.bs.modal",function(){x.focus()});q.on("hidden.bs.modal",function(){q.remove()});q.find("button").on(settings.clickEvent,k);q.modal("show")})()};
var contentApi=function(){var b={},c,h,l,m,u,q,x,k={called:"contentAPICalled",dataSet:"dataSet",jumpToPage:"jumpToPage",nextButtonEnabled:"nextButtonEnabled"},p={DkiApi:{},events:k},r={init:function(b,k){c=b;q=b.strings;l=c.navigation;m=c.dataStorage;c.isSinglePage||(u=k,h=c.behaviour,u&&!x&&this.getStudentName(function(){}))},audioButtonOn:function(){l.showAudioButton();$(document).trigger(k.called,[{message:"Player Control Action Triggered...\x3c/br\x3eAudio is enabled."}])},audioButtonOff:function(){l.hideAudioButton();
$(document).trigger(k.called,[{message:"Player Control Action Triggered...\x3c/br\x3eAudio is disabled."}])},contentGoBack:function(){l.fireBack();$(document).trigger(k.called,[{message:"Player Control Action Triggered...\x3c/br\x3eNavigated to the previous page."}])},contentGoNext:function(){c.isSinglePage||(c.inEndScreen?!c.reachedEnd&&c.inAssessment||c.contentPage.previous&&c.contentPage.previous.question&&c.contentPage.previous.question.objectid?c.resume("pre"==m.assessment.prepost):c.resume():
l.fireForward());$(document).trigger(k.called,[{message:"Player Control Action Triggered...\x3c/br\x3eNavigated to the next page."}])},nextLightboxOrContentPage:function(b){b&&b.pageInstance&&b.pageInstance.isStandalonePage?c.showNextLightboxPage(!0):contentApi.contentGoNext(b)},getAudioStatus:function(){var b=c.isSinglePage?!0:c.audio;$(document).trigger(k.called,[{message:"Content API called... \x3c/br\x3e Audio Status retrieved",data:b}]);return b},getCourseCompletion:function(){var b=c.isSinglePage?
null:m.getCourseCompletion();$(document).trigger(k.called,[{message:"Content API called... \x3c/br\x3e Course completion retrieved",data:b}]);return b},getSinglePageContentVariables:function(){return b},getCourseID:function(){var b=c.isSinglePage?null:m.courseStructure.manifestId;$(document).trigger(k.called,[{message:"Content API called... \x3c/br\x3e Course ID retrieved",data:b}]);return b},getCourseMetadata:function(){var b=c.isSinglePage?null:m.courseStructure.metadata;$(document).trigger(k.called,
[{message:"Content API called... \x3c/br\x3e Course metadata retrieved",data:b}]);return b},getCourseLanguage:function(){var b=c.isSinglePage?null:m.courseStructure.crslanguage;$(document).trigger(k.called,[{message:"Content API called... \x3c/br\x3e Course language retrieved",data:b}]);return b},getCurrentLanguage:function(){return settings.current_culture_code},getCourseName:function(){var b=c.isSinglePage?null:$("\x3cdiv\x3e").html(m.courseStructure.coursename).text();$(document).trigger(k.called,
[{message:"Content API called... \x3c/br\x3e Course name retrieved",data:b}]);return b},getProjectTitleForDisplay:function(b){var h=this.getCourseMetadata(),h=h?h.title:"";c.isSinglePage||""==m.courseStructure.parameters.styledTitle||(h=b?"\x3cdiv class\x3d'styledTitle'\x3e"+m.courseStructure.parameters.styledTitle+"\x3c/div\x3e":m.courseStructure.parameters.styledTitle);return h},getProjectDescriptionForDisplay:function(b){var h=this.getCourseMetadata(),h=h?h.description:"";c.isSinglePage||""==m.courseStructure.parameters.styledSubtitle||
(h=b?"\x3cdiv class\x3d'styledSubtitle'\x3e"+m.courseStructure.parameters.styledSubtitle+"\x3c/div\x3e":m.courseStructure.parameters.styledSubtitle);return h},getCoursePassMark:function(){var b=c.isSinglePage?null:m.courseStructure.passmark;$(document).trigger(k.called,[{message:"Content API called... \x3c/br\x3e Course pass mark retrieved",data:b}]);return b},getCoursePageCount:function(){var b=c.isSinglePage?null:m.countCoursePages();$(document).trigger(k.called,[{message:"Content API called... \x3c/br\x3e Course page count retrieved",
data:b}]);return b},getCourseScore:function(){var b=c.isSinglePage?null:m.getCourseScoreAvg();$(document).trigger(k.called,[{message:"Content API called... \x3c/br\x3e Course score retrieved.",data:b}]);return b},getCourseScoreAvg:function(){var b=c.isSinglePage?null:m.getCourseScoreAvg();$(document).trigger(k.called,[{message:"Content API called... \x3c/br\x3e Course score average retrieved.",data:b}]);return b},getCurrentModuleName:function(){var b=c.isSinglePage?null:m.currentModule.name;$(document).trigger(k.called,
[{message:"Content API called... \x3c/br\x3e Current module name retrieved.",data:b}]);return b},getData:function(h,l){var n=null;try{switch(h.toLowerCase()){case "sys.player.muted":n=!contentApi.getAudioStatus();break;case "sys.player.inreview":n=c.inReview;break;case "sys.player.inassessment":n=c.inAssessment;break;case "sys.learner.completion":n=contentApi.getCourseCompletion();break;case "sys.learner.score":n=contentApi.getCourseScore();break;case "sys.learner.status":n=contentApi.getStatus();
break;case "sys.learner.name":n=contentApi.getStudentName();break;case "sys.learner.id":n=contentApi.getUserID();break;case "sys.course.language":n=contentApi.getCourseLanguage();break;case "sys.course.title":n=contentApi.getCourseMetadata().title;break;case "sys.course.type":n=m.courseStructure.model_id;break;case "sys.course.description":n=contentApi.getCourseMetadata().description;break;case "sys.course.styledtitle":n=m.courseStructure.parameters.styledTitle;break;case "sys.course.styledsubtitle":n=
m.courseStructure.parameters.styledSubtitle;break;case "sys.course.copyright":n=contentApi.getCourseMetadata().copyright;break;case "sys.course.disclaimer":n=contentApi.getCourseMetadata().disclaimer;break;case "sys.course.summary":n=contentApi.getCourseMetadata().summary;break;case "sys.course.compliance":n=contentApi.getCourseMetadata().compliance;break;case "sys.course.duration":n=contentApi.getDuration();break;case "sys.course.passmark":n=contentApi.getPassMark();break;case "sys.course.completedtests":n=
contentApi.getModuleTestCompleteCount();break;case "sys.course.remainingtests":n=contentApi.getModuleTestCount()-contentApi.getModuleTestCompleteCount();break;case "sys.course.totaltests":n=contentApi.getModuleTestCount();break;case "sys.course.pagecount":n=contentApi.getCoursePageCount();break;case "sys.course.publisheddate":n=contentApi.getCourseMetadata().datelastmodified;break;case "sys.course.publish_filter":var p=[];settings.publish_filters.forEach(function(b){1==b.type&&p.push(b.title)});n=
p.join(", ");break;case "sys.course.passtext":n=m.courseStructure.passText;break;case "sys.course.failtext":n=m.courseStructure.failText;break;case "sys.metadata.currentdate":var q=new Date,n=q.getFullYear()+"/"+(q.getMonth()+1)+"/"+q.getDate();break;case "sys.metadata.currentyear":q=new Date;n=q.getFullYear();break;case "sys.course.type":n=m.courseStructure.model_id;break;case "sys.course.contenttime":n=0==parseInt(m.courseTime,10)?0:parseInt(m.courseTime,10)||"N/A";break;case "sys.course.projectduration":n=
m?m.getCourseDurationMinutes():0;break;case "sys.course.projectdurationstring":n=m?m.getCourseDurationString():"";break;case "sys.currentmodule.score":n=contentApi.getModuleScore();break;case "sys.currentmodule.title":n=contentApi.getCurrentModuleName();break;case "sys.currentmodule.pagecount":n=m.countModulePages(m.currentModule);break;case "sys.currentmodule.complete":n=m.currentModule.complete?!0:!1;break;case "sys.currentmodule.pretestscore":n=m.currentModule.pre?m.currentModule.pre.score:null;
break;case "sys.currentmodule.posttestscore":n=m.currentModule.post?m.currentModule.post.score:null;break;case "sys.currentmodule.passmark":n=""!=m.currentModule.passing_mark?m.currentModule.passing_mark:contentApi.getPassMark();break;case "sys.currentmodule.hastesting":n=1===m.currentModule.weight?!0:!1;break;case "sys.currentmodule.testtime":n=m&&m.currentModule?parseInt(m.currentModule.parameters.test_time,10)||"N/A":"N/A";break;case "sys.currentmodule.contenttime":var r=0==parseInt(m.currentModule.parameters.content_time,
10)?0:parseInt(m.currentModule.parameters.content_time,10)||"N/A",n=m&&m.currentModule?r:"N/A";break;case "sys.currentmodule.remainingattempts":n=m.remainingPostAttempts(m.currentModule);break;case "sys.currentmodule.averagequestionscore":n=m.getAverageQuestionScore(m.currentModule);break;case "sys.currentobject.title":n=m.currentObject.title;break;case "sys.currentobject.description":n=m.currentObject.description;break;case "sys.currentobject.pagecount":n=m.currentObject.subeos.length;break;case "sys.currentobject.complete":n=
m.currentObject.complete?!0:!1;break;case "sys.currentpage.title":m.currentPage&&(n=m.currentPage.page.title);m.assessment&&m.assessment.currentQuestion&&(n=m.assessment.currentQuestion.title);break;case "sys.currentpage.readingtime":m.currentPage&&(n=6E4>m.currentPage.page.readingtime?"1 min":Math.round(m.currentPage.page.readingtime/6E4)+"min");m.assessment&&m.assessment.currentQuestion&&(n=6E4>m.assessment.currentQuestion.readingtime?"1 min":Math.round(m.assessment.currentQuestion.readingtime/
6E4)+"min");break;case "sys.currentpage.description":m.currentPage&&(n=m.currentPage.page.description);m.assessment&&m.assessment.currentQuestion&&(n=m.assessment.currentQuestion.description);break;case "sys.currentpage.transcript":m.currentPage&&(n=m.currentPage.page.transcript?m.currentPage.page.transcript.body:"");m.assessment&&m.assessment.currentQuestion&&m.assessment.currentQuestion.page.transcript&&(n=m.assessment.currentQuestion.page.transcript.body);break;case "sys.currentpage.note":m.currentPage&&
(n=m.currentPage.page.pageNote?m.currentPage.page.pageNote.body:"");m.assessment&&m.assessment.currentQuestion&&m.assessment.currentQuestion.page.pageNote&&(n=m.assessment.currentQuestion.page.pageNote.body);break;case "sys.currentpage.id":m.currentPage&&(n=m.currentPage.page.pageid);m.assessment&&m.assessment.currentQuestion&&(n=m.assessment.currentQuestion.page.pageid);break;case "sys.currentpage.external_id":m.currentPage&&(n=m.currentPage.page.external_id);m.assessment&&m.assessment.currentQuestion&&
(n=m.assessment.currentQuestion.page.external_id);break;case "sys.currentpage.moduleindex":n=m.currentModulePage;m.assessment&&m.assessment.currentQuestion&&(n=m.assessment.currentQuestionIndex);break;case "sys.currentpage.objectindex":n=m.currentPageIndex+1;m.assessment&&m.assessment.currentQuestion&&(n=m.assessment.currentQuestion.order);break;case "sys.profile.pretestenabled":n=playerBehaviour.enablePreTest;break;case "sys.profile.pretestforced":n=playerBehaviour.forcePreTest;break;case "sys.profile.pretestreview":n=
playerBehaviour.enablePreTestReview;break;case "sys.profile.posttestenabled":n=playerBehaviour.enablePostTest;break;case "sys.profile.posttestreview":n=playerBehaviour.enablePostTestReview;break;case "sys.profile.retestattempts":n=playerBehaviour.retestAttempts;break;case "sys.profile.forcesequential":n=playerBehaviour.forceSequential;break;case "sys.profile.certificateenabled":n=playerBehaviour.completionCertificate;break;case "sys.assessment.questionsanswered":n=m.currentModule.lastAssessment?m.currentModule.lastAssessment.answered.length:
null;break;case "sys.assessment.questionsremaining":n=m.currentModule.lastAssessment?m.currentModule.lastAssessment.unanswered.length:null;break;case "sys.assessment.totalquestions":n=m.currentModule.lastAssessment?m.currentModule.lastAssessment.totalQuestions:m.loadTest(m.currentModule).questions.length;break;case "sys.assessment.ispretest":n=m.currentModule.lastAssessment?"pre"==m.currentModule.lastAssessment.prepost:null;break;case "sys.assessment.isposttest":n=m.currentModule.lastAssessment?"post"==
m.currentModule.lastAssessment.prepost:null;break;case "sys.assessment.totalweight":n=m.currentModule.lastAssessment?m.currentModule.lastAssessment.totalWeight:null;break;case "sys.assessment.currentquestionindex":n=m.getCurrentQuestionCount;m.assessment&&m.assessment.currentQuestion&&(n=m.assessment.currentQuestionCount);break;case "sys.assessment.scoredpoints":m.currentModule.lastAssessment&&(n=m.currentModule[m.currentModule.lastAssessment.prepost].points);break;case "sys.currentlightboxpage.readingtime":c.contentPage.lightBoxPage&&
(n=6E4>c.contentPage.lightBoxPage.page.readingtime?"1 min":Math.round(c.contentPage.lightBoxPage.page.readingtime/6E4)+"min");break;case "sys.currentlightboxpage.title":c.contentPage.lightBoxPage&&(n=c.contentPage.lightBoxPage.page.title);break;case "sys.currentlightboxpage.description":c.contentPage.lightBoxPage&&(n=c.contentPage.lightBoxPage.page.description);break;case "sys.currentlightboxpage.transcript":c.contentPage.lightBoxPage&&(n=c.contentPage.lightBoxPage.page.transcript?c.contentPage.lightBoxPage.page.transcript.body:
"");break;case "sys.currentlightboxpage.note":c.contentPage.lightBoxPage&&(n=c.contentPage.lightBoxPage.page.pageNote?c.contentPage.lightBoxPage.page.pageNote.body:"");break;case "sys.currentlightboxpage.id":c.contentPage.lightBoxPage&&(n=c.contentPage.lightBoxPage.page.pageid);break;default:if(0==h.indexOf("sys.translationStrings.")){var u=h.replace("sys.translationStrings.","");return contentApi.getPlayerString(u)}if(h.toLowerCase().match(/sys\.modules\.[0-9]*\./)){var w=h.toLowerCase().match(/sys\.modules\.([0-9]*)\.(.*)/),
x=w[1],I=w[2],n="";if(m.getModuleByIndex){var J=m.getModuleByIndex(x);switch(I){case "score":n=contentApi.getModuleScore(J.loid);break;case "title":n=J.name;break;case "pagecount":n=m.countModulePages(J);break;case "complete":n=J.complete?!0:!1;break;case "pretestscore":n=J.pre?J.pre.score:null;break;case "posttestscore":n=J.post?J.post.score:null;break;case "passmark":n=""!=J.passing_mark?J.passing_mark:contentApi.getPassMark();break;case "hastesting":n=1===J.weight?!0:!1;break;case "remainingattempts":n=
m.remainingPostAttempts(J);break;case "contenttime":n=parseInt(J.parameters.content_time,10);break;case "averagequestionscore":n=m.getAverageQuestionScore(J)}}return n}n=c.isSinglePage?b[h]:m.getContentVariable(h)}}catch(G){}l||$(document).trigger(k.called,[{message:"Content API called... \x3c/br\x3e Data for "+h+" retrieved",data:n}]);return n},getPlayerString:function(b){b=b.split(".");return DKI.strings[b[0]][b[1]]},getDuration:function(){var b=c.isSinglePage?null:parseInt(m.courseStructure.duration,
10);$(document).trigger(k.called,[{message:"Content API called... \x3c/br\x3e Course duration retrieved",data:b}]);return b},getMaxTestAttempts:function(){var b=0;c.isSinglePage||(b=h.enablePostTest?h.allowRetesting?parseInt(h.retestAttempts,10)+1:1:0);$(document).trigger(k.called,[{message:"Content API called... \x3c/br\x3e Course maximum test attempts retrieved",data:b}]);return b},getModules:function(){var b=null,h;if(!c.isSinglePage)for(var b=[],l=0;l<m.courseStructure.modules.length;l+=1)h=m.courseStructure.modules[l],
b[l]={name:h.loname,id:h.loid,hasTesting:1===h.weight?!0:!1,remainingAttempts:m.remainingPostAttempts(h)},h.pre&&(b[l].pre={score:h.pre.score,rawScore:h.pre.points,maxScore:h.pre.weight}),h.post&&(b[l].post={score:h.post.score,attempts:h.post.attempts,rawScore:h.post.points,maxScore:h.post.weight});$(document).trigger(k.called,[{message:"Content API called... \x3c/br\x3e Course modules retrieved",data:b}]);return b},getModuleScore:function(b){var h=null;if(!c.isSinglePage){if(void 0===b||null===b)b=
m.currentModule.loid;h=m.getModuleScore(b)}$(document).trigger(k.called,[{message:"Content API called... \x3c/br\x3e Module by ID:"+b+" score retrived",data:h}]);return h},getModuleTestCompleteCount:function(){var b=c.isSinglePage?null:m.modulesTestAttempted().length;$(document).trigger(k.called,[{message:"Content API called... \x3c/br\x3e Module test completion count retrieved",data:b}]);return b},getModuleTestCount:function(){var b=c.isSinglePage?null:m.modulesWithTesting().length;$(document).trigger(k.called,
[{message:"Content API called... \x3c/br\x3e Module test count retrieved",data:b}]);return b},getObjectID:function(){var b=c.isSinglePage?null:m.currentObject.objectid;$(document).trigger(k.called,[{message:"Content API called... \x3c/br\x3e Current learning object ID retrieved",data:b}]);return b},getPassMark:function(){var b=c.isSinglePage?null:m.passMark;$(document).trigger(k.called,[{message:"Content API called... \x3c/br\x3e Course passing mark retrieved",data:b}]);return b},getPageID:function(){var b=
c.isSinglePage?c.settings.pageId:m.currentPage.page.pageid;$(document).trigger(k.called,[{message:"Content API called... \x3c/br\x3e Current page ID retrieved",data:b}]);return b},getPreviousPage:function(){var b=c.isSinglePage?null:m.previousPage?m.previousPage.page:null;$(document).trigger(k.called,[{message:"Content API called... \x3c/br\x3e previous page retrieved",data:b}]);return b},getCurrentPage:function(){var b=c.isSinglePage?null:m.currentPage?m.currentPage.page:null;$(document).trigger(k.called,
[{message:"Content API called... \x3c/br\x3e Current page retrieved",data:b}]);return b},getNextPage:function(){var b=c.isSinglePage?null:m.nextPage?m.nextPage.page:null;$(document).trigger(k.called,[{message:"Content API called... \x3c/br\x3e next page retrieved",data:b}]);return b},getStatus:function(){var b=null;if(u)switch(m.get("status")){case m.get("statusPassed"):b="passed";break;case m.get("statusCompleted"):b="complete";break;case m.get("statusFailed"):b="failed";break;default:b="incomplete"}else c.isSinglePage||
(b=m.lessonStatus);$(document).trigger(k.called,[{message:"Content API called... \x3c/br\x3e Course status retrieved",data:b}]);return b},getStudentName:function(b){var c;if(b){if(x)return b(x),!1;var h=function(h,l){x=c=h?l:"";b(c);$(document).trigger(k.called,[{message:"Content API called... \x3c/br\x3e Student name entered",data:c}])};u?u.process("GetStudentName",[],function(c){x=c;b(c);$(document).trigger(k.called,[{message:"Content API called... \x3c/br\x3e Student name entered",data:c}])}):
DKI.prompt(q.txtEnterName,h)}else{if(x)return x;x=c=window.prompt(q.txtEnterName);$(document).trigger(k.called,[{message:"Content API called... \x3c/br\x3e Student name retreived",data:c}]);return c}},getUserID:function(){var b=c.isSinglePage?null:m.getUserID();$(document).trigger(k.called,[{message:"Content API called... \x3c/br\x3e Current user ID retrieved",data:b}]);return b},hideBack:function(){l.hideBackButton();$(document).trigger(k.called,[{message:"Player Control Action Triggered...\x3c/br\x3e The preview button is disabled."}])},
hideBoth:function(){l.hideBackButton();l.hideForwardButton();$(document).trigger(k.called,[{message:"Player Control Action Triggered...\x3c/br\x3e Both navigation buttons are disabled."}])},hideForward:function(){l.hideForwardButton();$(document).trigger(k.called,[{message:"Player Control Action Triggered...\x3c/br\x3eThe next button is disabled."}])},hideTranscript:function(){c.isSinglePage||c.hideTranscript();$(document).trigger(k.called,[{message:"Player Control Action Triggered...\x3c/br\x3eThe transcript is hidden."}])},
jumpToSubeo:function(b,h,l){DKI.isObject(b)&&b.subeoId&&(b=b.subeoId);"undefined"===typeof l&&(l=!1);c.inAssessment||c.inReview||c.isSinglePage||c.jumpToSubeo(b,h,l);$(document).trigger(k.called,[{message:"Player Control Action Triggered...\x3c/br\x3eJump to subeo triggered."}])},checkPageExists:function(b){if(c.isSinglePage)return!0;var h;DKI.isObject(b)?b.pageID&&(h=b.pageID):h=b;b=m.findPage(h);return DKI.isDefined(b)},jumpToPage:function(b,h){var l;DKI.isObject(b)?("undefined"!=typeof b.markComplete&&
(h=b.markComplete),b.pageID&&(l=b.pageID)):l=b;b=m.getSubeoFromPage(l);$(document).trigger(k.jumpToPage,[l,b]);!b||c.inAssessment||c.inReview||c.isSinglePage||c.jumpToSubeo(b.subeoid,h);h="Player Control Action Triggered...\x3c/br\x3eJump to page triggered.";b||(h+=".. Page not found in course.");$(document).trigger(k.called,[{message:h}])},getSubeoFromPage:function(b){if(!c.isSinglePage)return c.dataStorage.getSubeoFromPage(b);$(document).trigger(k.called,[{message:"Player Control Action Triggered...\x3c/br\x3egetSubeoFromPage triggered."}])},
jumpToLearningObject:function(b,h){if(!c.inAssessment&&!c.inReview&&!c.isSinglePage){b=m.findObject(b);if(0==b.subeos.length)return;for(var l=b.subeos[0].subeoid,p=1;p<b.subeos.length;p++)if(!b.subeos[p].complete){l=b.subeos[p-1].subeoid;break}contentApi.jumpToSubeo(l,h)}$(document).trigger(k.called,[{message:"Player Control Action Triggered...\x3c/br\x3eJump to object triggered."}])},playerEvent:{on:function(b,h){c.isSinglePage||$(c).bind(b,h);$(document).trigger(k.called,[{message:"Content API called... Handler attached to player event",
data:arguments}])},remove:function(b,h){c.isSinglePage||$(c).unbind(b,h);$(document).trigger(k.called,[{message:"Content API called... Handler removed from player event",data:arguments}])}},printPage:function(){window.print();$(document).trigger(k.called,[{message:"Content API called... Print page called"}])},setData:function(h,l,n,p,q,r){var u=function(b){var h=b;c.isSinglePage?$.each(content_variables,function(){this.name==h&&(h=this.id)}):h=m.getVariableIdForName(b);return h},w;h&&(w=c.isSinglePage?
b[h]:this.getData(h),w!=l&&(c.isSinglePage?b[h]=l:m.setContentVariable.apply(m,[h,l,q]),p||($(document).trigger(k.dataSet,{id:u(h),newValue:l,oldValue:w,cfg:r}),$(document).trigger(k.called,[{message:"Content API called... Data set",data:arguments}]))))},setObjectCompleted:function(){c.isSinglePage||c.setCurrentObjectComplete();$(document).trigger(k.called,[{message:"Content API called... Current learning object set to complete"}])},setCourseComplete:function(){c.isSinglePage||m.markCourseComplete(!0);
$(document).trigger(k.called,[{message:"Content API called... Course learning set to complete"}])},execJS:function(b){try{eval(b.js)}catch(c){$(document).trigger(k.called,[{message:"exec JS Content API called... Error executing javascript: "+b.js,status:"warning"}])}$(document).trigger(k.called,[{message:"Content API called... Javascript successfully executed.",data:b.js}])},showBack:function(){c.navigation.showBackButton();$(document).trigger(k.called,[{message:"Player Control Action Triggered...\x3c/br\x3eThe previous button is enabled."}])},
showBoth:function(){c.navigation.showBackButton();c.navigation.showForwardButton();$(document).trigger(k.nextButtonEnabled);$(document).trigger(k.called,[{message:"Player Control Action Triggered...\x3c/br\x3eBoth navigation buttons are enabled."}])},showForward:function(){c.navigation.showForwardButton();$(document).trigger(k.nextButtonEnabled);$(document).trigger(k.called,[{message:"Player Control Action Triggered...\x3c/br\x3eThe next button is enabled."}])},takeTest:function(){if(c.isSinglePage)$(document).trigger(k.called,
[{message:"Content API function called...\x3c/br\x3eJumped to current module testing"}]);else if(!c.inAssessment&&!c.inReview){var b=m.currentModule,l=m.moduleHasTest(b);if(h.enablePostTest){if(!l)return $(document).trigger(k.called,[{message:"Content API function called... \x3c/br\x3e "+q.noModuleTesting,status:"warning"}]),null;if(m.isMaxedOut(b))return $(document).trigger(k.called,[{message:"Content API function called... \x3c/br\x3e "+q.exceededTestAttempts,status:"warning"}]),null}else return $(document).trigger(k.called,
[{message:"Content API function called... \x3c/br\x3e "+q.testingDisabled,status:"warning"}]),null;m.markModuleComplete(b);(l=m.getModuleEnd(b))&&m.jumpToPage(l.page);c.launchTest(b.loid,"post");$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eJumped to current module testing"}]);return null}},takePreTest:function(){if(c.isSinglePage)$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eJumped to current module pre testing"}]);else if(!c.inAssessment&&
!c.inReview){var b=m.currentModule,l=m.moduleHasTest(b);if(h.enablePreTest){if(!l)return $(document).trigger(k.called,[{message:"Content API function called... \x3c/br\x3e "+q.noModuleTesting,status:"warning"}]),null;if(b.pre)return $(document).trigger(k.called,[{message:"Content API function called... \x3c/br\x3e module already has a pretest",status:"warning"}]),null}else return $(document).trigger(k.called,[{message:"Content API function called... \x3c/br\x3e "+q.testingDisabled,status:"warning"}]),
null;c.launchTest(b.loid,"pre");$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eJumped to current module pre testing"}]);return null}},jumpToModule:function(b){if(c.isSinglePage)$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eJumped to current module content"}]);else if(!c.inAssessment&&!c.inReview){var h=m.currentModule;b.moduleID&&(h=m.findModule(b.moduleID));c.jumpToModule(h)&&$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eJumped to current module content"}]);
return null}},reviewTest:function(b){if(c.isSinglePage)$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eTest review started"}]);else if(!c.inAssessment&&!c.inReview){var h=m.currentModule;b.moduleID&&(h=m.findModule(b.moduleID));(b=h.lastAssessment?h.lastAssessment:null)&&c.launchReview(b);$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eTest review started"}]);return null}},toggleTranscript:function(){c.isSinglePage||c.toggleTranscript();
$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eThe transcript is toggled"}])},showTranscript:function(){c.isSinglePage||c.showTranscript();$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eThe transcript is showing"}])},openModal:function(b,c){DKI.Modal.show({url:b,callback:c});$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eThe modal is showing"}])},showGlossaryBrowser:function(){c.isSinglePage||DKI.glossaryBrowse.show();
$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eThe glossary browser is showing"}])},hideGlossaryBrowser:function(){c.isSinglePage||DKI.glossaryBrowse.hide();$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eThe glossary browser is hidden"}])},toggleGlossaryBrowser:function(){c.isSinglePage||DKI.glossaryBrowse.toggle();$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eThe glossary browser is toggled"}])},
showGlossaryForTerm:function(b,c){DKI.glossary.showPopupForTerm(b,c);$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eThe glossary term "+b+" has been requested to show is toggled"}])},showResourceBrowser:function(){c.isSinglePage||DKI.resourceBrowser.show();$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eThe resource browser is showing"}])},hideResourceBrowser:function(){c.isSinglePage||DKI.resourceBrowser.hide();$(document).trigger(k.called,
[{message:"Content API function called...\x3c/br\x3eThe resource browser is hidden"}])},toggleResourceBrowser:function(){c.isSinglePage||DKI.resourceBrowser.toggle();$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eThe resource browser is toggled"}])},showBibliography:function(){c.isSinglePage||DKI.reference.showBibliography();$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eThe bibliography is showing"}])},hideBibliography:function(){c.isSinglePage||
DKI.reference.hideBibliography();$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eThe bibliography is hidden"}])},toggleBibliography:function(){c.isSinglePage||DKI.reference.toggleBibliography();$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eThe bibliography is toggled"}])},showCourseSearch:function(b){b&&"object"==typeof b&&(b=null);c.isSinglePage||DKI.search.Window.show(b);$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eThe course search window is showing"}])},
hideCourseSearch:function(){c.isSinglePage||DKI.search.Window.hide();$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eThe course search window is hidden"}])},toggleCourseSearch:function(){c.isSinglePage||DKI.search.Window.toggle();$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eThe course search window is toggled"}])},searchCourse:function(b,h){var l=null;c.isSinglePage||(l=m.searchManager.search(b,h));$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eThe course was searched for: "+
b,data:{result:l,term:b,exclude:h}}]);return l},showCorrectAnswers:function(){(c.contentPage.lightBoxPage||c.contentPage.current).showCorrectAnswers();$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eCorrect answers are showing"}])},tryAgain:function(){c.contentPage.current.tryAgain();$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eTAnother test question attempt has been started"}])},submitQuestion:function(b){if(c.inReview)this.contentGoNext();
else if(c.contentPage.current.submitQuestion||c.contentPage.lightBoxPage&&c.contentPage.lightBoxPage.submitQuestion)(c.contentPage.lightBoxPage||c.contentPage.current).submitQuestion(DKI.isObject(b)?null:b),$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eThe current question has been submitted"}])},sceneStepForward:function(){c.contentPage.current.stepForward();$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eThe current scene has been stepped forward"}])},
sceneStepBack:function(){c.contentPage.current.stepBack();$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eThe current scene has been stepped back"}])},resetPage:function(b){c.contentPage.current.reset({fromAction:!0});c.contentPage.current.start();b||$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eThe current page has been reset"}])},showMenu:function(){c.isSinglePage||c.showOutline();$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eThe menu is showing"}])},
hideMenu:function(){c.isSinglePage||c.hideOutline();$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eTThe menu is hidden"}])},toggleMenu:function(){c.isSinglePage||c.toggleOutline();$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eThe menu is toggled"}])},exitCourse:function(){c.isSinglePage||c.exitCourse();$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eThe course exit has been triggered"}])},jumpToElement:function(b){b=
DKI.applyIf(b,{scrollToTop:!1});var c=$("#"+b.elementId+"_wrapper"),h=function(){var b=c.find('*[tabindex][tabindex!\x3d"-1"]:first');0<b.length&&b[0].focus()};if(c.offset().top<$(window).scrollTop()||c.offset().top+c.height()>$(window).scrollTop()+(window.innerHeight||document.documentElement.clientHeight)||b.scrollToTop)if(200>c.offset().top)if($(document.body).hasClass("mobile")){var l=$("#headerContainer").css("position");$("#headerContainer").css("position","relative");c.velocity("scroll",{offset:-200,
duration:500});setTimeout(function(){$("#headerContainer").css("position",l);h()},501)}else c.velocity("scroll",{offset:-200,duration:500}),setTimeout(function(){h()},501);else c.velocity("scroll",{offset:-1*$(".bgRepeater").offset().top,duration:500}),setTimeout(function(){h()},501);else h();$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eElement has been jumped to",data:b}])},backToTop:function(b){var c=$("body, html, #contentFrame"),h=!1;"undefined"!=typeof b&&
(c=$(b),c.hasClass("fancybox-content")?(c.animate({scrollTop:0},500),h=!0):c=c.scrollParent());h||c.velocity("scroll",{offset:-200,duration:500});$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eBack to top"}])},launchURL:function(b){c.isSinglePage||(DKI.applyIf(b,{display:"modal",method:"GET"}),DKI.Modal.show(b));$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eURL has been launched",data:b}])},enableMenuButton:function(){c.isSinglePage||
l.enableMenuButton();$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eTHe menu button is enabled"}])},disableMenuButton:function(){c.isSinglePage||l.disableMenuButton();$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eThe menu is disabled"}])},showPopup:function(b){var h=setTimeout(function(){DKI.PopupPanel.show(b)},50);$(c.navigation).one([DKI.PlayerNavigation.events.back,DKI.PlayerNavigation.events.forward,DKI.DataStorage.events.pageSelected,
DKI.ContentPage.events.started].join(" "),function(){clearTimeout(h)});$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eA popup has been shown",data:b}])},hidePopup:function(b){DKI.PopupPanel.hide({id:b});$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eA popup has been hidden",data:b}])},hideAllPopups:function(b,c){var h=this,k="div.popup[data-actionID]";c||(k+=":not(.dki-submit-button)");b||(k+=":not(.DKI-questionFeedback)");$(k).each(function(){h.hidePopup($(this).data("actionID"))})},
destroyPopup:function(b){DKI.PopupPanel.destroy({id:b});$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eA popup has been destroyed",data:b}])},getCurrentAssessment:function(){var b=c.isSinglePage?null:m.assessment;$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eCurrent assessment has been retrieved",data:b}]);return b},inReview:function(){var b=c.inReview?!0:!1;$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eIn review status has been retrieved",
data:b}]);return b},getGroupTitle:function(b){var h=void 0;if(c.isSinglePage){if(c.contentPage.getGroupById)var l=c.contentPage.getGroupById(b),h="undefined"!==typeof l?l.title:h}else l=m.getGroup(b),h="undefined"!==typeof l?l.title:h;"undefined"==typeof l&&(b=$("#group_"+b).data("title"),h="undefined"!==typeof b?b:h);$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eGroup title has been retrieved",data:h}]);return h},zoomToElement:function(b,c,h,l){h=void 0!=h?h:1E3;
l=void 0!=l?l:function(){};c=$(".pageElementsWrapper.page",c.pageContainer);var m=$("html").height()-$("#headerContainer").height()-$("#footerContainer").height();c.height()>m?c.height(m):m=c.height();var p=$("#"+b+"_wrapper",c);c.offset();p.position();b=c.width()/p.data("width");var m=m/p.data("height"),q=c.width()/2,r=c.height()/2,u=p.data("x")+p.data("width")/2,w=p.data("y")+p.data("height")/2;c.velocity({scale:b>m?m:b,translateX:q-u,translateY:r-w},{duration:h,complete:function(){l.call(this);
$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eThe page has been zoomed in on an element.",data:p}])}})},zoomOut:function(b,c,h){c=void 0!=c?c:1E3;h=void 0!=h?h:function(){};var l=$(".pageElementsWrapper.page",b.pageContainer);l.velocity({scale:1,translateX:0,translateY:0},{duration:c,complete:function(){l.css("height","");h.call(this);$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eThe page has been zoomed out to the original size."}])}})},
getElementWrapper:function(b){return $("#"+b+"_wrapper")},sendXAPIStatement:function(b){this.sendScormXAPIStatement(b);this.sendAnalyticsStatement(b)},sendScormXAPIStatement:function(b){u&&(b=DKI.applyIf(DKI.clone(b,!0),{context:{contextActivities:{parent:[]}}},!0),b=this.applyBrowserInfoToStatement(b),b=this.applyLangAndPublishTagsToStatement(b),b.context.contextActivities.parent.push(m.rootXAPIActivity),u.process("sendXAPIStatement",[b,function(){}]),$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3esendXAPIStatement",
data:JSON.stringify(b)}]))},sendAnalyticsStatement:function(b){tc&&(b=DKI.applyIf(DKI.clone(b,!0),{context:{contextActivities:{parent:[]}}},!0),b=this.applyBrowserInfoToStatement(b),b=this.applyLangAndPublishTagsToStatement(b),b.context.contextActivities.parent.push({id:settings.activityRootURL+"course/"+(settings.useExternalIdsForScorm?m.courseStructure.external_id:m.courseStructure.courseid)}),tc.sendStatement(b,function(){}),$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3esendAnalyticsStatement",
data:JSON.stringify(b)}]))},applyBrowserInfoToStatement:function(b){playerBehaviour.xapi_includeBrowserInfoInStatements&&(b=DKI.applyIf(DKI.clone(b,!0),{context:{extensions:{"http://id.tincanapi.com/extension/browser-info":dkiUA.getUAProperties()}}},!0));return b},applyLangAndPublishTagsToStatement:function(b){var c=[];settings.publish_filters.forEach(function(b){1==b.type&&c.push(b.title)});return b=DKI.applyIf(DKI.clone(b,!0),{context:{extensions:{"http://www.dominknow.com/xapi/extensions/language":contentApi.getCurrentLanguage(),
"http://www.dominknow.com/xapi/extensions/publish_target":c.join(", ")}}},!0)},getXAPIStatements:function(b){u&&(DKI.applyIf(b,{callback:function(){}}),u.process("getXAPIStatements",[b],b.callback));$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3egetXAPIStatements",data:JSON.stringify(b)}])},showCompletionCertificate:function(){!c.isSinglePage&&c.behaviour.completionCertificate&&c.loadCertificate();$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3eCompletion Certificate has been shown."}])},
getDefaultFeedbackText:function(b){var h;h=c.isSinglePage?settings.course.parameters.questionFeedback[b]:m.courseStructure.parameters.questionFeedback[b];$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3e default feedback text retrieved for type "+b+"."}]);return h},getDefaultFeedbackPopup:function(){var b;b=c.isSinglePage?settings.course.parameters.questionFeedback.popup:m.courseStructure.parameters.questionFeedback.popup;$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3e default feedback style retrieved."}]);
return b},getRandomNumber:function(b,c){var h=isNaN(b)?0:parseInt(b);c=isNaN(c)?1E16:parseInt(c);b=Math.min(h,c);c=Math.max(h,c);return Math.round(Math.random()*(c-b))+b},getCurrentTime:function(){var b=new Date,c=b.getHours()%12,c=c||12,h=b.getMinutes();return c+":"+(10>h?"0"+h:h)+" "+(12>=b.getHours()?"am":"pm")},getCurrentDate:function(b){return $.format.date(new Date,b||"dd/MM/yyyy")},markModulePassed:function(b){(b=c.dataStorage.getModuleByIndex(b.moduleIndex))&&c.dataStorage.markModulePassed(b)},
markCoursePassed:function(){c.dataStorage.markCoursePassed()},invalidateModule:function(b){(b=c.dataStorage.getModuleByIndex(b.moduleIndex))&&c.dataStorage.invalidateModule(b)},revalidateModule:function(b){(b=c.dataStorage.getModuleByIndex(b.moduleIndex))&&c.dataStorage.revalidateModule(b)},closePopupPage:function(){$.fancybox.close()},resetCourseTimer:function(){c.dataStorage&&c.dataStorage.resetCourseTimer()},pauseNarration:function(b){(b&&b.pageInstance?b.pageInstance:c.contentPage.current).pauseNarration();
$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3e Narartion Paused."}])},playNarration:function(b){(b&&b.pageInstance?b.pageInstance:c.contentPage.current).playNarration();$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3e Narartion Played."}])},muteNarration:function(b){(b&&b.pageInstance?b.pageInstance:c.contentPage.current).muteNarration();$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3e Narartion Muted."}])},
unmuteNarration:function(b){(b&&b.pageInstance?b.pageInstance:c.contentPage.current).unmuteNarration();$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3e Narartion Unmuted."}])},replayNarration:function(b){(b&&b.pageInstance?b.pageInstance:c.contentPage.current).replayNarration();$(document).trigger(k.called,[{message:"Content API function called...\x3c/br\x3e Narartion Replayed."}])},changePublishFilter:function(b){var c=new URL(window.location.href),h=null,l=function(){DKI.utility.changeContentLocation(c)};
b.publishFilterId?(c.searchParams.set("publish_filter",b.publishFilterId),h=b.publishFilterId):c.searchParams.delete("publish_filter");m&&m.updatePublishFilter?m.updatePublishFilter(h,l):l();return!1},changeLanguage:function(b){var c=new URL(window.location.href);c.searchParams.set("culture_code",b);DKI.utility.changeContentLocation(c);return!1},showCourseLanguages:function(){translationUtility.showCourseLanguages()}},w;for(w in r)r.hasOwnProperty(w)&&(p[w]=r[w],p.DkiApi[w]=r[w]);p.shLMS={meth1:function(b,
h){var l=c.dataStorage;h=h?l.findModule(h):l.currentModule;h.post&&(h.post.attempts=b);l.saveCompletion&&l.saveCompletion()}};u&&p.getStudentName(function(){});return p}();DKI||(DKI={});
DKI.PlayerNavigation=function(b){this.showMenu=this.showReload=this.showAudio=this.showBack=this.showForward=!0;this.audioState="on";this.ignoreSkipToContentFocus=this.bibliographyState=this.resourceState=this.glossaryState=this.moreState=this.menuState=!1;this.clickEvent=b.settings.clickEvent;this.initEvents();this.registerDOM();$(".navButton").each(function(){$(this).data("tab-index",$(this).attr("tabIndex"))})};
DKI.PlayerNavigation.prototype.registerDOM=function(){this.exitButton=$("#exitButton");this.audioButton=$("#audioButton");this.replayButton=$("#replayButton");this.backButton=$("#backButton");this.forwardButton=$("#forwardButton");this.menuButton=$("#menuButton");this.listButton=$("#listButton");this.moreButtons=$("#moreButtons");this.moreOverlay=$("#moreOverlay");this.transcriptButton=$("#transcriptButton");this.glossaryButton=$("#glossaryButton");this.resourceButton=$("#resourceButton");this.skipToContent=
$("#skipToContent");this.skipToNavigation=$("#skipToNavigation");$(".navButton").each(function(){$(this).data("tab-index",$(this).attr("tabIndex"))});this.forwardButton.data("tab-index",this.forwardButton.attr("tabIndex"));this.backButton.data("tab-index",this.backButton.attr("tabIndex"))};
DKI.PlayerNavigation.prototype.initEvents=function(){var b=this;$(document).on("dki_theme_ready",function(){b.registerDOM()});$(document.body).on(this.clickEvent,"#exitButton",function(c){c.stopPropagation();$(b).trigger(DKI.PlayerNavigation.events.exit);return!1});$(document.body).on(this.clickEvent,"#audioButton",function(c){c.stopPropagation();$(this).hasClass("disabled")||(b.audioState="on"===b.audioState?"off":"on",b.audioButton.toggleClass("muted"),$(b).trigger(DKI.PlayerNavigation.events.audioToggle,
[b.audioState]),b.hideMore());return!1});var c=function(c){$("#backButton").hasClass("disabled")||$(b).trigger(DKI.PlayerNavigation.events.back);c.stopPropagation();c.gesture&&c.gesture.preventDefault();return!1},h=function(c){$("#forwardButton").hasClass("disabled")||$(b).trigger(DKI.PlayerNavigation.events.forward);c.stopPropagation();c.gesture&&c.gesture.preventDefault();return!1};playerBehaviour.enableKeyNavigation&&($(document).on("keyup",function(b){if(39==b.which||34==b.which||38==b.which)$(".dkiContentFrame.current .endMod_learningLink").length?
$(".endMod_learningLink").trigger("click"):$("#downHeader").length?$("#downHeader").trigger("click"):player.inEndScreen||h(b)}),$(document).on("keyup",function(b){if(33==b.which||37==b.which||40==b.which)$(".dkiContentFrame.current .endMod_revisitLink").length?$(".endMod_revisitLink a").trigger("click"):$("#upHeader").length?$("#upHeader").trigger("click"):player.inEndScreen||c(b)}));$(document.body).on("click","#backButton",c);$(document.body).on("click","#forwardButton",h);if(dkiUA.touchEnabled&&
playerBehaviour.enableSwiping){var l=function(c){$("#backButton").hasClass("disabled")||c.gesture&&!(c.gesture&&150<c.gesture.deltaX)||$(b).trigger(DKI.PlayerNavigation.events.back);c.stopPropagation();c.gesture&&c.gesture.preventDefault();return!1},m=function(c){$("#forwardButton").hasClass("disabled")||c.gesture&&!(c.gesture&&-150>c.gesture.deltaX)||$(b).trigger(DKI.PlayerNavigation.events.forward);c.stopPropagation();c.gesture&&c.gesture.preventDefault();return!1};$("html").on("swipeleft",m);$("html").on("swiperight",
l);$(document).on(DKI.Events.TestQuestion.dragStarted,function(){$("html").off("swiperight");$("html").off("swipeleft")});$(document).on(DKI.Events.TestQuestion.dragStopped,function(){$("html").on("swiperight",l);$("html").on("swipeleft",m)});$(document).on(DKI.ContentPage.events.elementSwipeStart,function(){$("html").off("swiperight");$("html").off("swipeleft")});$(document).on(DKI.ContentPage.events.elementSwipeEnd,function(){$("html").on("swiperight",l);$("html").on("swipeleft",m)})}$(b).on(DKI.PlayerNavigation.events.back,
function(){b.hideBackButton();b.hideForwardButton()});$(b).on(DKI.PlayerNavigation.events.forward,function(){b.hideBackButton();b.hideForwardButton()});$(document.body).on(this.clickEvent,"#menuButton",function(c){c.stopPropagation();$(this).hasClass("disabled")||(b.menuState=b.menuState?!1:!0,$(b).trigger(DKI.PlayerNavigation.events.menuToggle,[b.menuState]),b.hideMore());return!1});$(document.body).on(this.clickEvent,"#replayButton",function(c){c.stopPropagation();$(this).hasClass("disabled")||
($(b).trigger(DKI.PlayerNavigation.events.reload),b.hideMore());return!1});$(document.body).on(this.clickEvent,"#listButton",function(c){c.stopPropagation();b.onListClick(c);return!1});$(document.body).on("click","#navmenu_language",function(){contentApi.showCourseLanguages();return!1});$(document.body).on("click",".navmenu_language",function(){contentApi.showCourseLanguages();return!1});2>settings.course_languages.length&&$(".navmenu_language, #navmenu_language, #navmenu_language_wrapper, .navmenu_language_wrapper").detach();
$(document.body).on(this.clickEvent,"#transcriptButton",function(c){c.stopPropagation();$(this).hasClass("disabled")||$(b).trigger(DKI.PlayerNavigation.events.transcriptToggle);return!1});$(document.body).on(this.clickEvent,"#glossaryButton",function(c){c.stopPropagation();$(this).hasClass("disabled")||(b.glossaryState=b.glossaryState?!1:!0,$(b).trigger(DKI.PlayerNavigation.events.glossaryToggle,[b.glossaryState]),b.hideMore());return!1});$(document.body).on(this.clickEvent,"#resourceButton",function(c){c.stopPropagation();
$(this).hasClass("disabled")||(b.resourceState=b.resourceState?!1:!0,$(b).trigger(DKI.PlayerNavigation.events.resourceToggle,[b.resourceState]),b.hideMore());return!1});if(this.moreOverlay)$(document.body).on(this.clickEvent,"#moreOverlay",function(c){c.stopPropagation();b.hideMore();b.moreOverlay.css("display","none");return!1});$(document).on(DKI.ContentPage.events.started,function(){b.ignoreSkipToContentFocus?b.ignoreSkipToContentFocus=!1:$("#skipToContent").focus()});$(document).on(DKI.EndModule.events.started,
function(){$("#skipToContent").focus()});$(document).on(DKI.EndCourse.events.started,function(){$("#skipToContent").focus()});$(document).on(DKI.EndTest.events.started,function(){$("#skipToContent").focus()});$(document.body).on(this.clickEvent,"#skipToContent",function(b){b.stopPropagation();$(".headerPage:not(.hidden) *[tabindex][tabindex!\x3d'-1'], .dkiContentFrame.current .pageElementsWrapper *[tabindex][tabindex!\x3d'-1'], .dkiContentFrame.current .endScreenWrapper *[tabindex][tabindex!\x3d'-1']").each(function(){if($(this).is(":visible")&&
!$(this).isDisabled()||$(this).hasClass("sr-only"))return this.focus(),!1});return!1});$(document.body).on(this.clickEvent,"#skipToNavigation",function(c){c.stopPropagation();c=$("*[tabindex][tabindex!\x3d'-1']","#navbar_header, #headerContainer");0==c.length&&(c=b.forwardButton);c.each(function(){if(!$(this).hasClass("disabled")&&!$(this).hasClass("disabled-element")&&$(this).is(":visible"))return this.focus(),!1});return!1})};DKI.PlayerNavigation.prototype.fireBack=function(){$(this).trigger(DKI.PlayerNavigation.events.back)};
DKI.PlayerNavigation.prototype.fireForward=function(){$(this).trigger(DKI.PlayerNavigation.events.forward)};DKI.PlayerNavigation.prototype.disableButton=function(b){b="string"==$.type(b)?$("#"+b):$(b);b.addClass("disabled");b.prop("disabled",!0);b.attr("aria-disabled",!0)};DKI.PlayerNavigation.prototype.enableButton=function(b){b="string"==$.type(b)?$("#"+b):$(b);b.removeClass("disabled");b.prop("disabled",!1);b.attr("aria-disabled",!1)};
DKI.PlayerNavigation.prototype.hideTranscriptButton=function(){this.transcriptButton.css("display","none")};DKI.PlayerNavigation.prototype.showTranscriptButton=function(){this.transcriptButton.css("display","")};DKI.PlayerNavigation.prototype.disableTranscriptButton=function(){this.disableButton(this.transcriptButton)};DKI.PlayerNavigation.prototype.enableTranscriptButton=function(){this.enableButton(this.transcriptButton)};DKI.PlayerNavigation.prototype.hideAudioButton=function(){this.disableButton(this.audioButton)};
DKI.PlayerNavigation.prototype.showAudioButton=function(){this.enableButton(this.audioButton)};DKI.PlayerNavigation.prototype.hideBackButton=function(){this.disableButton(this.backButton)};DKI.PlayerNavigation.prototype.showBackButton=function(){this.enableButton(this.backButton)};DKI.PlayerNavigation.prototype.hideForwardButton=function(){this.disableButton(this.forwardButton)};DKI.PlayerNavigation.prototype.showForwardButton=function(){this.enableButton(this.forwardButton);$(this).trigger(DKI.PlayerNavigation.events.nextButtonEnabled)};
DKI.PlayerNavigation.prototype.hideMenuButton=function(){this.disableButton(this.menuButton)};DKI.PlayerNavigation.prototype.showMenuButton=function(){this.enableButton(this.menuButton)};DKI.PlayerNavigation.prototype.hideReloadButton=function(){this.disableButton(this.replayButton)};DKI.PlayerNavigation.prototype.showReloadButton=function(){this.enableButton(this.replayButton)};
DKI.PlayerNavigation.prototype.showScreenCountDisplay=function(){$("#screenCount").css("display","");$("#navbar_screencount_wrapper").length&&$("#navbar_screencount_wrapper").css("display","")};DKI.PlayerNavigation.prototype.hideScreenCountDisplay=function(){$("#screenCount").css("display","none");$("#navbar_screencount_wrapper").length&&$("#navbar_screencount_wrapper").css("display","none")};DKI.PlayerNavigation.prototype.hideGlossaryButton=function(){this.glossaryButton.css("display","none")};
DKI.PlayerNavigation.prototype.showGlossaryButton=function(){this.glossaryButton.css("display","")};DKI.PlayerNavigation.prototype.disableGlossaryButton=function(){this.disableButton(this.glossaryButton)};DKI.PlayerNavigation.prototype.enableGlossaryButton=function(){this.enableButton(this.glossaryButton)};DKI.PlayerNavigation.prototype.disableResourceButton=function(){this.disableButton(this.resourceButton)};DKI.PlayerNavigation.prototype.enableResourceButton=function(){this.enableButton(this.resourceButton)};
DKI.PlayerNavigation.prototype.disableMenuButton=function(){this.disableButton(this.menuButton)};DKI.PlayerNavigation.prototype.enableMenuButton=function(){this.enableButton(this.menuButton)};DKI.PlayerNavigation.prototype.setTotalScreens=function(b){$("#totalScreens,.totalScreens").text(b)};DKI.PlayerNavigation.prototype.setCurrentScreen=function(b){$("#currentScreen,.currentScreen").text(b)};DKI.PlayerNavigation.prototype.setModuleName=function(b){$("#moduleName").text(b)};
DKI.PlayerNavigation.prototype.setObjectName=function(b){$("#objectName").text(b)};DKI.PlayerNavigation.prototype.setMenuState=function(b){this.menuState=b};DKI.PlayerNavigation.prototype.setGlossaryState=function(b){this.glossaryState=b};DKI.PlayerNavigation.prototype.setResourceState=function(b){this.resourceState=b};DKI.PlayerNavigation.prototype.setBibliographyState=function(b){this.BibliographyState=b};
DKI.PlayerNavigation.prototype.contentMode=function(){this.showAudioButton();this.showReloadButton();this.showMenuButton();this.showScreenCountDisplay()};DKI.PlayerNavigation.prototype.testMode=function(b){b?(this.showForwardButton(),this.showBackButton()):(this.hideForwardButton(),this.hideBackButton());this.showAudioButton();this.hideReloadButton();this.hideMenuButton();this.showScreenCountDisplay()};
DKI.PlayerNavigation.prototype.endMode=function(){this.hideForwardButton();this.hideBackButton();this.hideReloadButton();this.hideAudioButton();this.hideMenuButton();this.hideScreenCountDisplay();this.setObjectName("");this.setModuleName("")};
DKI.PlayerNavigation.prototype.onListClick=function(){this.menuState=!1;$(this).trigger(DKI.PlayerNavigation.events.menuClose);this.moreState?(this.moreButtons.css("display","none"),this.moreOverlay.css("display","none"),this.moreState=!1):(this.moreButtons.css("display","block"),this.moreOverlay.css("display","block"),this.moreState=!0)};
DKI.PlayerNavigation.prototype.hideMore=function(){this.moreState&&(this.moreButtons.css("display","none"),this.moreOverlay.css("display","none"),this.moreState=!1)};DKI.PlayerNavigation.events={audioToggle:"audioToggle",back:"back",forward:"forward",menuToggle:"menuToggle",menuClose:"menuClose",reload:"reload",exit:"exit",transcriptToggle:"transcriptToggle",glossaryToggle:"glossaryToggle",resourceToggle:"resourceToggle",bibliographyToggle:"bibliographyToggle",nextButtonEnabled:"nextButtonEnabled"};
DKI.Marker={scoreQuestion:function(b,c,h,l){h="undefined"===typeof h?0:h;if("1"==b.type)h=this.scoreTrueFalse(c,b.options);else if("2"==b.type)h=this.scoreMultipleChoice(c,b.options);else if("3"==b.type)h=this.scoreFreeForm(c,b.options);else if("4"==b.type)h=this.scoreFillBlanks(c,b.options);else if("5"==b.type)h=this.scoreMultiplePulldown(c,b.options);else if("6"==b.type)h=this.scoreDragDrop(c,b.options);else if("7"==b.type)h=this.scoreCustom(c,b.options,h);else if("8"==b.type)h=this.scoreCapture(h);
else if("9"==b.type)h=this.scoreImageMap(l);else if("10"==b.type)h=this.scoreScenario(l);else if("11"==b.type)h=this.scoreMatching(l);else if("12"==b.type)h=this.scoreSequencing(l);else if("13"==b.type)h=this.scoreMultipleChoiceQuestionWidget(l);else if("14"==b.type)h=this.scoreFillInTheBlanksQuestionWidget(l);else throw"Invalid question type: "+b.type;(0==b.parameters.scoringType&&!playerBehaviour.partialScoring||2==b.parameters.scoringType)&&100>h&&(h=0);return isNaN(h)?0:h},scoreTrueFalse:function(b,
c){return c[0].parameters.correct&&1==b[0]?100:c[1].parameters.correct&&1==b[1]?100:0},scoreMultipleChoice:function(b,c){for(var h=0,l=0,m=0,u=0;u<c.length;u++)c[u].parameters.correct?(h++,b[u]&&1==b[u].checked&&l++):b[u]&&1==b[u].checked&&m++;l-=m;return 0<l?Math.round(l/h*100):0},scoreFillBlanks:function(b,c){for(var h,l=0,m=0,u=0;u<c.length;u++){m++;h=c[u].parameters.correctValues;for(var q=0;q<h.length;q++){var x=$.trim(h[q].toString().toLowerCase()),k=$.trim(b[u].toString().toLowerCase());$.isNumeric(x)?
(x=parseFloat(x),k=parseFloat(k.replace(/\,|\s/g,""))):x=$("\x3cspan\x3e"+x+"\x3c/span\x3e").text().trim();if(k===x){l++;break}}}return Math.round(l/m*100)},scoreMultiplePulldown:function(b,c){for(var h=0,l=0,m,u=0;u<c.length;u++)m=$('\x3cselect\x3e\x3coption value\x3d"'+escape(c[u].parameters.correctValue)+'"\x3e'+c[u].parameters.correctValue+"\x3c/option\x3e\x3c/select\x3e"),l++,m=m.value().trim(),escape(b[u].toString()).toLowerCase()===m.toString().toLowerCase()&&h++;return Math.round(h/l*100)},
scoreFreeForm:function(b){return""!==b[0].trim()?100:0},scoreDragDrop:function(b,c){if(0==b.length&&0==c.length)return 0;for(var h=0,l=c.length,m,u,q=0;q<b.length;q++){m=!1;u=null;for(var x=0;x<c.length;x++)if(c[x].element_id==b[q].elementId){u=c[x];break}for(x=0;x<u.parameters.correctTargets.length;x++)b[q].target.id&&b[q].target.id.toString().toLowerCase()==u.parameters.correctTargets[x].toString().toLowerCase()&&(m=!0);b[q].target.id||0!=u.parameters.correctTargets.length||(m=!0);m&&h++}return Math.round(h/
l*100)},scoreCustom:function(b,c,h){try{if(isNaN(h))throw"Invalid data. Please provide a numeric score.";h=parseInt(h,10);h=0>h?0:h;return 100<h?100:h}catch(l){return 0}},scoreCapture:function(b){return b},scoreImageMap:function(b){return b.mapEl.data("dki.ImageMap").score()},scoreScenario:function(b){return b.scenarioEl.data("dki.Scenario").getScore()},scoreMatching:function(b){return b.matchEl.data("dki.MatchingQuestion").score()},scoreSequencing:function(b){return b.sequenceEl.data("dki.SequencingQuestion").score()},
scoreMultipleChoiceQuestionWidget:function(b){return b.questionEl.data("dki.MultipleChoiceQuestion").scoreQuestion(!0,!0)},scoreFillInTheBlanksQuestionWidget:function(b){return b.questionEl.data("dki.FillInTheBlanksQuestion").scoreQuestion(!0,!0)}};
DKI.browserWarning=function(){return{init:function(b){b.warnBrowser&&(dkiUA.firefox&&4>dkiUA.firefoxVersion||dkiUA.ie&&8>dkiUA.ieVersion||dkiUA.safari&&(dkiUA.windows||5>dkiUA.safariVersion))&&(b=$(Handlebars.compile(DKI.templates.browserWarning)({strings:DKI.strings})),$("body").append(b),b.modal("show"),dkiUA.windows?$("#browserWarning_downloads").addClass("windows"):dkiUA.mac?$("#browserWarning_downloads").addClass("mac"):dkiUA.android?$("#browserWarning_downloads").addClass("android"):dkiUA.iOS&&
$("#browserWarning_downloads").addClass("iOS"))}}}();
DKI.glossary=function(){var b={},c=[],h={},l=null,m=function(b,c,h){b=DKI.calculateCoords(b,c,h);12>b.y&&(b.y=12);return b},u=function(b){DKI.utility.isObject(b)||(b=r(b));playerBehaviour.autoLinkGlossaries&&!b.autoLinked&&(b.definition=DKI.renderService.processElementTextForGlossaries(b.definition),b.autoLinked=!0);return b},q=function(b,c){c=c.find("#glossaryPopupSource");b.attribution?c.html("Source: "+b.attribution):b.citation_id?c.html("Source: "+DKI.reference.getFullCitationText(b.citation_id)):
(c.html(""),c[0].tabIndex=-1)},x=function(c){c=m(c,b.wrapper,5);b.wrapper.css({top:c.y+"px",left:c.x+"px"});c=$("#glossaryPopupDefinitionContainer");150<c.height()&&c.height(150)},k=DKI.func.debounce(function(c,h){if("show"==c){if(u($(h).data("id")),!b.wrapper.is(":visible")){var l=r($(h).data("id")),k=this;if(l){c=DKI.stripHTML(l.definition);c=50<c.length?c.substr(0,47)+"...":c;b.hoverDefinition.html("\x3cp style\x3d'display:inline;'\x3e"+c+"\x3c/p\x3e");h=m(h,b.hoverDefinition,5);b.hoverDefinition.css({top:h.y+
"px",left:h.x+"px"});var p=b.hoverDefinition.parent();b.hoverDefinition.detach();setTimeout(function(){b.hoverDefinition.css("display","block");p.append(b.hoverDefinition);$(player).trigger(k.events.definitionShown,l)},100)}}}else"hide"==c&&(b.hoverDefinition.hide(),h&&(l=r($(h).data("id")),$(player).trigger(this.events.definitionHidden,l)))},100,!1),p=function(b,c){k.call(this,"hide",c)},r=function(b){for(var h=0;h<c.length;h++)if(c[h].glossaryid==b)return c[h]},w=function(){c.sort(function(b,c){b=
b.term.replace(/[.*+?^${}()|[\]\\]/g,"\\$\x26").toLowerCase();c=c.term.replace(/[.*+?^${}()|[\]\\]/g,"\\$\x26").toLowerCase();return b<c?-1:b>c?1:0})},v=function(b){for(var c="",h=0;h<DKI.assets.length;h++)DKI.assets[h].src==$(b).data("id")&&(c=DKI.renderService.getAssetUrl(DKI.assets[h]),"html"==DKI.assets[h].type&&(c+="/"+DKI.assets[h].parameters.LAUNCHFILE));""!=c&&window.open(c,"_blank","location\x3d0,width\x3d"+$(window).width()+",height\x3d"+$(window).height())},z={tooltip:{enabled:!1,config:{}}};
Handlebars.registerHelper("DKI_templates_glossary_list",function(b){b=DKI.applyIf(b.hash,z);b=Handlebars.compile(DKI.templates.glossary.list)({strings:DKI.strings,config:b,terms:c});$(document).on(h.clickEvent,".dki-glossary-list-term",function(b){DKI.glossary.showPopup.call(this,[b])});return b});return{init:function(k){if(k.settings.current_culture_code){var m=k.terms.filter(function(b){return k.settings.course.crslanguage==b.culturecode});if(k.settings.current_culture_code!=k.settings.course.crslanguage){var q=
k.terms.filter(function(b){return k.settings.current_culture_code==b.culturecode});if(m.length==q.length)c=q;else for(var r=0;r<m.length;r++){var u=q.filter(function(b){return m[r].glossary_external_id==b.glossary_external_id});c.push(0<u.length?u[0]:m[r])}}else c=m}else c=k.terms;h=k.settings;language=k.languageString;q=Handlebars.compile(DKI.templates.glossaryPopup)();$("#contentFrame").append(q);b.wrapper=$("#glossaryPopup");b.term=$("#glossaryPopupTerm");b.definition=$("#glossaryPopupDefinition");
b.definitionContainer=$("#glossaryPopupDefinitionContainer");b.attribution=$("#glossaryPopupSource");b.close=$("#glossaryPopupClose").attr("title",playerStrings.buttonLabelClose);b.hoverDefinition=$("#glossaryHoverDefinition");b.hoverDefinition.attr("role","alert");b.hoverDefinition.attr("aria-live","polite");b.viewBrowserLink=$("#viewBrowserLink");b.viewBrowserLink.attr("title",language.viewTermTooltip);b.close.on(h.clickEvent,function(){l&&l.focus();b.wrapper.hide()});$(window).on(h.resizeEvent,
function(c){l&&x(l);b.wrapper.is(":visible")&&b.wrapper.closest(".fancybox-wrap").length&&b.wrapper.closest(".fancybox-wrap").centerInWindow()});b.hoverDefinition.on("mouseleave",function(b){p(b)});w()},showPopup:function(c,k){u($(this).data("id"));null!=k?(h.selectedTerm=r($(this).data("id")),"capture"==k.data("type")?(captureEl=k.data("cap"),captureEl.showGlossaryPane(h.selectedTerm.definition),captureEl.panelManager.panelContentContainer.off(h.clickEvent).on(h.clickEvent,"a",function(){$(this).closest(".capture").length&&
($(this).closest(".capture").removeClass("capture-fullscreen-overflow"),$(this).closest(".capture-display").removeClass("capture-fullscreen-height"));v(this)})):(k.removeClass("hidden"),k.find(".glossary-title-text").html(h.selectedTerm.term),k.find(".glossary-definition-text").html(h.selectedTerm.definition),q(h.selectedTerm,k),k.find("#glossaryOkButton").on(h.clickEvent,function(){k.addClass("hidden");$(k).closest(".capture").length&&$(k).closest(".dki-capture-element").data("cap").setPause(!1)}),
k.off(h.clickEvent).on(h.clickEvent,"#glossaryDefinitionText a",function(){$(this).closest(".capture").length&&($(this).closest(".capture").removeClass("capture-fullscreen-overflow"),$(this).closest(".capture-display").removeClass("capture-fullscreen-height"));v(this)}))):b.wrapper.is(":visible")&&h.selectedTerm&&h.selectedTerm.glossaryid==$(this).data("id")?(b.wrapper.hide(),l.focus(),l=null):(h.selectedTerm=r($(this).data("id")),h.selectedTerm?(p(),b.term.text(h.selectedTerm.term),b.definition.html(h.selectedTerm.definition),
b.viewBrowserLink.show(),b.viewBrowserLink.attr("href",'javascript:DKI.glossaryBrowse.selectTerm("'+h.selectedTerm.id+'")'),l=c.currentTarget,c=b.wrapper.find(".glossaryPopupBody").clone(),c.find("*[tabindex]").attr("tabindex",1),q(h.selectedTerm,c),contentApi.showPopup({id:"glossary_"+h.selectedTerm.id,html:c.html(),modal:!1,returnFocus:this,autoFocus:!0,tabContent:!1,popupType:{type:"pop",mod:"noModal",modal:!0},title:h.selectedTerm.term,onHide:function(){this.find("#glossaryPopupDefinitionContainer").remove()},
afterShow:function(){this.find("#glossaryPopupDefinitionContainer a").on("click",function(){v(this)})}}),b.term[0].clientWidth<b.term[0].scrollWidth&&b.term.attr("title",h.selectedTerm.term),b.definitionContainer.scrollTop(0),$(player).trigger(DKI.glossary.events.popupShown,h.selectedTerm)):h.inPreview&&(p(),b.term.text("Untranslated term"),b.definition.html("This glossary term has not been translated"),b.viewBrowserLink.hide(),x(c.currentTarget),l=c.currentTarget,b.wrapper.show(),b.definition[0].focus()))},
showPopupForTerm:function(b,h){a:{for(var k=0;k<c.length;k++)if(c[k].term==b){b=c[k];break a}b=void 0}b&&("undefined"==typeof h&&(h=document.createElement("a")),"undefined"==typeof $(h).attr("data-id")&&$(h).attr("data-id",b.glossaryid),DKI.glossary.showPopup.call(h,[{currentTarget:h}]))},showDefinition:function(b,c){k.call(this,"show",c)},hideDefinition:p,clearTermsUsageForAutolinkFirstMapped:function(){for(var b=0;b<DKI.terms.length;b++)DKI.terms[b].termsUsageForAutolinkFirstMapped=!1},events:{definitionShown:"glossaryDefinitionShown",
definitionHidden:"glossaryDefinitionHidden",popupShown:"glossaryPopupShown",popupHidden:"glossaryPopupHidden"}}}();DKI.Reference||(DKI.Reference={});
DKI.Reference.playerReferenceUIInterface=function(b){var c={},h={},l={},m={},u=!1,q=null,x={citationRegistered:"citationRegistered",referenceRegistered:"referenceRegistered",referenceShown:"referenceShown",referenceHovered:"referenceHovered",bibliographyShown:"bibliographyShown"},k={},p=function(){for(var b in DKI.references.citations)$(document).trigger(x.citationRegistered,[DKI.references.citations[b]])},r=function(b,h){m.currentElement=b;!0===u&&m.selectedCitations&&"referencePopup"!=b.id&&0==
$(b).parents("#referencePopup").length&&m.selectedTextLinkId!=$(b).data("citationid")&&m.selectedElementId!=$(b).closest(".dki-authoring-element, .dki-authoring-element-element").data("id")&&(u=!1);h&&!u?(w(b),h=m.selectedCitations[m.currentIdx],v(b),c.wrapper.show(),h&&$(document).trigger(this.events.referenceHovered,h)):h||u||c.wrapper.hide()},w=function(b){m.currentIdx=0;m.selectedTextLinkId=$(b).data("citationid");m.selectedElementId=$(b).closest(".dki-authoring-element, .dki-authoring-element-element").data("id");
m.selectedCitations=F(m.selectedTextLinkId,m.selectedElementId);c.next.removeClass("disable");c.previous.addClass("disable")},v=function(){var b=m.currentIdx;citation=m.selectedCitations[b];1>=m.selectedCitations.length?c.nav.hide():(c.nav.show(),0>=b?c.previous.addClass("disable"):c.previous.removeClass("disable"),b>=m.selectedCitations.length-1?c.next.addClass("disable"):c.next.removeClass("disable"),c.counter.html(b+1+" / "+m.selectedCitations.length));citation&&(b=C(citation.referenceId),b="\x3cspan class\x3d'refNum'\x3e"+
I(citation.id)+".\x3c/span\x3e "+DKI.Reference.makeRefText(b,k.txtReferenceLink,citation),c.refText.html(b));z(m.currentElement)},z=function(b){b=DKI.calculateCoords(b,c.wrapper,0);12>b.y&&(b.y=12);c.wrapper.css({top:b.y+"px",left:b.x+"px"});b=$("#referencePopupText");150<b.height()&&b.height(150)},n=function(){y();DKI.centerInPlayer(h.wrapper,!0);h.wrapper.show();$(document).trigger(DKI.Reference.playerReferenceUIInterface.events.bibliographyShown);$("*[tabindex][tabindex!\x3d'-1']",h.content).each(function(){if($(this).is(":visible"))return this.focus(),
!1});player.navigation.setBibliographyState(!0)},E=function(){h.wrapper.hide();player.navigation.setBibliographyState(!1)},D=function(b){l=b;b=l.referenceOrder;for(var c="\x3cul class\x3d'rf-Bibliography'\x3e",m=0;m<b.length;m++){var n=l.references[b[m]];$(document).trigger(x.referenceRegistered,[n]);var p=DKI.Reference.makeRefText(n,k.txtReferenceLink),c=c+("\x3cli tabindex\x3d'0'\x3e \x3cspan class\x3d'refIndex'\x3e"+J(n)+".\x3c/span\x3e "+p+"\x3c/li\x3e")}h.content.html(c+"\x3c/ul\x3e")},y=function(){c.wrapper.hide();
u=!1},B=function(b){if(l.citations[b])return l.citations[b]},F=function(b,c){var h=[],k;for(k in l.citations)l.citations[k].textLinkId==b&&l.citations[k].elementId==c&&h.push(l.citations[k]);h.sort(function(b,c){return b.order<c.order?-1:b.order>c.order?1:0});return h},C=function(b){if(l.references[b])return l.references[b]},I=function(b){b=B(b);var c=C(b.referenceId),c=J(c);"#"!=c&&b.alphaOrder&&(c+=b.alphaOrder);return c},J=function(b){var c="#";b.refIndex&&(c=parseInt(b.refIndex,10));return c},
G=function(b){$(".dki-citation-link",b).each(function(b,c){if(0==$(c).has("sup.refSup").length){b=F($(c).data("citationid"),$(c).closest("div.dki-authoring-element, div.dki-authoring-element-element").data("id"));for(var h="",k=0;k<b.length;k++)h+=I(b[k].id)+" ";h=h.substring(0,h.length-1);jQuery("\x3csup /\x3e",{html:h,"class":"refSup"}).appendTo(c)}})};return{strings:k,showReference:function(b){m.currentElement=b;E();!0===u&&m.selectedCitations&&m.selectedTextLinkId==$(b).data("citationid")&&m.selectedElementId==
$(b).closest(".dki-authoring-element, .dki-authoring-element-element").data("id")?(c.wrapper.hide(),q=null,u=!1):(u=!0,w(b),v(b,0),q=b,c.wrapper.show(),(b=m.selectedCitations[m.currentIdx])&&$(document).trigger(this.events.referenceShown,b),$("*[tabindex][tabindex!\x3d'-1']",c.content).each(function(){if($(this).is(":visible"))return this.focus(),!1}))},hoverReference:r,hideReference:y,showBibliography:n,hideBibliography:E,courseHasReferences:function(){return void 0===l.referenceOrder?!1:0<l.referenceOrder.length?
!0:!1},toggleBibliography:function(){"none"==h.wrapper.css("display")?this.showBibliography():this.hideBibliography()},getFullCitationText:function(b){var c=B(b),h=C(c.referenceId);return"\x3cspan class\x3d'refNum'\x3e"+I(b)+".\x3c/span\x3e "+DKI.Reference.makeRefText(h,k.txtReferenceLink,c)},loadReferences:function(b){D(b)},events:x,init:function(b){m=b.settings;k=b.languageString;var l={strings:DKI.strings},l=Handlebars.compile(DKI.templates.citationPopup)(l),u={strings:DKI.strings,windowContent:"",
id:"bibliographyContainer",windowTitle:DKI.strings.references.bibliographyWindowTitle,contentId:"bibliographyContentContainer"},u=Handlebars.compile(DKI.templates.window)(u);$("#contentFrame").append(l);$("body").append(u);c.wrapper=$("#referencePopup");c.wrapper.hide();c.refText=$("#referenceTextContainer");c.content=$(".referencePopupBody",c.wrapper);c.close=$("#referencePopupClose");c.nav=$("#referencePopup div.nav");c.next=$("#referencePopup span.next");c.previous=$("#referencePopup span.previous");
c.counter=$("#referencePopup span.counter");c.viewBibliographyLink=$("#viewBibliographyLink");h.wrapper=$("#bibliographyContainer");h.content=h.wrapper.find(".browserContentContainer");h.close=h.wrapper.find(".windowContainer-close");D(b.references);contentApi.playerEvent.on("pageLoaded",y);c.next.on(m.clickEvent,function(b){$(this).hasClass("disable")||(m.currentIdx++,v())});c.previous.on(m.clickEvent,function(b){$(this).hasClass("disable")||(m.currentIdx--,v())});c.close.on(m.clickEvent,function(){y()});
h.close.on(m.clickEvent,function(){h.wrapper.hide()});c.viewBibliographyLink.on(m.clickEvent,function(){n()});c.wrapper.draggable({handle:$("#referenceTextContainer"),containment:".dkiContentFrame.current"});h.wrapper.draggable({handle:h.wrapper.find(".browserHeader"),containment:"body"});$(document).on(DKI.ContentPage.events.ready,function(b,c,h){G(h)});$(window).resize(function(){q&&z(q)});c.wrapper.on("mouseleave",function(b){r(b.target,!1)});p()}}}();
DKI.Reference.makeRefText=function(b,c,h){var l=b.refText;h&&h.label&&(l+=" ("+h.label+")");b.URL&&(l+=" (\x3ca tabindex\x3d'1' href\x3d'"+b.URL+"' target\x3d'_refTarget'\x3e"+c+"\x3c/a\x3e)");return l};
DKI.glossaryBrowse=function(){var b=$("body").hasClass("phone")||$("body").hasClass("responsive")?!0:!1,c={},h=[],l=function(){c.container.show();"undefined"!=typeof player&&player.navigation.setGlossaryState(!0);0!==c.termList.termElements.length&&0!==c.termList.termElements[0].length&&c.termList.termElements[0][0].focus()},m=function(){pronunciationPlayer.jPlayer&&pronunciationPlayer.jPlayer("stop");c.container.hide();"undefined"!=typeof player&&player.navigation.setGlossaryState(!1)},u=function(b){h=
b;c.termList.container.html("");$.each(h,function(b,h){b=dkiUA.iOS||dkiUA.android||dkiUA.blackberry;var l=h.term,m="";b&&(l="\x3cspan class\x3d'termIcon'\x3e\x3c/span\x3e"+h.term,m+="mobile");l=$("\x3cli/\x3e",{id:h.id,html:l,"class":m,tabindex:0});m=function(){var b=h.id;pronunciationPlayer.jPlayer&&pronunciationPlayer.jPlayer("stop");k(b)};if(b)l.find("span").on(settings.clickEvent,m);else l.on(settings.clickEvent,m);c.termList.container.append(l);c.termList.termElements.push(l);h.citation_id&&
"undefined"!==typeof dataStorage&&dataStorage.setRelationship("citationGlossary",h.citation_id,h.glossaryid);$(document).trigger(DKI.glossaryBrowse.events.glossaryRegistered,[h])});$("#glossaryBrowserContainer #glossaryManagePronunciation_player").jPlayer({swfPath:settings.swfPath,cssSelectorAncestor:"#glossaryManagePronunciation",ready:function(){pronunciationPlayer=$(this);c.container.css("visibility","visible");c.container.removeClass("loading");contentApi.playerEvent.on("pageLoaded",function(){c.container.hide()});
if("undefined"!==typeof player)player.navigation.forwardButton.on(settings.clickEvent,function(){m()})},supplied:"mp3",autohide:!1,loop:!1,preload:"auto",solution:"html, flash",size:{width:"0px",height:"0px"},muted:!1,volume:1})},q=function(b){for(var c=0;c<h.length;c++)if(h[c].id==b)return h[c]},x=function(b){0==b?c.termList.container.show():c.termDetails.container.show();c.contentContainer.animate({left:b},200,function(){0==b?c.termDetails.container.hide():c.termList.container.hide();c.container.trigger("shifted")})},
k=function(h){l();$("#termDetails .detailsContent").show();$("#termDetails").css("visibility","visible");var k=q(h);r(h);c.termDetails.termTitle.html(k.term);c.termDetails.termDefinition.html(k.definition);p(k);k.pronunciation_asset_filename?(c.player.show(),pronunciationPlayer.jPlayer("setMedia",{mp3:settings.assetURL+k.pronunciation_asset_filename})):c.player.hide();b?(c.container.on("shifted",function(){c.termDetails.termDefinition[0].focus();c.container.off("shifted")}),x(-1*c.termList.container.parent().outerWidth()),
c.back.fadeIn(200)):c.termDetails.termDefinition[0].focus()},p=function(b){b.attribution?c.termDetails.attribution.html("Source: "+b.attribution):b.citation_id?c.termDetails.attribution.html("Source: "+DKI.reference.getFullCitationText(b.citation_id)):c.termDetails.attribution.html("")},r=function(b){$("#termList li").removeClass("selected");$("#"+b).addClass("selected")};return{getTerms:function(){return h},getTerm:q,initialize:function(h){settings=h.settings;language=h.languageStrings;pronunciationPlayer=
{};var k=Handlebars.compile(DKI.templates.glossaryBrowser)({strings:DKI.strings,mobile:b,audioSimpleAncestorId:"glossaryManagePronunciation",audioSimplePlayerId:"glossaryManagePronunciation_player"}),k=Handlebars.compile(DKI.templates.window)({windowContent:k,id:"glossaryBrowserContainer",windowTitle:DKI.strings.glossary.titleText,afterHeader:Handlebars.compile(DKI.templates.mobileBackSearch)({mobile:b,disableSearch:!0}),contentId:"glossaryContentContainer"});$("body").append(k);c.container=$("#glossaryBrowserContainer");
c.contentContainer=$("#glossaryContentContainer");c.player=$("#glossaryManagePronunciation");c.close=c.container.find(".windowContainer-close");c.back=c.container.find(".backButton");b&&c.container.addClass("phone");c.termList={container:$("#termUl"),termElements:[]};c.termDetails={termTitle:$("#term"),termDefinition:$("#definition"),attribution:$("#attribution"),container:$("#termDetails")};u(h.terms);c.close.on(settings.clickEvent,function(){m()});if(b)c.back.on(settings.clickEvent,function(){c.container.on("shifted",
function(){var b=$(".terms li.selected");b.length?b[0].focus():0!==c.termList.termElements.length&&0!==c.termList.termElements[0].length&&c.termList.termElements[0][0].focus();c.container.off("shifted")});c.back.fadeOut(200);x(0)});c.container.draggable({handle:$("#browserHeader"),containment:"body"})},show:l,hide:m,selectTerm:k,isEmpty:function(){return 0<h.length?!1:!0},toggle:function(){"none"==c.container.css("display")?this.show():this.hide()},loadTerms:function(b){u(b)},events:{glossaryRegistered:"glossaryRegistered"}}}();
(function(b){b.fn.jsonSearch=function(c){var h;c=b.extend({url:"",data:[],minCharacters:1,maxResults:void 0,wildCard:"",caseSensitive:!1,notCharacter:"!",maxHeight:350,highlightMatches:!0,onSelect:void 0,width:void 0,searchKey:"text"},c);return this.each(function(){function l(b,c){var h="/.*+?|()[]{}\\".split("");if(c)for(var k=0;k<h.length;k++)h[k]===c&&h.splice(k,1);c=new RegExp("(\\"+h.join("|\\")+")","g");return b.replace(c,"\\$1")}function m(c){b("li",p).removeClass("resultHover");c&&b(c).addClass("resultHover");
r=c}function u(h,k){k="("+k+")";var l=!0,q=0,u=c.caseSensitive?new RegExp(k,"g"):new RegExp(k,"ig");b(p).html("").hide();for(k=0;k<h.length;k+=1){var v=b("\x3cli /\x3e"),w=h[k][c.searchKey];!0===c.highlightMatches&&(w=w.replace(u,"\x3cstrong\x3e$1\x3c/strong\x3e"));b(v).append('\x3ca class\x3d"ui-corner-all"\x3e'+w+"\x3c/a\x3e");"string"===typeof h[k].image&&b("\x3ea",v).prepend('\x3cimg src\x3d"'+h[k].image+'" /\x3e');"string"===typeof h[k].extra&&b("\x3ea",v).append("\x3csmall\x3e"+h[k].extra+"\x3c/small\x3e");
b(v).addClass("ui-menu-item").addClass(l?"odd":"even").attr("role","menuitem").click(function(k){return function(){var l=h[k];x.val(l.text);b(p).html("").hide();if("function"===typeof c.onSelect)c.onSelect(l)}}(k)).mouseover(function(b){return function(){m(b)}}(v));b(p).append(v);l=!l;q+=1;if("number"===typeof c.maxResults&&q>=c.maxResults)break}0<b("li",p).length&&(r=void 0,b(p).show().css("height","auto"),b(p).height()>c.maxHeight&&b(p).css({overflow:"auto",height:c.maxHeight+"px"}))}function q(m){m=
function(h){if(this.value.length<c.minCharacters)return b(p).html("").hide(),!1;var m=[],n=c.wildCard?l(this.value,c.wildCard).replace(k,".*"):l(this.value),q=!0,r,v;c.notCharacter&&0===n.indexOf(c.notCharacter)&&(n=n.substr(c.notCharacter.length,n.length),0<n.length&&(q=!1));n=n||".*";n=c.wildCard?"^"+n:n;r=c.caseSensitive?new RegExp(n):new RegExp(n,"i");for(v=0;v<h.length;v+=1)r.test(h[v][c.searchKey])===q&&m.push(h[v]);u(m,n)};if(c.data&&c.data.length)m.apply(this,[c.data]);else if(c.url&&"string"===
typeof c.url){var n=this.value;b(p).html('\x3cli class\x3d"ui-menu-item ajaxSearching"\x3e\x3ca class\x3d"ui-corner-all"\x3eSearching...\x3c/a\x3e\x3c/li\x3e').show().css("height","auto");h=window.clearTimeout(h);h=window.setTimeout(function(){b.getJSON(c.url,{search:n},function(c){c?u(c,n):b(p).html("").hide()})},500)}}var x=b(this),k=new RegExp(l(c.wildCard||""),"g"),p=b("\x3cul /\x3e"),r,w,v;b(p).addClass("jsonSuggest ui-autocomplete ui-menu ui-widget ui-widget-content ui-corner-all").attr("role",
"listbox").css({top:x.position().top+x.outerHeight()+"px",left:x.position().left+"px","z-index":999}).hide();x.after(p).keyup(function(c){switch(c.keyCode){case 13:return b(r).trigger("click"),!1;case 40:return r="undefined"===typeof r?b("li:first",p).get(0):b(r).next().get(0),m(r),r&&b(p).scrollTop(r.offsetTop),!1;case 38:return r="undefined"===typeof r?b("li:last",p).get(0):b(r).prev().get(0),m(r),r&&b(p).scrollTop(r.offsetTop),!1;default:q.apply(this,[c])}}).keydown(function(c){if(9===c.keyCode&&
r)return b(r).trigger("click"),!0}).blur(function(c){c=b(p).offset();c.bottom=c.top+b(p).height();c.right=c.left+b(p).width();(v<c.top||v>c.bottom||w<c.left||w>c.right)&&b(p).hide()}).focus(function(c){b(p).css({top:x.position().top+x.outerHeight()+"px",left:x.position().left+"px"});0<b("li",p).length&&b(p).show()}).attr("autocomplete","off");b(window).mousemove(function(b){w=b.pageX;v=b.pageY});c.notCharacter=l(c.notCharacter||"");c.data&&"string"===typeof c.data&&(c.data=b.parseJSON(c.data))})}})(jQuery);
DKI.resourceBrowser=function(){var b=$("body").hasClass("phone")||$("body").hasClass("responsive")?!0:!1,c={},h={},l=[],m=[],u=null,q={},x=[],k={},p={},r={},w={},v,z=dkiUA.iOS||dkiUA.android?"html,flash":"flash,html",n=!0,E=function(b){for(var c={},h=0;h<b.length;h++){var k=b[h].type;k in c?c[k].push(b[h]):c[k]=[b[h]]}return c},D=function(){var b=E(h),c=DKI.getObjectKeys(b),k=$("#resourceList #list"),m,n,p,q=dkiUA.iOS||dkiUA.android||dkiUA.blackberry;u&&(m=$("\x3cli /\x3e",{text:r.txtPrintableVersionHeader}),
n=$("\x3cul /\x3e",{"class":"sublist"}),p=$("\x3cli /\x3e",{id:"documentVersion","class":"subItem ",title:r.txtPrintableVersionTitle,html:"\x3cspan class\x3d'icon document'\x3e\x3c/span\x3e"+u.name}),p.on(v.clickEvent,K),n.append(p),m.append(n),k.append(m));c.sort();$.each(c,function(c,h){c=b[h];h=$("\x3cli /\x3e").append($("\x3cspan /\x3e",{"class":"Resource_type_label",text:w[h]}));var l=$("\x3cul /\x3e",{"class":"subList"});c.sort(y);$.each(c,function(b,c){b="\x3e";c.elementLink&&(b="title\x3d'"+
r.txtElementLinkTitle+"'\x3e\x3cspan class\x3d'linkIcon'\x3e\x3c/span\x3e");b="\x3cspan class\x3d'icon "+c.type+"'"+b+"\x3c/span\x3e"+c.title;var h="";q&&(b+="\x3cspan class\x3d'chevron'\x3e\x3c/span\x3e",h+="mobile");b=$("\x3cli /\x3e",{id:c.id,"class":"subItem "+h,title:c.title,html:b,tabIndex:0});h=function(){L(c.id)};if(q)b.find("span").on(v.clickEvent,h);else b.on(v.clickEvent,h);l.append(b);$(document).trigger(W.resourceRegistered,[c])});h.append(l);k.append(h)});c=playerBehaviour.removeWebLinks;
0<l.length&&!c&&(m=$("\x3cli /\x3e").append($("\x3cspan /\x3e",{"class":"Resource_type_label",text:r.txtLinksHeader})),n=$("\x3cul /\x3e",{"class":"subList"}),$.each(l,function(b,c){if(!c.parameters.notIncludedInResources){b="\x3cspan class\x3d'icon link'\x3e\x3c/span\x3e"+(c.parameters.title&&""!==c.parameters.title?c.parameters.title:c.parameters.url);var h="";q&&(b+="\x3cspan class\x3d'chevron'\x3e\x3c/span\x3e",h+="mobile");p=$("\x3cli /\x3e",{id:c.id,"class":"subItem link "+h,title:c.parameters.url,
html:b,tabIndex:0});b=function(){P(c.id)};if(q)p.find("span").on(v.clickEvent,b);else p.on(v.clickEvent,b);n.append(p)}}),m.append(n),k.append(m))},y=function(b,c){return b.title<c.title?-1:b.title>c.title?1:0},B=function(b,c){var h=$("#resourceView").innerHeight()-$("#resourceDetails .assetProperties").outerHeight()-30,k=$("#resourceView").innerWidth()-45,l=h-c,m=k-b,n=b/c;0>l&&l<m?(c=h,b=n*h):0>m&&m<l?(c=k/n,b=k):c=parseInt(c,10);h=0;200>c&&(h=(200-c)/2);return{width:b,height:c,top:h}},F=function(b,
c){$("#resourceVideo_player").jPlayer({swfPath:v.swfPath,cssSelectorAncestor:"#resourceVideo_container",ready:function(){q=$(this);q.jPlayer("setMedia",b.media);$(this).bind($.jPlayer.event.pause,function(){$(".jp-video-play",this.parentNode).css("display","");$("#resourceVideo_container .jp-interface").hide()});$(this).bind($.jPlayer.event.play,function(){$(".jp-video-play",this.parentNode).css("display","none");$("#resourceVideo_container .jp-interface").show()});$(this).bind($.jPlayer.event.click,
function(b){b.jPlayer.status.paused?$(this).jPlayer("play"):$(this).jPlayer("pause")});$("#resourceContent").off("keypress").on("keypress",function(c){var h=q.data().jPlayer,k=h.status,h=h.options;32==c.which||13==c.which?k.paused?q.jPlayer("play"):q.jPlayer("pause"):102==c.which?$(".jp-full-screen",this).click():27==c.which?$(".jp-restore-screen",this).click():116==c.which&&""!=b.transcript?contentApi.showPopup({html:b.transcript,modal:!1,autoFocus:!0,returnFocus:this}):109==c.which?h.muted?q.jPlayer("unmute"):
q.jPlayer("mute"):61==c.which||43==c.which?q.jPlayer("volume",h.volume+.1):45!=c.which&&95!=c.which||q.jPlayer("volume",h.volume-.1)})},solution:z,volume:1,supplied:b.supplied,autohide:!0,size:{width:c.width+"px",height:c.height+"px"},sizeFull:{height:"600px"},nativeVideoControls:v.nativeVideoControls})},C=function(b){$("#resourceAudio_player").jPlayer({swfPath:v.swfPath,cssSelectorAncestor:"#resourceAudio",ready:function(){k=$(this);k.jPlayer("setMedia",b.media);p=k},supplied:b.supplied,solution:z})},
I=function(b){var c=0;for(b=parseInt(b,10);1024<=b;)b/=1024,c++;return b.toFixed(1)+" "+["B","kB","MB"][c]},J=function(b,h){var k=b.title;if("html"!==b.type)if(playerBehaviour.allowResourceDownload)var k=b.title,l=h.split("."),k=k+("."+l[l.length-1]),k="\x3ca download\x3d'"+k+"' target\x3d'_blank' href\x3d'"+h+"' title\x3d'"+r.txtSaveAs+"'\x3e"+b.title+" \x3cspan class\x3d'downloadIcon'\x3e\x3c/span\x3e("+I(b.size)+")\x3c/a\x3e";else k="\x3cspan\x3e"+b.title+"\x3c/span\x3e";h=$(k);$("#resourceTitle").html("").append(h);
$("#resourceSize").html(I(b.size));$("#resourceDescription").html(b.description);c.detailsContainer.is(":hidden")&&c.detailsContainer.show()},G=function(b){var h=null,k=b.parameters.title,l=b.parameters.description,h=r.txtNewWindowTitle;""===k&&(k=b.parameters.url);b.parameters.isWebsite?(h=$("\x3ca href\x3d'#' class\x3d'resourceLinkLabel link website' title\x3d'"+h+"'\x3e"+k+"\x3c/a\x3e"),h.on(v.clickEvent,function(){b.parameters.target&&"modal"===b.parameters.target?contentApi.openModal(b.parameters.url):
window.open(b.parameters.url,"_blank").focus()})):(k+="\x3cspan class\x3d'downloadIcon'\x3e\x3c/span\x3e",h=r.txtSaveAs,h=$("\x3ca download target\x3d'_blank' href\x3d'"+b.parameters.url+"' class\x3d'resourceLinkLabel link download' title\x3d'"+h+"'\x3e"+k+"\x3c/a\x3e"));playerBehaviour.allowResourceDownload||(h=$("\x3cspan\x3e"+k+"\x3c/span\x3e"));$("#resourceTitle").html("").append(h);$("#resourceSize").html("");$("#resourceDescription").html(l);c.detailsContainer.is(":hidden")&&c.detailsContainer.show()},
K=function(){var h=$("#resourceContent"),k=player.rootURL+"assets/"+u.name,l=B(100,100),m=$(document.createElement("div"));m.css({margin:"0px auto",width:l.width,height:l.height,padding:l.top+"px 0px"});m.html("\x3cdiv class\x3d'docImg doc'\x3e\x3c/div\x3e");h.html("");h.append(m);J({title:u.name,description:"",size:u.size},k);$("#resourceList li").removeClass("selected");$("#documentVersion").addClass("selected");b&&(R(-250),c.back.fadeIn(200))},L=function(h){var k=M(h),l=$("#resourceContent");k.filePath||
(k.filePath=k.assetURL);var m=k.filePath;J(k,m);var n,p=$("\x3cdiv/\x3e"),q;l.html("");switch(k.type){case "audio":n=B(225,50);l=m;m=Handlebars.compile("{{\x3e jPlayerAudio}}")({audioAncestorId:"resourceAudio",audioPlayerId:"resourceAudio_player"});$("#resourceContent").append(p.html(m));m={};k="mp4"===k.extension?"m4a":k.extension;m[k]=l;C({media:m,supplied:k});break;case "video":n=B(k.w,k.h);l=m;m=n;q=Handlebars.compile("{{\x3e jPlayerVideo}}")({videoAncestorId:"resourceVideo_container",videoPlayerId:"resourceVideo_player"});
$("#resourceContent").append(p.html(q));q={};k="mp4"===k.extension||"mov"===k.extension?"m4v":k.extension;q[k]=l;F({media:q,supplied:k},m);break;case "image":n=B(k.w,k.h);l.append(p.html("\x3cimg src\x3d'"+m+"' width\x3d'100%' height \x3d '100%'/\x3e"));break;case "flash":n=B(k.w,k.h);l.append(p.html('\x3cobject classid\x3d"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width\x3d"100%" height\x3d"100%" id\x3d"flash_previewer"\x3e\x3cparam name\x3d"movie" value\x3d"'+m+'"/\x3e\x3cparam name\x3d"allowfullscreen" value\x3d"false" /\x3e\x3cparam name\x3d"allowScriptAccess" value\x3d"sameDomain" /\x3e\x3cparam name\x3d"wmode" value\x3d"transparent" /\x3e\x3c!--[if !IE]\x3e--\x3e\x3cobject type\x3d"application/x-shockwave-flash" data\x3d"'+
m+'" width\x3d"100%" height\x3d"100%"\x3e\x3cparam name\x3d"allowfullscreen" value\x3d"false" /\x3e\x3cparam name\x3d"allowScriptAccess" value\x3d"sameDomain" /\x3e\x3cparam name\x3d"wmode" value\x3d"transparent" /\x3e\x3c!--\x3c![endif]--\x3e\x3ca target\x3d"flashplayer" href\x3d"http://www.adobe.com/go/getflashplayer"\x3e\x3cimg src\x3d"http://www.adobe.com/images/shared/download_buttons/get_flash_player.gif" alt\x3d"Get Adobe Flash player" /\x3e\x3c/a\x3e\x3c!--[if !IE]\x3e--\x3e\x3c/object\x3e\x3c!--\x3c![endif]--\x3e\x3c/object\x3e\x3c/div\x3e'));
break;case "html":n=B(k.w,k.h);m=k.filePath?m+"/"+k.parameters.LAUNCHFILE:k.assetURL.substring(0,k.assetURL.length-1)+"/"+k.parameters.LAUNCHFILE;q=k.parameters.scrolling;switch(q){case "off":q="no";break;case "on":q="yes";break;default:q="auto"}l.append(p.html("\x3ciframe src\x3d'"+m+"' frameborder\x3d'"+k.parameters.border+"' scrolling\x3d'"+q+"'/\x3e"));break;default:n=B(100,100),l.append(p.html("\x3cdiv class\x3d'docImg "+k.extension+"'\x3e\x3c/div\x3e"))}p.css({margin:"0px auto",width:n.width,
height:n.height,padding:n.top+"px 0px"});$("#resourceList li").removeClass("selected");$("#"+h).addClass("selected");b&&(R(-250),c.back.fadeIn(200))},P=function(h){var k;a:{for(k=0;k<l.length;k++)if(l[k].id==h){k=l[k];break a}k=void 0}if(""!=k.parameters.description){var m=$("#resourceContent");m.html("");var n=$("\x3cdiv/\x3e");G(k);k.parameters.isWebsite&&(n.html("\x3ciframe style\x3d'margin:0;padding:0;width: 100%; height: 290px;' src\x3d'"+k.parameters.url+"' frameborder\x3d'0' scrolling\x3d'auto'/\x3e"),
n.css({margin:"0px auto",width:"100%",height:"290px"}),m.append(n));$("#resourceList li").removeClass("selected");$("#"+h).addClass("selected");b&&(R(-250),c.back.fadeIn(200))}else k.parameters.target&&"modal"===k.parameters.target?contentApi.openModal(k.parameters.url):window.open(k.parameters.url,"_blank").focus()},M=function(b){for(var c=0;c<h.length;c++)if(h[c].id==b)return h[c]},R=function(b){0==b?c.resourceList.list.show():c.detailsContainer.show();c.contentContainer.animate({left:b},300,function(){if(0==
b){var h=$(".selected[tabindex]:first",c.resourceList.list);0<h.length?h[0].focus():$("*[tabindex]:first",c.resourceList.list)[0].focus();c.detailsContainer.hide()}else c.resourceList.list.hide(),$("*[tabindex]:first",c.detailsContainer)[0].focus()})},fa=function(){c.container.hide();"undefined"!=typeof player&&player.navigation.setResourceState(!1)},W={resourceRegistered:"resourceRegistered",resourceOpened:"resourceOpened",resourceDownloaded:"resourceDownloaded"},V={fancybox:{enabled:!0}};Handlebars.registerHelper("DKI_templates_resource_list",
function(b){var c={image:"image",video:"inline",audio:"inline",html:"iframe",flash:"swf"};b=DKI.applyIf(b.hash,V);var k={strings:DKI.strings,config:b,categories:function(){var b={};if(playerBehaviour.allowResourceDownload&&DKI.resourceBrowser.getDocumentVersion()){var k=DKI.resourceBrowser.getDocumentVersion(),k={type:r.txtPrintableVersionHeader,allowResourceDownload:playerBehaviour.allowResourceDownload,filePath:fileLocation=player.rootURL+"assets/"+k.name,title:k.fileName,extension:k.extension,
id:"documentVersion"};b[k.type]={title:k.type,resources:[k]}}$.each(h,function(){this.allowResourceDownload=playerBehaviour.allowResourceDownload;this.filePath=this.filePath?player.rootURL+this.filePath:this.assetURL;"html"==this.type&&(this.filePath+="/"+this.parameters.LAUNCHFILE);this.fancybox={type:c[this.type],href:this.filePath,inline_content:"",group:this.type,title:this.title};if("video"==this.type||"audio"==this.type){var h="inline_resource_"+this.id;this.fancybox.href="#"+h;this.fancybox.inline_content=
Handlebars.compile("video"==this.type?DKI.templates.resource.video_content:DKI.templates.resource.audio_content)({id:h,resource_id:this.id,player_id:this.type+"_player_"+this.id,ancestor_id:this.type+"_ancestor_"+this.id})}if(this.allowResourceDownload||"document"!=this.type&&"source"!=this.type)b[this.type]?b[this.type].resources.push(this):b[this.type]={title:w[this.type],resources:[this]}});return b}(),links:function(){var b={title:DKI.strings.resources.txtLinksHeader,resources:[]};$.each(l,function(){if(this.parameters.notIncludedInResources)return!0;
""==this.parameters.title&&(this.parameters.title=this.parameters.url);b.resources.push(this)});return 0<b.resources.length?b:!1}(),pages:function(){var b={resources:m,title:DKI.strings.runtime["Theme Pages"]};return 0<b.resources.length?b:!1}()},k=Handlebars.compile(DKI.templates.resource.list)(k);if(b.fancybox.enabled)$(document).on("dki_theme_ready",function(){$(".dki-resource-asset-list-item-download").each(function(){$(this).on("keypress",function(b){32==b.which&&dkiUA.ie&&(window.open($(this).attr("href")),
$(document).trigger(DKI.resourceBrowser.events.resourceDownloaded,M($(this).data("id"))))});this.addEventListener(v.clickEvent,function(b){$(document).trigger(DKI.resourceBrowser.events.resourceDownloaded,M($(this).data("id")));DKI.EVENT_CANCEL_BUBBLE(b)},!0)});$(".dki-resource-list-item.fancy-box-item").click(function(){var b=null,c=null,h=DKI.func.debounce(function(){k()},75,!1),k=function(){var b=$(".fancybox-item.fancybox-close",c),h=$(".fancybox-stage .fancybox-content",c),k=h.offset().top/v.scale-
window.pageYOffset-29,h=h.offset().left/v.scale+h.outerWidth()-$(window).width()/v.scale;b.css({top:k+"px",left:h+"px"})},l=this,m=$("\x3cdiv\x3e");$.fancybox.open(m,{src:$(this).data("fancybox-href"),caption:$(this).data("fancyboxTitle"),type:$(this).data("fancybox-type"),buttons:["close"],btnTpl:{close:'\x3cdiv class\x3d"fancybox-item fancybox-close"data-fancybox-close aria-label\x3d"'+player.strings.buttonLabelClose+'" role\x3d"button" tabindex\x3d"1" \x3e\x3c/div\x3e'},fitToView:!0,autoSize:!1,
autoCenter:!0,margin:[20,60,20,60],afterShow:function(){$(".fancybox-stage",c).after($(".fancybox-toolbar",c).remove());k();var b=this;this.$slide.closest(".fancybox-inner").closest(".fancybox-overlay").on(v.clickEvent,function(b){return!1});$(document).trigger(W.resourceOpened,M($(l).data("id")));if("inline"==this.type){$("[data-fancybox-close]",this.$slide).remove();var h=M($(l).data("id")),m="mp4"===h.extension||"mov"===h.extension?"m4v":h.extension;"audio"==h.type&&(m="mp4"===h.extension?"m4a":
h.extension);var n={};n[m]=h.filePath;this.$slide.find("#"+h.type+"_player_"+h.id).jPlayer({swfPath:v.swfPath,cssSelectorAncestor:"#"+h.type+"_ancestor_"+h.id,ready:function(){var c=$(this);c.jPlayer("setMedia",n);$(this).bind($.jPlayer.event.pause,function(){$(".jp-video-play",this.parentNode).css("display","");$(".jp-interface",b.$slide).hide()});$(this).bind($.jPlayer.event.play,function(){$(".jp-video-play",this.parentNode).css("display","none");$(".jp-interface",b.$slide).show()});$(this).bind($.jPlayer.event.click,
function(b){b.jPlayer.status.paused?$(this).jPlayer("play"):$(this).jPlayer("pause")});b.$slide.off("keypress").on("keypress",function(b){var k=c.data().jPlayer,l=k.status,k=k.options;32==b.which||13==b.which?l.paused?c.jPlayer("play"):c.jPlayer("pause"):102==b.which?$(".jp-full-screen",this).click():27==b.which?$(".jp-restore-screen",this).click():116==b.which&&""!=h.transcript?contentApi.showPopup({html:h.transcript,modal:!1,autoFocus:!0,returnFocus:this}):109==b.which?k.muted?c.jPlayer("unmute"):
c.jPlayer("mute"):61==b.which||43==b.which?c.jPlayer("volume",k.volume+.1):45!=b.which&&95!=b.which||c.jPlayer("volume",k.volume-.1)});k()},solution:z,volume:1,supplied:m,autohide:"video"==h.type?{restored:!0,hold:500}:{},size:{width:function(){var c="video"==h.type?h.w+"px":"";h.w>b.width&&(c="100%");return c}(),height:function(){var c="video"==h.type?h.h+"px":"";h.h>b.height&&(c="100%");return c}(),cssClass:function(){var c="";"video"==h.type&&h.h>b.height&&(c="jp-over-max");return c}()},sizeFull:{height:"600px"},
nativeVideoControls:v.nativeVideoControls})}},beforeShow:function(k,l,m){l=this.$slide.closest(".fancybox-inner");b=k;c=l;b.$refs.container.on("onUpdate.fb",h)},afterClose:function(){b.$refs.container.off("onUpdate.fb",null,h);c=b=null}})});$(".dki-resource-list .dki-resource-pages .dki-resource-list-item").click(function(){var b=$(this).data("id");player.showPage([b],!1,!1,0)})});return k});return{init:function(k){var n;r=k.languageString;w={document:r.documentType,html:r.htmlType,audio:r.audioType,
video:r.videoType,image:r.imageType,flash:r.flashType,source:r.sourceType};h=k.resources;for(n=0;n<h.length;n++)x.push({id:h[n].id,title:h[n].title,type:"resource"});for(n=0;n<k.actions.length;n++)"http"==k.actions[n].type&&0==$.grep(l,function(b){return b.parameters.url==k.actions[n].parameters.url}).length&&(l.push(k.actions[n]),x.push({id:k.actions[n].id,title:k.actions[n].parameters.title,type:"link"}));player.isSinglePage||dataStorage.courseStructure.resourcePages.forEach(function(b){b.parameters.includeAsResource&&
m.push(b)});v=k.settings;u=k.documentVersion;var q={strings:DKI.strings,mobile:b},q=Handlebars.compile(DKI.templates.resourceBrowser)(q),q=Handlebars.compile(DKI.templates.window)({windowContent:q,id:"resourceWindowContainer",windowTitle:DKI.strings.resources.resourceBrowserTitle,afterHeader:Handlebars.compile(DKI.templates.mobileBackSearch)({mobile:b}),contentId:"resourceContentContainer"});$("body").append(q);c.container=$("#resourceWindowContainer");c.contentContainer=$("#resourceContentContainer");
c.close=c.container.find(".windowContainer-close");c.back=c.container.find(".backButton");c.detailsContainer=$("#resourceView");b&&c.container.addClass("phone");c.resourceList={container:$("#resourceList"),list:$("#resourceList #list"),termElements:[]};c.resourceDetails={resourceTitle:$("#resources")};D();c.container.hide();c.container.css("visibility","visibile");if(b)c.back.on(v.clickEvent,function(){c.back.fadeOut(200);R(0);p&&p.jPlayer&&p.jPlayer("stop")});c.close.on(v.clickEvent,function(){fa()});
c.container.draggable({handle:c.container.find(".browserHeader"),containment:"body"});c.container.find(".searchInput").jsonSearch({data:x,searchKey:"title",onSelect:function(b){"resource"==b.type?L(b.id):"link"==b.type&&P(b.id)}})},show:function(){n&&c.container.style("top",$("body").offset().top+parseInt($("body").style("padding-top")));n=!1;c.container.show();"undefined"!=typeof player&&player.navigation.setResourceState(!0);$("*[tabindex]:first",c.resourceList.list)[0]&&$("*[tabindex]:first",c.resourceList.list)[0].focus()},
hide:fa,toggle:function(){"none"==c.container.css("display")?this.show():this.hide()},isEmpty:function(){var b=0,c;u&&(b=1);for(c in h)h.hasOwnProperty(c)&&b++;for(c in l)l.hasOwnProperty(c)&&b++;return 0===b},setLaunchMethod:function(b){},events:W,hasResources:function(){return 0<m.length||0<l.length||DKI.resources&&0<DKI.resources.length||u},getDocumentVersion:function(){return u}}}();DKI||(DKI={});
DKI.disabler=function(b){this.isDialog=DKI.isDefined(b.onClick);var c="message_"+(new Date).getTime().toString();this.config=b;DKI.applyIf(this.config,{text:"",onClick:function(){},showSpinner:!1,className:"",clickable:!0,textTagType:"p",enforceFocus:!0,hideCloseBtn:!1});this.disabler=$("\x3cdiv /\x3e",{"class":"disablerWrapper "+this.config.className+(this.config.clickable?" clickable":""),role:"alertdialog","aria-modal":"true","aria-describedby":c});this.spinner=$("\x3cdiv /\x3e",{"class":"disabler",
"aria-hidden":"true"});this.disabler.append(this.spinner);this.disabler.on("click",$.proxy(function(){this.config.onClick(this)},this));this.text=$("\x3c"+this.config.textTagType+" /\x3e",{id:c,"class":"disablerMessage",html:this.config.text});this.config.title&&this.text.attr("title",this.config.title);this.config.label&&this.text.attr("aria-label",this.config.label);this.disabler.append(this.text);this.closeBtn=$("\x3ci /\x3e",{role:"button","class":"disableCloseBtn fa fa-times "+(this.config.hideCloseBtn?
"hide":""),"aria-label":DKI.strings.runtime.buttonLabelClose,title:DKI.strings.runtime.buttonLabelClose,tabindex:this.config.hideCloseBtn?"0":"1",disabled:!this.isDialog,"aria-hidden":this.config.hideCloseBtn});this.disabler.append(this.closeBtn);this.config.showSpinner&&this.spinner.addClass("spinner");$("body").append(this.disabler);this.disabler.data("disablerObj",this);return this};
DKI.disabler.prototype.show=function(){this.disabler.show();this.spinner.show();this.config.enforceFocus&&(this.currentFocus=document.activeElement,this.closeBtn[0].focus(),DKI.enforceFocus(this.disabler))};DKI.disabler.prototype.hide=function(b){b?this.disabler.fadeOut():this.disabler.hide();this.config.enforceFocus&&(this.currentFocus&&this.currentFocus.focus(),DKI.enforceFocus(!1),this.currentFocus=null)};DKI.disabler.prototype.setText=function(b){this.config.text=b;this.text.html(b)};
DKI.search||(DKI.search={events:{show:"searchUiShow",hide:"searchUiHide",search:"searchUiSearch",filterClicked:"searchFilterClicked",loadedProperties:"searchLoadedProperties"},isSupportedLanguage:function(b){b=b?b:contentApi.getCourseLanguage();return 0<=$.inArray(b.toLowerCase(),["en-us","en-gb","en-au","en-ca"])}});
(function(){var b={enabled:!0,indexes:{},itemStore:[],memberMap:{pages:{transcript:"transcript.body",title:"title",keysFlat:"keysFlat",description:"Description",note:"pageNote.body"}},supportedAssetTypes:["video","audio","image","flash","html"],supportedElementTypes:["htm","authoringButton","table","videoembed","tab"],memberRules:{elements:function(b){b.elementMeta=DKI.stripHTML(b.meta);b.keysFlat=b.keywords?b.keywords.join(" "):""},objects:function(b){b.keysFlat=b.keywords.join(" ")},assets:function(b){b.keysFlat=
b.keywords.join(" ")},pages:function(b){b.keysFlat=b.keywords.join(" ")}}},c={init:function(h){DKI.apply(b,h);b.enabled&&(c.initIndexes(),c.initSubscribers())},alterPipelines:function(b){DKI.search.isSupportedLanguage()||(b.pipeline.remove(lunr.stemmer),b.pipeline.remove(lunr.stopWordFilter),b.pipeline.remove(lunr.trimmer),b.pipeline.add(function(b,c,h){if(""!=b)return b}))},initSubscribers:function(){$(document).on(DKI.courseStore.events.courseRegistered,function(b,h){c.registerAssets()});$(document).on(DKI.courseStore.events.moduleRegistered,
function(b,h){c.addToIndex(h,"modules")});$(document).on(DKI.courseStore.events.loRegistered,function(b,h){c.addToIndex(h,"objects")});$(document).on(DKI.courseStore.events.pageRegistered,function(b,h){c.addToIndex(h,"pages")});$(document).on(DKI.courseStore.events.elementRegistered,function(h,m,u){if(!u&&(0<=$.inArray(m.elementtype,b.supportedElementTypes)&&c.addToIndex(m,"elements"),m.parameters.labels))for(h=0;h<m.parameters.labels.length;h++)if(u=dataStorage.getAsset(m.upload_id))u.labels+=" "+
m.parameters.labels[h].text});$(document).on(DKI.glossaryBrowse.events.glossaryRegistered,function(b,h){c.addToIndex(h,"glossaries")});$(document).on(DKI.Reference.playerReferenceUIInterface.events.referenceRegistered,function(b,h){c.addToIndex(h,"references")});$(document).on(DKI.Reference.playerReferenceUIInterface.events.citationRegistered,function(b,h){c.addToIndex(h,"citations")})},initIndexes:function(){b.indexes={elements:lunr(function(){this.ref("idx");this.field("elementMeta",{boost:12.5});
this.field("txt",{boost:12.5});this.field("description",{boost:10});this.field("keysFlat",{boost:10});c.alterPipelines(this)}),pages:lunr(function(){this.ref("idx");this.field("transcript",{boost:10});this.field("note",{boost:10});this.field("title",{boost:50});this.field("description",{boost:25});this.field("keysFlat",{boost:10});c.alterPipelines(this)}),assets:lunr(function(){this.ref("idx");this.field("title",{boost:12.5});this.field("description",{boost:10});this.field("transcript",{boost:10});
this.field("labels",{boost:10});this.field("keysFlat",{boost:10});c.alterPipelines(this)}),citations:lunr(function(){this.ref("idx");this.field("label",{boost:10});c.alterPipelines(this)}),references:lunr(function(){this.ref("idx");this.field("refText",{boost:10});c.alterPipelines(this)}),glossaries:lunr(function(){this.ref("idx");this.field("term",{boost:12.5});this.field("definition",{boost:10});this.field("attribution",{boost:7.5});c.alterPipelines(this)})}},registerAssets:function(){for(var h in b.dataStorage.store.assets){var m=
b.dataStorage.store.assets[h];0<=$.inArray(m.type,b.supportedAssetTypes)&&c.addToIndex(m,"assets")}},addToIndex:function(c,h){if(b.indexes[h]){c.idx=b.itemStore.length;c.smSearchType=h;var u=c;if(b.memberRules[h])b.memberRules[h](u);if(b.memberMap[h]){var u={idx:c.idx},q;for(q in b.memberMap[h])u[q]=b.memberMap[h][q].split(".").reduce(function(b,c){return b[c]?b[c]:{}},c)}b.itemStore.push(c);b.indexes[h].add(u);return c.idx}},search:function(h,m){var u=[],q;for(q in b.indexes)m&&DKI.isArray(m)&&0<=
m.indexOf(q)||(u=u.concat(b.indexes[q].search(h)));return u.map(function(c){c.obj=b.itemStore[c.ref];return c}).sort(c.sortResults)},sortResults:function(b,c){return b.score<c.score?1:b.score>c.score?-1:0},runAsync:function(b){setTimeout(b,0)}},h={search:function(b,h){return c.search(b,h)},isEnabled:function(){return b.enabled},getItemByStoreIndex:function(c){return b.itemStore[c]}};DKI.search.Manager=function(b){c.init(b);jQuery.extend(this,h);return this}})();
DKI.search.Window=function(){var b=!0,c=$("html").hasClass("csstransforms")?500:0;$("body").hasClass("phone");var h={},l={},m,u=!1,q={categories:{top:[],image:[],video:[],audio:[],reference:[],glossary:[],page:[],text:[],richMedia:[]}},x={},k=dkiUA.iOS||dkiUA.android?"html,flash":"flash,html",p={},r=function(b){return'\x3cobject classid\x3d"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width\x3d"100%" height\x3d"100%" id\x3d"search_flash"\x3e\x3cparam name\x3d"movie" value\x3d"'+b+'"/\x3e\x3cparam name\x3d"allowfullscreen" value\x3d"false" /\x3e\x3cparam name\x3d"allowScriptAccess" value\x3d"sameDomain" /\x3e\x3cparam name\x3d"wmode" value\x3d"transparent" /\x3e\x3c!--[if !IE]\x3e--\x3e\x3cobject type\x3d"application/x-shockwave-flash" data\x3d"'+
b+'" width\x3d"100%" height\x3d"100%"\x3e\x3cparam name\x3d"allowfullscreen" value\x3d"false" /\x3e\x3cparam name\x3d"allowScriptAccess" value\x3d"sameDomain" /\x3e\x3cparam name\x3d"wmode" value\x3d"transparent" /\x3e\x3c!--\x3c![endif]--\x3e\x3ca target\x3d"flashplayer" href\x3d"http://www.adobe.com/go/getflashplayer"\x3e\x3cimg src\x3d"http://www.adobe.com/images/shared/download_buttons/get_flash_player.gif" alt\x3d"Get Adobe Flash player" /\x3e\x3c/a\x3e\x3c!--[if !IE]\x3e--\x3e\x3c/object\x3e\x3c!--\x3c![endif]--\x3e\x3c/object\x3e\x3c/div\x3e'},
w=function(b){return $("\x3cdiv class\x3d'widgetPlaceholder'\x3e\x3c/div\x3e").on(m.clickEvent,function(c){DKI.Modal.show({url:b,name:"widgetPreview",method:"GET"})})},v=function(b){var c=h.search.val(),k=dataStorage.searchManager.search(c);$(document).trigger(DKI.search.events.search,[c,k]);populateResults(k,c,b)};showVideoPlayer=function(b,c,h,k){var l={},m="mp4"===b.extension||"mov"===b.extension?"m4v":b.extension;l[m]=c;renderVideoPlayer({media:l,supplied:m},k,h,b)};showAudioPlayer=function(b,
c,h){var k={};b="mp4"===b.extension?"m4a":b.extension;k[b]=c;renderAudioPlayer({media:k,supplied:b},h)};renderAudioPlayer=function(b,c){$(c).find("#search_audioPlayer").jPlayer({swfPath:m.swfPath,cssSelectorAncestor:"#search_audioAncestor",ready:function(){$(this).jPlayer("setMedia",b.media)},supplied:b.supplied,solution:k})};renderVideoPlayer=function(b,c,h,l){$(h).find("#search_vidPlayer").jPlayer({swfPath:m.swfPath,cssSelectorAncestor:"#search_vidAncestor",ready:function(){videoPlayer=$(this);
videoPlayer.jPlayer("setMedia",b.media);$(this).bind($.jPlayer.event.pause,function(){$(".jp-video-play",this.parentNode).css("display","");$("#searchBrowserContainer .vidContainer .jp-interface").hide()});$(this).bind($.jPlayer.event.play,function(){$(".jp-video-play",this.parentNode).css("display","none");$("#searchBrowserContainer .vidContainer .jp-interface").show()});$(this).bind($.jPlayer.event.click,function(b){b.jPlayer.status.paused?$(this).jPlayer("play"):$(this).jPlayer("pause")});$(".jp-transcript",
this.parentNode).on(m.clickEvent,function(){contentApi.showPopup({html:l.transcript,modal:!1,title:playerStrings.transcriptLabel})});h.off("keypress").on("keypress",function(c){var h=videoPlayer.data().jPlayer,k=h.status,h=h.options;32==c.which||13==c.which?k.paused?videoPlayer.jPlayer("play"):videoPlayer.jPlayer("pause"):102==c.which?$(".jp-full-screen",this).click():27==c.which?$(".jp-restore-screen",this).click():116==c.which&&""!=b.transcript?contentApi.showPopup({html:b.transcript,modal:!1,autoFocus:!0,
returnFocus:this}):109==c.which?h.muted?videoPlayer.jPlayer("unmute"):videoPlayer.jPlayer("mute"):61==c.which||43==c.which?videoPlayer.jPlayer("volume",h.volume+.1):45!=c.which&&95!=c.which||videoPlayer.jPlayer("volume",h.volume-.1)})},solution:k,volume:1,supplied:b.supplied,autohide:!0,size:{width:c.width+"px",height:c.height+"px"},sizeFull:{height:"600px"},nativeVideoControls:m.nativeVideoControls})};getType=function(b){switch(b.smSearchType){case "assets":return"flash"==b.type||"html"==b.type?
["richMedia"]:[b.type];case "glossaries":return["glossary","text"];case "references":return["reference","text"];case "citations":return["reference","text"];case "pages":return["page"];case "elements":return"videoembed"==b.elementtype?["video"]:["text"];case "objects":return["objects"]}};setObjects=function(b){var c=function(b,c){var h=dataStorage.locatePage(b);b=courseStructure.modules[h.module].objects[h.object];h=b.subeos[h.page];x.objects[b.eoid]?x.objects[b.eoid].push({obj:c,subeoId:h.subeoid}):
x.objects[b.eoid]=[{obj:c,subeoId:h.subeoid}]},h=[];switch(b.smSearchType){case "assets":h=dataStorage.getRelationship("assetElement",b.upload_id);break;case "glosariees":h=dataStorage.getRelationship("glossaryElement",b.glossary_id);break;case "citations":b.elementId?h=[b.elementId]:(termId=dataStorage.getRelationship("citationGlossary",b.id),h=dataStorage.getRelationship("glossaryElement",termId));break;case "pages":c(b.pageid,b);break;case "elements":h=[b.elementid]}for(var k=0;k<h.length;k++){var l=
dataStorage.getElement(h[k]);c(l.pageid,b)}};populateResults=function(b,c,k){h.details.listPanel.html("\x3cdiv tabindex\x3d'0' class\x3d'backNav'\x3e\x3cspan class\x3d'icon backChevron'\x3e\x3c/span\x3e\x3cspan\x3e"+l.back+"\x3c/span\x3e\x3c/div\x3e");x=DKI.clone(q);x.objects={};c=!1;for(var m=0;m<b.length;m++){var p=b[m];if(testForSequential(p)){x.categories.top.push(p);for(var r=getType(p.obj),u=0;u<r.length;u++)x.categories[r[u]].push(p)}else c=!0}c?(h.sequential.show(),h.details.detailsPanel.addClass("sequentialBlock")):
(h.sequential.hide(),h.details.detailsPanel.removeClass("sequentialBlock"));setFilterResults(x.categories,k)};getResultElements=function(b,c){c=[];var h=getType(b)[0];if("assets"==b.smSearchType)c=dataStorage.getRelationship("assetElement",b.id);else if("reference"==h)if(h=function(b){var c=[];b.elementId?c.push(b.elementId):(termId=dataStorage.getRelationship("citationGlossary",b.id),c=dataStorage.getRelationship("glossaryElement",termId));return c},"citations"==b.smSearchType)c=h(b);else for(var k in DKI.references.citations)DKI.references.citations[k].referenceId==
b.id&&(c=c.concat(h(DKI.references.citations[k])));else"glossaries"==b.smSearchType?c=dataStorage.getRelationship("glossaryElement",b.glossaryid):"elements"==b.smSearchType&&c.push(b.elementid);return c};testForSequential=function(b){var c=[];if(!u)return!0;var h=getType(b.obj)[0];if("page"==h)c.push(b.obj.pageid);else{if("objects"==h)for(c=dataStorage.findObject(b.obj.id),b=0;b<c.subeos.length;b++){if(c.subeos[b].complete)return!0}else for(c=getResultElements(b.obj),b=0;b<c.length;b++)if(dataStorage.getSubeoFromPage(dataStorage.getElement(c[b]).pageid).complete)return!0;
return!1}};getTitle=function(b){switch(b.smSearchType){case "citations":b=b.label;break;case "glossaries":b=b.term;break;case "elements":b="text"==getType(b)[0]?50<b.elementMeta.length?b.elementMeta.substr(0,47)+"...":b.elementMeta:b.title;break;default:b=b.title}return b};getDescription=function(b){switch(b.smSearchType){case "glossaries":return b.definition;case "citations":return DKI.Reference.playerReferenceUIInterface.getFullCitationText(b.id);case "references":return b.refText;case "pages":return b.description;
case "elements":return"text"==getType(b)[0]?b.elementMeta:b.description;default:return b.description}};getItemId=function(b){return b.id};setFilterResults=function(b,c){var k=h.filters.parent(),l=h.filters.detach(),m=h.sequential.detach(),p=!1,q;for(q in b){var r=h.filters.find("li[data-filter\x3d'"+q+"']");if(r){var u=!1;0<b[q].length&&(r.find("span.resCount").html(b[q].length),u=!0,r.data("istextitem")&&(p=!0));u?r.show():r.hide()}}p?h.filters.find("li.division").show():h.filters.find("li.division").hide();
k.append(l);k.append(m);c&&filterClicked.call(h.filters.find("li[data-filter\x3d'top']")[0])};filterClicked=function(b){b=$(this).data("filter");$(document).trigger(DKI.search.events.filterClicked,b);h.filters.find("li").removeClass("selected");h.container.trigger("filterClicked",[b]);0<x.categories[b].length&&$(this).addClass("selected");h.container.addClass("shift");h.details.detailsPanel.removeClass("properties").addClass("list")};loadAsset=function(b,c){var h={width:$(c).width(),height:$(c).height()};
switch(b.type){case "video":showVideoPlayer(b,getAssetUrl(b),c,h);break;case "audio":h.height=50,$(c).css("height","50px"),showAudioPlayer(b,getAssetUrl(b),c)}};loadListPanel=function(b){var c=x.categories[b];h.details.listPanel.html("\x3cdiv tabindex\x3d'0' class\x3d'backNav'\x3e\x3cspan class\x3d'icon backChevron'\x3e\x3c/span\x3e\x3cspan\x3e"+l.back+"\x3c/span\x3e\x3c/div\x3e");for(var k=0;k<c.length;k++){var p=c[k].obj,q=getType(p)[0];if("objects"!=q||!x.objects[p.eoid]||x.objects[p.eoid][0].subeoId){if("page"==
q){if("undefined"==typeof dataStorage.getSubeoFromPage(p.pageid))continue}else if(elements=getResultElements(p,null),0==elements.length)continue;p="image"!=b?generateListItem(c[k]):generateImageItem(c[k]);h.details.listPanel.append(p);p.on(m.clickEvent,function(){var b=dataStorage.searchManager.getItemByStoreIndex($(this).data("ref"));dataStorage.getCurrentQuestion();var c=getType(b)[0];"objects"==c&&x.objects[b.eoid]?contentApi.jumpToSubeo(x.objects[b.eoid][0].subeoId,!1):("page"==c?b=dataStorage.getSubeoFromPage(b.pageid):
(b=getResultElements(b,null),b=dataStorage.getSubeoFromPage(dataStorage.getElement(b[0]).pageid)),(b.complete&&u||!u)&&contentApi.jumpToSubeo(b.subeoid,!1))})}}0==c.length&&h.details.listPanel.find(".backNav").trigger("click");h.details.detailsPanel.append(h.details.switchContainer);c.length&&h.details.listPanel.find("*[tabindex]:visible")[0].focus()};generateListItem=function(b,c){var h=b.obj,k=$("\x3cdiv class\x3d'itemContainer' tabindex\x3d'0'\x3e\x3cspan class\x3d'iconContainer'\x3e\x3cspan class\x3d'icon'\x3e\x3c/span\x3e \x3c/span\x3e\x3cspan class\x3d'chevronContainer'\x3e\x3cspan class\x3d'icon chevron'\x3e\x3c/span\x3e\x3c/span\x3e\x3cdiv class\x3d'metaContainer'\x3e\x3ch3\x3e\x3c/h3\x3e\x3cp\x3e\x3c/p\x3e\x3c/div\x3e\x3c/div\x3e");
k.data("ref",b.ref);k.find("h3").html(getTitle(h));k.find("p").html(getDescription(h));k.find(".iconContainer .icon").addClass(getType(h)[0]);c&&(b="page"==getType(h)[0]?"Jump to this page":"Jump to the page containing this result",k.find(".chevron").removeClass("chevron").addClass("jump").attr("title",b));return k};getAssetUrl=function(b){return b.filePath?player.rootURL+b.filePath:b.assetURL};generateImageItem=function(b){var c=$("\x3cdiv tabindex\x3d'0' class\x3d'imageThumb' data-ref\x3d'"+b.ref+
"'\x3e\x3c/div\x3e");c.css("background-image","url("+getAssetUrl(b.obj)+")");return c};loadPropertiesPanel=function(b){var k=h.details.propertiesPanel,l=getType(b)[0];$(document).trigger(DKI.search.events.loadedProperties,[b,l]);h.details.overflow=h.details.overflow.detach();var m=h.details.overflow.find(".propertiesContent");m.html("").append("\x3cdiv tabindex\x3d'0' class\x3d'preview'\x3e\x3c/div\x3e\x3cdiv class\x3d'propertiesMeta'\x3e\x3c/div\x3e");if("image"!=l&&"video"!=l&&"audio"!=l&&"richMedia"!=
l)var p=m.find(".preview").hide();else switch(p=m.find(".preview").show(),p.css("height",("assets"==b.smSearchType?b.h:b.height)+"px"),l){case "image":p.css({"background-image":"url("+getAssetUrl(b)+")","background-position":"center","background-size":"contain","background-repeat":"no-repeat"});break;case "video":"assets"==b.smSearchType?(l=Handlebars.compile("{{\x3e jPlayerVideo}}")({videoAncestorId:"search_vidAncestor",videoPlayerId:"search_vidPlayer"}),p.html(l),p.off(),p.on("detailsLoaded",function(){loadAsset(b,
this)})):(p.off(),setTimeout(function(){"dynamic"==b.meta2?(p.append("\x3ciframe frameborder\x3d'0' scrolling\x3d'no' src\x3d'"+DKI.getVideoEmbedURL(b.elementid)+"'\x3e\x3c/iframe\x3e"),p.find("iframe").load(function(){$("object",$(this).contents()).css({"max-width":p.css("max-width"),"max-height":p.css("max-height")})})):p.html(b.meta);p.find("iframe").css({width:"100%",height:"100%"})},c));break;case "audio":l=Handlebars.compile("{{\x3e jPlayerAudio}}")({audioAncestorId:"search_audioAncestor",audioPlayerId:"search_audioPlayer"});
p.html(l);p.off();p.on("detailsLoaded",function(){loadAsset(b,this)});break;case "richMedia":"flash"==b.type?p.html(r(getAssetUrl(b))):(p.css("height","96px"),l=getAssetUrl(b),l=b.filePath?l:l.substring(0,l.length-1),l+="/"+b.parameters.LAUNCHFILE,p.html(w(l)))}m.find(".propertiesMeta").html("\x3ch3 tabindex\x3d'0'\x3e"+getTitle(b)+"\x3c/h3\x3e\x3cp tabindex\x3d'0'\x3e"+getDescription(b)+"\x3c/p\x3e");l=loadPageLinks(h.details.linksContainer.detach(),b);k.append(h.details.overflow);m.append(l);p.trigger("detailsLoaded");
h.details.detailsPanel.removeClass("list").addClass("properties")};unloadPreview=function(){h.details.overflow=h.details.overflow.detach()};loadPageLinks=function(b,c){dataStorage.getCurrentQuestion();var h=[],k=getType(c)[0],l=b.find(".links");l.html("");var p=b.find("h3.linksTitle").html("");if("objects"==k&&x.objects[c.eoid])for(p.html("See Also:"),k=0;k<x.objects[c.eoid].length;k++){var q=x.objects[c.eoid][k],q=generateListItem({obj:q.obj,ref:q.subeoId},!0);q.on(m.clickEvent,function(){contentApi.jumpToSubeo($(this).data("ref"),
!1)});l.append(q)}else if("page"==k){if(q=dataStorage.getSubeoFromPage(c.pageid),q.complete&&u||!u)p.html("Found Locations:"),q=generateListItem({obj:c,ref:q.subeoid},!0),q.on(m.clickEvent,function(){contentApi.jumpToSubeo($(this).data("ref"),!1)}),l.append(q)}else h=getResultElements(c,l);0<h.length&&p.html("Found Locations:");c=[];for(k=0;k<h.length;k++)q=dataStorage.getSubeoFromPage(dataStorage.getElement(h[k]).pageid),(q.complete&&u||!u)&&q&&0>$.inArray(q.subeoid,c)&&(p=q.page,c.push(q.subeoid),
q=generateListItem({obj:p,ref:q.subeoid},!0),q.on(m.clickEvent,function(){contentApi.jumpToSubeo($(this).data("ref"),!1)}),l.append(q));return b};show=function(c){$(document).trigger(DKI.search.events.show,c);if(b){h.container.show();var k=h.search[0];k&&(k.focus(),"undefined"!==typeof c&&h.search.val(c),v(),k=h.filters.find("li.selected"),"undefined"!==typeof c?(k=k[0]?k:h.filters.find("li[data-filter\x3d'top']"),k.addClass("selected"),h.container.trigger("filterClicked",[k.data("filter")])):k[0]&&
h.container.trigger("filterClicked",[k.data("filter")]),h.details.detailsPanel.hasClass("properties")&&h.details.propertiesPanel.append(h.details.overflow))}else!b&&m.inPreview&&(DKI.search.isSupportedLanguage()?alert("Course searching is not supported in your browser. Please upgrade your internet browser if you wish to use this feature."):alert("Search is not supported in this language."))};hide=function(){if(b){var c=h.search[0];h.container.is(":visible")&&$(document).trigger(DKI.search.events.hide);
c&&c.blur();h.container.hide();unloadPreview()}};toggle=function(){b&&("none"==h.container.css("display")?this.show():this.hide())};parseToBasic=function(b){return{title:getTitle(b),description:getDescription(b),id:getItemId(b)}};return{init:function(k){b=!(dkiUA.isIE()&&8>=dkiUA.ieVersion)&&DKI.search.isSupportedLanguage();u=playerBehaviour.forceSequential&&playerBehaviour.enableCourseSearchSequential;l=k.languageString;m=k.settings;documentVersion=k.documentVersion;b&&(k=Handlebars.compile(DKI.templates.window)({windowContent:Handlebars.compile(DKI.templates.search)({strings:DKI.strings}),
id:"searchBrowserContainer",windowTitle:DKI.strings.courseSearch.title}),$("body").append(k),h={container:$("#searchBrowserContainer"),details:{detailsPanel:$("#searchBrowserContainer .panel.details"),listPanel:$("#searchBrowserContainer .listPanel"),propertiesPanel:$("#searchBrowserContainer .propertiesPanel"),propertiesContent:$("#searchBrowserContainer .propertiesPanel .propertiesContent"),switchContainer:$("#searchBrowserContainer .switchContainer"),backNav:$("#searchBrowserContainer .propertiesPanel .backNav"),
linksContainer:$("#searchBrowserContainer .propertiesPanel .linksContainer"),overflow:$("#searchBrowserContainer .propertiesPanel .overflowContainer")},close:$("#searchBrowserContainer .windowContainer-close").attr("title",playerStrings.buttonLabelClose),back:$("#searchBrowserContainer .backButton"),search:$("#searchBrowserContainer .searchInput"),filters:$("#searchBrowserContainer .resultList"),sequential:$("#searchBrowserContainer .sequential")},p=DKI.func.debounce(v,200,!1,this),$("#searchBrowserContainer").on(m.clickEvent,
".backNav",function(){setTimeout(unloadPreview,c);h.details.detailsPanel.hasClass("properties")?h.details.detailsPanel.removeClass("properties").addClass("list"):h.container.removeClass("shift")}),h.close.on(m.clickEvent,function(){hide()}),$(h.filters).on(m.clickEvent,"li",filterClicked),$(document.body).on(m.clickEvent,".searchPageJump",function(b){contentApi.jumpToSubeo($(this).data("id"),!1)}),$(document).on(DKI.ContentPage.events.ready,function(){hide()}),$(document).on(DKI.EndCourse.events.ready,
function(){hide()}),$(document).on(DKI.EndModule.events.ready,function(){hide()}),$(document).on(DKI.EndTest.events.ready,function(){hide()}),h.search.on("input",function(){p(!0)}),h.container.on("filterClicked",function(b,c){loadListPanel(c)}),$(window).on(m.resizeEvent,$.proxy(function(){h.container.css("left",($(".bgRepeater").outerWidth()-h.container.outerWidth())/2);$("body").hasClass("responsive")&&480>=$(window).width()&&h.container.removeClass("shift")},this)))},show:show,hide:hide,toggle:toggle,
parseToBasic:parseToBasic}}();
DKI.PlayerOptions=$.Class({init:function(b){Object.defineProperty(DKI.PlayerOptions,"OPTION_CANDIDATES",{value:{behaviour:[{id:"forceSequential",ns:"forceSequential",type:"boolean"},{id:"enableShuffleLoOrder",ns:"enableShuffleLoOrder",type:"boolean"},{id:"enableTestTime",ns:"enableTestTime",type:"boolean"},{id:"retestAttempts",ns:"retestAttempts",type:"number"}],structure:{project:[{id:"passmark",ns:"passmark",type:"number"}],module:[{id:"content_time",ns:"parameters.content_time",type:"number"},
{id:"test_time",ns:"parameters.test_time",type:"number"}],object:[{id:"preserve_question_order",ns:"preserve_question_order",type:"boolean"},{id:"randQuest",ns:"randQuest",type:"number"}]}},writable:!1,enumerable:!0,configurable:!1});var c=this;this.overrideObjectParameters(b,"behaviour");$(document).on(DKI.DataStorage.events.project_structure_init,function(b,l){c.overrideObjectParameters(l,"project")});$(document).on(DKI.DataStorage.events.module_structure_init,function(b,l){c.overrideObjectParameters(l,
"module")});$(document).on(DKI.DataStorage.events.object_structure_init,function(b,l){c.overrideObjectParameters(l,"object")})}});
DKI.PlayerOptions.prototype.overrideObjectParameters=function(b,c){var h=DKI.getURLParameterValue("playerOptions",!1,!1),l=!1,m=!1;"undefined"!==typeof h&&(h=JSON.parse(h.replace(/%20/ig,"").replace(/%22/ig,'"')),l="undefined"!==typeof h.behaviour?!0:!1,m="undefined"!==typeof h.structure?!0:!1);if("behaviour"==c&&l)for(c=DKI.PlayerOptions.OPTION_CANDIDATES.behaviour,l=0;l<c.length;l++)typeof h.behaviour[c[l].id]==c[l].type&&DKI.setNS(c[l].ns,b,h.behaviour[c[l].id]);else if(m&&"undefined"!==typeof h.structure[c])for(m=
DKI.PlayerOptions.OPTION_CANDIDATES.structure,l=0;l<m[c].length;l++)typeof h.structure[c][m[c][l].id]==m[c][l].type&&DKI.setNS(m[c][l].ns,b,h.structure[c][m[c][l].id])};
DKI.TranslationUtility=$.Class({init:function(){var b=this;this.languages={};$.each(settings.course_languages,function(){b.languages[this.culture_code]=this});Handlebars.registerHelper("currentLanguageDisplay",$.proxy(function(c,h){return b.getCurrentDisplay()},this));Handlebars.registerPartial("currentLanguageDisplay",b.getCurrentDisplay());"undefined"!==typeof DKI.strings.translations&&(b=this,$(document).on(DKI.DataStorage.events.project_structure_init,function(c,h){b.translateProject(h)}),$(document).on(DKI.DataStorage.events.module_structure_init,
function(c,h){b.translateModule(h)}),$(document).on(DKI.DataStorage.events.object_structure_init,function(c,h){b.translateLearningObject(h)}),$(document).on(DKI.DataStorage.events.question_structure_init,function(c,h){b.translateQuestion(h)}),$(document).on(DKI.DataStorage.events.subeo_structure_init,function(c,h){b.translateSubeo(h)}),$(document).on(DKI.DataStorage.events.page_structure_init,function(c,h){b.translatePage(h)}),$(document).on(DKI.DataStorage.events.group_structure_init,function(c,
h){b.translateGroup(h)}),$(document).on(DKI.DataStorage.events.element_structure_init,function(c,h){b.translateElement(h)}),$(document).on(DKI.DataStorage.events.content_variable_structure_init,function(c,h){b.translateContentVariable(h)}),$(document).on(DKI.DataStorage.events.action_structure_init,function(c,h){b.translateAction(h)}),this.buildMap());var c=this.languages[settings.current_culture_code],h=c.rtl?"rtl":"ltr";$("html").attr({lang:c.culture_code,dir:h}).addClass(h)}});
DKI.TranslationUtility.prototype.buildMap=function(){var b=this;this.mappings={action:{},course:{},element:{},learning_object:{},metadata:{},module:{},page:{},question:{},subeo:{},content_variable:{}};$.each(DKI.strings.translations,function(){""!=this.action_id?("undefined"==typeof b.mappings.action[this.action_id]&&(b.mappings.action[this.action_id]={}),b.mappings.action[this.action_id][this.type]=this.text):""!=this.course_id?("undefined"==typeof b.mappings.course[this.course_id]&&(b.mappings.course[this.course_id]=
{}),b.mappings.course[this.course_id][this.type]=this.text):""!=this.element_id?("undefined"==typeof b.mappings.element[this.element_id]&&(b.mappings.element[this.element_id]={}),b.mappings.element[this.element_id][this.type]=this.text):""!=this.learning_object_id?("undefined"==typeof b.mappings.learning_object[this.learning_object_id]&&(b.mappings.learning_object[this.learning_object_id]={}),b.mappings.learning_object[this.learning_object_id][this.type]=this.text):""!=this.metadata_id?("undefined"==
typeof b.mappings.metadata[this.metadata_id]&&(b.mappings.metadata[this.metadata_id]={}),b.mappings.metadata[this.metadata_id][this.type]=this.text):""!=this.module_id?("undefined"==typeof b.mappings.module[this.module_id]&&(b.mappings.module[this.module_id]={}),b.mappings.module[this.module_id][this.type]=this.text):""!=this.page_id?("undefined"==typeof b.mappings.page[this.page_id]&&(b.mappings.page[this.page_id]={}),b.mappings.page[this.page_id][this.type]=this.text):""!=this.question_id?("undefined"==
typeof b.mappings.question[this.question_id]&&(b.mappings.question[this.question_id]={}),b.mappings.question[this.question_id][this.type]=this.text):""!=this.subeo_id?("undefined"==typeof b.mappings.subeo[this.subeo_id]&&(b.mappings.subeo[this.subeo_id]={}),b.mappings.subeo[this.subeo_id][this.type]=this.text):""!=this.content_variable_id&&("undefined"==typeof b.mappings.content_variable[this.content_variable_id]&&(b.mappings.content_variable[this.content_variable_id]={}),b.mappings.content_variable[this.content_variable_id][this.type]=
this.text)})};
DKI.TranslationUtility.prototype.translateProject=function(b){this.translateMetadata(b.metadata);b.coursename=b.metadata.title;b.coursedesc=b.metadata.description;var c=this.mappings.course[b.courseid];"undefined"!=typeof c&&$.each(c,function(c,l){"correctFeedback"==c?b.parameters.questionFeedback.correct=l:"incorrectFeedback"==c?b.parameters.questionFeedback.incorrect=l:"partialFeedback"==c?b.parameters.questionFeedback.partial=l:"partialAttemptFeedback"==c?b.parameters.questionFeedback.partialAttempt=l:
"incorrectAttemptFeedback"==c?b.parameters.questionFeedback.incorrectAttempt=l:"styledTitle"==c?b.parameters.styledTitle=l:"styledSubtitle"==c&&(b.parameters.styledSubtitle=l)})};DKI.TranslationUtility.prototype.translateModule=function(b){var c=this.mappings.module[b.loid];"undefined"!=typeof c&&$.each(c,function(c,l){"moduleTitle"==c?(b.loname=l,b.name=l):"moduleDescription"==c&&(b.description=l)})};
DKI.TranslationUtility.prototype.translateAction=function(b){var c=this.mappings.action[b.id];"undefined"!=typeof c&&$.each(c,function(c,l){c=c.toLowerCase();"variable"==c&&(b.parameters.variable.value=l);"actionswapcontent"==c&&(b.parameters.swapContent=l);"title"==c&&("showPopup"==b.type&&(b.parameters.popup.title=l),b.parameters.title=l);"description"==c&&(b.parameters.description=l);"content"==c&&"showPopup"==b.type&&(b.parameters.popup.content=l)})};
DKI.TranslationUtility.prototype.translateLearningObject=function(b){this.translateMetadata(b.metadata);b.eodesc=b.metadata.title;b.name=b.metadata.title;b.title=b.metadata.title;b.description=b.metadata.description;b.keywords=b.metadata.keywords;b.status=b.metadata.status;b.summary=b.metadata.keywords;b.disclaimer=b.metadata.disclaimer;b.copyright=b.metadata.copyright};
DKI.TranslationUtility.prototype.translateQuestion=function(b){this.translateMetadataInline(b,b.metadata_id);this.translateQuestionOptions(b);var c=this.mappings.question[b.id];"undefined"!=typeof c&&$.each(c,function(c,l){"correctFeedback"==c?b.parameters.feedback.correct.text=l:"incorrectFeedback"==c?b.parameters.feedback.incorrect.text=l:"partialFeedback"==c?b.parameters.feedback.partial.text=l:"incorrectAttemptFeedback"==c?b.parameters.feedback.incorrectAttempt.text=l:"partialAttemptFeedback"==
c&&(b.parameters.feedback.partialAttempt.text=l)});b.page_title=b.title;b.page&&(b.page.title=b.title)};DKI.TranslationUtility.prototype.translateSubeo=function(b){var c=this.mappings.subeo[b.subeoid];"undefined"!=typeof c&&$.each(c,function(c,l){"pageTitle"==c&&(b.title=l,7==b.subeotype&&(b.question.title=l,b.question.page_title=l))});7==b.subeotype&&this.translateQuestion(b.question)};
DKI.TranslationUtility.prototype.translatePage=function(b){var c=this.mappings.page[b.pageid];"undefined"!=typeof c&&$.each(c,function(c,h){"pageNote"==c&&DKI.isDefined(b.pageNote)?b.pageNote.body=h:"pageTranscript"==c&&DKI.isDefined(b.transcript)?b.transcript.body=h:"pageTitle"==c&&b.question&&(b.question.title=h,b.question.page_title=h)});this.translateMetadataInline(b,b.metadataid);var h=this;$.each(b.actions,function(){var b=this,c=h.mappings.action[b.id];"undefined"!=typeof c&&$.each(c,function(c,
h){c=c.toLowerCase();"title"==c?"showPopup"==b.type?b.parameters.popup.title=h:b.parameters.title=h:"description"==c?b.parameters.description=h:"content"==c?b.parameters.popup.content=h:"actionswapcontent"==c&&(b.parameters.swapContent=h)})})};DKI.TranslationUtility.prototype.translateGroup=function(b){};DKI.TranslationUtility.prototype.translateContentVariable=function(b){var c=this.mappings.content_variable[b.id];"undefined"!=typeof c&&$.each(c,function(c,l){"default"==c&&(b.default=l)})};
DKI.TranslationUtility.prototype.translateElement=function(b){var c=this.mappings.element[b.elementid];"undefined"!=typeof c&&$.each(c,function(c,l){if("elementMeta"==c&&(b.meta=l,DKI.isDefined(b.option_parameters)&&""!=b.option_parameters)){var m=JSON.parse(b.option_parameters);m.content=l;b.option_parameters=JSON.stringify(m)}"elementMeta2"==c?b.meta2=l:"elementText"==c?b.txt=l:"optionFeedback"==c?b.parameters.config.feedback=l:"screenReaderText"==c?b.parameters.accessibility.text=l:"captionText"==
c?b.parameters.config.caption.text=l:"undefined"!==typeof b.parameters.extraContent[c]?b.parameters.extraContent[c]=l:"correctfeedback"==c?b.parameters.config.feedback.correct=l:"incorrectfeedback"==c?b.parameters.config.feedback.incorrect=l:"partialfeedback"==c?b.parameters.config.feedback.partial=l:"elementFeedback"==c&&(b.parameters.config.feedback=l)});this.translateMetadataInline(b,b.metadata_id)};
DKI.TranslationUtility.prototype.translateMetadataInline=function(b,c){c=this.mappings.metadata[c];"undefined"!=typeof c&&$.each(c,function(c,l){"metadataTitle"==c?b.title=l:"metadataDescription"==c?b.description=l:"metadataKeywords"==c?b.keywords=l.split(","):"metadataStatus"==c?b.status=l:"metadataSummary"==c?b.summary=l:"metadataDisclaimer"==c?b.disclaimer=l:"metadataCopyright"==c&&(b.copyright=l)})};
DKI.TranslationUtility.prototype.translateQuestionOptions=function(b){var c=this;$.each(b.options,function(){var b=c.mappings.element[this.element_id],l=this;"undefined"!=typeof b&&$.each(b,function(b,c){"elementMeta"==b&&(l.content=c)})})};DKI.TranslationUtility.prototype.getCurrentDisplay=function(){return this.getDisplay(settings.current_culture_code)};DKI.TranslationUtility.prototype.getDisplay=function(b){return this.languages[b].nativename+" ("+b+")"};
DKI.TranslationUtility.prototype.getLanguages=function(){return this.languages};DKI.TranslationUtility.prototype.translateMetadata=function(b){var c=this.mappings.metadata[b.metaid];"undefined"!=typeof c&&$.each(c,function(c,l){"metadataTitle"==c?b.title=l:"metadataDescription"==c?b.description=l:"metadataKeywords"==c?b.keywords=l.split(","):"metadataStatus"==c?b.status=l:"metadataSummary"==c?b.summary=l:"metadataDisclaimer"==c?b.disclaimer=l:"metadataCopyright"==c&&(b.copyright=l)})};
DKI.TranslationUtility.prototype.showCourseLanguages=function(b){contentApi.showPopup({id:"translation_language_list",html:DKI.TranslationUtility.LANGUAGE_LIST_TEMPLATE({languages:this.languages}),modal:!1,returnFocus:b,autoFocus:!0,popupType:{type:"pop",mod:"noModal",modal:!0},title:"Select a Language",onHide:function(){},afterShow:function(){this.find(".language-list-item[data-culture-code\x3d"+settings.current_culture_code+"]");this.find(".language-list-item").on("click",function(){contentApi.changeLanguage($(this).data("culture-code"))})}})};
DKI.TranslationUtility.LANGUAGE_LIST_TEMPLATE=Handlebars.compile('\x3cul class\x3d"list-group"\x3e{{#each languages}}\x3cli class\x3d"list-group-item language-list-item" data-culture-code\x3d"{{culture_code}}"\x3e\x3cbutton class\x3d"btn-link" tabindex\x3d"1"\x3e{{nativename}}\x26nbsp;({{culture_code}})\x3c/button\x3e\x3c/li\x3e{{/each}}\x3c/ul\x3e');
DKI.Animater=$.Class({init:function(){var b=this;this.profile="scrollAndFade";if(settings.responsive)$(document).on(DKI.DataStorage.events.page_structure_after_init,function(c,h){b.addAnimationsToPage(h)})}});DKI.Animater.ACTION_DEFAULT=function(){return{id:"animater_"+parseInt(1E5*Math.random(),10),parameters:{},targetElements:[],targetGroups:[],targetPages:[],target_assets:[]}};
DKI.Animater.SHOW_ON_SCROLL_ACTION_DEFAULT=function(){return DKI.applyIf(DKI.Animater.ACTION_DEFAULT(),{type:"entrance",trigger:"inview",time:100,parameters:{effect:"fade",effectOptions:{direction:"up",duration:600},fireOnce:!0,offset:"100%"}},!0)};DKI.Animater.SHOW_ON_SCROLL_ACTION=function(b){return DKI.applyIf(DKI.Animater.ACTION_DEFAULT(),{type:"entrance",trigger:"inview",time:0,parameters:{effect:"fade",effectOptions:{direction:"down",duration:500},fireOnce:!0,offset:"95%"}},!0)};
DKI.Animater.LIGHT_BOX_ASSET_ACTION=function(){return DKI.applyIf(DKI.Animater.ACTION_DEFAULT(),{type:"lightBox",trigger:"click",time:0,parameters:{}},!0)};
DKI.Animater.prototype.addAnimationsToPage=function(b){for(var c=[],h=!1,l=0;l<b.groups.length;l++){var m=b.groups[l];!h||countElementsForContinueDivider||m.parameters.hiddenOnLoad||(h.addGroupShowTarget(m),m.parameters.hiddenOnLoad=!0);for(var u=0;u<m.elements.length;u++){var q=m.elements[u];h&&countElementsForContinueDivider&&!q.renderhidden&&!q.parameters.hiddenUntilInView&&(h.addElementShowTarget(q),q.renderhidden=!0);"divider"==q.elementtype&&"continue"==q.parameters.config.type&&(h&&(c=c.concat(h.getActions())),
h=new DKI.Animater.Divider({page:b,element:q}),"page"==q.parameters.config.continueOptions.context&&(c=c.concat(h.getActions()),h=!1),countElementsForContinueDivider=!0);if(settings.responsive&&settings.design.parameters.config.scroll_and_fade&&!q.parameters.hiddenUntilInView&&!q.renderhidden){var x=DKI.applyIf({pageId:b.id,targetElements:[q.id]},DKI.Animater.SHOW_ON_SCROLL_ACTION_DEFAULT(),!0);m.parameters.batch.group_index&&(x.time+=250*(m.parameters.batch.group_index-1));h&&"htm"==q.elementtype&&
q.parameters.config.tag_name.toLowerCase().indexOf("h");c.push(x);q.parameters.hiddenUntilInView=!0}}countElementsForContinueDivider=!1}h&&(c=c.concat(h.getActions()));for(l=0;l<c.length;l++)b.actions.push(c[l]),$(document).trigger(DKI.DataStorage.events.action_structure_init,c[l])};
DKI.Animater.Divider=$.Class({init:function(b){b=DKI.applyIf("undefined"==typeof b?{}:b,{hasContentBelow:!0},!0);this.page=b.page;this.element=b.element;this.hasContentBelow=b.hasContentBelow;this.actions={show:DKI.applyIf({elementId:b.element.id},DKI.Animater.Divider.SHOW_ACTION_DEFAULT(),!0),scroll:DKI.applyIf({elementId:b.element.id,targetElements:[]},DKI.Animater.Divider.SCROLL_ACTION_DEFAULT(),!0),variable:DKI.applyIf({elementId:b.element.id,parameters:{variable:{name:"divider_"+b.element.id+
"_clicked",value:!0,type:"boolean"}}},DKI.Animater.Divider.SET_VARIABLE_DEFAULT(),!0),next:DKI.applyIf({elementId:b.element.elementid},DKI.Animater.Divider.GO_NEXT_ACTION_DEFAULT(),!0)}},addElementShowTarget:function(b){this.actions.show.targetElements.push(b.id);0!=this.actions.scroll.targetElements.length||b.renderhidden||"placeholder"==b.elementtype||this.actions.scroll.targetElements.push(b.id)},addGroupShowTarget:function(b){this.actions.show.targetGroups.push(b.id);0==this.actions.scroll.targetElements.length&&
0<b.elements.length&&!b.elements[0].renderhidden&&"placeholder"!=b.elements[0].elementtype&&this.actions.scroll.targetElements.push(b.elements[0].id)},getActions:function(){var b=[this.actions.variable];0<this.actions.show.targetElements.length||0<this.actions.show.targetGroups.length?(b.push(this.actions.show),b.push(DKI.applyIf({pageId:this.page.id,elementId:null,trigger:"time",time:0,parameters:{conditions:"{{divider_"+this.element.id+"_clicked}} \x3d\x3d true",immediateExecution:!0}},this.actions.show,
!0)),b.push(this.actions.scroll)):b.push(this.actions.next);return b}});DKI.Animater.Divider.SHOW_ACTION_DEFAULT=function(){return DKI.applyIf(DKI.Animater.ACTION_DEFAULT(),{type:"show",trigger:"click",time:0,parameters:{effect:"none",effectOptions:{duration:0},keepHiddenUntilInView:!0}},!0)};
DKI.Animater.Divider.SCROLL_ACTION_DEFAULT=function(){return DKI.applyIf(DKI.Animater.ACTION_DEFAULT(),{type:"api",trigger:"click",time:250,parameters:{method:"jumpToElement",methodConfig:{scrollToTop:!0}}},!0)};DKI.Animater.Divider.GO_NEXT_ACTION_DEFAULT=function(){return DKI.applyIf(DKI.Animater.ACTION_DEFAULT(),{type:"api",trigger:"click",time:0,parameters:{method:"nextLightboxOrContentPage"}},!0)};
DKI.Animater.Divider.SET_VARIABLE_DEFAULT=function(){return DKI.applyIf(DKI.Animater.ACTION_DEFAULT(),{type:"setVariable",trigger:"click",time:0,parameters:{variable:{}}},!0)};
(function(b){function c(b,c){if(!(1<b.originalEvent.touches.length)){b.preventDefault();var h=b.originalEvent.changedTouches[0],k=document.createEvent("MouseEvents");k.initMouseEvent(c,!0,!0,window,1,h.screenX,h.screenY,h.clientX,h.clientY,!1,!1,!1,!1,0,null);b.target.dispatchEvent(k)}}b.support.touch="ontouchend"in document;if(b.support.touch){var h=b.ui.mouse.prototype,l=h._mouseInit,m;h._touchStart=function(b){!m&&this._mouseCapture(b.originalEvent.changedTouches[0])&&(m=!0,this._touchMoved=!1,
c(b,"mouseover"),c(b,"mousemove"),c(b,"mousedown"))};h._touchMove=function(b){m&&(this._touchMoved=!0,c(b,"mousemove"))};h._touchEnd=function(b){m&&(c(b,"mouseup"),c(b,"mouseout"),this._touchMoved||c(b,"click"),m=!1)};h._mouseInit=function(){this.element.bind("touchstart",b.proxy(this,"_touchStart")).bind("touchmove",b.proxy(this,"_touchMove")).bind("touchend",b.proxy(this,"_touchEnd"));l.call(this)}}})(jQuery);var requirejs,require,define;
!function(b,c){function h(b,c){return c||""}function l(b){return"[object Function]"===V.call(b)}function m(b){return"[object Array]"===V.call(b)}function u(b,c){var h;if(b)for(h=0;h<b.length&&(!b[h]||!c(b[h],h,b));h+=1);}function q(b,c){var h;if(b)for(h=b.length-1;-1<h&&(!b[h]||!c(b[h],h,b));--h);}function x(b,c){return ba.call(b,c)}function k(b,c){return x(b,c)&&b[c]}function p(b,c){for(var h in b)if(x(b,h)&&c(b[h],h))break}function r(b,c,h,k){return c&&p(c,function(c,n){!h&&x(b,n)||(!k||"object"!=
typeof c||!c||m(c)||l(c)||c instanceof RegExp?b[n]=c:(b[n]||(b[n]={}),r(b[n],c,h,k)))}),b}function w(b,c){return function(){return c.apply(b,arguments)}}function v(b){throw b;}function z(c){if(!c)return c;var h=b;return u(c.split("."),function(b){h=h[b]}),h}function n(b,c,h,k){c=Error(c+"\nhttps://requirejs.org/docs/errors.html#"+b);return c.requireType=b,c.requireModules=k,h&&(c.originalError=h),c}function E(h){function B(b,c,h){var l,m,n,p,q,r,u,v;c=c&&c.split("/");var w=aa.map,x=w&&w["*"];if(b){m=
(b=b.split("/")).length-1;aa.nodeIdCompat&&fa.test(b[m])&&(b[m]=b[m].replace(fa,""));"."===b[0].charAt(0)&&c&&(b=c.slice(0,c.length-1).concat(b));m=b;for(n=0;n<m.length;n++)"."===(p=m[n])?(m.splice(n,1),--n):".."!==p||0===n||1===n&&".."===m[2]||".."===m[n-1]||0<n&&(m.splice(n-1,2),n-=2);b=b.join("/")}if(h&&w&&(c||x)){m=(h=b.split("/")).length;a:for(;0<m;--m){if(p=h.slice(0,m).join("/"),c)for(n=c.length;0<n;--n)if((l=k(w,c.slice(0,n).join("/")))&&(l=k(l,p))){q=l;r=m;break a}!u&&x&&k(x,p)&&(u=k(x,p),
v=m)}!q&&u&&(q=u,r=v);q&&(h.splice(0,r,q),b=h.join("/"))}return k(aa.pkgs,b)||b}function C(b){S&&u(document.getElementsByTagName("script"),function(c){if(c.getAttribute("data-requiremodule")===b&&c.getAttribute("data-requirecontext")===T.contextName)return c.parentNode.removeChild(c),!0})}function D(b){var c=k(aa.paths,b);if(c&&m(c)&&1<c.length)return c.shift(),T.require.undef(b),T.makeRequire(null,{skipMap:!0})([b]),!0}function E(b){var c,h=b?b.indexOf("!"):-1;return-1<h&&(c=b.substring(0,h),b=b.substring(h+
1,b.length)),[c,b]}function F(b,c,h,l){var m,n,p,q,r=null,u=c?c.name:null,v=b,w=!0,x="";return b||(w=!1,b="_@r"+(kb+=1)),r=(q=E(b))[0],b=q[1],r&&(r=B(r,u,l),n=k(wa,r)),b&&(r?x=h?b:n&&n.normalize?n.normalize(b,function(b){return B(b,u,l)}):-1===b.indexOf("!")?B(b,u,l):b:(r=(q=E(x=B(b,u,l)))[0],x=q[1],h=!0,m=T.nameToUrl(x))),{prefix:r,name:x,parentMap:c,unnormalized:!!(p=!r||n||h?"":"_unnormalized"+(lb+=1)),url:m,originalName:v,isDefine:w,id:(r?r+"!"+x:x)+p}}function I(b){var c=b.id,h=k(Z,c);return h||
(h=Z[c]=new T.Module(b)),h}function J(b,c,h){var l=b.id,m=k(Z,l);!x(wa,l)||m&&!m.defineEmitComplete?(m=I(b)).error&&"error"===c?h(m.error):m.on(c,h):"defined"===c&&h(wa[l])}function K(b,c){var h=b.requireModules,l=!1;c?c(b):(u(h,function(c){(c=k(Z,c))&&(c.error=b,c.events.error&&(l=!0,c.emit("error",b)))}),l||y.onError(b))}function H(){ia.length&&(u(ia,function(b){var c=b[0];"string"==typeof c&&(T.defQueueMap[c]=!0);da.push(b)}),ia=[])}function L(b){delete Z[b];delete ha[b]}function M(){var b,h,l=
1E3*aa.waitSeconds,m=l&&T.startTime+l<(new Date).getTime(),q=[],r=[],v=!1,w=!0;if(!X){if(X=!0,p(ha,function(b){var c=b.map,k=c.id;if(b.enabled&&(c.isDefine||r.push(b),!b.error))if(!b.inited&&m)D(k)?v=h=!0:(q.push(k),C(k));else if(!b.inited&&b.fetched&&c.isDefine&&(v=!0,!c.prefix))return w=!1}),m&&q.length)return(b=n("timeout","Load timeout for modules: "+q,null,q)).contextName=T.contextName,K(b);w&&u(r,function(b){!function mb(b,c,h){var l=b.map.id;b.error?b.emit("error",b.error):(c[l]=!0,u(b.depMaps,
function(l,m){l=l.id;var n=k(Z,l);!n||b.depMatched[m]||h[l]||(k(c,l)?(b.defineDep(m,wa[l]),b.check()):mb(n,c,h))}),h[l]=!0)}(b,{},{})});m&&!h||!v||!S&&!Q||oa||(oa=c(function(){oa=0;M()},50));X=!1}}function P(b){x(wa,b[0])||I(F(b[0],null,!0)).init(b[1],b[2])}function R(b){b=b.currentTarget||b.srcElement;var c=T.onScriptLoad;b.detachEvent&&!Y?b.detachEvent("onreadystatechange",c):b.removeEventListener("load",c,!1);c=T.onScriptError;b.detachEvent&&!Y||b.removeEventListener("error",c,!1);return{node:b,
id:b&&b.getAttribute("data-requiremodule")}}function V(){var b;for(H();da.length;){if(null===(b=da.shift())[0])return K(n("mismatch","Mismatched anonymous define() module: "+b[b.length-1]));P(b)}T.defQueueMap={}}var X,ba,T,ka,oa,aa={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},Z={},ha={},Ka={},da=[],wa={},Ua={},A={},kb=1,lb=1;return ka={require:function(b){return b.require?b.require:b.require=T.makeRequire(b.map)},exports:function(b){if(b.usingExports=!0,b.map.isDefine)return b.exports?
wa[b.map.id]=b.exports:b.exports=wa[b.map.id]={}},module:function(b){return b.module?b.module:b.module={id:b.map.id,uri:b.map.url,config:function(){return k(aa.config,b.map.id)||{}},exports:b.exports||(b.exports={})}}},(ba=function(b){this.events=k(Ka,b.id)||{};this.map=b;this.shim=k(aa.shim,b.id);this.depExports=[];this.depMaps=[];this.depMatched=[];this.pluginMaps={};this.depCount=0}).prototype={init:function(b,c,h,k){k=k||{};this.inited||(this.factory=c,h?this.on("error",h):this.events.error&&
(h=w(this,function(b){this.emit("error",b)})),this.depMaps=b&&b.slice(0),this.errback=h,this.inited=!0,this.ignore=k.ignore,k.enabled||this.enabled?this.enable():this.check())},defineDep:function(b,c){this.depMatched[b]||(this.depMatched[b]=!0,--this.depCount,this.depExports[b]=c)},fetch:function(){if(!this.fetched){this.fetched=!0;T.startTime=(new Date).getTime();var b=this.map;if(!this.shim)return b.prefix?this.callPlugin():this.load();T.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||
[],w(this,function(){return b.prefix?this.callPlugin():this.load()}))}},load:function(){var b=this.map.url;Ua[b]||(Ua[b]=!0,T.load(this.map.id,b))},check:function(){if(this.enabled&&!this.enabling){var b,c,h=this.map.id,k=this.depExports,m=this.exports,n=this.factory;if(this.inited)if(this.error)this.emit("error",this.error);else{if(!this.defining){if(this.defining=!0,1>this.depCount&&!this.defined){if(l(n)){if(this.events.error&&this.map.isDefine||y.onError!==v)try{m=T.execCb(h,n,k,m)}catch(p){b=
p}else m=T.execCb(h,n,k,m);if(this.map.isDefine&&void 0===m&&((c=this.module)?m=c.exports:this.usingExports&&(m=this.exports)),b)return b.requireMap=this.map,b.requireModules=this.map.isDefine?[this.map.id]:null,b.requireType=this.map.isDefine?"define":"require",K(this.error=b)}else m=n;if(this.exports=m,this.map.isDefine&&!this.ignore&&(wa[h]=m,y.onResourceLoad)){var q=[];u(this.depMaps,function(b){q.push(b.normalizedMap||b)});y.onResourceLoad(T,this.map,q)}L(h);this.defined=!0}this.defining=!1;
this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else x(T.defQueueMap,h)||this.fetch()}},callPlugin:function(){var b=this.map,c=b.id,h=F(b.prefix);this.depMaps.push(h);J(h,"defined",w(this,function(h){var l,m,q,r=k(A,this.map.id),u=this.map.name,v=this.map.parentMap?this.map.parentMap.name:null,z=T.makeRequire(b.parentMap,{enableBuildCallback:!0});return this.map.unnormalized?(h.normalize&&(u=h.normalize(u,function(b){return B(b,
v,!0)})||""),J(m=F(b.prefix+"!"+u,this.map.parentMap,!0),"defined",w(this,function(b){this.map.normalizedMap=m;this.init([],function(){return b},null,{enabled:!0,ignore:!0})})),void((q=k(Z,m.id))&&(this.depMaps.push(m),this.events.error&&q.on("error",w(this,function(b){this.emit("error",b)})),q.enable()))):r?(this.map.url=T.nameToUrl(r),void this.load()):((l=w(this,function(b){this.init([],function(){return b},null,{enabled:!0})})).error=w(this,function(b){this.inited=!0;(this.error=b).requireModules=
[c];p(Z,function(b){0===b.map.id.indexOf(c+"_unnormalized")&&L(b.map.id)});K(b)}),l.fromText=w(this,function(h,k){var m=b.name,p=F(m),q=U;k&&(h=k);q&&(U=!1);I(p);x(aa.config,c)&&(aa.config[m]=aa.config[c]);try{y.exec(h)}catch(r){return K(n("fromtexteval","fromText eval for "+c+" failed: "+r,r,[c]))}q&&(U=!0);this.depMaps.push(p);T.completeLoad(m);z([m],l)}),void h.load(b.name,z,l,aa))}));T.enable(h,this);this.pluginMaps[h.id]=h},enable:function(){this.enabling=(ha[this.map.id]=this).enabled=!0;u(this.depMaps,
w(this,function(b,c){var h,l;if("string"==typeof b){if(b=F(b,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[c]=b,h=k(ka,b.id))return void(this.depExports[c]=h(this));this.depCount+=1;J(b,"defined",w(this,function(b){this.undefed||(this.defineDep(c,b),this.check())}));this.errback?J(b,"error",w(this,this.errback)):this.events.error&&J(b,"error",w(this,function(b){this.emit("error",b)}))}h=b.id;l=Z[h];x(ka,h)||!l||l.enabled||T.enable(b,this)}));p(this.pluginMaps,w(this,
function(b){var c=k(Z,b.id);c&&!c.enabled&&T.enable(b,this)}));this.enabling=!1;this.check()},on:function(b,c){var h=this.events[b];h||(h=this.events[b]=[]);h.push(c)},emit:function(b,c){u(this.events[b],function(b){b(c)});"error"===b&&delete this.events[b]}},(T={config:aa,contextName:h,registry:Z,defined:wa,urlFetched:Ua,defQueue:da,defQueueMap:{},Module:ba,makeModuleMap:F,nextTick:y.nextTick,onError:K,configure:function(b){if(b.baseUrl&&"/"!==b.baseUrl.charAt(b.baseUrl.length-1)&&(b.baseUrl+="/"),
"string"==typeof b.urlArgs){var c=b.urlArgs;b.urlArgs=function(b,h){return(-1===h.indexOf("?")?"?":"\x26")+c}}var h=aa.shim,k={paths:!0,bundles:!0,config:!0,map:!0};p(b,function(b,c){k[c]?(aa[c]||(aa[c]={}),r(aa[c],b,!0,!0)):aa[c]=b});b.bundles&&p(b.bundles,function(b,c){u(b,function(b){b!==c&&(A[b]=c)})});b.shim&&(p(b.shim,function(b,c){m(b)&&(b={deps:b});!b.exports&&!b.init||b.exportsFn||(b.exportsFn=T.makeShimExports(b));h[c]=b}),aa.shim=h);b.packages&&u(b.packages,function(b){var c;c=(b="string"==
typeof b?{name:b}:b).name;b.location&&(aa.paths[c]=b.location);aa.pkgs[c]=b.name+"/"+(b.main||"main").replace(W,"").replace(fa,"")});p(Z,function(b,c){b.inited||b.map.unnormalized||(b.map=F(c,null,!0))});(b.deps||b.callback)&&T.require(b.deps||[],b.callback)},makeShimExports:function(c){return function(){var h;return c.init&&(h=c.init.apply(b,arguments)),h||c.exports&&z(c.exports)}},makeRequire:function(b,c){function m(k,p,q){var r,u;return c.enableBuildCallback&&p&&l(p)&&(p.__requireJsBuild=!0),
"string"==typeof k?l(p)?K(n("requireargs","Invalid require call"),q):b&&x(ka,k)?ka[k](Z[b.id]):y.get?y.get(T,k,b,m):(r=F(k,b,!1,!0).id,x(wa,r)?wa[r]:K(n("notloaded",'Module name "'+r+'" has not been loaded yet for context: '+h+(b?"":". Use require([])")))):(V(),T.nextTick(function(){V();(u=I(F(null,b))).skipMap=c.skipMap;u.init(k,p,q,{enabled:!0});M()}),m)}return c=c||{},r(m,{isBrowser:S,toUrl:function(c){var h,k=c.lastIndexOf("."),l=c.split("/")[0];return-1!==k&&(!("."===l||".."===l)||1<k)&&(h=c.substring(k,
c.length),c=c.substring(0,k)),T.nameToUrl(B(c,b&&b.id,!0),h,!0)},defined:function(c){return x(wa,F(c,b,!1,!0).id)},specified:function(c){return c=F(c,b,!1,!0).id,x(wa,c)||x(Z,c)}}),b||(m.undef=function(c){H();var h=F(c,b,!0),l=k(Z,c);l.undefed=!0;C(c);delete wa[c];delete Ua[h.url];delete Ka[c];q(da,function(b,h){b[0]===c&&da.splice(h,1)});delete T.defQueueMap[c];l&&(l.events.defined&&(Ka[c]=l.events),L(c))}),m},enable:function(b){k(Z,b.id)&&I(b).enable()},completeLoad:function(b){var c,h,l,m=k(aa.shim,
b)||{},p=m.exports;for(H();da.length;){if(null===(h=da.shift())[0]){if(h[0]=b,c)break;c=!0}else h[0]===b&&(c=!0);P(h)}if(T.defQueueMap={},l=k(Z,b),!c&&!x(wa,b)&&l&&!l.inited){if(!(!aa.enforceDefine||p&&z(p)))return D(b)?void 0:K(n("nodefine","No define call for "+b,null,[b]));P([b,m.deps||[],m.exportsFn])}M()},nameToUrl:function(b,c,h){var l,n,p,q;l=k(aa.pkgs,b);if(l&&(b=l),l=k(A,b))return T.nameToUrl(l,c,h);if(y.jsExtRegExp.test(b))l=b+(c||"");else{l=aa.paths;for(p=(n=b.split("/")).length;0<p;--p)if(q=
k(l,n.slice(0,p).join("/"))){m(q)&&(q=q[0]);n.splice(0,p,q);break}l=n.join("/");l=("/"===(l+=c||(/^data\:|^blob\:|\?/.test(l)||h?"":".js")).charAt(0)||l.match(/^[\w\+\.\-]+:/)?"":aa.baseUrl)+l}return aa.urlArgs&&!/^blob\:/.test(l)?l+aa.urlArgs(b,l):l},load:function(b,c){y.load(T,b,c)},execCb:function(b,c,h,k){return c.apply(k,h)},onScriptLoad:function(b){if("load"===b.type||N.test((b.currentTarget||b.srcElement).readyState))G=null,b=R(b),T.completeLoad(b.id)},onScriptError:function(b){var c=R(b);
if(!D(c.id)){var h=[];return p(Z,function(b,k){0!==k.indexOf("_@r")&&u(b.depMaps,function(b){if(b.id===c.id)return h.push(k),!0})}),K(n("scripterror",'Script error for "'+c.id+(h.length?'", needed by: '+h.join(", "):'"'),b,[c.id]))}}}).require=T.makeRequire(),T}function D(){return G&&"interactive"===G.readyState||q(document.getElementsByTagName("script"),function(b){if("interactive"===b.readyState)return G=b}),G}var y,B,F,C,I,J,G,K,L,P,M=/\/\*[\s\S]*?\*\/|([^:"'=]|^)\/\/.*$/gm,R=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,
fa=/\.js$/,W=/^\.\//;B=Object.prototype;var V=B.toString,ba=B.hasOwnProperty,S=!("undefined"==typeof window||"undefined"==typeof navigator||!window.document),Q=!S&&"undefined"!=typeof importScripts,N=S&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,Y="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),ka={},X={},ia=[],U=!1;if(void 0===define){if(void 0!==requirejs){if(l(requirejs))return;X=requirejs;requirejs=void 0}void 0===require||l(require)||(X=require,require=
void 0);y=requirejs=function(b,c,h,l){var n,p,q="_";return m(b)||"string"==typeof b||(p=b,m(c)?(b=c,c=h,h=l):b=[]),p&&p.context&&(q=p.context),(n=k(ka,q))||(n=ka[q]=y.s.newContext(q)),p&&n.configure(p),n.require(b,c,h)};y.config=function(b){return y(b)};y.nextTick=void 0!==c?function(b){c(b,4)}:function(b){b()};require||(require=y);y.version="2.3.6";y.jsExtRegExp=/^\/|:|\?|\.js$/;y.isBrowser=S;B=y.s={contexts:ka,newContext:E};y({});u(["toUrl","undef","defined","specified"],function(b){y[b]=function(){var c=
ka._;return c.require[b].apply(c,arguments)}});S&&(F=B.head=document.getElementsByTagName("head")[0],C=document.getElementsByTagName("base")[0],C&&(F=B.head=C.parentNode));y.onError=v;y.createNode=function(b,c,h){c=b.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return c.type=b.scriptType||"text/javascript",c.charset="utf-8",c.async=!0,c};y.load=function(b,h,k){var l,m=b&&b.config||{};if(S)return(l=y.createNode(m,h,k)).setAttribute("data-requirecontext",
b.contextName),l.setAttribute("data-requiremodule",h),!l.attachEvent||l.attachEvent.toString&&0>l.attachEvent.toString().indexOf("[native code")||Y?(l.addEventListener("load",b.onScriptLoad,!1),l.addEventListener("error",b.onScriptError,!1)):(U=!0,l.attachEvent("onreadystatechange",b.onScriptLoad)),l.src=k,m.onNodeCreated&&m.onNodeCreated(l,m,h,k),K=l,C?F.insertBefore(l,C):F.appendChild(l),K=null,l;if(Q)try{c(function(){},0),importScripts(k),b.completeLoad(h)}catch(p){b.onError(n("importscripts",
"importScripts failed for "+h+" at "+k,p,[h]))}};S&&!X.skipDataMain&&q(document.getElementsByTagName("script"),function(b){if(F||(F=b.parentNode),I=b.getAttribute("data-main"))return L=I,X.baseUrl||-1!==L.indexOf("!")||(L=(J=L.split("/")).pop(),P=J.length?J.join("/")+"/":"./",X.baseUrl=P),L=L.replace(fa,""),y.jsExtRegExp.test(L)&&(L=I),X.deps=X.deps?X.deps.concat(L):[L],!0});define=function(b,c,k){var n,p;"string"!=typeof b&&(k=c,c=b,b=null);m(c)||(k=c,c=null);!c&&l(k)&&(c=[],k.length&&(k.toString().replace(M,
h).replace(R,function(b,h){c.push(h)}),c=(1===k.length?["require"]:["require","exports","module"]).concat(c)));U&&(n=K||D())&&(b||(b=n.getAttribute("data-requiremodule")),p=ka[n.getAttribute("data-requirecontext")]);p?(p.defQueue.push([b,c,k]),p.defQueueMap[b]=!0):ia.push([b,c,k])};define.amd={jQuery:!0};y.exec=function(b){return eval(b)};y(X)}}(this,"undefined"==typeof setTimeout?void 0:setTimeout);DKI=DKI||{};
DKI.Events={TestQuestion:{exportSubmitted:"TESTQUESTION_EXPORT_SUBMITTED",submitted:"TESTQUESTION_SUBMITTED",nextClicked:"TESTQUESTION_NEXT_CLICKED",forceEnd:"TESTQUESTION_FORCE_END",correct:"TESTQUESTION_CORRECT",incorrect:"TESTQUESTION_INCORRECT",partiallyCorrect:"TESTQUESTION_PARTIALLY_CORRECT",attemptSubmitted:"PRACTICE_QUESTION_ATTEMPT_SUBMITTED",attemptIncorrect:"PRACTICE_QUESTION_ATTEMPT_INCORRECT",attemptPartiallyCorrect:"PRACTICE_QUESTION_ATTEMPT_PARTIALLY_CORRECT",questionInReview:"TESTQUESTION_REVIEW",
feedbackShown:"TESTQUESTION_FEEDBACK_SHOWN",dragStarted:"TESTQUESTION_DRAG_STARTED",dragStopped:"TESTQUESTION_DRAG_STOPPED",retry:"PRACTICE_QUESTION_RETRIED",submitButtonShown:"SUBMIT_BUTTON_SHOWN"}};
!function(b){var c=function(c,l){this.options=l;this.parent=this.options.parentSelector?b(b(c).closest(this.options.parentSelector)):b(c).parent();this.state={current:0};b(c).addClass("dki-radialgauge");return this};c.DEFAULTS={parentSelector:"",startingPosition:0,halfGauge:!1,showText:!1,asPercent:!1,ringSize:0,fontRatio:3,current:function(){return this.rg.state.current}};c.prototype={setText:function(b){if(this.rg.options.showText)this.$.find(".overlay .text").html(this.rg.options.showText);else{var c=
this.rg.options.current.call(this);b=""==c||isNaN(c/100)?b:c;this.$.find(".overlay .text").html(b+(this.rg.options.asPercent&&!isNaN(b)?"%":""));isNaN(b)||(this.$.find(".overlay .dki-element-progressBar").attr("role","progressbar"),this.$.find(".overlay .dki-element-progressBar").attr("aria-valuenow",b),this.$.find(".overlay .dki-element-progressBar").attr("aria-valuetext",b+"%"),this.$.find(".overlay .dki-element-progressBar").attr("aria-valuemax",100),this.$.find(".overlay .dki-element-progressBar").attr("aria-valuemin",
0))}},setRotation:function(b,c){var m=Math.round(b/100*360),u=this.rg.options.startingPosition,m=m/2;u&&this.$.find(".mask.half").css("transform","rotate("+u+"deg)");this.rg.options.halfGauge&&(this.$.css("clip","rect(0px 100px 50px 0px"),m/=2);this.$.find(".fill").css("transform","rotate("+m+"deg)");this.$.find(".mask.full").css("transform","rotate("+(m+u)+"deg)");this.$.find(".fill.fix").css("transform","rotate("+2*m+"deg)");this.rg.state.current=b;c&&c(this.$,this.rg);this.rg.setText.call(this,
Math.floor(b))},resize:function(b){b&&(this.rg.options.width=b);b=2*Math.round((this.rg.options.width?this.rg.options.width:this.rg.parent.outerWidth())/2);var c=2*(parseInt(this.rg.parent.css("padding"),10)||0);b=height=b-c;height=this.rg.options.halfGauge?height/2:height;this.rg.parent.css({height:height+c+"px"});this.$.css("width",b).css("height",height);var c="0px "+height+"px "+height+"px "+height/2+"px",m="0px "+height/2+"px "+height+"px 0px";b=this.$.find(".overlay");this.$.find(".mask").css("clip",
"rect("+c+")");this.$.find(".fill").css("clip","rect("+m+")");this.rg.options.ringSize&&(c=2*Math.round(height*(1-this.rg.options.ringSize)/2),b.height(c),b.width(c),b.css("margin",(height-c)/2));b.css("font-size",b.innerWidth()/this.rg.options.fontRatio+"px").css("line-height",b.innerWidth()+"px")},shown:function(){this.$.RadialGauge("resize")}};b.fn.RadialGauge=function(h){var l=h,m=Array.prototype.slice.call(arguments,1);return this.each(function(){var u=b(this),q=b(this).data("dki.RadialGauge");
options=b.extend({},c.DEFAULTS,"object"===typeof l&&l);q?"string"===typeof h&&(u=b(this).data("dki.RadialGauge"))&&u[h]&&u[h].apply({$:b(this),rg:b(this).data("dki.RadialGauge")},m):u.data("dki.RadialGauge",new c(this,options))})};b.fn.RadialGauge.Constructor=c}(window.jQuery);
var objectFitImages=function(){function b(b){if(b.srcset&&!z&&window.picturefill){var c=window.picturefill._;b[c.ns]&&b[c.ns].evaled||c.fillImg(b,{reselect:!0});b[c.ns].curSrc||(b[c.ns].supported=!1,c.fillImg(b,{reselect:!0}));b.currentSrc=b[c.ns].curSrc||b.src}}function c(b){for(var c=getComputedStyle(b).fontFamily,h={};null!==(b=k.exec(c));)h[b[1]]=b[2];return h}function h(b,c,h){c="data:image/svg+xml,%3Csvg xmlns\x3d'http://www.w3.org/2000/svg' width\x3d'"+(c||1)+"' height\x3d'"+(h||0)+"'%3E%3C/svg%3E";
n.call(b,"src")!==c&&E.call(b,"src",c)}function l(b,c){b.naturalWidth?c(b):setTimeout(l,100,b,c)}function m(k){var m=c(k),p=k[x];if(m["object-fit"]=m["object-fit"]||"fill",!p.img)if("fill"===m["object-fit"]||!p.skipTest&&r&&!m["object-position"])return;if(!p.img){p.img=new Image(k.width,k.height);p.img.srcset=n.call(k,"data-ofi-srcset")||k.srcset;p.img.src=n.call(k,"data-ofi-src")||k.src;E.call(k,"data-ofi-src",k.src);k.srcset&&E.call(k,"data-ofi-srcset",k.srcset);h(k,k.naturalWidth||k.width,k.naturalHeight||
k.height);k.srcset&&(k.srcset="");try{u(k)}catch(q){}}b(p.img);k.style.backgroundImage='url("'+(p.img.currentSrc||p.img.src).replace(/"/g,'\\"')+'")';k.style.backgroundPosition=m["object-position"]||"center";k.style.backgroundRepeat="no-repeat";k.style.backgroundOrigin="content-box";/scale-down/.test(m["object-fit"])?l(p.img,function(){p.img.naturalWidth>k.width||p.img.naturalHeight>k.height?k.style.backgroundSize="contain":k.style.backgroundSize="auto"}):k.style.backgroundSize=m["object-fit"].replace("none",
"auto").replace("fill","100% 100%");l(p.img,function(b){h(k,b.naturalWidth,b.naturalHeight)})}function u(b){var c={get:function(c){return b[x].img[c?c:"src"]},set:function(c,h){return b[x].img[h?h:"src"]=c,E.call(b,"data-ofi-"+h,c),m(b),c}};Object.defineProperty(b,"src",c);Object.defineProperty(b,"currentSrc",{get:function(){return c.get("currentSrc")}});Object.defineProperty(b,"srcset",{get:function(){return c.get("srcset")},set:function(b){return c.set(b,"srcset")}})}function q(b,c){var h=!D&&!b;
if(c=c||{},b=b||"img",w&&!c.skipTest||!v)return!1;"img"===b?b=document.getElementsByTagName("img"):"string"==typeof b?b=document.querySelectorAll(b):"length"in b||(b=[b]);for(var k=0;k<b.length;k++)b[k][x]=b[k][x]||{skipTest:c.skipTest},m(b[k]);h&&(document.body.addEventListener("load",function(b){"IMG"===b.target.tagName&&q(b.target,{skipTest:c.skipTest})},!0),D=!0,b="img");c.watchMQ&&window.addEventListener("resize",q.bind(null,b,{skipTest:c.skipTest}))}var x="bfred-it:object-fit-images",k=/(object-fit|object-position)\s*:\s*([-.\w\s%]+)/g,
p="undefined"==typeof Image?{style:{"object-position":1}}:new Image,r="object-fit"in p.style,w="object-position"in p.style,v="background-size"in p.style,z="string"==typeof p.currentSrc,n=p.getAttribute,E=p.setAttribute,D=!1;return q.supportsObjectFit=r,q.supportsObjectPosition=w,function(){function b(c,h){return c[x]&&c[x].img&&("src"===h||"srcset"===h)?c[x].img:c}w||(HTMLImageElement.prototype.getAttribute=function(c){return n.call(b(this,c),c)},HTMLImageElement.prototype.setAttribute=function(c,
h){return E.call(b(this,c),c,String(h))})}(),q}();
!function(b){var c=function(h,l){this.options=l;this.$el=b(h);this.initDB(l.outline);this.started=!1;this.removed=[];this.passed=0;this.tried=[];this.tries=0;this.onWindowResize=DKI.func.debounce(b.proxy(this.setHeight,this),50,!1);this.containmentEl=this.$el.closest(".dki-categoryCards-element");this.initSubscribers();this.initInteractions();this.options.accessible&&(this.accessibility=new c.Accessibility(this));return this};c.DEFAULTS={accessible:!0,responsive:!1,strings:{scoreLabel:"Score:",retryLabel:"Retry"},
outline:{},retries:0};c.constant=Object.freeze({screenReader:{visible:{tabindex:"1"},hidden:{tabindex:"-1"}}});c.prototype={initDB:function(c){this.db=function(){var b={},c={dragdrop_id:{}};return{store:function(h){b[h.id]=h;"categoryCardsAnswer"!==h.elementtype&&(c.dragdrop_id[h.dragdrop_id]=b[h.id])},get:function(c){return b[c]},getByKey:function(b,h){return c[b][h]},remove:function(c){delete b[item.id]},clear:function(){b={}},getLength:function(){return Object.keys(b).length}}}();var l=b.proxy(function(b){this.db.store(b);
for(var c in b.elements)l(b.elements[c])},this);l(c)},start:function(){this.$el.find(".categoryCardsAnswer").first().draggable("enable").removeClass("disabled");this.accessibility&&this.accessibility.start()},initSubscribers:function(){var c=this;this.$el.on("click",".feedback.showFeedback .btn",function(){c.resetUI();c.$el.velocity("scroll",{offset:-50});0<c.$el.closest(".fancybox-content").closest(".fancybox-content").length&&b(window).trigger("reposition-fancybox-close-button");c.$el.trigger(CategoryCardEvents.onRetry)});
b(window).on("resize",this.onWindowResize)},setHeight:function(){},initInteractions:function(){var h=this,l=function(){h.$el.find(".categoryCardsAnswer").data("ui-draggable")&&h.$el.find(".categoryCardsAnswer").draggable("option","containment",DKI.utility.getDragContainment(h.containmentEl,h.$el.find(".categoryCardsAnswer").width(),h.$el.find(".categoryCardsAnswer").height()))};b(window).on("resize",l);b(document).on(DKI.ContentPage.events.shown,l);b(document).on(DKI.ContentPage.events.hidden,l);
b(document).on(DKI.ContentPage.events.questionElementFeedbackShown,l);h.$el.closest(".fancybox-content").length&&(h.$el.closest(".fancybox-content").on("scroll",l),b(window).on("scroll",l));b(document).on(DKI.ContentPage.events.started,function(b,c){(player.isSinglePage||c.page.id==h.options.outline.pageid)&&h.$el.find(".categoryCardsAnswer").data("ui-draggable")&&setTimeout(function(){h.$el.find(".categoryCardsAnswer").draggable("option","containment",DKI.utility.getDragContainment(h.containmentEl,
h.$el.find(".categoryCardsAnswer").width(),h.$el.find(".categoryCardsAnswer").height()))},20)});this.$el.find(".categoryCardsAnswer").draggable({disabled:!0,containment:DKI.utility.getDragContainment(h.containmentEl,h.$el.find(".categoryCardsAnswer").width(),h.$el.find(".categoryCardsAnswer").height()),scroll:"undefined"!=typeof settings?settings.responsive:b("html").hasClass("responsive"),start:function(l,u){b(this).addClass("dragging").style("right","auto");b(this).css("right","initial");h.$el.trigger(c.Events.onDragStart)},
drag:function(b,c){DKI.utility.dragFix(c)},stop:function(h,l){b(this).hasClass("dropped")||(b(this).addClass("transition").css({top:0,left:0}),c.Utility.onTransition(b(this),function(){b(this).removeClass("dragging");c.Utility.onTransition(b(this),function(){b(this).removeClass("transition")})}))}});this.$el.find(".categoryCardsCategory").droppable({accept:".categoryCardsAnswer",tolerance:"pointer",drop:function(c,l){b(l.draggable).addClass("transition dropped").removeClass("dragging");var q=this;
h.moveTo(b(l.draggable),b(this),function(){h.runScoring(b(l.draggable),b(q))})},disabled:!1})},moveTo:function(b,l,m){m=m||function(){};l=l.position();var u=b.parent().position(),q=DKI.utility.getScale();l.top/=q;l.left/=q;u.top/=q;u.left/=q;b.css({top:l.top-u.top,left:l.left-u.left-10});if(b.hasClass("transition"))c.Utility.onTransition(b,m);else setTimeout(m,0)},runScoring:function(b,c){var m=this.getPass(b,c);b.addClass("transition dropped").removeClass("dragging");m?this.runPassAnimation(b,c):
this.runFailAnimation(b,c);return m},getPass:function(h,l){var m=this.db.get(b(h).data("id"));l=this.db.get(b(l).data("id"));var u=m&&l&&m.parameters.config.link==l.dragdrop_id;-1==this.tried.indexOf(m.id)&&(this.tried.push(m.id),this.passed+=u?1:0,this.removed.push(h));this.$el.trigger(c.Events.onAnswer,{dragged:m,target:l,correct:u});return u},runPassAnimation:function(h,l){var m=this;b(h).appendTo(b(l)).css({top:0,left:0}).addClass("categoryCards-pass").append("\x3cspan class\x3d'fa fa-check border "+
this.options.outline.parameters.config.cardClass+"'\x3e\x3c/span\x3e");var u=this.$el.find(".deck .categoryCardsAnswer").first().draggable("enable").removeClass("disabled");c.Utility.onAnimation(b(l),b.proxy(function(){b(h).removeClass("categoryCards-pass transition dropped").find(".fa-check").remove();b(h).detach();m.$el.trigger(c.Events.onPass,b(h));if(!u[0]){var l=m.score();m.showEnd(l);m.fireResult(l);m.$el.trigger(c.Events.onComplete,l)}},l),1200)},runFailAnimation:function(h,l,m){b(h).addClass("categoryCards-fail");
var u=this;c.Utility.onAnimation(b(h),function(){b(this).removeClass("dropped categoryCards-fail").css({top:0,left:0});c.Utility.onTransition(b(this),function(){b(this).removeClass("transition");u.$el.trigger(c.Events.onFail,b(h))})})},score:function(){return Math.floor(100*(this.tried.length?this.passed/this.tried.length:0))},fireResult:function(b){this.$el.trigger(CategoryCardEvents.onAttempt);(100===b||this.tries>=this.options.retries)&&this.$el.trigger(CategoryCardEvents.onSubmitted);if(100===
b)this.$el.trigger(CategoryCardEvents.onCorrect);else{var c="on";this.tries<this.options.retries&&(c+="Attempt");this.$el.trigger(CategoryCardEvents[c+(0===b?"Incorrect":"PartialCorrect")])}},getxAPICompleteData:function(c){c=c||function(){};var l=this,m={sources:[],targets:[],matches:this.tried.map(function(b){return b+"."+l.db.get(b).parameters.config.link}),element:this.options.outline},l=this;b.each(this.options.outline.elements,function(){m["categoryCardsCategory"==this.elementtype?"targets":
"sources"].push(this)});c(m);return m},resetUI:function(){for(;this.removed.length;)this.$el.find(".deck").prepend(this.removed.pop()).find(".card").addClass("disabled").draggable("disable");this.$el.find(".deck .feedback, .deck").removeClass("showFeedback");this.$el.find(".deck .feedback .score").removeClass("correct incorrect");this.passed=0;this.tried=[];this.start()},reset:function(){this.resetUI();this.tries=0},showEnd:function(c){++this.tries;var l=this.$el.find(".deck .feedback").addClass("showFeedback");
if(this.options.outline.parameters.config.showScore){var m=l.find(".score").RadialGauge({ringSize:.25,asPercent:!0});m.addClass(100===c?"correct":"incorrect").RadialGauge("resize");m.RadialGauge("setRotation",c)}else l.find(".gauge").hide();(0==this.options.retries||this.tries<this.options.retries)&&100!==c?l.find(".btn").show().focus():l.find(".btn").hide();this.options.feedback&&(this.$el.find(".deck").addClass("showFeedback"),this.options.outline.parameters.config.useProjectDefault&&l.find(".f-text").css("text-align",
"center"),m="",m=100===c?this.options.feedback.correct:0<c&&this.options.feedback.partial?this.options.feedback.partial:this.options.feedback.incorrect,l.find(".f-text").html(m),l.focus());setTimeout(function(){0<l.closest(".fancybox-content").length?b(window).trigger("reposition-fancybox-close-button"):b(window).trigger("resize")},300)},destroy:function(){b(window).off("resize",this.onWindowResize)},elementStart:function(){b("h2, .description",this.$el).attr({tabindex:this.options.accessible?"1":
"-1"})}};b.fn.CategoryCards=function(h){var l=h,m=Array.prototype.slice.call(arguments,1);return this.each(function(){var u=b(this),q=b(this).data("dki.CategoryCards");options=b.extend(!0,{},c.DEFAULTS,"object"===typeof l&&l);if("string"===typeof h&&!q)return!1;q?"string"===typeof h&&(u=b(this).data("dki.CategoryCards"))&&u[h]&&u[h].apply(b(this).data("dki.CategoryCards"),m):u.data("dki.CategoryCards",new c(this,options))})};b.fn.CategoryCards.Constructor=c;c.Utility={onAnimation:function(h,l,m){h=
h instanceof jQuery?h:b(h);c.Utility.onGeneric(h,"animation",l,m)},onTransition:function(h,l,m){h=h instanceof jQuery?h:b(h);c.Utility.onGeneric(h,"transition",l,m)},onGeneric:function(h,l,m,u){var q=h.get(0),x=c.Utility[l+"Event"];u=u||350;if((!dkiUA||!dkiUA.ie||10<dkiUA.ieVersion)&&x){if(x)return h.one(x+".categoryCard",m),!1}else{if(b("html").hasClass("csstransforms"))return h.data("categoryCard-"+l,setTimeout(function(){m.call(q)},u)),!1;setTimeout(m,u)}},genericOff:function(h,l){var m=c.Utility[l+
"Event"];m?h.off(m+".categoryCard"):b("html").hasClass("csstransforms")&&h.data("categoryCard-"+l)&&(clearTimeout(h.data("categoryCard-"+l)),h.data("categoryCard-"+l,""))},animationOff:function(b){c.Utility.genericOff(b,"animation")},transitionOff:function(b){c.Utility.genericOff(b,"transition")}};(function(){var h={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in h)if(void 0!==b("html")[0].style[t]){c.Utility.transitionEvent=
h[t];break}h={animation:"animationend",IEAnimation:"MSAnimationEnd",WebkitAnimation:"webkitAnimationEnd"};for(a in h)if(void 0!==b("html")[0].style[a]){c.Utility.animationEvent=h[a];break}})();c.Events={onDragStart:"dragStart",onAnswer:"answered",onPass:"pass",onFail:"fail",onComplete:"completed",onRestart:"restart"};c.Accessibility=function(b){this.categoryCards=b;this.$el=b.$el;this.initSubscribers();return this};c.Accessibility.prototype={getNextFocus:function(){var h=b(this.$el.find(".deck .card").first());
return h[0]?h.attr(c.constant.screenReader.visible):this.setEndAccessible()},setEndAccessible:function(){return this.$el.find(".deck .feedback").attr(c.constant.screenReader.visible)},setEndInaccessible:function(){return this.$el.find(".deck .feedback").attr(c.constant.screenReader.hidden)},start:function(){this.getNextFocus().focus();this.setEndInaccessible()},setCategoryAccessible:function(){this.$el.find(".deck .card").attr(c.constant.screenReader.hidden);this.$el.find("\x3e *").addClass("categorySelect");
this.$el.find("\x3e *.categorySelect .categories .card:first").attr(c.constant.screenReader.visible)},setCategoryInaccessible:function(){this.$el.find(".deck .card").attr(c.constant.screenReader.visible);this.$el.find(".categories .card").attr(c.constant.screenReader.hidden);this.$el.find("\x3e *").removeClass("categorySelect")},initSubscribers:function(){var h=this,l=function(){b(this).addClass("dragging");b(this).css("right","initial");h.dragging=b(this);h.setCategoryAccessible()};this.$el.on(c.Events.onDragStart,
function(){h.setCategoryInaccessible()});this.$el.on(c.Events.onPass,function(l,u){h.getNextFocus();b(u).attr(c.constant.screenReader.hidden)});this.$el.on("click",".deck .card[tabindex\x3d'1']",function(b){l.call(this)});this.$el.on("keydown",".deck .card[tabindex\x3d'1']",function(b){if("Enter"==b.key||"Space"==b.key)return l.call(this),h.$el.find(".categories:first \x3e div:first .categoryCardsCategory").focus(),b.stopPropagation(),b.preventDefault(),!1});this.$el.on("click","\x3e *.categorySelect .categories .card",
function(l){if(h.dragging){var u=function(){h.$el.off(c.Events.onPass+" "+c.Events.onFail,u);var b=h.getNextFocus();b.hasClass("card")||(h.setCategoryInaccessible(),h.dragging=null);b[0].focus()};h.$el.on(c.Events.onPass+" "+c.Events.onFail,u);h.categoryCards.runScoring(h.dragging,b(this));return!1}});this.$el.on("mousedown","\x3e *.categorySelect .categories .card",function(c){b(this).data("isClick",!0)});this.$el.on("focus","\x3e *.categorySelect .categories .card",function(l){if(h.dragging&&!h.dragging.hasClass("dropped")){var u=
this;h.categoryCards.moveTo(h.dragging,b(this),function(){b(u).data("isClick")&&(b(u).trigger("click"),b(u).data("isClick",!1));h.$el.find("\x3e *.categorySelect .categories .card").attr(c.constant.screenReader.hidden);b(u).attr(c.constant.screenReader.visible)})}});this.$el.on("keydown","\x3e *.categorySelect .categories .card",function(c){if(h.dragging&&!h.dragging.hasClass("dropped")){var l=!1;"ArrowLeft"==c.key?(l=b(this).parent().parent().prev().find(".card"),0==l.length&&(l=b(this).parent().parent().parent().prev().find(".card:last"),
0==l.length&&(l=h.$el.find("\x3e *.categorySelect .categories:last .card:last")))):"ArrowRight"==c.key?(l=b(this).parent().parent().next().find(".card"),0==l.length&&(l=b(this).parent().parent().parent().next().find(".card:first"),0==l.length&&(l=h.$el.find("\x3e *.categorySelect .categories:first .card:first")))):"Home"==c.key?l=h.$el.find("\x3e *.categorySelect .categories:first .card:first"):"End"==c.key&&(l=h.$el.find("\x3e *.categorySelect .categories:last .card:last"));if(l)return l.focus(),
c.stopPropagation(),c.preventDefault(),!1}})}}}(window.jQuery);var CategoryCardEvents={onSubmitted:"categoryCardSubmitted",onCorrect:"categoryCardCorrect",onIncorrect:"categoryCardIncorrect",onPartialCorrect:"categoryCardPartialCorrect",onAttempt:"categoryCardAttempt",onAttemptIncorrect:"categoryCardAttemptIncorrect",onAttemptPartialCorrect:"categoryCardAttemptPartialCorrect",onRetry:"categoryCardRetry"};